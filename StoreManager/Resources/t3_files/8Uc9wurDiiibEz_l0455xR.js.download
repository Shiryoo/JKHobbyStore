;/*FB_PKG_DELIM*/

__d("useFDSProgressRingSvg.react",["FDSProgressRingUtils","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useMemo;var j=b.useRef,k=2;function a(a){var b=d("react-compiler-runtime").c(50),c=a.color,e=a.isHidden;a=a.size;var f=j(null),g=j(null),h=j(null),l;b[0]!==c?(l=d("FDSProgressRingUtils").getRingColor(c),b[0]=c,b[1]=l):l=b[1];c=l;l=c.backgroundColor;c=c.foregroundColor;var m=(a-k)*Math.PI,n;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(n={className:"x1ey2m1c x9f619 xds687c x17qophe x10l6tqk x13vifvy"},b[2]=n):n=b[2];var o="0 0 "+a+" "+a,p=a/2,q=a/2,r=(a-k)/2,s;b[3]!==l||b[4]!==p||b[5]!==q||b[6]!==r?(s=i.jsx("circle",{cx:p,cy:q,fill:"none","non-scaling-stroke":"non-scaling-stroke",r:r,stroke:l,strokeLinecap:"round",strokeWidth:k}),b[3]=l,b[4]=p,b[5]=q,b[6]=r,b[7]=s):s=b[7];b[8]!==a||b[9]!==o||b[10]!==s?(l=i.jsx("svg",babelHelpers["extends"]({},n,{height:a,ref:f,viewBox:o,width:a,children:s})),b[8]=a,b[9]=o,b[10]=s,b[11]=l):l=b[11];b[12]===Symbol["for"]("react.memo_cache_sentinel")?(p={className:"x1ey2m1c xds687c xtzzx4i x6ikm8r x10wlt62 x10l6tqk x13vifvy"},q={className:"x1ey2m1c x9f619 xds687c x1ytbgms x10l6tqk x13vifvy x1jpgh95"},b[12]=p,b[13]=q):(p=b[12],q=b[13]);r="0 0 "+a+" "+a;n=a/2;o=a/2;s=(a-k)/2;var t=m/2,u=3*m/4,v=e?"hidden":void 0,w;b[14]!==v?(w={visibility:v},b[14]=v,b[15]=w):w=b[15];b[16]!==c||b[17]!==n||b[18]!==o||b[19]!==s||b[20]!==t||b[21]!==u||b[22]!==w?(v=i.jsx("circle",{cx:n,cy:o,fill:"none","non-scaling-stroke":"non-scaling-stroke",r:s,stroke:c,strokeDasharray:t,strokeDashoffset:u,strokeWidth:k,style:w}),b[16]=c,b[17]=n,b[18]=o,b[19]=s,b[20]=t,b[21]=u,b[22]=w,b[23]=v):v=b[23];b[24]!==a||b[25]!==r||b[26]!==v?(n=i.jsx("div",babelHelpers["extends"]({},p,{children:i.jsx("svg",babelHelpers["extends"]({},q,{height:a,ref:g,viewBox:r,width:a,children:v}))})),b[24]=a,b[25]=r,b[26]=v,b[27]=n):n=b[27];b[28]===Symbol["for"]("react.memo_cache_sentinel")?(o={className:"x1ey2m1c x8cgc45 x17qophe x6ikm8r x10wlt62 x10l6tqk x13vifvy"},s={className:"x1ey2m1c x9f619 x14l5gr7 x17qophe x10l6tqk x13vifvy x1jpgh95"},b[28]=o,b[29]=s):(o=b[28],s=b[29]);t="0 0 "+a+" "+a;u=a/2;w=a/2;p=(a-k)/2;q=m/2;r=m/4;v=e?"hidden":void 0;b[30]!==v?(m={visibility:v},b[30]=v,b[31]=m):m=b[31];b[32]!==c||b[33]!==u||b[34]!==w||b[35]!==p||b[36]!==q||b[37]!==r||b[38]!==m?(e=i.jsx("circle",{cx:u,cy:w,fill:"none","non-scaling-stroke":"non-scaling-stroke",r:p,stroke:c,strokeDasharray:q,strokeDashoffset:r,strokeWidth:k,style:m}),b[32]=c,b[33]=u,b[34]=w,b[35]=p,b[36]=q,b[37]=r,b[38]=m,b[39]=e):e=b[39];b[40]!==a||b[41]!==t||b[42]!==e?(v=i.jsx("div",babelHelpers["extends"]({},o,{children:i.jsx("svg",babelHelpers["extends"]({},s,{height:a,ref:h,viewBox:t,width:a,children:e}))})),b[40]=a,b[41]=t,b[42]=e,b[43]=v):v=b[43];b[44]!==n||b[45]!==v||b[46]!==l?(c=i.jsxs(i.Fragment,{children:[l,n,v]}),b[44]=n,b[45]=v,b[46]=l,b[47]=c):c=b[47];u=c;w=u;b[48]!==w?(p={backgroundRef:f,leftCircleRef:h,progressRing:w,rightCircleRef:g},b[48]=w,b[49]=p):p=b[49];return p}g["default"]=a}),98);
__d("FDSProgressRingDeterminate.react",["BaseLoadingStateElement.react","react","useFDSProgressRingSvg.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect,k={rootDiv:{position:"x1n2onr6",$$css:!0},rootSizing:function(a){return[{height:a==null?null:"x1f5funs",width:a==null?null:"x1bl4301",$$css:!0},{"--height":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}(a),"--width":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}(a)}]}};function a(a){var b=a.color,d=a.percentage,e=a.size,f=a["aria-label"];a=a["aria-labelledby"];b=c("useFDSProgressRingSvg.react")({color:b,isHidden:!1,size:e});var g=b.leftCircleRef,h=b.progressRing,l=b.rightCircleRef;j(function(){var a=l.current,b=g.current;if(a==null||b==null)return;if(!(a instanceof SVGSVGElement)||!(b instanceof SVGSVGElement))return;var c=Math.max(0,Math.min(100,d))/100*360;a.style.transform="rotate("+Math.min(c,180)+"deg)";b.style.transform="rotate("+Math.max(c-180,0)+"deg)"},[g,d,l]);return i.jsx(c("BaseLoadingStateElement.react"),{"aria-label":f,"aria-labelledby":a,progress:d,xstyle:[k.rootDiv,k.rootSizing(e)],children:h})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSGetThreadDataFromTam.nop",["I64","LSMessagingThreadTypeUtil","LSResult","LSShape","LSVec","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h;a=async function(a,b,e){b=await d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.threads).filter(function(a){a=a.threadType;return d("LSMessagingThreadTypeUtil").isArmadilloSecure(a)}).take((h||(h=d("I64"))).to_int32(e)));a=b.map(function(a,b){var c=a.lastActivityTimestampMs,e=a.lastReadWatermarkTimestampMs,f=a.threadKey;a=a.threadType;return d("LSShape").ofRecord({client_thread_pk:f,display_timestamp_ms:c,is_group_thread:d("LSMessagingThreadTypeUtil").isGroup(a),last_activity_timestamp_ms:c,last_read_watermark_timestamp_ms:e,server_thread_key:f,sort_order:(h||(h=d("I64"))).of_int32(b)})});return c("LSResult")(c("LSVec").ofArray(a))};a.__nop_name__="LSGetThreadDataFromTam";g.default=a}),98);
__d("LSScheduleOccamThreadsIntegrityChecker",["LSGetCursor","LSGetThreadDataFromTam.nop","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.storedProcedure(b("LSGetCursor"),c.i64.cast([0,95])).then(function(a){return a=a,d[0]=a[0],a})},function(b){return d[1]=c.createArray(),d[2]=c.createArray(),c.i64.neq(a[1],void 0)?d[3]=a[1]:d[3]=c.i64.cast([0,20]),c.forEach(c.db.table(220).fetch([[[c.i64.cast([0,95]),c.i64.cast([0,0])]]]),function(a){a=a.item;return d[10]=a.minLastActivityTimestampMs,d[9]=new c.Map(),d[9].set("has_more_before",a.hasMoreBefore),d[9].set("is_loading_before",a.isLoadingBefore),d[9].set("min_last_activity_timestamp_ms",d[10]),d[9].set("min_thread_key",a.minThreadKey),d[9].set("parent_thread_key",c.i64.cast([0,0])),d[11]=(d[2].push(d[9]),d[2]),c.forEach(c.islc(c.filter(c.db.table(9).fetch([[[{gte:d[10]}]],"lastActivityTimestampMs"]),function(a){return c.i64.ge(a.lastActivityTimestampMs,d[10])&&c.i64.eq(a.syncGroup,c.i64.cast([0,95]))&&c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),0,c.i64.to_float(d[3])),function(a){a=a.item;return d[11]=new c.Map(),d[11].set("authority_level",a.authorityLevel),d[11].set("folder_name",a.folderName),d[11].set("last_activity_timestamp_ms",a.lastActivityTimestampMs),d[11].set("last_read_watermark_timestamp_ms",a.lastReadWatermarkTimestampMs),d[11].set("thread_key",a.threadKey),d[12]=(d[1].push(d[11]),d[1])})})},function(a){return d[4]=c.createArray(),c.nativeOperation(b("LSGetThreadDataFromTam.nop"),d[3]).then(function(a){return a=a,d[5]=a[0],a})},function(a){return d[6]=c.createArray(),d[7]=new c.Map(),d[7].set("cursor",d[0]),d[7].set("mi_act_mapping_columns_for_integrity_check",d[6]),d[7].set("occam_threads_columns_for_integrity_check",d[1]),d[7].set("threads_ranges_columns_for_integrity_check",d[2]),d[7].set("tam_threads_columns_for_integrity_check",d[5]),d[8]=c.toJSON(d[7]),c.storedProcedure(b("LSIssueNewTask"),"occam-threads-integrity-check",c.i64.cast([0,701]),d[8],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxScheduleOccamThreadsIntegrityCheckerStoredProcedure";a.__tables__=["sync_group_threads_ranges","threads"];e.exports=a}),null);
__d("LSScheduleOccamThreadsIntegrityCheckerStoredProcedure",["LSScheduleOccamThreadsIntegrityChecker","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){e===void 0&&(e={});a=a.storedProcedure(c("LSScheduleOccamThreadsIntegrityChecker"),e.delayMs,e.maxThreadCount);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MessengerWaitForEvent",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;function a(a,c,d){var e,f=d;return new(g||(g=b("Promise")))(function(b){f?e=function(){f.apply(this,arguments)&&b.apply(this,arguments)}:e=b,a==null?void 0:a.addEventListener==null?void 0:a.addEventListener(c,e)})["finally"](function(){a==null?void 0:a.removeEventListener==null?void 0:a.removeEventListener(c,e)})}f.waitForEvent=a}),66);
__d("LocalStorageMutex",["MessengerWaitForEvent","Promise","QPLUserFlow","emptyFunction","err","pageID","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i=null,j=1e3,k=c("qpl")._(1056847375,"584");a=function(){function a(a){var b=this,d=a.mutexKey,e=a.localTakeoverKey,f=a.log,g=a.logError,h=a.getStorage,i=a.setItemGuarded,k=a.mutexTimeoutMs;k=k===void 0?j:k;a=a.mutexTimeoutCallback;this.mutexFilter=function(a){if(a.key!==b.$1)return!1;a=a.newValue||"";return!a.includes(c("pageID"))};this.$1=d;this.$2=e;this.$5=h;this.$6=i;this.$3=f;this.$4=g;this.$7=k;this.$8=a}var e=a.prototype;e.init=function(){c("QPLUserFlow").start(k);this.$3("APPMUTEX - this tab is "+c("pageID"));var a=this.getMutex();if(a===c("pageID")){this.$3("APPMUTEX - WE ALREADY HAVE THE MUTEX LOCK WITHIN INIT");c("QPLUserFlow").endSuccess(k);return(h||(h=b("Promise"))).resolve(!0)}if(a!=null){this.$3("APPMUTEX - initiating localTAKEOVER");return this.localTakeover()}else{this.$3("APPMUTEX - NO1 ELSE IS ALIVE, GET THE MUTEX");a=this.$9(c("pageID"));var d=this.$10(c("pageID"));if(!a.success||!d.success){c("QPLUserFlow").addAnnotations(k,{bool:{setMutexResult:d.success,setTakeoverResult:a.success},string:{setMutexError:d.error,setTakeoverError:a.error}});c("QPLUserFlow").endFailure(k,"fail_to_set_takeover_or_mutex");return(h||(h=b("Promise"))).resolve(!1)}c("QPLUserFlow").endSuccess(k);return(h||(h=b("Promise"))).resolve(!0)}};e.localTakeover=function(){var a,e=this,f=this.$9(c("pageID"));if(!f.success){c("QPLUserFlow").addAnnotations(k,{string:{initTakeoverError:f.error}});c("QPLUserFlow").endFailure(k,"local_takeover_init_takeover_failure");return(h||(h=b("Promise"))).resolve(!1)}var g,i=function(){g!=null&&clearTimeout(g)};f=d("MessengerWaitForEvent").waitForEvent(window,"storage",this.mutexFilter);var l=(a=this.$7)!=null?a:j;return(h||(h=b("Promise"))).race([f,new h(function(a){g=setTimeout(function(){a()},l)}),this.$8?this.$8():new(h||(h=b("Promise")))(c("emptyFunction"))]).then(function(a){if(a==null){e.$3("AppMutex - Forcefully took the mutex and takeover lock");var b=e.$9(c("pageID")),d=e.$10(c("pageID"));if(!b.success||!d.success){c("QPLUserFlow").addAnnotations(k,{string:{setMutexError:d.error,setTakeoverError:b.error}});c("QPLUserFlow").endFailure(k,"local_takeover_forcefully_takeover_failure");return!1}c("QPLUserFlow").endSuccess(k);return!0}e.$3("APPMUTEX - GOT MUTEX STORAGE EVENT CHANGE FROM ANOTHER TAB");d=e.$11(a.newValue);if(!d&&e.hasTakeoverPermission()){e.$3("APPMUTEX - setting mutex on localtakeover");b=e.$10(c("pageID"));if(!b.success){c("QPLUserFlow").addAnnotations(k,{string:{setMutexError:b.error}});c("QPLUserFlow").endFailure(k,"local_takeover_set_mutex_failure");return!1}c("QPLUserFlow").endSuccess(k);return!0}else{e.hasTakeoverPermission()&&e.$12();c("QPLUserFlow").endFailure(k,"local_takeover_no_takeover_permission");return!1}}).then(function(a){i();return a})["catch"](function(a){i();e.$4("AppMutex - localTakeover error no permission - "+a);c("QPLUserFlow").endFailure(k,"local_takeover_general_failure");return!1})};e.onMutexDeath=function(){var a=this.getMutex();a!=null&&a===c("pageID")&&(this.$3("APPMUTEX - removing mutex on death"),this.$13(),this.hasTakeoverPermission()&&this.$12())};e.takeoverFilter=function(a){if(a.key!==this.$2)return!1;a=a.newValue||"";return!a.includes(c("pageID"))};e.$14=function(){if(!i){var a=this.$5();if(!a)throw c("err")("Could not get localStorage");i=a}return i};e.getMutex=function(){i=this.$14();return i.getItem(this.$1)};e.$10=function(a){i=this.$14();return this.$6(i,this.$1,a)};e.$13=function(){i=this.$14(),i.removeItem(this.$1)};e.getTakeover=function(){i=this.$14();return i.getItem(this.$2)};e.$9=function(a){i=this.$14();return this.$6(i,this.$2,a)};e.$12=function(){i=this.$14(),i.removeItem(this.$2)};e.$11=function(a){return a!=null?a:""};e.hasTakeoverPermission=function(){var a=this.getTakeover();return a!=null&&a===c("pageID")};return a}();g.THIS_TAB=c("pageID");g.LocalStorageMutex=a}),98);
__d("MAWAppMutex",["LocalStorageMutex","MAWLocalStorage","WALogger"],(function(a,b,c,d,e,f,g){"use strict";var h="armadillo_msgr_mutex",i="armadillo_msgr_local_takeover",j=null;function a(){j==null&&(j=new(d("LocalStorageMutex").LocalStorageMutex)({getStorage:d("MAWLocalStorage").getStorage,localTakeoverKey:i,log:function(a){d("WALogger").LOG([a])},logError:function(a){d("WALogger").ERROR([a])},mutexKey:h,setItemGuarded:d("MAWLocalStorage").setItemGuarded}));return j}g.MAW_MUTEX_KEY=h;g.MAW_LOCALTAKEOVER_KEY=i;g.use=a}),98);
__d("MAWBridgeUIEventHandlerDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MAWBridgeUIEventHandler").__setRef("MAWBridgeUIEventHandlerDeferred");a=function(a,b){void h.load().then(function(c){c.handleEvents(a,b)})};b=function(a,b,c){return h.load().then(function(d){return d.handleShimEvent(a,b,c)})};g.handleEvents=a;g.handleShimEvent=b}),98);
__d("MAWBridgeUpdateClientMediaStatusHandler",["I64","LSIntEnum","MAWClientMediaStatusUtils","MAWMediaDownloadStatus"],(function(a,b,c,d,e,f,g){"use strict";var h,i;async function j(a,b){var e=b.details,f=b.key,g=b.status,j=b.type;b=b.validationResult;f=f.toString();var k=await a.client_media_status.get(f),l=j==="main"?(k==null?void 0:k.mainMediaStatus)!=null&&(h||(h=d("I64"))).equal(k==null?void 0:k.mainMediaStatus,(i||(i=d("LSIntEnum"))).ofNumber(1)):(k==null?void 0:k.previewMediaStatus)!=null&&(h||(h=d("I64"))).equal(k==null?void 0:k.previewMediaStatus,(i||(i=d("LSIntEnum"))).ofNumber(1));if(g===c("MAWMediaDownloadStatus").DOWNLOADING&&l)return;return a.client_media_status.upsert([f],babelHelpers.extends({downloadRetryCount:(l=k==null?void 0:k.downloadRetryCount)!=null?l:(h||(h=d("I64"))).zero,id:f,mainMediaStatus:j==="main"?d("MAWClientMediaStatusUtils").getClientMediaStatusType(g):(a=k==null?void 0:k.mainMediaStatus)!=null?a:(i||(i=d("LSIntEnum"))).ofNumber(4),mainMediaStatusDetails:j==="main"?e:(l=k==null?void 0:k.mainMediaStatusDetails)!=null?l:"updated_main_without_details",previewMediaStatus:j==="preview"?d("MAWClientMediaStatusUtils").getClientMediaStatusType(g):k==null?void 0:k.previewMediaStatus,previewMediaStatusDetails:j==="preview"?e:k==null?void 0:k.previewMediaStatusDetails},d("MAWClientMediaStatusUtils").getValidationResults(b)))}async function a(a,b){await a.runInTransaction(function(a){return j(a,b)},"readwrite",void 0,void 0,f.id+":77")}g.txnHandler=j;g.call=a}),98);
__d("MAWCommonBackendSetup",["EARInitType","FBLogger","MAWAppMutex","MAWEncryptionIndexedDbV2","MAWInit","MAWInitError","MAWIssueNewUserVisibleErrors","MAWLocalStorage","MAWLoggerUtils","MAWSetupWorker","MAWVaultMaterialsStorage","MAWWorkerReboot","MWSetupDBEncryption","WATagsLogger","gkx","requireDeferredForDisplay","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["11113 main WALogger error"]);h=function(){return a};return a}var i=c("requireDeferredForDisplay")("MAWMainThreadLogger").__setRef("MAWCommonBackendSetup"),j=function(a,b){var e=c("gkx")("9301");if(e===!0)if(b)return Promise.resolve(!0);else return a.measurePerformance("acquire_mutex",function(){return d("MAWAppMutex").use().init()});else return a.measurePerformance("acquire_mutex",function(){try{var a=d("MAWAppMutex").use().init();return b?a.then(function(){return Promise.resolve(!0)},function(){return Promise.resolve(!0)}):a}catch(a){if(b)return Promise.resolve(!0);throw a}})};async function a(a,b,c,e,f){var g=d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker();if(!g){if(!d("MAWLocalStorage").isLocalStorageAvailable())throw new(d("MAWInitError").MAWInitError)("localstorage_not_supported");return Promise.resolve()}var h=await d("MAWVaultMaterialsStorage").setupVaultMaterials();await d("MAWSetupWorker").getOrSetupWorker(h,a,b,c,e,f).catch(function(e){return d("MAWWorkerReboot").rebootWorker(h,a,b,c,"backend_setup_failure",f).catch(function(a){throw new(d("MAWInitError").MAWInitError)("worker_setup_error",a)})})}async function b(a,b,e,f,g,k){await a.measurePerformance("prepare_logger",async function(){var a=i.load();(await a).setupMainWaLogger()});d("MAWLoggerUtils").initMessengerWebLogging();var l=d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker();l||await a.measurePerformance("detection_support",function(){if(!d("MAWLocalStorage").isLocalStorageAvailable())throw new(d("MAWInitError").MAWInitError)("localstorage_not_supported");return Promise.resolve()});c("FBLogger")("messenger_web").tags(["1","2"]).mustfix("11112 main FBLogger error");d("WATagsLogger").TAGS(["1","2"]).ERROR(h());var m=a.measurePerformance("setup_vault_materials",function(){return d("MAWVaultMaterialsStorage").setupVaultMaterials()});l=await j(a,l);var n=await a.measurePerformance("main_ear_setup",async function(){if(c("gkx")("12397"))return Promise.resolve({success:!0});d("MWSetupDBEncryption").setPerformanceMeasurementTool(d("MAWInit").MAWInit.measurePerformance);var a=await d("MWSetupDBEncryption").init(c("EARInitType").MAW_INIT);d("MAWEncryptionIndexedDbV2").maybeSetEncryptionDbOnVersionChange(function(){var a;(a=d("MAWIssueNewUserVisibleErrors")).issueError(a.MAWLegacyUserErrorMsgBody,a.MAWLegacyUserErrorMsgTitle,a.MAWUserVisibleErrorPresentationType.BANNER)});return a});if(!n.success){a.logPoint("keychain_setup_failure");throw new(d("MAWInitError").MAWInitError)("keychain_setup_failure",n.payload)}if(!l){a.logPoint("maw_appmutex_no_permission");throw new(d("MAWInitError").MAWInitError)("maw_appmutex_no_permission")}var o=await m;await a.measurePerformance("setup_worker",function(){return d("MAWSetupWorker").getOrSetupWorker(o,b,e,f,g,k).catch(function(c){a.logPoint("reboot_worker_on_backend_setup_failure");a.addStringAnnotation("backend_setup_failure_reason",c.message);return d("MAWWorkerReboot").rebootWorker(o,b,e,f,"backend_setup_failure",k).catch(function(a){throw new(d("MAWInitError").MAWInitError)("worker_setup_error",a)})})})}g.getMutexPermission=j;g.setupArmadilloBackendForCalling=a;g.setupArmadilloBackend=b}),98);
__d("useMWEncryptedBackupsProcessBackupIdsDeferred",["promiseDone","react","react-compiler-runtime","requireDeferred","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect,j=c("requireDeferred")("MWEncryptedBackupsProcessBackupIdsDEPRECATED").__setRef("useMWEncryptedBackupsProcessBackupIdsDeferred");function a(a){var b=d("react-compiler-runtime").c(4),e=c("useAsyncReStore")(),f,g;b[0]!==e||b[1]!==a?(f=function(){var b,d;d=!1;j.onReadyImmediately(function(f){c("promiseDone")(e,function(c){d||(b=f.subscribeToEncryptedBackupsRow(c,a))})});return function(){d=!0,b==null?void 0:b()}},g=[e,a],b[0]=e,b[1]=a,b[2]=f,b[3]=g):(f=b[2],g=b[3]);i(f,g)}g["default"]=a}),98);
__d("MAWCommonSetup",["EBMainThreadEBDBApiDeferred","ExecutionEnvironment","MAWBridgeFireAndForget","MAWCommonBackendSetup","MAWEncryptedBackupsStateManager","MAWInit","MAWInitError","MAWIsIDBOperational","MAWIssueNewUserVisibleErrors","MAWJobDefinitions","MAWLoggerUtils","MAWMIC","MAWStateContext.react","MAWUIJob","MAWWaitForBackendSetup","WABridge","WADynamicRouterSync","WAJobOrchestratorTypes","WALogger","cr:13007","cr:17068","cr:19609","cr:19883","getErrorSafe","gkx","performance","promiseDone","react","react-compiler-runtime","requireDeferred","shouldDisableWorkerOnAppsSubdomain","useMWEncryptedBackupsProcessBackupIdsDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Armadillo is disabled on apps subdomain"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Armadillo is disabled on apps subdomain"]);l=function(){return a};return a}f=j||d("react");var m=f.useContext,n=f.useEffect,o=c("requireDeferred")("FBLogger").__setRef("MAWCommonSetup"),p=b("cr:19609")!=null?b("cr:19609")==null?void 0:b("cr:19609").MAWInitialiseMAWDbInUI:b("cr:13007")==null?void 0:b("cr:13007").MAWInitialiseMAWDbInUI;c("requireDeferred")("MAWTimedJob").__setRef("MAWCommonSetup");var q=!1,r=function(){return(h||(h=c("performance"))).now()},s=function(a){c("gkx")("12414")||(d("MAWEncryptedBackupsStateManager").setEncryptedBackupsState(a),d("MAWBridgeFireAndForget").fireAndForget("backend","setEncryptedBackupsState",{newState:a}))};function a(a){var b=d("react-compiler-runtime").c(5);d("MAWLoggerUtils").initMessengerWebLogging();var e=m(d("MAWStateContext.react").MAWDispatchContext),f=d("MAWIsIDBOperational").useIsIDBOperational(),g,h;b[0]!==e||b[1]!==f||b[2]!==a?(g=function(){f&&(i||(i=c("ExecutionEnvironment"))).isInBrowser&&c("promiseDone")(u(e,a))},h=[a,e,f],b[0]=e,b[1]=f,b[2]=a,b[3]=g,b[4]=h):(g=b[3],h=b[4]);n(g,h);c("useMWEncryptedBackupsProcessBackupIdsDeferred")(s)}function e(a){var b=d("react-compiler-runtime").c(5),e=m(d("MAWStateContext.react").MAWDispatchContext),f=d("MAWIsIDBOperational").useIsIDBOperational(),g,h;b[0]!==e||b[1]!==f||b[2]!==a?(g=function(){f&&c("promiseDone")(t(e,a))},h=[a,e,f],b[0]=e,b[1]=f,b[2]=a,b[3]=g,b[4]=h):(g=b[3],h=b[4]);n(g,h)}async function t(a,b){var e=b.logout,f=b.reregisterDevice,g=b.rotateCryptoAuthToken,h=b.setupBridge;if(q){void o.load().then(function(a){a("messenger_web").warn("Armadillo already setup - return")});return}if(c("shouldDisableWorkerOnAppsSubdomain")()){d("WALogger").LOG(l());return}q=!0;d("WABridge").makeWABridge(new(d("WADynamicRouterSync").DynamicRouterSync)());try{d("MAWIssueNewUserVisibleErrors").deleteAllErrors(),await d("MAWCommonBackendSetup").setupArmadilloBackendForCalling(function(b){return h({dispatch:a,logout:e,reregisterDevice:f,rotateCryptoAuthToken:g,worker:b})},function(){a({tag:"InitOfflineQueueSyncComplete",value:void 0}),d("MAWMIC").onConnectToExistingWorker()},function(){a({tag:"InitOfflineQueueSyncComplete",value:void 0})},"bridgeForCalling",function(a){})}catch(a){void o.load().then(function(b){return b("messenger_web").catching(a).mustfix("UI Dexie initialisation failed: %s",a.message)})}}async function u(a,e){var f=e.logout,g=e.reregisterDevice,h=e.rotateCryptoAuthToken,j=e.setupBridge;if(q){void o.load().then(function(a){a("messenger_web").warn("Armadillo already setup - return")});return}if(c("shouldDisableWorkerOnAppsSubdomain")()){d("WALogger").LOG(k());return}q=!0;d("MAWMIC").startMAWMICFlow();d("MAWInit").MAWInit.start();b("cr:19883")!=null&&(i||(i=c("ExecutionEnvironment"))).isInBrowser&&await b("cr:19883").getOrSetupMAWCacheDB();p!=null&&(i||(i=c("ExecutionEnvironment"))).isInBrowser&&c("promiseDone")(p(a),function(){},function(a){return o.load().then(function(b){return b("messenger_web").catching(a).mustfix("UI Dexie initialisation failed: %s",a.message)})});b("cr:17068")!=null&&c("promiseDone")(b("cr:17068").getDeviceAge());d("WABridge").makeWABridge(new(d("WADynamicRouterSync").DynamicRouterSync)());try{d("MAWIssueNewUserVisibleErrors").deleteAllErrors(),await d("MAWCommonBackendSetup").setupArmadilloBackend(d("MAWInit").MAWInit,function(b){return j({dispatch:a,logout:f,reregisterDevice:g,rotateCryptoAuthToken:h,worker:b})},function(){a({tag:"InitOfflineQueueSyncComplete",value:void 0}),a({tag:"IsDbMigrating",value:!1}),d("MAWMIC").onConnectToExistingWorker()},function(){a({tag:"InitOfflineQueueSyncComplete",value:void 0}),a({tag:"IsDbMigrating",value:!1})},"mawInit",function(a){}),d("MAWUIJob").UIJobStarters.fireAndForget(d("MAWJobDefinitions").jobSerializers.handleFutureproofMsg({priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.LOW})),d("MAWInit").MAWInit.addIntAnnotation("endTimePageRelative",r()),d("MAWInit").MAWInit.endSuccess()}catch(a){var l,m=c("getErrorSafe")(a);e=m instanceof d("MAWInitError").MAWInitError?m.message:"maw_init_failure";m.message=(l=m.message)!=null?l:"Unknown";l=m.message==="maw_appmutex_no_permission"&&document.visibilityState!=="visible";l?d("MAWInit").MAWInit.cancel(e,m):(d("MAWWaitForBackendSetup").rejectBackendSetup(m),d("MAWInit").MAWInit.fail(e,m));d("MAWIssueNewUserVisibleErrors").issueError(d("MAWIssueNewUserVisibleErrors").MAWGeneralErrorMsgBody,d("MAWIssueNewUserVisibleErrors").MAWGeneralErrorMsgTitle,d("MAWIssueNewUserVisibleErrors").MAWUserVisibleErrorPresentationType.BANNER,m.message);m&&void o.load().then(function(a){a("messenger_web").catching(m).mustfix("MAW backend setup failed -- %s",m.message)});throw m}void d("EBMainThreadEBDBApiDeferred").startListeningDeviceRegistrations()}g.useArmadillo=a;g.useArmadilloForCalling=e}),98);
__d("MAWDBUsageMetrics",["FBLogger","WebStorageEstimator","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("WebStorageManagerEstimatesFalcoEvent").__setRef("MAWDBUsageMetrics");async function a(){try{var a=await d("WebStorageEstimator").estimateStorage();h.onReady(function(b){c("FBLogger")("messenger_web").debug("Sending storage manager estimates falco event, quota: %s, usage: %s, usage_details: %s",a==null?void 0:a.quota,a==null?void 0:a.usage,JSON.stringify(a==null?void 0:a.usageDetails)),b.log(function(){var b;return{quota:String((b=a==null?void 0:a.quota)!=null?b:0),usage:String((b=a==null?void 0:a.usage)!=null?b:0),usage_details:{caches:String((b=a==null?void 0:(b=a.usageDetails)==null?void 0:b.caches)!=null?b:0),indexedDB:String((b=a==null?void 0:(b=a.usageDetails)==null?void 0:b.indexedDB)!=null?b:0),serviceWorkerRegistrations:String((b=a==null?void 0:(b=a.usageDetails)==null?void 0:b.serviceWorkerRegistrations)!=null?b:0)}}})})}catch(a){c("FBLogger")("messenger_web").warn("Error while getting the storage manager estimate: %s",a);return}}g.logMAWDBUsageMetrics=a}),98);
__d("toMsgrUserJid",["MAWJids"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=d("MAWJids").toUserJid}),98);
__d("MAWFetchContacts",["I64","LSContactTypeExact","LSIntEnum","MAWContactRelationshipType","ReQL","WAJids","requireDeferred","toMsgrUserJid"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("LSDatabaseSingletonLazyWrapper").__setRef("MAWFetchContacts");async function k(a){var b=await j.load();b=await b();var e=new Set(a.map(function(a){return d("WAJids").extractUserId(a)}));return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(b.tables.contacts).filter(function(a){return e.has((h||(h=d("I64"))).to_string(a.id))})).then(function(a){return new Map(a.map(function(a){return[c("toMsgrUserJid")((h||(h=d("I64"))).to_string(a.id)),a]}))})}function a(a){return k(a).then(function(a){var b=new Map();a.forEach(function(a,c){b.set(c,d("MAWContactRelationshipType").getContactRelationshipType(a))});return b})}function b(a){return k(a).then(function(a){var b=new Map();a.forEach(function(a,e){a=a.contactTypeExact!=null&&(h||(h=d("I64"))).equal(a.contactTypeExact,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").MESSENGER_ONLY_NOT_ALLOWED_ON_FB));b.set(e,a)});return b})}g.fetchContacts=k;g.fetchContactsRelationships=a;g.fetchContactsIsMsplit=b}),98);
__d("MWXProgressRing.react",["cr:4145","cr:6783","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var c=d("react-compiler-runtime").c(8),e=a.color,f=a.percentage;a=a.size;if(b("cr:4145")!=null){var g,h,j;g=(g=e)!=null?g:"light";h=(h=f)!=null?h:0;j=(j=a)!=null?j:16;var k;c[0]!==g||c[1]!==h||c[2]!==j?(k=i.jsx(b("cr:4145"),{color:g,percentage:h,size:j}),c[0]=g,c[1]=h,c[2]=j,c[3]=k):k=c[3];return k}if(b("cr:6783")!=null){c[4]!==e||c[5]!==f||c[6]!==a?(g=i.jsx(b("cr:6783"),{color:e,percentage:f,size:a}),c[4]=e,c[5]=f,c[6]=a,c[7]=g):g=c[7];return g}return null}g["default"]=a}),98);
__d("mwReplaceToast",["BaseToasterStateManager","MWXToast.react","err","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("BaseToasterStateManager").getInstance();function a(a){var b=a.body,d=a.icon,e=a.startAddOn;e=e===void 0?null:e;var f=a.supressCloseButton;f=f===void 0?!1:f;var g=a.title,h=a.toastId;if(h==null){c("err")("toastId or toasterStateManager is not provided");return}j.replace(h,i.jsx(c("MWXToast.react"),{body:b,icon:d,onDismiss:function(){return j.expire(h)},startAddOn:e,supressCloseButton:f,title:g}))}g.mwReplaceToast=a}),98);
__d("MAWLoadingSpinner.react",["BaseToasterStateManager","MWXIconCheckmarkCircle","MWXIconStrict.react","MWXProgressRing.react","MWXSpinner.react","mwPushToast","mwReplaceToast","react","react-compiler-runtime","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useLayoutEffect,l=b.useRef,m=c("BaseToasterStateManager").getInstance();function n(a,b,d,e){e===void 0&&(e=0);if(a==="spinner")return{icon:{comet:i.jsx(c("MWXSpinner.react"),{color:b?"light":"dark",size:24})},startAddOn:{type:"spinner"},title:d};else if(a==="progressRing")return{icon:{comet:i.jsx(c("MWXProgressRing.react"),{color:b?"light":"dark",size:24})},startAddOn:{source:e,type:"progressRing"},title:d};else return{icon:{comet:i.jsx(c("MWXSpinner.react"),{color:b?"light":"dark",size:24})},startAddOn:{type:"spinner"},title:d}}function o(a,b){d("mwReplaceToast").mwReplaceToast({icon:{comet:i.jsx(c("MWXIconStrict.react"),{icon:c("MWXIconCheckmarkCircle"),size:24}),mds:c("MWXIconCheckmarkCircle").component},title:b,toastId:a})}function a(a,b,e,f,g,h){var i=d("react-compiler-runtime").c(10),p=l(),q,r;i[0]!==f||i[1]!==b||i[2]!==h||i[3]!==e||i[4]!==g||i[5]!==a?(q=function(){if(g)p.current==null?p.current=d("mwPushToast").mwPushToast(n(a,b,e,h),Number.MAX_SAFE_INTEGER):d("mwReplaceToast").mwReplaceToast(babelHelpers["extends"]({},n(a,b,e,h),{toastId:p.current}));else if(p.current!=null){var i=p.current;o(i,f);c("setTimeout")(function(){m.expire(i),p.current=void 0},2750)}},r=[g,b,a,e,h,f],i[0]=f,i[1]=b,i[2]=h,i[3]=e,i[4]=g,i[5]=a,i[6]=q,i[7]=r):(q=i[6],r=i[7]);k(q,r);i[8]===Symbol["for"]("react.memo_cache_sentinel")?(q=function(){return function(){p.current!=null&&m.expire(p.current)}},r=[],i[8]=q,i[9]=r):(q=i[8],r=i[9]);j(q,r)}g.useMAWLoadingSpinner=a}),98);
__d("MAWLoadingStateSpinnerUtils",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";b=function(a){return h._(/*BTDS*/"{restoredPercentage}\u0025 of chats loaded...",[h._param("restoredPercentage",a.toFixed(0).toString())])};c=h._(/*BTDS*/"All chats loaded.");function a(a,b,c){if(c===0)return 100;a=50*(a/c);b=50*(b/c);return Math.min(100,b+a)}g.getProgressMessage=b;g.completedMessage=c;g.getPercentage=a}),226);
__d("MAWLoadingStateToastSelectors",[],(function(a,b,c,d,e,f){"use strict";a=function(a){return a.offlineQueueCount};b=function(a){return a.offlineQueueProgressDownloaded};c=function(a){return a.offlineQueueProgressProcessed};f.offlineQueueCountSelector=a;f.offlineQueueProgressCountSelector=b;f.offlineQueueConsumerProgressCountSelector=c}),66);
__d("useMAWOfflineQueueLoadingIndicator",["Int64Hooks","MAWLoadingStateOutstandingOfflineQueueSelector","MAWStateContext.react","react-compiler-runtime","useCometRouterState","useMAWOfflineQueueLoadingIndicatorThreadJid"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){var f=d("react-compiler-runtime").c(4);a=a===void 0?!1:a;var g=e===void 0?d("MAWLoadingStateOutstandingOfflineQueueSelector").outstandingOfflineQueueSelector:e,h=c("useMAWOfflineQueueLoadingIndicatorThreadJid")(b==null?void 0:b.threadKey,b==null?void 0:b.threadType);e=c("useCometRouterState")();var i;f[0]!==g||f[1]!==h?(b=function(){return g(h)},i=[g,h],f[0]=g,f[1]=h,f[2]=b,f[3]=i):(b=f[2],i=f[3]);f=d("Int64Hooks").useMemoInt64(b,i);b=d("MAWStateContext.react").useMAWSelector(f);i=e==null?void 0:e.main.route.tabKey;return b&&(i==="messenger"||!a)}g["default"]=a}),98);
__d("MAWLoadingStateSpinner.react",["CometDarkModeContext","MAWLoadingSpinner.react","MAWLoadingStateSpinnerUtils","MAWLoadingStateToastSelectors","MAWStateContext.react","cr:19625","react","react-compiler-runtime","useMAWOfflineQueueLoadingIndicator"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;f=e.memo;var j=e.useContext;function k(){var a=d("react-compiler-runtime").c(5),b=j(c("CometDarkModeContext")).currentSetting==="ENABLED",e=c("useMAWOfflineQueueLoadingIndicator")(!0),f=d("MAWStateContext.react").useMAWSelector(d("MAWLoadingStateToastSelectors").offlineQueueCountSelector),g=d("MAWStateContext.react").useMAWSelector(d("MAWLoadingStateToastSelectors").offlineQueueProgressCountSelector),h=d("MAWStateContext.react").useMAWSelector(d("MAWLoadingStateToastSelectors").offlineQueueConsumerProgressCountSelector),i,k;a[0]!==g||a[1]!==f||a[2]!==h?(i=d("MAWLoadingStateSpinnerUtils").getPercentage(g,h,f),k=d("MAWLoadingStateSpinnerUtils").getProgressMessage(i),a[0]=g,a[1]=f,a[2]=h,a[3]=i,a[4]=k):(i=a[3],k=a[4]);g=k;d("MAWLoadingSpinner.react").useMAWLoadingSpinner("progressRing",b,g,d("MAWLoadingStateSpinnerUtils").completedMessage,e,i);return null}function a(){var a=d("react-compiler-runtime").c(1),c;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(c=b("cr:19625")!=null?i.jsx(b("cr:19625"),{}):i.jsx(k,{}),a[0]=c):c=a[0];return c}e=f(a);g["default"]=e}),98);
__d("MAWLoadingStateSpinnerWithQueueState",["CometDarkModeContext","MAWLoadingSpinner.react","MAWLoadingStateSpinnerUtils","MAWSharedProtocolQueueConst","react","react-compiler-runtime","useMAWOfflineQueueLoadingIndicatorShown","useMAWOfflineQueueState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext;function k(a){var b=d("react-compiler-runtime").c(5);a=a.shouldDisplayLoadingIndicatorOnMessengerRoute;var e=j(c("CometDarkModeContext")).currentSetting==="ENABLED",f=d("useMAWOfflineQueueState").useMAWOfflineQueueState(),g=f.offlineQueueCount,h=f.offlineQueueProgressDownloaded,i=f.offlineQueueProgressProcessed;f=g>0&&f.offlineQueueSyncState!==d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete;f=f&&a;var k;b[0]!==h||b[1]!==g||b[2]!==i?(a=d("MAWLoadingStateSpinnerUtils").getPercentage(h,i,g),k=d("MAWLoadingStateSpinnerUtils").getProgressMessage(a),b[0]=h,b[1]=g,b[2]=i,b[3]=a,b[4]=k):(a=b[3],k=b[4]);h=k;d("MAWLoadingSpinner.react").useMAWLoadingSpinner("progressRing",e,h,d("MAWLoadingStateSpinnerUtils").completedMessage,f,a);return null}function a(){var a=d("react-compiler-runtime").c(2),b=c("useMAWOfflineQueueLoadingIndicatorShown")(!0),e;a[0]!==b?(e=b?i.jsx(k,{shouldDisplayLoadingIndicatorOnMessengerRoute:b}):null,a[0]=b,a[1]=e):e=a[1];return e}g["default"]=a}),98);
__d("MAWOccamadilloOnMutexChange",["I64","LSDefaultSyncGroups","LSIntEnum","LSSyncGroupsUtils","Promise","WALogger","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] Resetting sync cursor and network request"]);k=function(){return a};return a}function l(a){var c=d("LSDefaultSyncGroups").e2eeMetadataSyncGroup;if(c!=null)return a.sync_groups.put(babelHelpers["extends"]({},d("LSSyncGroupsUtils").defaultSyncGroup,{groupId:(j||(j=d("LSIntEnum"))).ofNumber(c.groupId)}));else return(h||(h=b("Promise"))).resolve()}function m(a){return a.network_requests.put({epochId:void 0,failureCount:(i||(i=d("I64"))).zero,lastDelayedRequestTimestampMs:void 0,lastSentTimestampMs:i.zero,lastSyncRequestTimestampMs:i.zero,networkTaskIdentifier:void 0,syncDatabaseId:(j||(j=d("LSIntEnum"))).ofNumber(95),taskQueueName:""})}function a(a){d("WALogger").LOG(k()),c("promiseDone")(a.runInTransaction(function(a){return(h||(h=b("Promise"))).all([l(a),m(a)])},"readwrite",void 0,void 0,f.id+":53"))}g.onOccamadilloMutexChange=a}),98);
__d("MAWPreloadSecureMessagesDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MAWPreloadSecureMessages").__setRef("MAWPreloadSecureMessagesDeferred");a=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return h.load().then(function(a){return a.preloadSecureMessagesByThreadKey.apply(a,b)})};g.preloadSecureMessagesByThreadKey=a}),98);
__d("MAWReinit",["ExecutionEnvironment","MAWCurrentUser","MAWEBSwitch","QPLUserFlow","QuickPerformanceLogger","WAGetStorageQplAnnotations","gkx","qpl","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("qpl")._(25310984,"169");function a(a){var b=a!=null?{instanceKey:a}:void 0,e=!1,f=!1;function g(){if(f)return;f=!0;c("QPLUserFlow").start(j,babelHelpers.extends({cancelOnUnload:!0,onFlowTimeout:function(){e=!0},timeoutInMs:(h||(h=c("ExecutionEnvironment"))).canUseDOM?6e4:0},b));void d("WAGetStorageQplAnnotations").getStorageQplAnnotations().then(function(a){c("QPLUserFlow").addAnnotations(j,a)});s()}function k(a){if(!f||e)return;s();c("QPLUserFlow").addPoint(j,a,b)}function l(a,b){var d;if(!f||e)return;c("QPLUserFlow").addAnnotations(j,{bool:(d={},d[a]=b,d)})}function m(a,b){var d;if(!f||e)return;c("QPLUserFlow").addAnnotations(j,{string:(d={},d[a]=b,d)})}function n(a,b){var d;if(!f||e)return;c("QPLUserFlow").addAnnotations(j,{string_array:(d={},d[a]=b,d)})}function o(a,b){var d;if(!f||e)return;c("QPLUserFlow").addAnnotations(j,{int:(d={},d[a]=b,d)})}function p(a){s(),e=!0,c("QPLUserFlow").addAnnotations(j,{string:{failReason:a}},b),c("QPLUserFlow").endFailure(j,"maw_init_fail",b),r=!1}function q(a){s(),e=!0,r=!1,c("QPLUserFlow").addAnnotations(j,{string:{dropReason:a}},b),(i||(i=c("QuickPerformanceLogger"))).markerDrop(j)}var r=!1;function s(){if(r)return;r=!0;c("QPLUserFlow").addAnnotations(j,{bool:{armadillo_init_sync_api_improvements:c("gkx")("24025"),is_eb_enabled:c("MAWEBSwitch").isEnabled(),isArmadilloPublicLaunchUser:c("gkx")("23405"),isTlcPublicUser:d("MAWCurrentUser").isTlcPublicUser(),useSharedWorker:d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()}})}function t(a){s(),e=!0,c("QPLUserFlow").addAnnotations(j,{string:{cancelReason:a}},b),c("QPLUserFlow").endCancel(j,b),r=!1}function u(){s(),e=!0,c("QPLUserFlow").endSuccess(j,b),r=!1}async function v(a,b){var c=a+"_start";a=a+"_end";k(c);c=await b();k(a);return c}return{addBoolAnnotation:l,addIntAnnotation:o,addStringAnnotation:m,addStringArrayAnnotation:n,cancel:t,drop:q,endSuccess:u,fail:p,logPoint:k,measurePerformance:v,start:g}}g.getMAWReinit=a}),98);
__d("MAWReinitWorker",["MAWCommonBackendSetup","MAWOccamadilloOnMutexChange","MAWReinit"],(function(a,b,c,d,e,f,g){"use strict";async function a(a){var b=a.allTablesPersisted,c=a.db,e=a.dispatch,f=a.dispatchClearEphemeralSettings,g=a.instanceKey,h=a.logout,i=a.reregisterDevice,j=a.rotateCryptoAuthToken,k=a.setupBridge;a=a.workerCreateReason;g=d("MAWReinit").getMAWReinit(g);g.start();var l=function(){e({tag:"InitOfflineQueueSyncComplete",value:void 0})};await d("MAWCommonBackendSetup").setupArmadilloBackend(g,function(a){return k({dispatch:e,logout:h,reregisterDevice:i,rotateCryptoAuthToken:j,worker:a}).then(function(a){b||d("MAWOccamadilloOnMutexChange").onOccamadilloMutexChange(c);return a})},l,l,a,function(a){});g.endSuccess();f()}g.default=a}),98);
__d("MAWSetupBridgeOfflineConsumer",["InteractionTracingMetrics","MAWBridgeInitOfflineQueueSyncCompleteHandler","MAWMIC","MAWOfflineQueueStatus","MAWSharedProtocolQueueConst","MWChatInteraction","WAMediaWasmWorkerClient","WATagsLogger","cr:17068","gkx","interaction-tracing","justknobx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Stats failed: expected: ",", processed: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Stats end: expected: ",", processed: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Stats: expected: ",", processed: ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Stats start: ",""]);k=function(){return a};return a}var l=d("WATagsLogger").TAGS(["ServerRPC","OfflineConsumer"]),m="has_pending_or_inprogress_oq_threads";async function n(a){await a;d("WAMediaWasmWorkerClient").prewarmMediaWasmWorker("mp4RepairMux");c("gkx")("12220")&&d("WAMediaWasmWorkerClient").prewarmMediaWasmWorker("progressiveJpegEncode");return d("MAWBridgeInitOfflineQueueSyncCompleteHandler").call()}function o(a){d("MAWMIC").addIntAnnotation("offlineQueueSize",a);var b=d("MWChatInteraction").get(d("MWChatInteraction").MW_AUTO_CHAT_TAB_OPEN);b!=null&&c("InteractionTracingMetrics").addAnnotationInt(b,"offlineQueueSize",a)}function p(a,b){var e=d("MWChatInteraction").get(d("MWChatInteraction").MW_AUTO_CHAT_TAB_OPEN);e!=null&&c("InteractionTracingMetrics").addSubspan(e,"offline_queue","LONGTASK",a,b,{})}function q(){c("justknobx")._("3496")&&c("interaction-tracing").InteractionTracingCore.getPendingInteractions().forEach(function(a){a.addMarkerPoint("offline_queue_start","AppTiming"),a.addAnnotationBoolean(m,!0)})}function r(){c("justknobx")._("3496")&&c("interaction-tracing").InteractionTracingCore.getPendingInteractions().forEach(function(a){a.addMarkerPoint("offline_queue_end","AppTiming"),a.addAnnotationBoolean(m,!1)})}function a(a,e){return function(f){var g=f.chatJidStatus,m=f.status,s=f.timestamp,t=f.totalExpectedCount,u=f.totalProcessedCount;switch(m){case d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Initializing:q();l.LOG(k(),t);o(t);b("cr:17068")&&b("cr:17068").setEstimatedOQSize(t);e({tag:"InitOfflineQueueSyncStart",value:t});d("MAWOfflineQueueStatus").markThreadWithOfflineQueueStatus(g,d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Initializing);d("MAWMIC").addPoint("process_offline_queue_start",s);d("MAWOfflineQueueStatus").resetOfflineQueueState();return;case d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Processing:l.LOG(j(),t,u);e({tag:"InitOfflineQueueConsumerSyncProgress",value:{chatJidStatus:g,processed:u}});d("MAWOfflineQueueStatus").markThreadWithOfflineQueueStatus(g,d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Processing);return;case d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete:l.LOG(i(),t,u);f.startTime!=null&&p(f.startTime,s);r();e({tag:"InitOfflineQueueSyncComplete",value:g});c("promiseDone")(n(a));d("MAWOfflineQueueStatus").markThreadWithOfflineQueueStatus(g,d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete);d("MAWMIC").addPoint("process_offline_queue_end",s);d("MAWOfflineQueueStatus").markOfflineQueueComplete();return;case d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Failed:l.LOG(h(),t,u);d("MAWMIC").addPoint("process_offline_queue_failed",s);e({tag:"InitOfflineQueueSyncComplete",value:void 0});c("promiseDone")(n(a));d("MAWOfflineQueueStatus").markThreadWithOfflineQueueStatus(g,d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Failed);d("MAWOfflineQueueStatus").markOfflineQueueComplete();return}}}g.default=a}),98);
__d("MAWSetupBridgeOfflineSnapshot",["InteractionTracingMetrics","MAWMIC","MWChatInteraction","WAOfflineUtils","WATagsLogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["WA infra offline connection lost"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Stats end: "," / ",", messages: "," / ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Progress: "," / ",", messages: "," / ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Stats start: ",", messages: ",""]);k=function(){return a};return a}var l=d("WATagsLogger").TAGS(["ServerRPC","Offline"]);function m(a){d("MAWMIC").addIntAnnotation("offlineQueueSize",a);var b=d("MWChatInteraction").get(d("MWChatInteraction").MW_AUTO_CHAT_TAB_OPEN);b!=null&&c("InteractionTracingMetrics").addAnnotationInt(b,"offlineQueueSize",a)}a=function(a){return async function(b){var c=b.downloaded,e=b.expected,f=b.status;b=b.timestamp;switch(f){case d("WAOfflineUtils").WAClientInfraOfflineProgress.Initializing:l.LOG(k(),e.count,e.message);m(e.count);a({tag:"InitOfflineQueueSyncStart",value:e.count});d("MAWMIC").addPoint("download_offline_queue_start",b);return;case d("WAOfflineUtils").WAClientInfraOfflineProgress.Processing:l.LOG(j(),c.count,e.count,c.message,e.message);a({tag:"InitOfflineQueueSyncProgress",value:c.count});return;case d("WAOfflineUtils").WAClientInfraOfflineProgress.Complete:l.LOG(i(),c.count,e.count,c.message,e.message);d("MAWMIC").addIntAnnotation("offlineQueueDownloadedCount",c.count);a({tag:"InitOfflineQueueSyncProgress",value:e.count});d("MAWMIC").addPoint("download_offline_queue_end",b);return;case d("WAOfflineUtils").WAClientInfraOfflineProgress.Failed:l.LOG(h());d("MAWMIC").addPoint("download_offline_queue_failed",b);return}}};b=a;g.default=b}),98);
__d("MAWSetupUpdateMediaStatus",[],(function(a,b,c,d,e,f){"use strict";a=function(a){return function(b){var c=b.details,d=b.key,e=b.status,f=b.type;b=b.validationResult;a({tag:"UpdateMediaStatus",value:{details:c,key:d,status:e,type:f,validationResult:b}});return}};b=a;f["default"]=b}),66);
__d("MWWorkerOwnedDbKeychain",["Deferred","MAWCryptoConsts","WATagsLogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["handleEARKeyChange"]);h=function(){return a};return a}c={accountKey:null,databaseEncryptionKeys:new Map(),dbReady:new(c("Deferred"))(),latestVersion:d("MAWCryptoConsts").VERSION};var i=babelHelpers["extends"]({},c),j="uninitialized",k=d("WATagsLogger").TAGS(["MWWorkerOwnedDbKeychain"]);function a(){return i}function b(a){k.LOG(h()),j="initialized",i=a}function e(){return j==="initialized"}function f(){return i.latestVersion}g.getEARKey=a;g.handleEARKeyChange=b;g.isInitialised=e;g.getLatestVersion=f}),98);
__d("MAWSetupBridge",["DTSG","EBDBMetricsConsistencyOperationEnum","EBMainThreadEBDBApiDeferred","LSDatabaseSingleton","LSGetLatestThreadIds.nop","LSInitSyncCompleteSubscription","LSPlatformGraphQLLightspeedRequest","MAWAbPropsClient","MAWBridgeReceivedChatStateHandler","MAWBridgeUIEventHandlerDeferred","MAWBridgeUpdateClientMediaStatusHandler","MAWCommonSetupBridge","MAWEBFrontendQPLLogger","MAWFetchContacts","MAWGetEphemeralSettings","MAWSetupBridgeOfflineConsumer","MAWSetupBridgeOfflineSnapshot","MAWSetupUpdateMediaStatus","MAWUnrecoverableDbErrors","MWEBODSEntityName.enum","MWWorkerOwnedDbKeychain","ODS","Run","Visibility","WAExceededStorageQuota","cr:3411","gkx","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("ArmadilloCutoverClientFalcoEvent").__setRef("MAWSetupBridge"),k=c("requireDeferred")("MAWBridgeUpdateDYIStatusV2").__setRef("MAWSetupBridge"),l=c("requireDeferred")("MAWBridgeUploadMessageByBatchGQLHandler").__setRef("MAWSetupBridge"),m=(h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(d("LSInitSyncCompleteSubscription").use).then(function(){return(h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton}),n=function(a){j.loadImmediately(function(b){b=b.log;return b(function(){return{armadillo_thread_id:a.armadilloThreadId,domain:a.domain,event:a.event,event_details:a.eventDetails,open_thread_id:a.openThreadId,success:a.success,trace_id:a.traceId}})})};function a(a){var e=a.dispatch,g=a.logout,j=a.reregisterDevice,o=a.rotateCryptoAuthToken,p=a.worker;function q(){p.postMessage({type:"force-flush-data"})}d("Run").onUnload(q);d("Run").onBeforeUnload(q,!1);c("Visibility").addListener(c("Visibility").HIDDEN,function(){p.postMessage({type:"force-flush-logs-only"})});return d("MAWCommonSetupBridge").initBridge({customizeEventHandlers:{abPropsUpdated:function(a){d("MAWAbPropsClient").rewrite(a.abProps)},earKeyChange:function(a){d("MWWorkerOwnedDbKeychain").handleEARKeyChange(a)},executeGraphQLLightSpeedRequest:function(a){a=a.args;return c("LSPlatformGraphQLLightspeedRequest").apply(void 0,a)},getDTSGToken:function(){return Promise.resolve(d("DTSG").getToken())},getLSDBEphemeralSetting:function(a){return d("MAWGetEphemeralSettings").getEphemeralSetting(a.chatJid)},getLSDBLatestThreadIds:async function(a){var b=await (h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton;return b.runInTransaction(function(b){return c("LSGetLatestThreadIds.nop")(b,0,"",a.numThreads,a.miActMappingFilteredThreads)},"readonly",void 0,void 0,f.id+":126")},getLSDBUsersIsMsplit:function(a){return d("MAWFetchContacts").fetchContactsIsMsplit(a.users)},getLSDBUsersRelationships:function(a){return d("MAWFetchContacts").fetchContactsRelationships(a.users)},isDbMigrating:function(a){e({tag:"IsDbMigrating",value:!1})},logCutoverEvent:n,logout:g,offlineConsumerProgress:function(){return c("MAWSetupBridgeOfflineConsumer")(m,e).apply(void 0,arguments)},offlineSnapshot:c("MAWSetupBridgeOfflineSnapshot")(e),receivedChatState:async function(a){var b=await m;await b.runInTransaction(function(b){return d("MAWBridgeReceivedChatStateHandler").call(b,a)},"readwrite",void 0,void 0,f.id+":159")},reregisterDevice:j,resignCdnUrl:function(){return Promise.resolve()},rotateCryptoAuthToken:o,storageQuota:function(a){a=a.exceededStorageQuota;d("WAExceededStorageQuota").setExceededStorageQuota(a)},trackEbConsistency:function(a){void d("EBMainThreadEBDBApiDeferred").trackConsistency(d("EBDBMetricsConsistencyOperationEnum").EBConsistencyOperation.Upload,a.workerDeviceId)},uiUpdate:function(a){a=a.events;e&&a.forEach(function(a){return e(a)});b("cr:3411")==null?void 0:b("cr:3411").recordBridgeUIEvent(a);d("MAWBridgeUIEventHandlerDeferred").handleEvents(m,a)},unrecoverableDbError:function(a){a=a.error;d("MAWUnrecoverableDbErrors").setError(a)},updateDYIStatus:function(a){var b=a.qplEvent,d=a.qplInstanceKeyE2E,e=a.status;c("promiseDone")(k.load().then(function(a){return a.call({qplEvent:b,qplInstanceKeyE2E:d,status:e})}))},updateMediaStatus:c("gkx")("11968")===!0?async function(a){var b=await m;return d("MAWBridgeUpdateClientMediaStatusHandler").call(b,a)}:c("MAWSetupUpdateMediaStatus")(e),uploadMessagesToBackup:async function(a){(i||(i=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_TRACKING,"bridge.uploadMessagesToBackup");var b=await m;c("promiseDone")(l.load().then(function(c){return c.call(b,a)}))},uploadMessagesToBackupV2:async function(a){d("MAWEBFrontendQPLLogger").addPointForUploadMessageArray(a.messages,"bridge_entry");var b=await m;d("MAWEBFrontendQPLLogger").addPointForUploadMessageArray(a.messages,"load_gql_handler_module_start");var c=await l.load();d("MAWEBFrontendQPLLogger").addPointForUploadMessageArray(a.messages,"load_gql_handler_module_end");return c.call(b,a)},uploadOpenMessages:function(){return Promise.reject("this bridge should not be used for msgr")}},worker:p})}g.setupBridge=a}),98);
__d("MAWSetupMutex",["FBLogger","LocalStorageMutex","MAWAppMutex","MAWBridge","MAWInit","MAWIssueNewUserVisibleErrors","MAWLocalStorage","MAWLoggerDeferred","MAWMIC","MAWReinitWorker","MAWSetupWorker","MAWStateContext.react","MAWWaitForBackendSetup","MAWWebWorkerSingleton","QPLUserFlow","Run","isInstamadillo","promiseDone","qpl","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["AppMutex - Shouldn't reinitialize, worker already exists"]);j=function(){return a};return a}b=i||d("react");var k=b.useCallback,l=b.useEffect,m=b.useMemo,n=c("FBLogger")("messenger_web"),o=!1,p=0;async function q(a){if(document.visibilityState!=="visible")return!1;var b=window.indexedDB!=null,c=d("MAWLocalStorage").isLocalStorageAvailable();if(a){void d("MAWLoggerDeferred").DEV(j());return!1}return!b||!c?!1:!0}function a(a,b){var e=a.logout,f=a.reregisterDevice,g=a.rotateCryptoAuthToken,i=a.setupBridge,j=m(function(){return d("MAWAppMutex").use()},[]),r=(h||(h=c("useReStore")))(),s=d("MAWStateContext.react").useDispatchClearEphemeralSettings(),t=r.persistenceTypes.includes("indexeddb"),u=k(async function(a){var b=j.takeoverFilter(a);if(!b||a.newValue===d("LocalStorageMutex").THIS_TAB||a.newValue==="")return;!t&&!c("isInstamadillo")()&&d("MAWBridge").getBridge().fireAndForget("event","uiUpdate",{events:[{tag:"DropAllSecureThreads",value:void 0}]});await d("MAWSetupWorker").terminateDedicatedWorker("MAWSetupMutexV2:handleStoreChange");d("MAWWaitForBackendSetup").resetBackendSetup();d("MAWMIC").cancel("workerMutexLost");d("MAWInit").MAWInit.cancel("workerMutexLost");j.onMutexDeath()},[j,t]),v=k(function(){j.onMutexDeath(),c("promiseDone")(d("MAWSetupWorker").terminateDedicatedWorker("MAWSetupMutexV2:handleUnload"))},[j]),w=k(async function(){var a=await d("MAWWebWorkerSingleton").doesWorkerExist();a=await q(a);if(!a||o)return;o=!0;p++;try{await c("MAWReinitWorker")({allTablesPersisted:t,db:r,dispatch:b,dispatchClearEphemeralSettings:s,instanceKey:p,logout:e,reregisterDevice:f,rotateCryptoAuthToken:g,setupBridge:i,workerCreateReason:"mawReinitSetupMutex"}),d("MAWIssueNewUserVisibleErrors").deleteUserVisibleErrorByJSErrorMessage("maw_appmutex_no_permission")}catch(a){n.mustfix("AppMutex - failed to reinitialize worker: "+a.message.concat(" (",a.error,")")),n.catching(a),c("QPLUserFlow").endFailure(c("qpl")._(25310984,"169"),"failed_to_reinitialize_worker",{annotations:{string:{error:a.message.concat(": ",a.error)}},error:a,instanceKey:p})}finally{o=!1}},[t,r,b,s,e,f,g,i]);l(function(){window.addEventListener("storage",u);var a=d("Run").onBeforeUnload(v,!1),b=d("Run").onUnload(v);window.addEventListener("visibilitychange",w);return function(){window.removeEventListener("storage",u),a.remove(),b.remove(),window.removeEventListener("visibilitychange",w)}},[u,v,w])}g.useMutex=a}),98);
__d("MAWSetupMutex.react",["MAWSetupMutex"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.dispatch;a=a.platformSetupUtils;d("MAWSetupMutex").useMutex(a,b);return null}g["default"]=a}),98);
__d("MWChatFetchThreadMessageCounts",[],(function(a,b,c,d,e,f){"use strict";async function a(a){return{}}async function b(a,b){return 0}f.fetchArmadilloThreadMessageCounts=a;f.fetchArmadilloThreadMessageCount=b}),66);
__d("globalCryptoSubtle",[],(function(a,b,c,d,e,f){"use strict";b=a.crypto.subtle;c=b;f["default"]=c}),66);
__d("useDataLossStatisticsStorageListener",["LSDatabaseSingleton","MWChatFetchThreadMessageCounts","Visibility","WebStorage","promiseDone","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(i||d("react")).useEffect,l="armadillo_msgr_data_loss_stats";function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=[],a[0]=b):b=a[0];k(m,b)}function m(){var a;window.setTimeout(function(){a=c("Visibility").addListener(c("Visibility").HIDDEN,n)},3e4);return function(){var b;(b=a)==null?void 0:b.remove()}}function n(){c("promiseDone")((j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(o))}function o(a){return d("MWChatFetchThreadMessageCounts").fetchArmadilloThreadMessageCounts(a).then(p)}function p(a){(h||(h=c("WebStorage"))).setItemGuarded(h.getLocalStorage(),l,JSON.stringify(a))}g.DATA_LOSS_STATISTICS_STORAGE_KEY=l;g.useDataLossStatisticsStorageListener=a}),98);
__d("MWChatDataLossCheckerUtil",["FBLogger","I64","MWChatFetchThreadMessageCounts","QuickPerformanceLogger","WebStorage","gkx","globalCryptoSubtle","promiseDone","qpl","useDataLossStatisticsStorageListener"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a){a=Array.from(new Uint8Array(a));return a.map(function(a){return a.toString(16).padStart(2,"0")}).join("")}async function l(a){try{if(c("gkx")("24059"))return a;var b=new TextEncoder();b=b.encode(a).buffer;a=await c("globalCryptoSubtle").digest("SHA-256",b);return k(a)}catch(a){return a}}async function m(a){var b=a.currentIDBCnt,d=a.currentMsgCnt,e=a.logThreadId,f=a.prevMsgCnt,g=a.qplEvent;a=a.threadId;if(e!=null&&e){e=await l(a);b!=null?((i||(i=c("QuickPerformanceLogger"))).markerStartFromNavStart(g),i.markerAnnotate(g,{int:{current_idb_count:b,current_msg_count:d,prev_msg_count:f},string:{encrypted_threadId:e}}),i.markerEnd(g,2)):((i||(i=c("QuickPerformanceLogger"))).markerStartFromNavStart(g),i.markerAnnotate(g,{int:{current_msg_count:d,prev_msg_count:f},string:{encrypted_threadId:e}}),i.markerEnd(g,2))}else b!=null?((i||(i=c("QuickPerformanceLogger"))).markerStartFromNavStart(g),i.markerAnnotate(g,{int:{current_idb_count:b,current_msg_count:d,prev_msg_count:f}}),i.markerEnd(g,2)):((i||(i=c("QuickPerformanceLogger"))).markerStartFromNavStart(g),i.markerAnnotate(g,{int:{current_msg_count:d,prev_msg_count:f}}),i.markerEnd(g,2))}function n(a){var b=a.currentMsgCnt,c=a.logThreadId,d=a.prevMsgCnt,e=a.qplEvent;a=a.threadId;return m({currentMsgCnt:b,logThreadId:c,prevMsgCnt:d,qplEvent:e,threadId:a})}async function a(a,b){try{a=await d("MWChatFetchThreadMessageCounts").fetchArmadilloThreadMessageCount(a,b);var e=(j||(j=c("WebStorage"))).getAllowlistedKeyFromLocalStorage(d("useDataLossStatisticsStorageListener").DATA_LOSS_STATISTICS_STORAGE_KEY);if(e==null)return{isThreadMissingMessages:!1};e=JSON.parse(e);b=(e=e[(h||(h=d("I64"))).to_string(b)])!=null?e:null;if(b==null)return{isThreadMissingMessages:!1};return b>0&&a===0?{currCount:a,isThreadMissingMessages:!0,prevCount:b}:{isThreadMissingMessages:!1}}catch(a){c("FBLogger")("labyrinth").catching(a).warn("Failed to check for data loss");return{isThreadMissingMessages:!1}}}function b(a){a=d("MWChatFetchThreadMessageCounts").fetchArmadilloThreadMessageCounts(a);a.then(function(a){var b=(j||(j=c("WebStorage"))).getAllowlistedKeyFromLocalStorage(d("useDataLossStatisticsStorageListener").DATA_LOSS_STATISTICS_STORAGE_KEY);if(b==null)return Promise.resolve(null);b=JSON.parse(b);return Promise.resolve({current:a,previous:b})}).then(function(a){if(a==null)return Promise.resolve();var b=a.current;a=a.previous;return o(a,b)}).catch(function(a){return c("FBLogger")("labyrinth").catching(a).warn("Failed to check for data loss")});return a.then(function(){})}async function o(a,b){var d=[];for(var e in a)Object.prototype.hasOwnProperty.call(b,e)&&d.push(e);e=[];for(var f=0;f<d.length;f++){var g=d[f],h={currentMsgCnt:b[g],prevMsgCnt:a[g],threadId:g};a[g]>0&&b[g]===0?(e.push(n(babelHelpers.extends({},h,{qplEvent:c("qpl")._(717553665,"1183")}))),e.push(n(babelHelpers.extends({},h,{logThreadId:!0,qplEvent:c("qpl")._(717562243,"1358")})))):(e.push(n(babelHelpers.extends({},h,{qplEvent:c("qpl")._(717553666,"1184")}))),e.push(n(babelHelpers.extends({},h,{logThreadId:!0,qplEvent:c("qpl")._(717556541,"1361")}))))}await Promise.all(e)}function e(a){var b=function(b){c("promiseDone")(l(b).then(function(d){(i||(i=c("QuickPerformanceLogger"))).markerStartFromNavStart(c("qpl")._(717567419,"1383")),i.markerAnnotate(c("qpl")._(717567419,"1383"),{string:{encryptedThreadId:d,msg_count:a[b].toString()}}),i.markerEnd(c("qpl")._(717567419,"1383"),2)}))};for(var d in a)b(d)}g.qplLog=n;g.checkIsThreadMissingMessages=a;g.fetchCountsAndLogDataLoss=b;g.logThreadCompleteDataLoss=o;g.logLocalStatistics=e}),98);
__d("useOnMawSetupComplete.react",["emptyFunction","promiseDone","react","waitForMAWMIC"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a,b,e){b===void 0&&(b=c("emptyFunction")),i(function(){var e=!1;c("promiseDone")(d("waitForMAWMIC").promise.then(function(){if(e)return;a()})["catch"](function(){if(e)return;b()}));return function(){e=!0}},e)}g.useOnMawSetupComplete=a}),98);
__d("useDataLossChecker",["FBLogger","I64","LSDatabaseSingleton","LSFactory","LSScheduleOccamThreadsIntegrityCheckerStoredProcedure","MWChatDataLossCheckerUtil","gkx","justknobx","promiseDone","react-compiler-runtime","useDataLossStatisticsStorageListener","useOnMawSetupComplete.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){var a=d("react-compiler-runtime").c(2);d("useDataLossStatisticsStorageListener").useDataLossStatisticsStorageListener();var b,c;a[0]===Symbol.for("react.memo_cache_sentinel")?(b=l(),c=[],a[0]=b,a[1]=c):(b=a[0],c=a[1]);d("useOnMawSetupComplete.react").useOnMawSetupComplete(j,b,c)}function j(){c("promiseDone")(k()),l()}async function k(){var a=await (h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton;await d("MWChatDataLossCheckerUtil").fetchCountsAndLogDataLoss(a)}function l(){try{var a=c("gkx")("24061"),b=c("justknobx")._("1683");a&&b&&c("promiseDone")(async function(){var a=await (h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton;return a.runInTransaction(function(a){return c("LSScheduleOccamThreadsIntegrityCheckerStoredProcedure")(c("LSFactory")(a),{delayMs:(i||(i=d("I64"))).of_int32(6e4),maxThreadCount:i.of_int32(20)})},"readonly",void 0,void 0,f.id+":61")}())}catch(a){c("FBLogger")("labyrinth_web").warn("Error running thread integrity checker",a)}}g.default=a}),98);
__d("useLegacyUserWatchdog",["MAWIssueNewUserVisibleErrors","clearTimeout","react","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;b=24*60*60*1e3;var j=5*b;function a(){i(k)}function k(){var a=c("setTimeout")(l,j);return function(){return c("clearTimeout")(a)}}function l(){var a;(a=d("MAWIssueNewUserVisibleErrors")).issueError(a.MAWLegacyUserErrorMsgBody,a.MAWLegacyUserErrorMsgTitle,a.MAWUserVisibleErrorPresentationType.BANNER)}g["default"]=a}),98);
__d("useMAWReregisterDeviceOnError",["LSPersistedDbGating","MAWIssueNewUserVisibleErrors","MAWLoggerUtils","MAWReinitWorker","MAWSetupWorker","MAWStateContext.react","MAWWaitForBackendSetup","ODS","WABridgedAPI","WATagsLogger","promiseDone","react","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Unable to reinit worker ",""]);j=function(){return a};return a}b=h||d("react");var k=b.useCallback,l=b.useContext,m=!1,n=typeof window!=="undefined"?window:self;function o(){m=!0,c("promiseDone")(d("MAWSetupWorker").terminateWorkerPermanently(),function(){(i||(i=d("ODS"))).bumpEntityKey(3185,"armadillo_forced_reregister_fail",n.location.hostname),d("MAWIssueNewUserVisibleErrors").issueError(d("MAWIssueNewUserVisibleErrors").MAWLegacyUserErrorMsgBody,d("MAWIssueNewUserVisibleErrors").MAWLegacyUserErrorMsgTitle,d("MAWIssueNewUserVisibleErrors").MAWUserVisibleErrorPresentationType.BANNER)})}function a(a){var b=a.rotateCryptoAuthToken,e=a.setupBridge,f=c("useAsyncReStore")(),g=d("MAWStateContext.react").useDispatchClearEphemeralSettings(),h=l(d("MAWStateContext.react").MAWDispatchContext);return k(async function(){if(m)return;(i||(i=d("ODS"))).bumpEntityKey(3185,"armadillo_forced_deregister",n.location.hostname);await c("WABridgedAPI").removeCurrentDevice();await d("MAWSetupWorker").terminateWorker("useMAWReregisterDeviceOnError");d("MAWWaitForBackendSetup").resetBackendSetup();try{var a=await f;await c("MAWReinitWorker")({allTablesPersisted:d("LSPersistedDbGating").allTablesPersisted,db:a,dispatch:h,dispatchClearEphemeralSettings:g,logout:o,reregisterDevice:o,rotateCryptoAuthToken:b,setupBridge:e,workerCreateReason:"mawReinitReregDevice"})}catch(b){d("MAWWaitForBackendSetup").rejectBackendSetup(b);a=b.description||b.message||b;d("WATagsLogger").TAGS([d("MAWLoggerUtils").Tag.DeviceRegistration,d("MAWLoggerUtils").Tag.LogoutHandler,d("MAWLoggerUtils").Tag.WorkerSetup,d("MAWLoggerUtils").Tag.MAWWorker,d("MAWLoggerUtils").Tag.MAWInit]).ERROR(j(),a);d("MAWIssueNewUserVisibleErrors").issueError(d("MAWIssueNewUserVisibleErrors").MAWLegacyUserErrorMsgBody,d("MAWIssueNewUserVisibleErrors").MAWLegacyUserErrorMsgTitle,d("MAWIssueNewUserVisibleErrors").MAWUserVisibleErrorPresentationType.BANNER)}},[f,h,g,b,e])}g.default=a}),98);
__d("useStorageUsageMetricsLogger",["cr:3504","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=[],a[0]=b):b=a[0];i(j,b)}function j(){b("cr:3504")==null?void 0:b("cr:3504").logMAWDBUsageMetrics()}g["default"]=a}),98);
__d("MAWSetupImpl.react",["BaseHeadingContext","CometRelay","MAWCommonSetup","MAWCryptoAuthToken","MAWSetupMutex.react","MAWStateContext.react","cr:6159","cr:6160","cr:8800","promiseDone","react","react-compiler-runtime","shouldUseMAWSharedWorker","useDataLossChecker","useLegacyUserWatchdog","useMAWReregisterDeviceOnError","useStorageUsageMetricsLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;e.useCallback;var j=e.useContext;e.useMemo;window.XPlatTesting=b("cr:6159");window.XPlatTestingGroups=b("cr:6160");window.XPlatMockServer=b("cr:8800");function a(a){var b=d("react-compiler-runtime").c(24),e=a.children,f=a.fbid,g=a.logout;a=a.setupBridge;var h=j(d("MAWStateContext.react").MAWDispatchContext),k=d("CometRelay").useRelayEnvironment(),l;b[0]!==k?(l=function(){return d("MAWCryptoAuthToken").fetchFreshCAT(k)},b[0]=k,b[1]=l):l=b[1];l=l;var m;b[2]!==l||b[3]!==a?(m={rotateCryptoAuthToken:l,setupBridge:a},b[2]=l,b[3]=a,b[4]=m):m=b[4];var n=c("useMAWReregisterDeviceOnError")(m);b[5]!==g||b[6]!==n?(m=g!=null?g:function(){return c("promiseDone")(n())},b[5]=g,b[6]=n,b[7]=m):m=b[7];b[8]!==n?(g=function(){return c("promiseDone")(n())},b[8]=n,b[9]=g):g=b[9];var o;b[10]!==l||b[11]!==a||b[12]!==m||b[13]!==g?(o={logout:m,reregisterDevice:g,rotateCryptoAuthToken:l,setupBridge:a},b[10]=l,b[11]=a,b[12]=m,b[13]=g,b[14]=o):o=b[14];l=o;a=l;d("MAWCommonSetup").useArmadillo(a);c("useLegacyUserWatchdog")();c("useDataLossChecker")();c("useStorageUsageMetricsLogger")();m=j(c("BaseHeadingContext"));g=!d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker();o=m+1;b[15]!==h||b[16]!==k||b[17]!==f||b[18]!==a?(l=g?i.jsx(c("MAWSetupMutex.react"),{dispatch:h,environment:k,fbId:f,platformSetupUtils:a}):null,b[15]=h,b[16]=k,b[17]=f,b[18]=a,b[19]=l):l=b[19];b[20]!==e||b[21]!==o||b[22]!==l?(m=i.jsxs(c("BaseHeadingContext").Provider,{value:o,children:[e,l]}),b[20]=e,b[21]=o,b[22]=l,b[23]=m):m=b[23];return m}g["default"]=a}),98);
__d("MAWSetup.react",["CometPlaceholder.react","CometRelay","CurrentUser","MAWOembedIframeContainer.react","MAWSetupBridge","MAWSetupImpl.react","cr:3487","cr:6809","cr:8510","deferredLoadComponent","isGroupInvitesEnabled","promiseDone","react","react-compiler-runtime","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect,k=b("cr:6809")!=null?b("cr:6809").CometLogoutProvider:function(a){a=a.children;return i.jsx(i.Fragment,{children:a})},l=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MAWLoadingStateSpinner.react").__setRef("MAWSetup.react"));c("isGroupInvitesEnabled")();function a(a){var e=d("react-compiler-runtime").c(11);a=a.children;var f;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=[],e[0]=f):f=e[0];j(m,f);var g=d("CometRelay").useRelayEnvironment(),h;e[1]!==g?(f=function(){b("cr:8510")&&c("promiseDone")(b("cr:8510").initOhaiWebClient(g))},h=[g],e[1]=g,e[2]=f,e[3]=h):(f=e[2],h=e[3]);j(f,h);e[4]===Symbol["for"]("react.memo_cache_sentinel")?(f=c("CurrentUser").getID(),e[4]=f):f=e[4];e[5]!==a?(h=i.jsx(c("MAWSetupImpl.react"),{fbid:f,logout:void 0,setupBridge:d("MAWSetupBridge").setupBridge,children:a}),e[5]=a,e[6]=h):h=e[6];e[7]===Symbol["for"]("react.memo_cache_sentinel")?(f=i.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MAWSetup.LoadingState",children:i.jsx(l,{})}),a=b("cr:3487")&&i.jsx(b("cr:3487"),{}),e[7]=f,e[8]=a):(f=e[7],a=e[8]);e[9]!==h?(f=i.jsxs(k,{children:[h,f,a]}),e[9]=h,e[10]=f):f=e[10];return f}function m(){var a=d("MAWOembedIframeContainer.react").createMAWOembedIframeContainer();return function(){a==null?void 0:a.stopListening()}}g["default"]=a}),98);
__d("QPLE2ESessionMarkers",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({NONE:"none",START:"start",END:"end"});c=a;f["default"]=c}),66);
__d("QPLE2E",["QuickPerformanceLogger"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(){}var b=a.prototype;b.logPointDeprecated=function(a,b,d,e){var f,g;e===void 0&&(e={});f=(f=e.timestamp)!=null?f:(h||(h=c("QuickPerformanceLogger"))).currentTimestamp();var i=babelHelpers["extends"]({},e.pointData);g=(g=e.action)!=null?g:12524;e.secondaryOrder!=void 0&&(i.string||(i.string={}),i.string.qpl_e2e__secondary_order=e.secondaryOrder);if(e.sessionMarker&&e.sessionMarker!=="none"){var j;i.bool||(i.bool={});i.bool=babelHelpers["extends"]({},i.bool,(j={},j.qpl_e2e__session_marker_start_point=e.sessionMarker==="start",j.qpl_e2e__session_marker_end_point=e.sessionMarker==="end",j))}(h||(h=c("QuickPerformanceLogger"))).markerStart(a,void 0,f,{samplingBasis:d});h.markerPoint(a,b,{data:i,timestamp:f*2});e.annotations&&(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(a,e.annotations);h.markerAnnotate(a,{string:(j={},j.join_id=d,j.qpl__source="client",j),bool:(b={},b.qpl_e2e__align_points=!0,b)});h.markerEnd(a,g,void 0,f)};return a}();b=new a();g["default"]=b}),98);
__d("MWCMChatTabNotificationsQPLLoggingUtils",["QPLE2E","QPLUserFlow","Random","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=c("qpl")._(25298296,"1725"),i=c("qpl")._(25304846,"1726");function a(){var a=d("Random").uint32();return{logCancel:function(b){c("QPLUserFlow").endCancel(i,{annotations:{string:{cancelReason:b}},instanceKey:a})},logEventStreamReceived:function(b){b!=null&&c("QPLE2E").logPointDeprecated(h,"client:receive_event_stream",b,{action:2}),c("QPLUserFlow").start(i,{instanceKey:a})},logOpenChatTab:function(){c("QPLUserFlow").addPoint(i,"open_chat_tab",{instanceKey:a})},logOpenChatTabSuccess:function(){c("QPLUserFlow").endSuccess(i,{instanceKey:a})},logThreadLoaded:function(){c("QPLUserFlow").addPoint(i,"thread_loaded",{instanceKey:a})}}}g.createChatTabQPLLogger=a}),98);
__d("MWChatBadgeCountUpdater.react",["CometRelay","LSIntEnum","MWChatBadgeCountUpdates.react","react","react-compiler-runtime","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useEffect;function a(){var a=d("react-compiler-runtime").c(6),b=d("CometRelay").useRelayEnvironment(),e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=(i||(i=d("LSIntEnum"))).ofNumber(0),a[0]=e):e=a[0];var f=d("MWChatBadgeCountUpdates.react").useUnseenThreadCount(e),g=f==null,h;a[1]!==f||a[2]!==b||a[3]!==g?(e=function(){var a={suppress_xac_groups:!1};b.commitUpdate(function(b){b=b.getRoot();if(b==null){c("recoverableViolation")("A store root must be present to move forward.","messenger_web_entrypoints");return}b=b.getOrCreateLinkedRecord("viewer","Viewer");b=b.getOrCreateLinkedRecord("message_threads","ViewerMessageThreadsConnection");if(f!=null){var d=b.getValue("unseen_count",a);(d===null||d!==f)&&b.setValue(f,"unseen_count",a)}d=b.getValue("is_loading_client_threads");(d==null||d!==g)&&b.setValue(g,"is_loading_client_threads")})},h=[b,f,g],a[1]=f,a[2]=b,a[3]=g,a[4]=e,a[5]=h):(e=a[4],h=a[5]);j(e,h);return null}g["default"]=a}),98);
__d("MWChatConfig",["CurrentEnvironment","bx"],(function(a,b,c,d,e,f,g){"use strict";a=c("CurrentEnvironment").messengerdotcom?c("bx").getURL(c("bx")("273041")):c("bx").getURL(c("bx")("273022"));b=c("CurrentEnvironment").messengerdotcom?c("bx").getURL(c("bx")("273042")):c("bx").getURL(c("bx")("273023"));g.soundNotifMp3Url=a;g.soundNotifOggUrl=b}),98);
__d("MWChatEncryptedBackupsHandleRestoreWrapperDeferred.react",["CometErrorBoundary.react","CometPlaceholder.react","HeroInteractionIgnoreWithDiv.react","deferredLoadComponent","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("deferredLoadComponent")(c("requireDeferred")("MWChatEncryptedBackupsHandleRestoreWrapper.react").__setRef("MWChatEncryptedBackupsHandleRestoreWrapperDeferred.react"));function a(a){return i.jsx(c("HeroInteractionIgnoreWithDiv.react"),{children:i.jsx(c("CometErrorBoundary.react"),{fallback:function(){return null},children:i.jsx(c("CometPlaceholder.react"),{fallback:null,name:"EncryptedBackupsHandleRestoreWrapper",children:i.jsx(j,babelHelpers["extends"]({},a))})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatStateV2IsComposeTab",["MWChatStateV2Types"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.tabType;return a.type===d("MWChatStateV2Types").MWChatStateTabType.ComposeTab}g.isComposeTab=a}),98);
__d("MWChatStateV2HeadGroups",["MWChatStateV2CompareTabs","MWChatStateV2IsComposeTab","MWChatStateV2IsMinimized"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){c=Array.from(c.values()).filter(function(b){return d("MWChatStateV2IsMinimized").isMinimized(a,b)}).sort(function(a,b){var c=d("MWChatStateV2CompareTabs").byMostRecentMinimized(a,b);return c===0?d("MWChatStateV2CompareTabs").byMostRecentOpened(a,b):c});b=b.filter(function(a){return!d("MWChatStateV2IsComposeTab").isComposeTab(a)}).concat(c);return[b.slice(0,e),b.slice(e,b.length)]}g.getHeadGroups=a}),98);
__d("MWChatTabsNotificationSubscription_MessengerChatTabsNotificationSubscription_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="23885219097739619"}),null);
__d("MWChatTabsNotificationSubscription_MessengerChatTabsNotificationSubscription.graphql",["MWChatTabsNotificationSubscription_MessengerChatTabsNotificationSubscription_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"MessengerChatTabsNotificationSubscribeResponsePayload",kind:"LinkedField",name:"messenger_chat_tabs_notification_subscribe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message_timestamp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"qpl_join_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatTabsNotificationSubscription_MessengerChatTabsNotificationSubscription",selections:c,type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatTabsNotificationSubscription_MessengerChatTabsNotificationSubscription",selections:c},params:{id:b("MWChatTabsNotificationSubscription_MessengerChatTabsNotificationSubscription_facebookRelayOperation"),metadata:{subscriptionName:"messenger_chat_tabs_notification_subscribe"},name:"MWChatTabsNotificationSubscription_MessengerChatTabsNotificationSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("MWChatTabsNotificationSubscription",["CometRelay","MWChatTabsNotificationSubscription_MessengerChatTabsNotificationSubscription.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("MWChatTabsNotificationSubscription_MessengerChatTabsNotificationSubscription.graphql");function a(a,b){return d("CometRelay").requestSubscription(a,{onNext:b,subscription:i,variables:{input:{}}})}g.subscribe=a}),98);
__d("MWChatThreadPingCounter",[],(function(a,b,c,d,e,f){"use strict";var g=new Map();function h(a){a=g.get(a);return(a=a)!=null?a:0}function a(a){g.set(a,h(a)+1)}function b(){g.clear()}f.getCount=h;f.incrementCount=a;f.clear=b}),66);
__d("MWFallbackWithTimeout.react",["FBLogger","react","react-compiler-runtime","useTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h;h||(h=d("react"));var i=h.useEffect;function a(a){var b=d("react-compiler-runtime").c(4),e=a.children,f=a.message;a=c("useTimeout")(1e4);var g=a.pending,h;b[0]!==f||b[1]!==g?(a=function(){g||c("FBLogger")("messenger_web_entrypoints","fallback_timeout").warn(f)},h=[f,g],b[0]=f,b[1]=g,b[2]=a,b[3]=h):(a=b[2],h=b[3]);i(a,h);return e}g["default"]=a}),98);
__d("MWGetCurrentThreadIDForLSThread",["I64","LSIntEnum","mwCMIsAnyCMThread","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,e){if(e)return{NAME:"Page",VAL:(h||(h=d("I64"))).to_string(a)};else if((h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(7))||(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(15))||(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(16)))return{NAME:"UserSecret",VAL:(h||(h=d("I64"))).to_string(a)};else if((h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(1))||(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(13))||(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(201)))return{NAME:"User",VAL:(h||(h=d("I64"))).to_string(a)};else if((h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(2))||(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(5))||c("mwCMIsAnyCMThread")(b)||(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(150))||(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(151))||(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(154))||(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(155))||(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(152))||(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(153))||(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(26)))return{NAME:"Group",VAL:(h||(h=d("I64"))).to_string(a)};throw c("unrecoverableViolation")("Unsupported MWMessagingThreadType "+(h||(h=d("I64"))).to_string(b),"messenger_web_messaging")}g.get=a}),98);
__d("MWNotificationRenderer.react",["fbt","I64","LSIntEnum"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;function a(a,b,c,e,f){if((i||(i=d("I64"))).equal(a.senderId,b))return h._(/*BTDS*/"New message");f=(b=(a=f.nickname)!=null?a:e.firstName)!=null?b:e.name;a=c.threadName;if(a!=null)return h._(/*BTDS*/"{senderName} messaged {groupName}",[h._param("senderName",f),h._param("groupName",a)]);else if((i||(i=d("I64"))).equal(c.threadType,(j||(j=d("LSIntEnum"))).ofNumber(2)))return h._(/*BTDS*/"{name} messaged your group",[h._param("name",f)]);else return h._(/*BTDS*/"{name} messaged you",[h._param("name",f)])}g.renderDocumentTitle=a}),226);
__d("MWLSChatPopperCommon",["CometSetBlinkingTitleMessageContext","CurrentUser","I64","MWChatConfig","MWChatSettingsQuery","MWNotificationRenderer.react","MWPIsThreadUnread","MessengerWebEventsFalcoEvent","ReQL","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=h||d("react");var j=e.useCallback,k=e.useContext,l=c("requireDeferred")("Sound").__setRef("MWLSChatPopperCommon");function m(a){var b=(i||(i=d("I64"))).to_string(a.senderId)!==c("CurrentUser").getID();b&&l.onReady(function(b){b.play([d("MWChatConfig").soundNotifOggUrl,d("MWChatConfig").soundNotifMp3Url],(i||(i=d("I64"))).to_float(a.timestampMs),!1)})}function a(a,b,e){var f=k(c("CometSetBlinkingTitleMessageContext"));return j(function(c,g,h,j){h=d("MWNotificationRenderer.react").renderDocumentTitle(c,b,g,h,j);e.contents!=null&&e.contents();e.contents=d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(g.threadKey).subscribe(function(a,b){if(b.operation==="add"||b.operation==="put"){a=b.value;if(d("MWPIsThreadUnread").isThreadUnread(a))return;e.contents!=null&&e.contents();e.contents=void 0;f(null,(i||(i=d("I64"))).to_float(a.lastReadWatermarkTimestampMs))}});f(h,(i||(i=d("I64"))).to_float(c.timestampMs))},[b,e,a,f])}function b(a){d("MWChatSettingsQuery").areChatTabsSoundsOn(function(b){if(b!=null&&b)return m(a);else c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:"suppress_new_message_sound"}})})}g.useUpdateDocumentTitle=a;g.playChatTabSound=b}),98);
__d("MWLSChatTabPolicy",["$InternalEnum","I64","LSContactBlockedByViewerStatus","LSIntEnum","MWCMThreadTypes.react","MWChatSettingsQuery","MessagingFolderTag","MessengerWebEventsFalcoEvent","emptyFunction","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=b("$InternalEnum")({ALLOW:0,DENY:1});function k(a,b,c){if(c===j.ALLOW)return a(b)}var l=function(a){return c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:"suppress_new_message",extra_data:{reason:a}}})},m=function(a){a(j.ALLOW)},n=function(a,b,c){(h||(h=d("I64"))).equal(b.senderId,c)?(l("message_outgoing"),a(j.DENY)):a(j.ALLOW)},o=function(a,b,e){if(c("gkx")("23433"))a(j.ALLOW);else{d("MWChatSettingsQuery").areChatTabsTurnedOff(function(c){c!=null&&c?(l("turn_off_chat_tab"),b!=null&&d("MWCMThreadTypes.react").isJoinedCMThread(b.threadType)&&e!=null&&e.logCancel("turn_off_chat_tab"),a(j.DENY)):a(j.ALLOW)});return}},p=function(a,b,c){var e=(h||(h=d("I64"))).to_float(b.muteExpireTimeMs);e>Date.now()||e<0?(l("mention_muted"),d("MWCMThreadTypes.react").isJoinedCMThread(b.threadType)&&c!=null&&c.logCancel("mention_muted"),a(j.DENY)):a(j.ALLOW)},q=function(a,b){b.isAdminMessage?(l("message_non_user_generated"),a(j.DENY)):a(j.ALLOW)},r=function(a,b){b.folderName===c("MessagingFolderTag").INBOX||(h||(h=d("I64"))).equal(b.parentThreadKey,(i||(i=d("LSIntEnum"))).ofNumber(-10))?a(j.ALLOW):(l("message_no_inbox"),a(j.DENY))},s=function(a,b){!(h||(h=d("I64"))).equal(b.blockedByViewerStatus,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))?(l("message_blocked_participants"),a(j.DENY)):a(j.ALLOW)},t=function(a,b){d("MWCMThreadTypes.react").isJoinedCMThread(b.threadType)?(l("community_messaging_group_blocked"),a(j.DENY)):a(j.ALLOW)},u=function(a,b){b=b.mentionTypes;b!=null&&"s".includes(b)?a(j.DENY):a(j.ALLOW)},v=function(a,b){c("gkx")("23433")&&b?a(j.DENY):a(j.ALLOW)},w=function a(b,d){if(b.length===0)return function(a){return k(d,c("emptyFunction"),a)};var e=b[0],f=b.slice(1);return function(b){return k(e,a(f,d),b)}},x=function(a,b){var c=a[0];a=a.slice(1);c(w(a,b))};function a(a,b,c,d,e,f){return x([function(){return m.apply(void 0,arguments)},function(){for(var b=arguments.length,c=new Array(b),e=0;e<b;e++)c[e]=arguments[e];return n.apply(void 0,c.concat([a,d]))},function(){return o.apply(void 0,arguments)},function(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return p.apply(void 0,c.concat([b]))},function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return q.apply(void 0,c.concat([a]))},function(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return r.apply(void 0,c.concat([b]))},function(){for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d];return s.apply(void 0,b.concat([c]))},function(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return t.apply(void 0,c.concat([b]))},function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return u.apply(void 0,c.concat([a]))},function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return v.apply(void 0,b.concat([e]))}],f)}function e(a,b,c,d){return x([function(){return m.apply(void 0,arguments)},function(){for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return o.apply(void 0,d.concat([a,b]))},function(){for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return p.apply(void 0,d.concat([a,b]))},function(){for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d];return v.apply(void 0,b.concat([c]))}],d)}g.shouldMessageBeAllowed=a;g.shouldCommunityChatThreadPopup=e}),98);
__d("useMWChatOpenTabFromNewMessage",["I64","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadAttributionStore","MAWStateContext.react","MWChatInteraction","MWChatStateActions","MWChatStateContext","MWChatStateV2.react","MWChatStateV2IsClosed","MWChatStateV2Types","MWChatThreadId","MessengerWebEventsFalcoEvent","ODS","cr:20187","dispatchOpenChatTabTraceLogging","gkx","justknobx","react","setTimeout","useAsyncReStore","useCometFeedNoRoutingNavigationEventLogger","useLazyShouldShowMessagingEntrypointInCometRoot","useMWChatOpenTabTraceProvider"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;e=h||d("react");var l=e.useCallback,m=e.useContext,n=new Set();function a(a,e){e=e.withChatTabTracing;var f=e===void 0?!1:e,g=c("useCometFeedNoRoutingNavigationEventLogger")(),h=d("MWChatStateV2.react").useDispatch(),o=c("useMWChatOpenTabTraceProvider")(),p=d("MWChatStateContext").useChatState(function(a){return a.tabs}),q=c("useLazyShouldShowMessagingEntrypointInCometRoot")("CHAT"),r=m(d("MAWStateContext.react").MAWDispatchContext),s=c("useAsyncReStore")();return l(function(e,l,m){g(Date.now(),"","messenger");(i||(i=d("ODS"))).bumpEntityKey(3185,"mwchat_tab","open_incoming");c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:"open_chat_tab_from_new_message"}});d("LSThreadAttributionStore").setSource(d("MWChatThreadId").getFBID(e),a);var t=Date.now();b("cr:20187")!=null&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(l.threadType)&&void s.then(function(a){return b("cr:20187").preloadSecureMessagesByThreadKey(a,l.threadKey,r,c("justknobx")._("2038"))});var u=function(a){var b={clientThreadKey:void 0,threadKey:l.threadKey,threadType:l.threadType};c("dispatchOpenChatTabTraceLogging")(a,b,"useMWChatOpenTabFromNewMessage");h(d("MWChatStateActions").openTabOrFlyout(t,{shouldFocus:!1},{threadKeyDescriptor:b,type:d("MWChatStateV2Types").MWChatStateTabType.ChatTab}),!c("gkx")("24037"))},v=l.threadKey;e=Array.from(p.values()).find(function(a){if(a.tabType.type===d("MWChatStateV2Types").MWChatStateTabType.ChatTab){a=a.tabType.threadKeyDescriptor.threadKey;return(j||(j=d("I64"))).equal(v,a)}});var w=e!=null?d("MWChatStateV2IsClosed").isClosed(e):!1,x=n.has((j||(j=d("I64"))).to_string(v));x=f&&(e==null&&!x||e!=null&&w)&&q();x?(n.add((j||(j=d("I64"))).to_string(v)),o(function(a,b){d("MWChatInteraction").set((j||(j=d("I64"))).to_string(l.threadKey),a),b.onComplete(function(){n["delete"]((j||(j=d("I64"))).to_string(v))}),u(b)},(k||(k=d("LSIntEnum"))).unwrapIntEnum(l.threadType),"notificationInThreadReply",l.threadKey)):u();c("setTimeout")(function(){return h(d("MWChatStateActions").closeFlyout(t,l.threadKey))},3e3);return m()},[g,a,p,f,h,o,q])}g["default"]=a}),98);
__d("MWLSCommunityChatPopper",["CometRelay","GroupsCometChatsEngagementLogger","I64","MWCMChatTabNotificationsQPLLoggingUtils","MWChatTabsNotificationSubscription","MWChatThreadPingCounter","MWGetCurrentThreadIDForLSThread","MWLSChatPopperCommon","MWLSChatTabPolicy","MWPActor.react","MercuryIDs","ReQL","promiseDone","react","react-compiler-runtime","useMWChatOpenTabFromNewMessage","useMWFamilyCenterContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");b.useCallback;var j=b.useEffect,k={contents:void 0};function l(a,b){var e=d("react-compiler-runtime").c(8),f=d("MWLSChatPopperCommon").useUpdateDocumentTitle(a,b,k);e[0]!==a.tables.contacts||e[1]!==a.tables.participants||e[2]!==a.tables.threads||e[3]!==f?(b=function(b){c("promiseDone")(window.Promise.all([a.tables.threads.get(b.threadKey),a.tables.contacts.get(b.senderId),a.tables.participants.get(b.threadKey,b.senderId)]),function(a){var e=a[0],g=a[1];a=a[2];if(g!=null&&a!=null){f(b,e,g,a);g=c("MercuryIDs").getThreadIDFromThreadFBID((i||(i=d("I64"))).to_string(e.threadKey));if(d("MWChatThreadPingCounter").getCount(g)<3){d("MWChatThreadPingCounter").incrementCount(g);d("MWLSChatPopperCommon").playChatTabSound(b);return}}})},e[0]=a.tables.contacts,e[1]=a.tables.participants,e[2]=a.tables.threads,e[3]=f,e[4]=b):b=e[4];var g=b;e[5]!==g||e[6]!==a.tables.messages?(b=function(b,e,f){var h={contents:m};h.contents=d("ReQL").fromTableAscending(a.tables.messages).getKeyRange((i||(i=d("I64"))).of_string(b),i.of_string(f),e).subscribe(function(a,b){if(b.operation==="add"){a=b.value;h.contents();g(a)}});c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.messages).getKeyRange(i.of_string(b),i.of_string(f),e)),function(a){a&&(h.contents(),g(a))})},e[5]=g,e[6]=a.tables.messages,e[7]=b):b=e[7];return b}function m(){}function a(a){var b=d("react-compiler-runtime").c(9),e=a.storage;a=a.withChatTabTracing;a=a===void 0?!1:a;var f;b[0]!==a?(f={withChatTabTracing:a},b[0]=a,b[1]=f):f=b[1];var g=c("useMWChatOpenTabFromNewMessage")("notificationInThreadReply",f);a=d("MWPActor.react").useActor();var h=c("CometRelay").useRelayEnvironment(),k=l(e,a);f=d("useMWFamilyCenterContext").useMWFamilyCenterEnforcementsContext();var m=f.familyCenterData;b[2]!==h||b[3]!==m.hasActiveMsgrFamilyCenterEnforcement||b[4]!==g||b[5]!==e||b[6]!==k?(a=function(){var a=d("MWChatTabsNotificationSubscription").subscribe(h,function(a){a=(a==null?void 0:a.messenger_chat_tabs_notification_subscribe)||{};var b=a.message_id,f=a.message_timestamp,h=a.qpl_join_id,j=a.thread_id;if(j==null||f==null||b==null)return;var l=d("MWCMChatTabNotificationsQPLLoggingUtils").createChatTabQPLLogger();l.logEventStreamReceived(h);c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.tables.threads).getKeyRange((i||(i=d("I64"))).of_string(j))),function(a){a!=null&&(l.logThreadLoaded(),d("MWLSChatTabPolicy").shouldCommunityChatThreadPopup(a,l,m.hasActiveMsgrFamilyCenterEnforcement,function(){var c=d("MWGetCurrentThreadIDForLSThread").get(a.threadKey,a.threadType,!1);l.logOpenChatTab();g(c,a,function(){l.logOpenChatTabSuccess(),d("GroupsCometChatsEngagementLogger").log({action:"impression",event:"thread_open_auto",source:"auto_open_chat_tabs",surface:"auto_open_chat_tabs_container",thread_id:(i||(i=d("I64"))).to_string(a.threadKey)}),k(j,b,f)})}))})});return function(){a.dispose()}},f=[h,e,g,k,m.hasActiveMsgrFamilyCenterEnforcement],b[2]=h,b[3]=m.hasActiveMsgrFamilyCenterEnforcement,b[4]=g,b[5]=e,b[6]=k,b[7]=a,b[8]=f):(a=b[7],f=b[8]);j(a,f)}g.useOpenCommunityChatTabs=a}),98);
__d("MWV2ChatHeadsLayout.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3);a=a.children;a=a;var c;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c={className:"x191j7n5 x92rtbv x10l6tqk x1useyqa"},b[0]=c):c=b[0];b[1]!==a?(c=i.jsx("div",babelHelpers["extends"]({},c,{children:a})),b[1]=a,b[2]=c):c=b[2];return c}g["default"]=a}),98);
__d("MWV2ChatOptionsHead.react",["fbt","FDSDots3HorizontalFilled20Icon","MWXDeferredPopoverTrigger.react","MWXIcon.react","MWXPressable.react","MWXTooltip.react","react","react-compiler-runtime","requireDeferred"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useState,l=c("requireDeferred")("MWV2ChatOptionsHeadPopover.react").__setRef("MWV2ChatOptionsHead.react"),m={head:{alignItems:"x6s0dn4",backgroundColor:"x1l31dnx",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",boxShadow:"x1qeybcx",display:"x78zum5",height:"xc9qbxq",justifyContent:"xl56j7k",opacity:"xg01cxk",transform:"x1f85oc2",transitionDuration:"x19bguh7",transitionProperty:"x6o7n8i",width:"x14qfxbe",":hover_boxShadow":"x19xcq9t",$$css:!0},headVisible:{opacity:"x1hc1fzr",transform:"x3oybdh",$$css:!0}},n=h._(/*BTDS*/"Options");function a(a){var b=d("react-compiler-runtime").c(11),e=a.isVisible,f=a.openTabCount,g=a.style;a=k(!1);var h=a[0],i=a[1];a=k(!1);var o=a[0],p=a[1];a=k(!1);var q=a[0];a=a[1];f=f>0;var r;b[0]!==f?(r={hasOpenTabs:f},b[0]=f,b[1]=r):r=b[1];b[2]!==o||b[3]!==h||b[4]!==q||b[5]!==e||b[6]!==g?(f=function(a,b){return j.jsx("div",{className:"x14yjl9h xudhj91 x18nykt9 xww2gxu xc9qbxq xi8xln7 x10l6tqk x14qfxbe",style:g,children:j.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 xjbqb8w x78zum5 xnnlda6 xl56j7k x1tl9596 xhsvlbd x1dmp6jm"},{"data-testid":void 0,onMouseEnter:function(){return i(!0)},onMouseLeave:function(){return i(!1)},children:j.jsx(c("MWXPressable.react"),{label:n,onFocusChange:function(a){return p(a)},onPress:b,ref:a,testid:void 0,xstyle:function(){return[m.head,e||h||o||q?m.headVisible:!1]},children:j.jsx(c("MWXTooltip.react"),{align:"middle",position:"start",tooltip:n,children:j.jsx(c("MWXIcon.react"),{icon:c("FDSDots3HorizontalFilled20Icon")})})})}))})},b[2]=o,b[3]=h,b[4]=q,b[5]=e,b[6]=g,b[7]=f):f=b[7];b[8]!==r||b[9]!==f?(a=j.jsx(c("MWXDeferredPopoverTrigger.react"),{align:"end",onVisibilityChange:a,popoverProps:r,popoverResource:l,position:"above",children:f}),b[8]=r,b[9]=f,b[10]=a):a=b[10];return a}g["default"]=a}),226);
__d("useMWV2PreloadComposeTab",["JSResourceForInteraction","JSScheduler","react","react-compiler-runtime","useCometPreloader"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(h||d("react")).useCallback;var j=c("JSResourceForInteraction")("MWV2ComposeTab.react").__setRef("useMWV2PreloadComposeTab");function a(){var a=d("react-compiler-runtime").c(3),b=k;b=c("useCometPreloader")("button",b,b);var e=b.onHoverInPreloader;b=b.onHoverOutPreloader;var f;a[0]!==e||a[1]!==b?(f=[e,b],a[0]=e,a[1]=b,a[2]=f):f=a[2];return f}function k(){(i||(i=d("JSScheduler"))).scheduleSpeculativeCallback(l)}function l(){j.preload()}g["default"]=a}),98);
__d("MWV2ComposeHead.react",["fbt","FDSComposeFilled20Icon","FDSIcon.react","LSThreadAttributionStore","MWChatInteraction","MWChatStateV2.react","MWChatStateV2Types","MWPBumpEntityKey","MWXPressable.react","MWXTooltip.react","MessengerWebUXLogger","react","react-compiler-runtime","useMWNewChatOpenTabTraceProvider","useMWV2PreloadComposeTab"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={button:{alignItems:"x6s0dn4",appearance:"xjyslct",backgroundColor:"x1l31dnx",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",boxShadow:"x1qeybcx",display:"x3nfvp2",height:"xsdox4t",justifyContent:"xl56j7k",position:"x1n2onr6",width:"x1useyqa",":hover_boxShadow":"x19xcq9t",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(16),e=a.onFocusChange;a=a.onHoverChange;var f=d("MWChatStateV2.react").useDispatch(),g=c("MessengerWebUXLogger").useInteractionLogger(),i=c("useMWNewChatOpenTabTraceProvider")(),k;b[0]!==f||b[1]!==g||b[2]!==i?(k=function(){i(function(a){d("MWChatInteraction").set("open_new",a);g==null?void 0:g({eventName:"create_thread"});d("LSThreadAttributionStore").setSourceForNewThread("chatheadsNewMessage");d("MWPBumpEntityKey").bumpEntityKey("comet.sidebar","compose_head_click");var b=Date.now();a=function(a){return{clientForcedMinimizeWatermark:a.clientForcedMinimizeWatermark,closeWatermark:a.closeWatermark,doNotBlockWithEBUpsell:!0,minimizeWatermark:a.minimizeWatermark,openFlyoutWatermark:a.openFlyoutWatermark,openWatermark:b,tabId:a.tabId,tabType:a.tabType}};var c=function(a){var c=a.openWatermark<a.closeWatermark;if(c)return{clientForcedMinimizeWatermark:a.clientForcedMinimizeWatermark,closeWatermark:a.closeWatermark,minimizeWatermark:a.minimizeWatermark,openFlyoutWatermark:a.openFlyoutWatermark,openWatermark:b,tabId:a.tabId,tabType:a.tabType};else return{clientForcedMinimizeWatermark:a.clientForcedMinimizeWatermark,closeWatermark:b,minimizeWatermark:a.minimizeWatermark,openFlyoutWatermark:a.openFlyoutWatermark,openWatermark:a.openWatermark,tabId:a.tabId,tabType:a.tabType}};return f([{inserter:a,tabConfig:{shouldFocus:!0},tabType:{initialTokens:[],secureThreadToggleEnabled:!1,type:d("MWChatStateV2Types").MWChatStateTabType.ComposeTab},type:d("MWChatStateV2Types").MWChatStateActionsType.UpsertTab,updater:c}])},"chatheadsNewMessage")},b[0]=f,b[1]=g,b[2]=i,b[3]=k):k=b[3];k=k;var m=c("useMWV2PreloadComposeTab")(),n=m[0];m=m[1];var o,p,q,r,s;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(p=h._(/*BTDS*/"New message"),o=c("MWXTooltip.react"),q="middle",r="start",s=p.toString(),b[4]=o,b[5]=p,b[6]=q,b[7]=r,b[8]=s):(o=b[4],p=b[5],q=b[6],r=b[7],s=b[8]);var t;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(t=j.jsx(c("FDSIcon.react"),{color:"primary",icon:c("FDSComposeFilled20Icon")}),b[9]=t):t=b[9];b[10]!==n||b[11]!==m||b[12]!==e||b[13]!==a||b[14]!==k?(o=j.jsx(o,{align:q,position:r,tooltip:s,children:j.jsx(c("MWXPressable.react"),{"aria-label":p,onFocusChange:e,onHoverChange:a,onHoverIn:n,onHoverOut:m,onPress:k,role:"button",testid:void 0,xstyle:l,children:t})}),b[10]=n,b[11]=m,b[12]=e,b[13]=a,b[14]=k,b[15]=o):o=b[15];return o}function l(){return[k.button]}g["default"]=a}),226);
__d("MWV2ChatHeads.react",["CometErrorBoundary.react","CometHeroInteractionWithDiv.react","CometPlaceholder.react","I64","JSResourceForInteraction","MWChatInteraction","MWChatStateContext","MWChatStateV2HeadGroups","MWChatStateV2TabGroups","MWChatStateV2Types","MWPActor.react","MWV2ChatHeadsLayout.react","MWV2ChatOptionsHead.react","MWV2ComposeHead.react","WebUXLoggingEntryPointContextProvider","lazyLoadComponent","react","react-compiler-runtime","useMWChatStateV2MaxTabCount"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h.useState,l=5,m=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWV2ChatHead.react").__setRef("MWV2ChatHeads.react")),n=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWV2ChatOverflowHead.react").__setRef("MWV2ChatHeads.react"));function o(a){return{transform:"translateY(-"+Math.imul(a,58)+"px)"}}function p(a){return{transform:"translateY(-"+(Math.imul(a,58)-12)+"px"}}function a(a){var b=d("react-compiler-runtime").c(30);a=a.isMediaViewer;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=d("MWPActor.react").isAPPlus(),b[0]=e):e=b[0];e=e;var f=d("MWChatStateContext").useChatState(s),g=f[0],h=f[1];f=f[2];var t=c("useMWChatStateV2MaxTabCount")(a);h=d("MWChatStateV2TabGroups").getTabGroups(f,g,h,t);t=h.openExcessTabs;h=h.openTabs;a=d("MWChatStateV2HeadGroups").getHeadGroups(a?f:void 0,t,g,l);f=a[0];t=a[1];g=h.length;a=f.length;var u=t.length>0?1:0;h=k(!1);var v=h[0],w=h[1],x;h=t[0];if(t.length===1&&h.tabType.type!==d("MWChatStateV2Types").MWChatStateTabType.ComposeTab){h=h.tabType.threadKeyDescriptor;var y=(i||(i=d("I64"))).to_string(h.threadKey),z;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(z=o(1),b[1]=z):z=b[1];b[2]!==t||b[3]!==w||b[4]!==h?(z=j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWV2ChatHeads.ExcessHeads",children:j.jsx(m,{onFocusChange:w,onHoverChange:w,style:z,tab:t[0],threadKeyDescriptor:h})}),b[2]=t,b[3]=w,b[4]=h,b[5]=z):z=b[5];x=j.jsx(c("CometErrorBoundary.react"),{fallback:r,children:z},y)}else if(t.length>1){b[6]===Symbol["for"]("react.memo_cache_sentinel")?(h=o(1),b[6]=h):h=b[6];b[7]!==t||b[8]!==w?(z=j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWV2ChatHeads.ChatOverflowHead",children:j.jsx(n,{excessHeads:t,onActiveChange:w,style:h})}),b[7]=t,b[8]=w,b[9]=z):z=b[9];x=z}b[10]===Symbol["for"]("react.memo_cache_sentinel")?(y=d("MWChatInteraction").get(d("MWChatInteraction").MW_CHATHEADS_LOAD),b[10]=y):y=b[10];b[11]!==a||b[12]!==v||b[13]!==g||b[14]!==u?(h=c("MWV2ChatOptionsHead.react")!=null&&g+a>=2?j.jsx(c("MWV2ChatOptionsHead.react"),{isVisible:v,openTabCount:g,style:p(a+u+1)}):null,b[11]=a,b[12]=v,b[13]=g,b[14]=u,b[15]=h):h=b[15];if(b[16]!==f||b[17]!==u||b[18]!==w){b[20]!==u||b[21]!==w?(t=function(a,b){var e=a.tabType;if(e.type===d("MWChatStateV2Types").MWChatStateTabType.ComposeTab)return null;b=b+u+1;return j.jsx(c("CometErrorBoundary.react"),{fallback:q,children:j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWV2ChatHeads.ChatHead",children:j.jsx(m,{onFocusChange:w,onHoverChange:w,style:o(b),tab:a,threadKeyDescriptor:e.threadKeyDescriptor})})},(i||(i=d("I64"))).to_string(e.threadKeyDescriptor.threadKey))},b[20]=u,b[21]=w,b[22]=t):t=b[22];z=f.reverse().map(t);b[16]=f;b[17]=u;b[18]=w;b[19]=z}else z=b[19];b[23]!==w?(a=!e&&j.jsx(c("MWV2ComposeHead.react"),{onFocusChange:w,onHoverChange:w}),b[23]=w,b[24]=a):a=b[24];b[25]!==x||b[26]!==h||b[27]!==z||b[28]!==a?(v=j.jsx(d("WebUXLoggingEntryPointContextProvider").WebUXLoggingEntryPointContextProvider,{value:"chat_heads",children:j.jsx(c("CometHeroInteractionWithDiv.react"),{interactionDesc:"Comet initial load to chatheads VC",interactionUUID:y,children:j.jsxs(c("MWV2ChatHeadsLayout.react"),{children:[h,z,x,a]})})}),b[25]=x,b[26]=h,b[27]=z,b[28]=a,b[29]=v):v=b[29];return v}function q(){return null}function r(){return null}function s(a){return[a.tabs,a.focusedTabId,a.mediaViewerOpenWatermark]}g.MAX_CHAT_HEADS=l;g.MWV2ChatHeads=a}),98);
__d("MWV2ChatTabsLayout.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3);a=a.children;a=a;var c;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c={className:"x1ey2m1c x78zum5 x164qtfw xixxii4 x1vjfegm"},b[0]=c):c=b[0];b[1]!==a?(c=i.jsx("div",babelHelpers["extends"]({},c,{"data-testid":void 0,children:a})),b[1]=a,b[2]=c):c=b[2];return c}g["default"]=a}),98);
__d("MWV2ChatTabs.react",["CometErrorBoundary.react","CometPlaceholder.react","HeroInteractionIgnoreWithDiv.react","I64","JSResourceForInteraction","MAWEditMessageContext.react","MWChatInteraction","MWChatStateContext","MWChatStateV2CompareTabs","MWChatStateV2HeadGroups","MWChatStateV2TabGroups","MWChatStateV2Types","MWPReplyContext.react","MWV2ChatHeads.react","MWV2ChatTabLoadingWithGlimmers.react","MWV2ChatTabsLayout.react","MWV2EnsureThatChatTabExists","MWV2IsTabFocusedContext.react","cr:7101","gkx","hero-tracing","lazyLoadComponent","react","react-compiler-runtime","useCometDisplayTimingTrackerForInteraction","useMWChatStateV2MaxTabCount"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));h.useCallback;e=b("cr:7101")||{};var k=e.MWComposerKeyCommandFocusManager,l=e.MWComposerKeyCommandFocusManagerTabIndex,m=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWV2ComposeTab.react").__setRef("MWV2ChatTabs.react")),n=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWV2ChatTab.react").__setRef("MWV2ChatTabs.react"));function o(a){var b=d("react-compiler-runtime").c(4),c=a.isMinimized,e=a.tab;a=a.threadKeyDescriptor;d("MWV2EnsureThatChatTabExists").useMWV2EnsureThatChatTabExists(a.threadKey,a.threadType,a.clientThreadKey,"MWV2ChatTabs");var f;b[0]!==c||b[1]!==e||b[2]!==a?(f=j.jsx(n,{isMinimized:c,tab:e,threadKeyDescriptor:a}),b[0]=c,b[1]=e,b[2]=a,b[3]=f):f=b[3];return f}function a(a){var b=d("react-compiler-runtime").c(4);a=a.isMediaViewer;var e=d("MWChatStateContext").useChatState(t),f=e[0],g=e[1];e=e[2];var h=c("useMWChatStateV2MaxTabCount")(a);h=d("MWChatStateV2TabGroups").getTabGroups(a?e:void 0,f,g,h);var i=h.minimizedTabs,n=h.openExcessTabs,u=h.openTabs;h=d("MWChatStateV2HeadGroups").getHeadGroups(a?e:void 0,n,f,d("MWV2ChatHeads.react").MAX_CHAT_HEADS);var v=h[1],w=s,x=c("useCometDisplayTimingTrackerForInteraction")("ChatMain",!0);a=i.filter(function(a){return!v.includes(a)}).filter(r);e=[].concat(u,a,n).sort(d("MWChatStateV2CompareTabs").byMostRecentOpened);f=e.map(function(a,b){var e=g===a.tabId,f=a.tabType,h,i=u.indexOf(a)===-1;f.type===d("MWChatStateV2Types").MWChatStateTabType.ComposeTab?h=j.jsx(m,{initialTokens:f.initialTokens,tab:a},f.initialTokens.map(q).join()):h=j.jsx(o,{isMinimized:i,tab:a,threadKeyDescriptor:f.threadKeyDescriptor});f=j.jsx(d("MWV2IsTabFocusedContext.react").MWV2IsTabFocusedContextProvider,{isFocused:e,children:j.jsx(d("MWPReplyContext.react").MWPReplyContextProvider,{children:j.jsx(d("MAWEditMessageContext.react").MAWEditMessageContext,{children:j.jsx(c("HeroInteractionIgnoreWithDiv.react"),{children:j.jsx(d("hero-tracing").HeroInteraction,{alwaysMarkMutationRootAsVisualChange:!0,interactionDesc:"MWV2_CHAT_TAB",interactionUUID:w(a.tabType),pageletName:"ChatTab",ref:x,children:j.jsx(c("CometPlaceholder.react"),{fallback:i?null:j.jsx(c("MWV2ChatTabLoadingWithGlimmers.react"),{tab:a}),name:"MWV2ChatTabs",children:h})})})})})});return j.jsx(c("CometErrorBoundary.react"),{fallback:p,children:l==null?f:j.jsx(l,{value:b,children:f})},String(a.tabId))});b[0]!==f?(h=k==null?f:j.jsx(k,{children:f}),b[0]=f,b[1]=h):h=b[1];b[2]!==h?(i=j.jsx(c("MWV2ChatTabsLayout.react"),{children:h}),b[2]=h,b[3]=i):i=b[3];return i}function p(){return null}function q(a){return a.id}function r(a){return!c("gkx")("12143")?!0:a.isPreloaded!==!0||a.openWatermark>0}function s(a){if(a.type===d("MWChatStateV2Types").MWChatStateTabType.ComposeTab)return null;else return d("MWChatInteraction").get((i||(i=d("I64"))).to_string(a.threadKeyDescriptor.threadKey))}function t(a){return[a.tabs,a.focusedTabId,a.mediaViewerOpenWatermark]}g["default"]=a}),98);
__d("useMWLSChatPopperUpper",["FBLogger","I64","JSResourceForInteraction","LSContactType","LSIntEnum","MWChatMessagesOnChatTabLoadTracker","MWChatThreadPingCounter","MWGetCurrentThreadIDForLSThread","MWLSChatPopperCommon","MWLSChatTabPolicy","MWPActor.react","MWXacGating","MercuryIDs","ReQL","ServerTime","VisibilityAPI","clearInterval","isMWXacGroupThread","isMessengerPWA","justknobx","promiseDone","react","react-compiler-runtime","requireDeferred","setInterval","useGlobalEventListener","useMWChatOpenTabFromNewMessage","useMWFamilyCenterContext","useMWNavigation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=h||d("react");var k=b.useEffect,l=b.useRef,m=c("requireDeferred")("MWDesktopNotifications").__setRef("useMWLSChatPopperUpper"),n=c("JSResourceForInteraction")("MWV2ChatTab.react").__setRef("useMWLSChatPopperUpper"),o={contents:void 0};function p(a,b,e,f,g,h,k,l,o,p,q){q===void 0&&(q=d("MWLSChatTabPolicy").shouldMessageBeAllowed);var r=d("MWGetCurrentThreadIDForLSThread").get(f.threadKey,f.threadType,(i||(i=d("I64"))).equal(g.contactType,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactType").PAGE))||(i||(i=d("I64"))).equal(g.contactType,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactType").PAGE_PERSONA)));return q(e,f,g,l,o,function(){c("promiseDone")(n.load());var j=d("MercuryIDs").getThreadIDFromThreadFBID((i||(i=d("I64"))).to_string(f.threadKey));d("MWChatMessagesOnChatTabLoadTracker").trackReceivedFor(f.threadKey);return a(r,f,function(){k(e,f,g,h);if(d("VisibilityAPI").isVisibilityHidden()===!0){var a=c("isMessengerPWA")()&&c("justknobx")._("1465");a&&c("promiseDone")(async function(){var a=await m.load();a=a.triggerLocalNotification;await a(b,e,p)}())}if(d("MWChatThreadPingCounter").getCount(j)<3){d("MWChatThreadPingCounter").incrementCount(j);d("MWLSChatPopperCommon").playChatTabSound(e);return}})})}function q(a){var b=a.actor,d=a.hasActiveMsgrFamilyCenterEnforcement,e=a.message,f=a.navigationApi,g=a.openTabFromNewMessage,h=a.shouldBeAllowed,i=a.storage,j=a.updateDocumentTitle;c("promiseDone")(window.Promise.all([i.tables.threads.get(e.threadKey),i.tables.contacts.get(e.senderId),i.tables.participants.get(e.threadKey,e.senderId)]),function(a){var k=a[0],l=a[1];a=a[2];if(k==null){c("FBLogger")("messenger_web_entrypoints").mustfix("Thread is null when receiving a new message");return}if(l!=null&&a!=null)return p(g,i,e,k,l,a,j,b,d,f,h)})}function r(a){var b=a.actor,d=a.hasActiveMsgrFamilyCenterEnforcement,e=a.message,f=a.navigationApi,g=a.openTabFromNewMessage,h=a.shouldBeAllowed,i=a.storage,j=a.updateDocumentTitle;c("promiseDone")(window.Promise.all([i.tables.threads.get(e.threadKey),i.tables.contacts.get(e.senderId),i.tables.participants.get(e.threadKey,e.senderId)]),function(a){var k=a[0],l=a[1];a=a[2];if(k!=null&&l!=null&&a!=null&&!c("isMWXacGroupThread")(k))return p(g,i,e,k,l,a,j,b,d,f,h)})}function s(a){var b=d("react-compiler-runtime").c(11),e=a.storage;a=a.withChatTabTracing;a=a===void 0?!1:a;var f;b[0]!==a?(f={withChatTabTracing:a},b[0]=a,b[1]=f):f=b[1];var g=c("useMWChatOpenTabFromNewMessage")("notificationInThreadReply",f),h=d("MWPActor.react").useActor(),j=d("MWLSChatPopperCommon").useUpdateDocumentTitle(e,h,o);b[2]===Symbol.for("react.memo_cache_sentinel")?(a=d("ServerTime").getMillis(),b[2]=a):a=b[2];var m=l(a),n=c("useMWNavigation")();f=d("useMWFamilyCenterContext").useMWFamilyCenterEnforcementsContext();var p=f.familyCenterData;b[3]!==h||b[4]!==p.hasActiveMsgrFamilyCenterEnforcement||b[5]!==n||b[6]!==g||b[7]!==e||b[8]!==j?(a=function(){return d("ReQL").fromTableAscending(e.tables.messages).subscribe(function(a,b){if(b.operation==="add"){a=b.value;if((i||(i=d("I64"))).to_float(a.timestampMs)<=m.current)return;m.current=(i||(i=d("I64"))).to_float(a.timestampMs);b=d("MWXacGating").isGroupsEnabled()?q:r;return b({actor:h,hasActiveMsgrFamilyCenterEnforcement:p.hasActiveMsgrFamilyCenterEnforcement,message:a,navigationApi:n,openTabFromNewMessage:g,storage:e,updateDocumentTitle:j})}})},f=[h,n,p.hasActiveMsgrFamilyCenterEnforcement,g,e,j],b[3]=h,b[4]=p.hasActiveMsgrFamilyCenterEnforcement,b[5]=n,b[6]=g,b[7]=e,b[8]=j,b[9]=a,b[10]=f):(a=b[9],f=b[10]);k(a,f)}function a(a){var b=d("react-compiler-runtime").c(10),e=a.storage;a=a.withChatTabTracing;a=a===void 0?!1:a;var f;b[0]!==e||b[1]!==a?(f={storage:e,withChatTabTracing:a},b[0]=e,b[1]=a,b[2]=f):f=b[2];s(f);var g=l();b[3]===Symbol.for("react.memo_cache_sentinel")?(e=function(){var a=g.current;if(a!=null){c("clearInterval")(a);return}},b[3]=e):e=b[3];var h=e;b[4]===Symbol.for("react.memo_cache_sentinel")?(a=function(){h(),g.current=c("setInterval")(t,6e5)},b[4]=a):a=b[4];f=a;b[5]===Symbol.for("react.memo_cache_sentinel")?(e=function(){d("MWChatThreadPingCounter").clear();return h()},b[5]=e):e=b[5];a=e;b[6]===Symbol.for("react.memo_cache_sentinel")?(e={},b[6]=e):e=b[6];c("useGlobalEventListener")("blur",f,e);b[7]===Symbol.for("react.memo_cache_sentinel")?(f={},b[7]=f):f=b[7];c("useGlobalEventListener")("focus",a,f);b[8]===Symbol.for("react.memo_cache_sentinel")?(e=function(){return function(){return h()}},a=[],b[8]=e,b[9]=a):(e=b[8],a=b[9]);k(e,a)}function t(){return d("MWChatThreadPingCounter").clear()}g.default=a}),98);
__d("useSubscribeToErrorTableAndShowToast",["ReQL","react","react-compiler-runtime","requireDeferred","translatedServerString","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useEffect,k=c("requireDeferred")("LSUserVisibleErrorsUtil").__setRef("useSubscribeToErrorTableAndShowToast"),l=c("requireDeferred")("mwPushToast").__setRef("useSubscribeToErrorTableAndShowToast"),m={contents:!1};function a(a){var b=d("react-compiler-runtime").c(4),e=(h||(h=c("useReStore")))(),f,g;b[0]!==e||b[1]!==a?(f=function(){if(m.contents)return;m.contents=!0;var b=d("ReQL").fromTableAscending(e.tables.user_visible_errors).subscribe(function(b,d){switch(d.operation){case"add":var f=d.value;b=f.presentationStyle;if(b!=null&&b!=="toast"&&b!=="undefined")return;l.onReady(function(b){b.mwPushErrorToast({body:f.errorBodyText!=null?c("translatedServerString")(f.errorBodyText):void 0,onDismiss:function(){k.onReady(function(a){a.removeUserVisibleErrorFromTable(e,f.errorId)})},title:c("translatedServerString")(f.errorTitleText)},a)});return;case"put":case"delete":return}});return function(){m.contents=!1;return b()}},g=[e,a],b[0]=e,b[1]=a,b[2]=f,b[3]=g):(f=b[2],g=b[3]);return j(f,g)}g["default"]=a}),98);
__d("useMWChatInit",["MWLSCommunityChatPopper","MWPGetThreadTitle","ReQL","ReQLSuspense","promiseDone","react","react-compiler-runtime","useMWLSChatPopperUpper","useReStore","useSubscribeToErrorTableAndShowToast"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useEffect;function a(){var a=d("react-compiler-runtime").c(12),b=(h||(h=c("useReStore")))(),e;a[0]!==b.tables.community_folders||a[1]!==b.tables.contacts||a[2]!==b.tables.participants||a[3]!==b.tables.pinned_threads||a[4]!==b.tables.threads?(e=function(){var a;c("promiseDone")((a=d("ReQL")).toArrayAsync(a.fromTableAscending(b.tables.threads).map(function(a){return[a,d("ReQLSuspense").toArray(d("ReQL").leftJoin(d("ReQL").fromTableAscending(b.tables.participants,[]).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(b.tables.contacts)).take(d("MWPGetThreadTitle").amountToFetchForTitle),f.id+":34")]}).take(30)));c("promiseDone")(a.toArrayAsync(a.fromTableAscending(b.tables.pinned_threads.index("pinnedTimestamp"))));c("promiseDone")(a.toArrayAsync(a.fromTableAscending(b.tables.community_folders)))},a[0]=b.tables.community_folders,a[1]=b.tables.contacts,a[2]=b.tables.participants,a[3]=b.tables.pinned_threads,a[4]=b.tables.threads,a[5]=e):e=a[5];var g;a[6]!==b?(g=[b],a[6]=b,a[7]=g):g=a[7];j(e,g);c("useSubscribeToErrorTableAndShowToast")();a[8]!==b?(e={storage:b,withChatTabTracing:!0},a[8]=b,a[9]=e):e=a[9];c("useMWLSChatPopperUpper")(e);a[10]!==b?(g={storage:b,withChatTabTracing:!0},a[10]=b,a[11]=g):g=a[11];d("MWLSCommunityChatPopper").useOpenCommunityChatTabs(g)}g["default"]=a}),98);
__d("useMWIsAPPlusChannelsInbox",["useCometRouterState"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useCometRouterState")();if(a==null)return!1;var b=a.main;a=a.pushViewStack;a=a&&a.length>0?a[a.length-1]:b;return((b=a.route)==null?void 0:b.tracePolicy)==="comet.messenger.applus.inbox"}g["default"]=a}),98);
__d("useMWIsTopLevelRouteMessengerMediaViewer",["useCometRouterState"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useCometRouterState")();if(a==null)return!1;var b=a.main;a=a.pushViewStack;a=a&&a.length>0?a[a.length-1]:b;return((b=a.route)==null?void 0:b.tracePolicy)==="comet.sharedmediaviewer.media"}g["default"]=a}),98);
__d("useMWV2ChatUpdateMediaViewerOpenWatermark",["MWChatStateActions","MWChatStateV2.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(2),b=d("MWChatStateV2.react").useDispatch(),c;a[0]!==b?(c=function(){var a=Date.now();b(d("MWChatStateActions").updateMediaViewerOpenWatermark(a))},a[0]=b,a[1]=c):c=a[1];return c}g["default"]=a}),98);
__d("MWV2CookieWriter",["DeferredCookie","I64","MWCMThreadTypes.react","MWChatStateV2Types","Promise","ReQL","promiseDone","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){switch(Number((i||(i=d("I64"))).to_string(a))){case 2:return"g.";case 15:return"sc.";case 16:return"sg.";case 18:return"cg.";case 19:return"cgu.";case 23:return"cbj.";case 24:return"cbu.";case 21:return"cphj.";case 22:return"cphu.";case 150:return"dp.";case 151:return"dpu.";case 152:return"dpb.";case 153:return"dpbu.";case 154:return"dp2.";case 155:return"dp2u.";default:return"u."}}function a(a,e,f){var g=function(a){if(e==null)return!1;var b=e.tabType;if(b.type===d("MWChatStateV2Types").MWChatStateTabType.ComposeTab)return!1;else return(i||(i=d("I64"))).equal(b.threadKeyDescriptor.threadKey,a)},k=function(a){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(f.tables.threads).getKeyRange(a))},l={contents:void 0};a=a.map(function(a){var c=a.isOpen,e=a.threadKey,f=a.threadType,m={o:c?1:0};return k(e).then(function(a){if(a!=null)if(g(e)){d("MWCMThreadTypes.react").isJoinedCMThread(f)&&(l.contents=(i||(i=d("I64"))).to_string(a.parentThreadKey));return(h||(h=b("Promise"))).resolve()}else{m.i=j(f)+(i||(i=d("I64"))).to_string(e);d("MWCMThreadTypes.react").isJoinedCMThread(f)&&(m.p=(i||(i=d("I64"))).to_string(a.parentThreadKey));return(h||(h=b("Promise"))).resolve(m)}else{m.i=j(f)+(i||(i=d("I64"))).to_string(e);return(h||(h=b("Promise"))).resolve(m)}})});c("promiseDone")((h||(h=b("Promise"))).all(a).then(function(a){var f;if(e!=null){var g=e.tabType;if(g.type===d("MWChatStateV2Types").MWChatStateTabType.ComposeTab)f=void 0;else{g=g.threadKeyDescriptor;var k=g.threadKey;g=g.threadType;f=j(g)+(i||(i=d("I64"))).to_string(k)}}else f=void 0;g=a.filter(function(a){return a!=null});k=l.contents;a=k!=null?JSON.stringify({lm3:f,lm3p:k,t3:g,utc3:Date.now(),v:1}):JSON.stringify({lm3:f,t3:g,utc3:Date.now(),v:1});a!=null?c("DeferredCookie").addToQueue("presence","C"+a,0,"/",!1,!1,!0):c("recoverableViolation")("Failed to serialize cookie","messenger_comet");return(h||(h=b("Promise"))).resolve()}))}g.write=a}),98);
__d("useMWV2CookieWriter",["MWChatStateContext","MWChatStateV2CompareTabs","MWChatStateV2IsOpen","MWChatStateV2Types","MWV2CookieWriter","react","react-compiler-runtime","useAsyncReStoreBulkFix"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(){var a=d("react-compiler-runtime").c(4),b=d("MWChatStateContext").useChatState(m),c=d("useAsyncReStoreBulkFix").useReStoreHook(),e,f;a[0]!==c||a[1]!==b?(e=function(){d("useAsyncReStoreBulkFix").onDbReady(c,function(a){var c=Array.from(b.values()).filter(l).sort(d("MWChatStateV2CompareTabs").byMostRecentOpened)[0],e=[];Array.from(b.values()).filter(k).sort(j).forEach(function(a){a=a.tabType;if(a.type===d("MWChatStateV2Types").MWChatStateTabType.ComposeTab)return;e.push(babelHelpers["extends"]({},a.threadKeyDescriptor,{isOpen:!1}))});d("MWV2CookieWriter").write(e,c,a)})},f=[c,b],a[0]=c,a[1]=b,a[2]=e,a[3]=f):(e=a[2],f=a[3]);i(e,f)}function j(a,b){var c=d("MWChatStateV2CompareTabs").byMostRecentMinimized(a,b);if(c===0)return d("MWChatStateV2CompareTabs").byMostRecentOpened(a,b);else return c}function k(a){if(a.openWatermark>a.closeWatermark)return!0;else return a.minimizeWatermark>a.closeWatermark}function l(a){return d("MWChatStateV2IsOpen").isOpen(void 0,a)}function m(a){return a.tabs}g["default"]=a}),98);
__d("MWV2ChatTabsRoot.react",["CometContextualLayerAnchorRoot.react","CometPlaceholder.react","FocusRegion.react","MWChatStateV2.react","MWChatVisibilityOverrideContext","MWFallbackWithTimeout.react","MWLSThreadDisplayContext","MWV2ChatHeads.react","MWV2ChatTabs.react","WebUXLoggingEntryPointContextProvider","cr:17337","focusScopeQueries","react","react-compiler-runtime","useEnsureViewerContactExistAndUpdated","useMWChatInit","useMWIsAPPlusChannelsInbox","useMWIsTopLevelRouteMediaViewerExperiment","useMWIsTopLevelRouteMessengerMediaViewer","useMWV2ChatUpdateMediaViewerOpenWatermark","useMWV2CookieWriter","useShouldShowMessagingEntrypointInCometRoot"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useEffect;e.useMemo;var k=(f=b("cr:17337"))!=null?f:i.Fragment;function l(a){var b=d("react-compiler-runtime").c(16);a=a.isMediaViewer;var e=d("MWChatStateV2.react").useChatState(n),f=c("useMWIsTopLevelRouteMessengerMediaViewer")();e=Array.from(e.values()).some(m);e=e;var g;b[0]!==f?(g={0:{className:"x1ey2m1c xds687c xixxii4 x1vjfegm"},1:{className:"x1ey2m1c xds687c xixxii4 x1vjfegm x1s85apg"}}[!!f<<0],b[0]=f,b[1]=g):g=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"xuk3077 x78zum5 xc8icb0"},b[2]=f):f=b[2];e=e?d("focusScopeQueries").tabbableScopeQuery:void 0;var h;b[3]!==a?(h=i.jsx(c("MWV2ChatTabs.react"),{isMediaViewer:a}),b[3]=a,b[4]=h):h=b[4];var j;b[5]!==a?(j=i.jsx(k,{children:i.jsx(d("MWV2ChatHeads.react").MWV2ChatHeads,{isMediaViewer:a})}),b[5]=a,b[6]=j):j=b[6];b[7]!==h||b[8]!==j?(a=i.jsxs(i.Fragment,{children:[h,j]}),b[7]=h,b[8]=j,b[9]=a):a=b[9];b[10]!==e||b[11]!==a?(h=i.jsx(c("CometContextualLayerAnchorRoot.react"),{children:i.jsx("div",babelHelpers["extends"]({},f,{children:i.jsx(d("FocusRegion.react").FocusRegion,{containFocusQuery:e,id:"MWV2ChatTabsRootChatTabsFocusRegion",children:a})}))}),b[10]=e,b[11]=a,b[12]=h):h=b[12];b[13]!==g||b[14]!==h?(j=i.jsx(d("WebUXLoggingEntryPointContextProvider").WebUXLoggingEntryPointContextProvider,{value:"popup_chat_box",children:i.jsx(d("MWLSThreadDisplayContext").MWLSThreadDisplayContextProvider,{value:"ChatTab",children:i.jsx("div",babelHelpers["extends"]({},g,{children:h}))})}),b[13]=g,b[14]=h,b[15]=j):j=b[15];f=j;return f}function m(a){return a.openWatermark>a.closeWatermark}function n(a){return a.tabs}function o(a){a=a.children;c("useMWV2CookieWriter")();c("useMWChatInit")();return a}function a(){var a=d("react-compiler-runtime").c(10),b=c("useMWIsTopLevelRouteMediaViewerExperiment")(),e=d("MWChatVisibilityOverrideContext").useMWChatVisibilityOverride(b),f=c("useMWV2ChatUpdateMediaViewerOpenWatermark")(),g=c("useMWIsAPPlusChannelsInbox")();e=c("useShouldShowMessagingEntrypointInCometRoot")("CHAT_TABS_ROOT")&&e&&!g;var h;a[0]!==b||a[1]!==f?(g=function(){b&&f()},h=[b,f],a[0]=b,a[1]=f,a[2]=g,a[3]=h):(g=a[2],h=a[3]);j(g,h);c("useEnsureViewerContactExistAndUpdated")();a[4]===Symbol["for"]("react.memo_cache_sentinel")?(g=i.jsx(c("MWFallbackWithTimeout.react"),{message:"MWV2ChatTabsRoot suspense timeout"}),a[4]=g):g=a[4];a[5]!==b||a[6]!==e?(h=e?i.jsx(l,{isMediaViewer:b}):null,a[5]=b,a[6]=e,a[7]=h):h=a[7];a[8]!==h?(e=i.jsx(c("CometPlaceholder.react"),{fallback:g,name:"MWV2ChatTabsRoot",children:i.jsx(o,{children:h})}),a[8]=h,a[9]=e):e=a[9];g=e;return g}g["default"]=a}),98);
__d("MWV2ChatContainer.react",["MWChatEncryptedBackupsHandleRestoreWrapperDeferred.react","MWV2ChatTabsRoot.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsxs(i.Fragment,{children:[i.jsx(c("MWV2ChatTabsRoot.react"),{}),i.jsx(c("MWChatEncryptedBackupsHandleRestoreWrapperDeferred.react"),{})]}),a[0]=b):b=a[0];return b}g["default"]=a}),98);
__d("useMWJewelStartLoadingLogger",["CometBlendedInitialLoadTraceLog","qpl","react","react-compiler-runtime","useCometInteractionTracing"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef,k=b.useState,l=c("qpl")._(30616158,"2565");function a(){var a=d("react-compiler-runtime").c(3),b=j(!1),e=k(),f=e[0],g=e[1],h=c("useCometInteractionTracing")(l,"slower","INTERACTION"),n;a[0]!==h?(e=function(){b.current||(b.current=!0,h(function(a){c("CometBlendedInitialLoadTraceLog").logStart("mwj_badge",a.getInstanceKey(),a.getTrace()),g(a.getTraceId()),a.onVcMetricsComplete(function(b,d){c("CometBlendedInitialLoadTraceLog").logVc("mwj_badge",a.getInstanceKey(),b,d)}),a.onLog(m)},0))},n=[h],a[0]=h,a[1]=e,a[2]=n):(e=a[1],n=a[2]);i(e,n);return f}function m(a,b){c("CometBlendedInitialLoadTraceLog").log("mwj_badge",b)}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("BrandSafetyEnforcementUtils",[],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){return a===5&&c!=null&&b!=null&&c>b}g.isInvalidBrandSafetyPositioning=a}),98);
__d("CometClipboardCustomCopy.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;function j(a,b){var c=[];if(b==null)return c;for(b of b){var d=b(a);d!==null&&c.push.apply(c,Array.isArray(d)?d:[d])}return c}function k(a,b){var c=[];if(b==null)return c;for(b of b)b.onReadyImmediately(function(b){b=b(a);b!==null&&c.push.apply(c,Array.isArray(b)?b:[b])});return c}function a(a){var b=d("react-compiler-runtime").c(8),c=a.children,e=a.reformers,f=a.reformersDeferred;b[0]!==e||b[1]!==f?(a=function(a){if(a.clipboardData==null)return;var b=document.getSelection();if(b===null||b.isCollapsed)return;var c=[];c.push.apply(c,j(b,e));c.push.apply(c,k(b,f));if(c.length===0)return;a.preventDefault();for(b of c){var d;c=b.data;var g=b.format;(d=a.clipboardData)==null?void 0:d.setData(g,c)}},b[0]=e,b[1]=f,b[2]=a):a=b[2];a=a;if((e==null?void 0:e.length)===0&&(f==null?void 0:f.length)===0){var g;b[3]!==c?(g=i.jsx("div",{children:c}),b[3]=c,b[4]=g):g=b[4];return g}b[5]!==c||b[6]!==a?(g=i.jsx("div",{onCopy:a,children:c}),b[5]=c,b[6]=a,b[7]=g):g=b[7];return g}g["default"]=a}),98);
__d("CometFeed5sImpressionDelayContextProvider.react",["CometFeed5sImpressionDelayContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;function a(a){var b=d("react-compiler-runtime").c(3);a=a.children;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={firstAdStoryPosition:null,firstLoggedAdImpressionStoryPosition:null,hasAnyAdImpressionAlreadyBeenLogged:!1,hasUserSeenAnyAd:!1},b[0]=e):e=b[0];e=e;e=e;b[1]!==a?(e=i.jsx(c("CometFeed5sImpressionDelayContext").Provider,{value:e,children:a}),b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),98);
__d("CometFeedBrandSafetyContextProvider.react",["CometFeedBrandSafetyContext","react","useUnsafeRef_DEPRECATED","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useMemo;function a(a){var b=a.children;a=a.feedStateInfoRef;var d=l(function(){return{brsSessionId:c("uuidv4")()}},[]),e=(h||(h=c("useUnsafeRef_DEPRECATED")))({}),f=h({feedSessionInfo:d,feedStateInfoRef:a,feedUnitRegistry:e.current});d=k(function(){return f.current},[]);return j.jsx(c("CometFeedBrandSafetyContext").Provider,{value:d,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometFeedEndOfFeedBugNub.react",["fbt","FDSBugOutline20Icon","FDSCircleButton.react","react","react-compiler-runtime","useCometReportBug"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){var a=d("react-compiler-runtime").c(3),b=c("useCometReportBug")(),e=b[0];a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=h._(/*BTDS*/"Bug nub label"),a[0]=b):b=a[0];a[1]!==e?(b=j.jsx(c("FDSCircleButton.react"),{icon:c("FDSBugOutline20Icon"),label:b,onPress:function(){return e({initialProduct:"feed"})},size:32}),a[1]=e,a[2]=b):b=a[2];return b}g["default"]=a}),226);
__d("SPFCometConnectionsDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9776379582439958"}),null);
__d("SPFCometConnectionsDialogQuery$Parameters",["SPFCometConnectionsDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("SPFCometConnectionsDialogQuery_facebookRelayOperation"),metadata:{},name:"SPFCometConnectionsDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("SPFCometConnectionsDialog.entrypoint",["JSResourceForInteraction","SPFCometConnectionsDialogQuery$Parameters","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.followLocation;return{queries:{queryReference:{parameters:b("SPFCometConnectionsDialogQuery$Parameters"),variables:{follow_location:a,scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("SPFCometConnectionsDialog.react").__setRef("SPFCometConnectionsDialog.entrypoint")};g["default"]=a}),98);
__d("CometFeedEndOfFeedMessage.react",["fbt","CometEntryPointDialogTrigger.react","CometTailLoadLogger","FDSButton.react","FDSCard.react","FDSNullState.react","GraphQLGender","NullStateGeneral","SPFCometConnectionsDialog.entrypoint","XCometFriendingControllerRouteBuilder","gkx","performanceNow","react","react-compiler-runtime","recoverableViolation","useCometIgnoreLateMutation","useCometRouteTracePolicy"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;var l=b.useEffect,m=b.useRef,n=c("gkx")("20861"),o="ADDITIONAL_PROFILE_END_OF_NEWSFEED_UNIT";function a(a){var b=d("react-compiler-runtime").c(39),e=a.bugnub,f=a.canHaveFriends,g=a.friendsCount,j=a.isError,q=a.isTailLoadError,r=a.onReload,s=a.pageletName,t=a.position,u=a.unstable_fbOnlyMessage;a=a.viewerName;f=f===void 0?!0:f;var v;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(v=h._(/*BTDS*/"Something went wrong"),b[0]=v):v=b[0];v=v;var w;b[1]!==r?(w=r!=null?h._(/*BTDS*/"This may be because of a technical error that we're working to get fixed. Try reloading this page."):h._(/*BTDS*/"This may be because of a technical error that we're working to get fixed."),b[1]=r,b[2]=w):w=b[2];w=w;var x=c("NullStateGeneral"),y;b[3]!==q||b[4]!==r?(y=r!=null?k.jsx(c("FDSButton.react"),{label:q===!0?h._(/*BTDS*/"Try again"):h._(/*BTDS*/"Reload page"),onPress:r}):null,b[3]=q,b[4]=r,b[5]=y):y=b[5];q=y;if(!j&&c("gkx")("22997")&&g!=null&&g<60){b[6]===Symbol["for"]("react.memo_cache_sentinel")?(r=h._(/*BTDS*/"_j[\"No more posts\",\"96cc0d1d8acdfbcc9fe4623a53183f99\",1]"),b[6]=r):r=b[6];v=r;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(y=h._(/*BTDS*/"Add more friends to see more posts in your Feed."),b[7]=y):y=b[7];w=y;x=null;b[8]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._(/*BTDS*/"Find friends"),r={ref:"EMPTY_FEED"},y=c("XCometFriendingControllerRouteBuilder").buildURL({}),b[8]=g,b[9]=r,b[10]=y):(g=b[8],r=b[9],y=b[10]);b[11]!==y?(g=k.jsx(c("FDSButton.react"),{label:g,linkProps:{passthroughProps:r,url:y}}),b[11]=y,b[12]=g):g=b[12];q=g}var z=m(!1),A=c("useCometRouteTracePolicy")();b[13]!==s||b[14]!==t||b[15]!==A?(r=function(){!z.current&&s!=null&&t!=null&&t>0&&(d("CometTailLoadLogger").logMarkerEnd(s,t,(i||(i=c("performanceNow")))(),3,A),z.current=!0)},y=[s,t,A],b[13]=s,b[14]=t,b[15]=A,b[16]=r,b[17]=y):(r=b[16],y=b[17]);l(r,y);if(!j&&!f){a==null&&c("recoverableViolation")("viewer name cannot be null","profile_plus");b[18]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._(/*BTDS*/"Follow more profiles and others"),b[18]=g):g=b[18];v=g;if(b[19]!==a){y=h._(/*BTDS*/"_j{\"*\":\"You'll see more useful content here by others that are relevant to {actor}.\"}",[h._name("actor",(r=a)!=null?r:null,new(c("GraphQLGender"))("NEUTER").toIntlVariationsEnum())]);b[19]=a;b[20]=y}else y=b[20];w=y;x=null;b[21]===Symbol["for"]("react.memo_cache_sentinel")?(j=k.jsx(c("CometEntryPointDialogTrigger.react"),{dialogEntryPoint:c("SPFCometConnectionsDialog.entrypoint"),otherProps:{followLocation:o,title:h._(/*BTDS*/"Suggested for you")},preloadParams:{followLocation:o},children:p}),b[21]=j):j=b[21];q=j}f=c("useCometIgnoreLateMutation")(!0);b[22]===Symbol["for"]("react.memo_cache_sentinel")?(g={className:"x1yztbdb"},b[22]=g):g=b[22];b[23]!==e?(r=e!=null&&k.jsx("div",babelHelpers["extends"]({className:"x160vmok x10l6tqk x1eu8d0j"},{children:e})),b[23]=e,b[24]=r):r=b[24];b[25]!==q||b[26]!==x||b[27]!==w||b[28]!==v?(a=k.jsx(c("FDSNullState.react"),{action:q,body:w,headline:v,icon:x}),b[25]=q,b[26]=x,b[27]=w,b[28]=v,b[29]=a):a=b[29];b[30]!==u?(y=u!=null&&n?k.jsx("div",babelHelpers["extends"]({className:"x1p5oq8j xxbr6pl xwxc41k xbbxn1n"},{children:u})):null,b[30]=u,b[31]=y):y=b[31];b[32]!==y||b[33]!==r||b[34]!==a?(j=k.jsxs(c("FDSCard.react"),{background:"default",dropShadow:1,children:[r,a,y]}),b[32]=y,b[33]=r,b[34]=a,b[35]=j):j=b[35];b[36]!==f||b[37]!==j?(e=k.jsx("div",babelHelpers["extends"]({},g,{"data-testid":void 0,ref:f,role:"article",children:j})),b[36]=f,b[37]=j,b[38]=e):e=b[38];return e}function p(a){return k.jsx(c("FDSButton.react"),{label:h._(/*BTDS*/"See Suggestions"),onPress:a})}p.displayName=p.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("CometFeedEndOfFeedMessageForNewsfeedOnly.react",["CometFeedEndOfFeedBugNub.react","CometFeedEndOfFeedMessage.react","HiddenSubtreePassiveContext","NetworkStatus","WebConnectionClassServerGuess","cr:1638891","gkx","pageID","react","requireDeferred","useCometRouterState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useContext,k=e.useEffect,l=e.useRef,m=c("requireDeferred")("CometNewsFeedEofFalcoEvent").__setRef("CometFeedEndOfFeedMessageForNewsfeedOnly.react"),n=c("requireDeferred")("CometNewsFeedEofUnmountedFalcoEvent").__setRef("CometFeedEndOfFeedMessageForNewsfeedOnly.react");function a(a){var d=a.endOfFeedComponent;d=d===void 0?c("CometFeedEndOfFeedMessage.react"):d;var e=a.feedUnitReceivedCount,f=a.feedUnitRenderedCount,g=a.hasPageInfo,h=a.maxFeedUnitsReceived,o=a.onTailLoadReload,p=a.pageletName,q=a.position,r=a.renderLocation,s=a.setStopFutureTailLoads,t=a.tailLoadErrored,u=a.friendsCount,v=a.isError,w=a.onReload;a=babelHelpers.objectWithoutPropertiesLoose(a,["endOfFeedComponent","feedUnitReceivedCount","feedUnitRenderedCount","hasPageInfo","maxFeedUnitsReceived","onTailLoadReload","pageletName","position","renderLocation","setStopFutureTailLoads","tailLoadErrored","friendsCount","isError","onReload"]);var x=l(!1),y=j(c("HiddenSubtreePassiveContext")),z=l(null),A=!c("gkx")("22809")&&c("gkx")("21058"),B=w!=null?function(){x.current=!0,A&&t?(s(!1),o()):w()}:void 0,C=c("useCometRouterState")(),D=(C=C==null?void 0:(C=C.main)==null?void 0:(C=C.route)==null?void 0:C.tabKey)!=null?C:"",E=D==="most_recent_feed";k(function(){if(r==="homepage_stream"||E){var a=v?"unknown_error":"no_more_edges";v&&(!g&&t?a="missing_page_info_and_tail_load_error":!g?a="missing_page_info":t&&(a="tail_load_error"));var b=c("NetworkStatus").isOnline();z.current=Date.now();m.onReady(function(d){d.log(function(){return{connection_class:c("WebConnectionClassServerGuess").connectionClass,eof_mount_reason:a,feed_tab_key:D,feed_unit_count:f.toString(),feed_unit_received_count:e.toString(),is_online:b,max_feed_units_received_count:h.toString(),page_id:c("pageID"),position:q.toString(),was_in_hidden_subtree:y.getCurrentState().hiddenOrBackgrounded_FIXME}})});return function(){var a=Date.now(),b=z.current!=null?a-z.current:null,d=x.current,g=y.getCurrentState().hiddenOrBackgrounded;n.onReady(function(a){a.log(function(){return{connection_class:c("WebConnectionClassServerGuess").connectionClass,feed_unit_count:f.toString(),feed_unit_received_count:e.toString(),manual_reload:d,mounted_duration:b==null?void 0:b.toString(),page_id:c("pageID"),position:q.toString(),was_in_hidden_subtree:g}})})}}},[]);C=!v&&(u==null||u>=60);return i.jsx(d,babelHelpers["extends"]({},a,{bugnub:c("CometFeedEndOfFeedBugNub.react")!=null?i.jsx(c("CometFeedEndOfFeedBugNub.react"),{}):null,feedUnitReceivedCount:e,friendsCount:u,isError:v,isTailLoadError:A&&t,onReload:B,pageletName:p,position:q,unstable_fbOnlyMessage:C&&b("cr:1638891")!=null?i.jsx(b("cr:1638891"),{}):void 0}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometFeedFavoritesEndOfFeedMessageQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9839941666067123"}),null);
__d("CometFeedFavoritesEndOfFeedMessageQuery.graphql",["CometFeedFavoritesEndOfFeedMessageQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"hasNoStories"}],c=[{alias:null,args:[{kind:"Literal",name:"is_end_of_feed",value:!0}],concreteType:"SeeFirstMigrationContent",kind:"LinkedField",name:"see_first_migration_content",plural:!1,selections:[{args:null,documentName:"CometFeedFavoritesEndOfFeedMessageQuery_eof",fragmentName:"CometFeedSeeFirstMigrationCard_content",fragmentPropName:"content",kind:"ModuleImport"}],storageKey:"see_first_migration_content(is_end_of_feed:true)"},{alias:null,args:[{kind:"Variable",name:"is_empty_feed",variableName:"hasNoStories"}],concreteType:"ValueProposition",kind:"LinkedField",name:"favorites_caught_up_content",plural:!1,selections:[{args:null,documentName:"CometFeedFavoritesEndOfFeedMessageQuery_caughtup",fragmentName:"CometFeedFavoritesCaughtUp_content",fragmentPropName:"content",kind:"ModuleImport"}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometFeedFavoritesEndOfFeedMessageQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometFeedFavoritesEndOfFeedMessageQuery",selections:c},params:{id:b("CometFeedFavoritesEndOfFeedMessageQuery_facebookRelayOperation"),metadata:{},name:"CometFeedFavoritesEndOfFeedMessageQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometFeedFavoritesEndOfFeedMessage.react",["CometFeedFavoritesEndOfFeedMessageQuery.graphql","CometRelay","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var c=d("react-compiler-runtime").c(15),e=a.feedUnitReceivedCount;a=a.onReload;e=e===0;var f;c[0]!==e?(f={hasNoStories:e},c[0]=e,c[1]=f):f=c[1];e=f;f=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("CometFeedFavoritesEndOfFeedMessageQuery.graphql"),e);var g=f==null?void 0:f.see_first_migration_content,i;c[2]!==a?(i={onReload:a},c[2]=a,c[3]=i):i=c[3];c[4]!==g||c[5]!==i?(a=j.jsx(d("CometRelay").MatchContainer,{match:g,props:i}),c[4]=g,c[5]=i,c[6]=a):a=c[6];g=f==null?void 0:f.favorites_caught_up_content;c[7]!==e.hasNoStories?(i={hasNoStories:e.hasNoStories},c[7]=e.hasNoStories,c[8]=i):i=c[8];c[9]!==g||c[10]!==i?(f=j.jsx(d("CometRelay").MatchContainer,{match:g,props:i}),c[9]=g,c[10]=i,c[11]=f):f=c[11];c[12]!==a||c[13]!==f?(e=j.jsxs("div",{children:[a,f]}),c[12]=a,c[13]=f,c[14]=e):e=c[14];return e}g["default"]=a}),98);
__d("MinGapTypeUtils.facebook",["$InternalEnumUtils","MinGapType"],(function(a,b,c,d,e,f,g){var h;a=d("$InternalEnumUtils").createToJSEnum(h||(h=c("MinGapType")));b=d("$InternalEnumUtils").createFromJSEnum(h);g.toJSEnum=a;g.fromJSEnum=b}),98);
__d("CometFeedGapRules",["CometFeedV2GapRules","FBLogger","MinGapType","MinGapTypeUtils.facebook","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i=JSON.parse(c("CometFeedV2GapRules").json_min_gap_rules),j=c("gkx")("22618");function k(){var a=i.min_gap_rules;return Object.keys(a).map(function(a){return(h||(h=c("MinGapType"))).cast(parseInt(a,10))}).filter(Boolean)}function l(a){return k().indexOf(a)!==-1}var m=new Set();function n(a,b,d){if(m.has(a))return;b=c("FBLogger")(b);d&&(b=b.catching(d));b.warn(a);m.add(a);return}function o(a){if(a!==1){var b;b=(b=d("MinGapTypeUtils.facebook").fromJSEnum(a))!=null?b:"";!l(a)&&j&&n("Min gap type "+b+" is not supported by server-side gap rule config","CometFeedGapValidation")}}function a(a,b){var c=[a,b];c.forEach(o);c=i.min_gap_rules;return(a=(c=c[a])==null?void 0:c[b])!=null?a:0}function b(a){o(a);var b=i.min_gap_from_top_rules;return(b=b[a])!=null?b:0}g.getSupportedMinGapTypes=k;g.getMinGapBetweenTypes=a;g.getMinGapFromTop=b}),98);
__d("CometFeedKeyboardNavPositionContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(0);g["default"]=b}),98);
__d("CometValidFeedUnitOrdering",["AdsExtremeGapUtils","BrandSafetyEnforcementUtils","BrandSafetyOpportunityLossRateFalcoEvent","CometFeedGapRules","CometFeedUnitStatusTrackingUtils","MinGapType","qex"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){return a.reduce(function(a,b){return babelHelpers["extends"]({},a,(a={},a[b.key]=b,a))},{})}function j(a){return a.map(function(a){a.status;a=babelHelpers.objectWithoutPropertiesLoose(a,["status"]);return babelHelpers["extends"]({},a)})}var k={};function l(a){var b={};d("CometFeedGapRules").getSupportedMinGapTypes().forEach(function(a){b[a]=null});a.forEach(function(a,c){b[a.minGapType]=c});return b}function m(a,b,c,e,f,g){return n(a,b,d("CometFeedUnitStatusTrackingUtils").isPossiblyVisible,c,e,f,g)===null}function n(a,b,e,f,g,i,j){var m=d("CometFeedUnitStatusTrackingUtils").getFeedUnitsWithOriginalPosition(a,e),n=m.length,o=l(m);e=Object.keys(o).map(function(a){return(h||(h=c("MinGapType"))).cast(parseInt(a,10))}).filter(Boolean);var p=d("CometFeedGapRules").getMinGapFromTop(b),q=n;if(q<p-1)return{conflictPosition:null,conflictUnitMinGapType:null,violationType:"minGapFromTop"};q=null;var r=(p=f==null?void 0:f.sponsoredAuctionDistance)!=null?p:0;if(a.length>=1){p=a[a.length-1];var s=p==null?void 0:(p=p.edgeData)==null?void 0:p.brsContentLabel,t=f==null?void 0:f.brsFilterSetting;p=d("BrandSafetyEnforcementUtils").isInvalidBrandSafetyPositioning(b,t,s);f=j===!0&&t!=null&&t<100&&c("qex")._("291")===!0;if(p||f){p&&i!=null&&k[i]!==a.length&&(c("BrandSafetyOpportunityLossRateFalcoEvent")==null?void 0:c("BrandSafetyOpportunityLossRateFalcoEvent").log(function(){var b;return{ad_insertion_status:"SLOT_SKIPPED",ad_insertion_sub_status:"BLOCKED_BY_PREV",ad_inventory_filter:String(t),adjacent_edges_info:{unit_before:{brs_content_label:String(s)}},client_token:(b=g)!=null?b:"",feed_session_id:"",impression_original_timestamp_ms:"",slot_position:String(a.length)}}),k[i]=a.length);return{conflictPosition:a.length,conflictUnitMinGapType:5,violationType:f?"brandSafetyLastEdge":"brandSafetyViolation"}}}var u=d("AdsExtremeGapUtils").shouldApplyExtremeGapProtection(m,b);e.some(function(a){var c=d("CometFeedGapRules").getMinGapBetweenTypes(b,a),e=b===5&&a===5;c=e?Math.max(c,r+1):c;e&&c===d("AdsExtremeGapUtils").EXTREME_GAP_DISTANCE&&u&&(c+=1);if(o[a]!=null){e=n-o[a];if(e<c){q={conflictPosition:m[o[a]].position,conflictUnitMinGapType:a,violationType:"minGapBetweenCategories"};return!0}}return!1});return q}function o(a,b){for(var c=0;c<b.length;c++){var d,e=b[c];if(m(a,e.minGapType,{brsContentLabel:e==null?void 0:(d=e.edgeData)==null?void 0:d.brsContentLabel,brsFilterSetting:e==null?void 0:(d=e.edgeData)==null?void 0:d.brsFilterSetting,sponsoredAuctionDistance:e==null?void 0:(d=e.edgeData)==null?void 0:d.sponsoredAuctionDistance},e==null?void 0:(d=e.edgeData)==null?void 0:d.clientToken,e.key,c===b.length-1))return e}return null}function p(a,b){var c=i(a);return b.filter(function(a){return c[a.key]==null})}function q(a,b){if(a.length<2||b.length===0)return[];b=b.reduce(function(a,b){return a.add(b)},new Set());var c=[];for(var d=0;d<a.length;d++){var e=a[d];if(b.has(e.key))return c;c.push(e)}return[]}function a(a,b){b===void 0&&(b=0);var c=[];for(b=b;b<a.length;b++){var e=a[b];if(d("CometFeedUnitStatusTrackingUtils").isCurrentlyVisible(e)){var f=n(a.slice(0,b),e.minGapType,d("CometFeedUnitStatusTrackingUtils").isCurrentlyVisible);f!=null&&c.push(babelHelpers["extends"]({},f,{violationPosition:b,violationUnitKey:e.key,violationUnitMinGapType:e.minGapType}))}}return c}function b(a,b,c){c===void 0&&(c=!1);var d=b.reduce(function(a,b,c){return babelHelpers["extends"]({},a,(a={},a[b.key]=c,a))},{}),e={};a.forEach(function(a,b){if(e[a.key]!=null){e[a.key].receivedPositions=e[a.key].receivedPositions.concat([b]);return}e[a.key]={receivedPositions:[b],renderedPosition:(b=d[a.key])!=null?b:null}});if(c)return e;var f={};Object.keys(e).forEach(function(a){var b=e[a];if(b.receivedPositions.length===1&&b.receivedPositions[0]===b.renderedPosition)return;f[a]=b});return f}function r(a){var b={};return a.filter(function(a){if(b[a.key])return!1;b[a.key]=!0;return!0})}function e(a,b,e){var f=r(b),g=i(f);b=a.filter(function(a){return g[a.key]!=null});a=d("CometFeedUnitStatusTrackingUtils").getAllPositionedFeedUnits(d("CometFeedUnitStatusTrackingUtils").getFeedUnitsWithRenderingOutOfOrderFixed(b));b=q(f,e).map(function(a){return babelHelpers["extends"]({},a,{status:"positioned"})});var h=b.concat(a),k=p(h,f);e=function(){var a=o(h,k);if(a==null)return"break";if(h.length>=1){var b,e=h[h.length-1];b=d("BrandSafetyEnforcementUtils").isInvalidBrandSafetyPositioning(e.minGapType,(b=e.edgeData)==null?void 0:b.brsFilterSetting,(b=a.edgeData)==null?void 0:b.brsContentLabel);if(b){c("BrandSafetyOpportunityLossRateFalcoEvent")==null?void 0:c("BrandSafetyOpportunityLossRateFalcoEvent").log(function(){var b;return{ad_insertion_status:"SLOT_SKIPPED",ad_insertion_sub_status:"BLOCKED_BY_NEXT",ad_inventory_filter:String((b=e.edgeData)==null?void 0:b.brsFilterSetting),adjacent_edges_info:{unit_after:{brs_content_label:String((b=a.edgeData)==null?void 0:b.brsContentLabel)}},client_token:(b=(b=e.edgeData)==null?void 0:b.clientToken)!=null?b:"",feed_session_id:"",impression_original_timestamp_ms:"",slot_position:String(h.length-1)}});b=h.pop();if(b!=null){b=[b];k=k.concat(j(b))}k=s(h,a,k);k=k.slice().sort(function(a,b){return f.findIndex(function(b){return b.key===a.key})-f.findIndex(function(a){return a.key===b.key})});return"continue"}}k=s(h,a,k)};_loop:while(k.length>0){b=e();switch(b){case"break":break _loop;case"continue":continue}}return h}function s(a,b,c){a.push(babelHelpers["extends"]({},b,{status:"received"}));return c.filter(function(a){return a.key!==b.key})}g.getFeedUnitMap=i;g.convertStatusListToReceivedList=j;g.getLastPositionsForMinGapType=l;g.isUnitEligibleToBePlacedNext=m;g.getViolationIfUnitIsPlacedNext=n;g.getNextEligibleUnit=o;g.getAvailableUnits=p;g.getNewHeadLoadedUnits=q;g.getFeedUnitOrderViolations=a;g.getFeedUnitReorderInfo=b;g.removeDuplicates=r;g.getValidFeedUnitOrdering=e}),98);
__d("CometFeedUnitOrderingDebugInfo",["CometValidFeedUnitOrdering","MinGapTypeUtils.facebook"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var c=[],e=[],f=d("CometValidFeedUnitOrdering").getFeedUnitMap(b.map(function(a){return babelHelpers["extends"]({},a,{status:"received"})}).concat(a)),g=d("CometValidFeedUnitOrdering").getFeedUnitReorderInfo(b,a,!0);b.forEach(function(a){a=a.key;a={renderedPosition:g[a]!=null?g[a].renderedPosition:null,receivedPositions:g[a]!=null?g[a].receivedPositions:[],minGapType:f[a].minGapType,key:a,status:f[a].status};a.renderedPosition!=null?c[a.renderedPosition]=a:e.push(a)});return{feedUnitsDeferred:e,feedUnitsToRender:c}}function a(a,b,c,e,f){c===void 0&&(c=!0);e===void 0&&(e=0);a=h(a,b);b=a.feedUnitsToRender.concat(a.feedUnitsDeferred);a=b.slice(e,f!=null?f:b.length);e=a.map(function(a){var b=a.renderedPosition!==a.receivedPositions[0];return(b?"*":" ")+" "+((b=a.renderedPosition)!=null?b:"X").toString().padStart(3)+": ["+(a.receivedPositions.toString()+"]").padEnd(7)+" "+((b=d("MinGapTypeUtils.facebook").fromJSEnum(a.minGapType))!=null?b:"UNKNOWN").padEnd(12).slice(0,12)+" "+a.key.padEnd(10).slice(0,10)+" "+a.status.slice(0,16)});if(c){f="  Pos: [recvd]  "+"Category".padEnd(13)+"Key (part)".padEnd(11)+"Status";return[f].concat(e).join("\n")}return e.join("\n")}g.getCometFeedUnitOrderingDebugInfo=h;g.getCometFeedUnitOrderingDebugInfoString=a}),98);
__d("CometHomeContentAnimationContainer.react",["CometFeedGlimmer.react","CometVisualCompletion","clearTimeout","react","react-compiler-runtime","scrollTo","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useRef,l=b.useState,m=500,n=1500;function a(a){var b=d("react-compiler-runtime").c(19),e=a.children,f=a.disableScroll,g=a.isPending,h=f===void 0?!1:f,o=k(null);a=l(!1);f=a[0];var p=a[1];a=l(!1);var q=a[0],r=a[1],s;b[0]!==h||b[1]!==g?(a=function(){var a=o.current;g&&a!=null&&(r(!0),c("setTimeout")(function(){if(h)return;var a=Math.max(window.innerHeight,n);window.scrollY>a&&c("scrollTo")({top:a});c("scrollTo")({behavior:"smooth",top:0});c("CometVisualCompletion").setInitialScrollY(0);c("CometVisualCompletion").addAnnotationInt("ScrollToTop",1)},m))},s=[h,g],b[0]=h,b[1]=g,b[2]=a,b[3]=s):(a=b[2],s=b[3]);j(a,s);b[4]!==q||b[5]!==g?(a=function(){if(g!==!1||q===!1)return;p(!0);var a=c("setTimeout")(function(){p(!1),r(!1)},m);return function(){return c("clearTimeout")(a)}},s=[g,q],b[4]=q,b[5]=g,b[6]=a,b[7]=s):(a=b[6],s=b[7]);j(a,s);b[8]!==q?(a=q===!0?i.jsx("div",babelHelpers["extends"]({className:"x54ewbq xqcmdr3 x1hc1fzr x47corl x1unhpq9 x6o7n8i xh8yej3"},{children:i.jsx(c("CometFeedGlimmer.react"),{})})):null,b[8]=q,b[9]=a):a=b[9];b[10]!==f||b[11]!==q?(s={0:{className:"x1hc1fzr x1unhpq9 x6o7n8i"},2:{className:"x1unhpq9 x6o7n8i xg01cxk"},1:{className:"x1unhpq9 x6o7n8i xg01cxk x47corl"},3:{className:"x1unhpq9 x6o7n8i xg01cxk x47corl"}}[!!f<<1|!!(q===!0)<<0],b[10]=f,b[11]=q,b[12]=s):s=b[12];b[13]!==e||b[14]!==s?(f=i.jsx("div",babelHelpers["extends"]({},s,{ref:o,children:e})),b[13]=e,b[14]=s,b[15]=f):f=b[15];b[16]!==a||b[17]!==f?(e=i.jsxs(i.Fragment,{children:[a,f]}),b[16]=a,b[17]=f,b[18]=e):e=b[18];return e}g["default"]=a}),98);
__d("CometModernHomeFeedQuery.graphql",["CometModernHomeFeedQuery_facebookRelayOperation","GHLShouldChangeSponsoredAuctionDistanceFieldName.relayprovider","GHLShouldChangeSponsoredDataFieldName.relayprovider","GHLShouldChangeAdIdFieldName.relayprovider","IsWorkUser.relayprovider","FBReels_deprecate_short_form_video_context_gk.relayprovider","CometFeedStoryDynamicResolutionPhotoAttachmentRenderer_experimentWidth.relayprovider","CometImmersivePhotoCanUserDisable3DMotion.relayprovider","WorkCometIsEmployeeGKProvider.relayprovider","IsMergQAPolls.relayprovider","FBReelsMediaFooter_comet_enable_reels_ads_gk.relayprovider","CometUFIReactionsEnableShortName.relayprovider","CometUFIShareActionMigration.relayprovider","CometUFI_dedicated_comment_routable_dialog_gk.relayprovider","CometIsReplyPagerDisabled.relayprovider","StoriesArmadilloReplyEnabled.relayprovider","FBReelsIFUTileContent_reelsIFUPlayOnHover.relayprovider","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"RELAY_INCREMENTAL_DELIVERY"},c={defaultValue:null,kind:"LocalArgument",name:"connectionClass"},d={defaultValue:null,kind:"LocalArgument",name:"experimentalValues"},e={defaultValue:null,kind:"LocalArgument",name:"feedClientSession"},f={defaultValue:null,kind:"LocalArgument",name:"feedEndCursor"},g={defaultValue:2,kind:"LocalArgument",name:"feedInitialFetchSize"},h={defaultValue:null,kind:"LocalArgument",name:"feedLocation"},i={defaultValue:null,kind:"LocalArgument",name:"feedStyle"},j={defaultValue:null,kind:"LocalArgument",name:"feedbackSource"},k={defaultValue:null,kind:"LocalArgument",name:"focusCommentID"},l={defaultValue:["TOP_STORIES"],kind:"LocalArgument",name:"orderby"},m={defaultValue:null,kind:"LocalArgument",name:"privacySelectorRenderLocation"},n={defaultValue:null,kind:"LocalArgument",name:"recentVPVs"},o={defaultValue:null,kind:"LocalArgument",name:"refreshMode"},p={defaultValue:null,kind:"LocalArgument",name:"renderLocation"},q={defaultValue:null,kind:"LocalArgument",name:"scale"},r={defaultValue:!1,kind:"LocalArgument",name:"shouldChangeBRSLabelFieldName"},s={defaultValue:!1,kind:"LocalArgument",name:"shouldObfuscateCategoryField"},t={defaultValue:!1,kind:"LocalArgument",name:"useDefaultActor"},u=[{kind:"Variable",name:"after",variableName:"feedEndCursor"},{kind:"Variable",name:"client_session",variableName:"feedClientSession"},{kind:"Variable",name:"connection_class",variableName:"connectionClass"},{kind:"Literal",name:"environment",value:"DESKTOP"},{kind:"Variable",name:"experimental_values",variableName:"experimentalValues"},{kind:"Variable",name:"feed_style",variableName:"feedStyle"},{kind:"Variable",name:"first",variableName:"feedInitialFetchSize"},{kind:"Literal",name:"is_setting_suitable_for_autoplay",value:!0},{kind:"Variable",name:"orderby",variableName:"orderby"},{kind:"Variable",name:"recent_vpvs_v2",variableName:"recentVPVs"},{kind:"Variable",name:"refresh_mode",variableName:"refreshMode"},{kind:"Literal",name:"site",value:"comet"}],v={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},x=[{alias:null,args:null,kind:"ScalarField",name:"brs_filter_setting",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"client_token",storageKey:null},v,{condition:"__relay_internal__pv__GHLShouldChangeAdIdFieldNamerelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null}]},{condition:"__relay_internal__pv__GHLShouldChangeAdIdFieldNamerelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:"lbl_adv_iden",args:null,kind:"ScalarField",name:"ad_id",storageKey:null}]},{alias:null,args:null,kind:"ScalarField",name:"post_rendering_loggers",storageKey:null}],y=[w],z={alias:null,args:null,concreteType:"QuickPromotionFeedUnitItem",kind:"LinkedField",name:"quick_promotion_items",plural:!0,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"quick_promotion",plural:!1,selections:y,storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[a,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t],kind:"Fragment",metadata:null,name:"CometModernHomeFeedQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:[{kind:"Variable",name:"clientSession",variableName:"feedClientSession"},{kind:"Variable",name:"count",variableName:"feedInitialFetchSize"},{kind:"Variable",name:"cursor",variableName:"feedEndCursor"},{kind:"Variable",name:"refreshMode",variableName:"refreshMode"},{kind:"Variable",name:"shouldChangeBRSLabelFieldName",variableName:"shouldChangeBRSLabelFieldName"},{kind:"Variable",name:"shouldObfuscateCategoryField",variableName:"shouldObfuscateCategoryField"}],kind:"FragmentSpread",name:"CometNewsFeed_viewerConnection"},{args:null,kind:"FragmentSpread",name:"CometNewsFeed_viewer"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,g,h,i,j,e,f,k,m,q,t,o,p,a,l,n,d,s,r,{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__GHLShouldChangeSponsoredAuctionDistanceFieldNamerelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__GHLShouldChangeAdIdFieldNamerelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__IsWorkUserrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__FBReels_deprecate_short_form_video_context_gkrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometFeedStoryDynamicResolutionPhotoAttachmentRenderer_experimentWidthrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometImmersivePhotoCanUserDisable3DMotionrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__WorkCometIsEmployeeGKProviderrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__IsMergQAPollsrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__FBReelsMediaFooter_comet_enable_reels_ads_gkrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometUFIReactionsEnableShortNamerelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometUFIShareActionMigrationrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometUFI_dedicated_comment_routable_dialog_gkrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometIsReplyPagerDisabledrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__StoriesArmadilloReplyEnabledrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__FBReelsIFUTileContent_reelsIFUPlayOnHoverrelayprovider"}],kind:"Operation",name:"CometModernHomeFeedQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:u,concreteType:"NewsFeedConnection",kind:"LinkedField",name:"news_feed",plural:!1,selections:[{"if":"RELAY_INCREMENTAL_DELIVERY",kind:"Stream",label:"CometNewsFeed_viewerConnection$stream$CometNewsFeed_viewer_news_feed",selections:[{alias:null,args:null,concreteType:"NewsFeedEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"deduplication_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"min_gap_type_index_string",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"top_story_cache_score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"brs_content_label",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[v,{kind:"TypeDiscriminator",abstractKey:"__isFeedUnit"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"debug_info",storageKey:null},w,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"associated_group",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"context_actor_hovercard",storageKey:null},w],storageKey:null},w],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_story_civic",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null},{condition:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:x,storageKey:null}]},{condition:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:"the_spons_data",args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:x,storageKey:null}]},{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFeedUnitStoryStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"Story",abstractKey:null},{kind:"InlineFragment",selections:y,type:"Node",abstractKey:"__isNode"},{kind:"InlineFragment",selections:y,type:"CommunityTabTrendingPOGFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:y,type:"FBShortsMidCardFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:y,type:"GroupsMultiGYSJStoryUnit",abstractKey:null},{kind:"InlineFragment",selections:y,type:"GroupsTabCategoriesUnit",abstractKey:null},{kind:"InlineFragment",selections:y,type:"PagesYouMayLikeFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:y,type:"StoriesTrayFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:y,type:"XFBDummyReelsInWatchIFU",abstractKey:null},{kind:"InlineFragment",selections:[z],type:"QuickPromotionFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[z,{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFeedUnitQuickPromotionStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"QuickPromotionNativeTemplateFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFeedUnitGoodwillMemoryStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GoodwillCometStory",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometPYMKQPFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"PaginatedPeopleYouMayKnowFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometReelsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"ShowcaseFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFriendRequestsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"FriendRequestsFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"GroupsCometGYSJFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GroupsYouShouldJoinFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometGroupsSuggestionFeedUnitStrategy_unit",fragmentPropName:"unit",kind:"ModuleImport"}],type:"GroupsSuggestionUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometPYMIQPFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"PaginatedGroupsPeopleYouMayInviteFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"GeminiPYSFQPFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"PeopleYouShouldFollowAtWorkFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometSPFFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"SuggestedPublicEntitiesToFollowFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometEndOfFeedUpsellStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"EndOfFeedUpsellFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometGroupRelatedGroupsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GroupRelatedGroupsFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometGroupRelatedKeywordsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GroupRelatedKeywordsFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometStoriesSingleBucketFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"StoriesSingleBucketInlineViewerFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"TrackingData",kind:"LinkedField",name:"trackingdata",plural:!1,selections:y,storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"viewability_config",storageKey:null},{alias:null,args:null,concreteType:"CometClientViewConfig",kind:"LinkedField",name:"client_view_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_delay_log_impression",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"use_banzai_signal_imp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"use_banzai_vital_imp",storageKey:null}],storageKey:null}],type:"Story",abstractKey:null}],type:"TrackableFeedUnit",abstractKey:"__isTrackableFeedUnit"}],storageKey:null},{alias:null,args:null,concreteType:"FeedBackendData",kind:"LinkedField",name:"feed_backend_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"qid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_qid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"vsid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"vspos",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_recent_vpv_fetch_tracking_data",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"serialized_payloads",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},{condition:"shouldChangeBRSLabelFieldName",kind:"Condition",passingValue:!0,selections:[{alias:"conte_brs_lb_for",args:null,kind:"ScalarField",name:"brs_content_label",storageKey:null}]},{condition:"shouldObfuscateCategoryField",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null}]},{condition:"shouldObfuscateCategoryField",kind:"Condition",passingValue:!0,selections:[{alias:"cat_sensitive",args:null,concreteType:"FeedCategorySensitive",kind:"LinkedField",name:"category_sensitive",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"enc",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cat",storageKey:null}],storageKey:null}]},{condition:"__relay_internal__pv__GHLShouldChangeSponsoredAuctionDistanceFieldNamerelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"sponsored_auction_distance",storageKey:null}]},{condition:"__relay_internal__pv__GHLShouldChangeSponsoredAuctionDistanceFieldNamerelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:"spon_auct_dist_new",args:null,kind:"ScalarField",name:"sponsored_auction_distance",storageKey:null}]},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"visibility_hidden",storageKey:null}]}],storageKey:null}]},{"if":"RELAY_INCREMENTAL_DELIVERY",kind:"Defer",label:"CometNewsFeed_viewerConnection$defer$CometNewsFeed_viewer_news_feed$page_info",selections:[{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[v,{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}]}],storageKey:null},{alias:null,args:u,filters:["orderby","feed_style","client_session"],handle:"comet_news_feed",key:"CometNewsFeed_viewer_news_feed",kind:"LinkedHandle",name:"news_feed"},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[v,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},w],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_have_friends",storageKey:null},{alias:null,args:null,concreteType:"AllFriendsConnection",kind:"LinkedField",name:"all_friends",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"friend_count",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_fb_employee",storageKey:null},{alias:null,args:null,concreteType:"NewsFeedInject",kind:"LinkedField",name:"injected_stories",plural:!1,selections:[{args:null,documentName:"CometNewsFeed_viewer",fragmentName:"CometInjectedStoriesNotice_edge",fragmentPropName:"edge",kind:"ModuleImport"}],storageKey:null}],storageKey:null}]},params:{id:b("CometModernHomeFeedQuery_facebookRelayOperation"),metadata:{},name:"CometModernHomeFeedQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__GHLShouldChangeSponsoredAuctionDistanceFieldNamerelayprovider:b("GHLShouldChangeSponsoredAuctionDistanceFieldName.relayprovider"),__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider:b("GHLShouldChangeSponsoredDataFieldName.relayprovider"),__relay_internal__pv__GHLShouldChangeAdIdFieldNamerelayprovider:b("GHLShouldChangeAdIdFieldName.relayprovider"),__relay_internal__pv__IsWorkUserrelayprovider:b("IsWorkUser.relayprovider"),__relay_internal__pv__FBReels_deprecate_short_form_video_context_gkrelayprovider:b("FBReels_deprecate_short_form_video_context_gk.relayprovider"),__relay_internal__pv__CometFeedStoryDynamicResolutionPhotoAttachmentRenderer_experimentWidthrelayprovider:b("CometFeedStoryDynamicResolutionPhotoAttachmentRenderer_experimentWidth.relayprovider"),__relay_internal__pv__CometImmersivePhotoCanUserDisable3DMotionrelayprovider:b("CometImmersivePhotoCanUserDisable3DMotion.relayprovider"),__relay_internal__pv__WorkCometIsEmployeeGKProviderrelayprovider:b("WorkCometIsEmployeeGKProvider.relayprovider"),__relay_internal__pv__IsMergQAPollsrelayprovider:b("IsMergQAPolls.relayprovider"),__relay_internal__pv__FBReelsMediaFooter_comet_enable_reels_ads_gkrelayprovider:b("FBReelsMediaFooter_comet_enable_reels_ads_gk.relayprovider"),__relay_internal__pv__CometUFIReactionsEnableShortNamerelayprovider:b("CometUFIReactionsEnableShortName.relayprovider"),__relay_internal__pv__CometUFIShareActionMigrationrelayprovider:b("CometUFIShareActionMigration.relayprovider"),__relay_internal__pv__CometUFI_dedicated_comment_routable_dialog_gkrelayprovider:b("CometUFI_dedicated_comment_routable_dialog_gk.relayprovider"),__relay_internal__pv__CometIsReplyPagerDisabledrelayprovider:b("CometIsReplyPagerDisabled.relayprovider"),__relay_internal__pv__StoriesArmadilloReplyEnabledrelayprovider:b("StoriesArmadilloReplyEnabled.relayprovider"),__relay_internal__pv__FBReelsIFUTileContent_reelsIFUPlayOnHoverrelayprovider:b("FBReelsIFUTileContent_reelsIFUPlayOnHover.relayprovider")}}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("CometNewsFeedLoadedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743387");b=d("FalcoLoggerInternal").create("comet_news_feed_loaded",a);e=b;g["default"]=e}),98);
__d("CometNewsFeedUnit_feedEdge.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{condition:"__relay_internal__pv__GHLShouldChangeAdIdFieldNamerelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null}]},{condition:"__relay_internal__pv__GHLShouldChangeAdIdFieldNamerelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:"lbl_adv_iden",args:null,kind:"ScalarField",name:"ad_id",storageKey:null}]}];return{argumentDefinitions:[{kind:"RootArgument",name:"__relay_internal__pv__GHLShouldChangeAdIdFieldNamerelayprovider"},{kind:"RootArgument",name:"__relay_internal__pv__GHLShouldChangeSponsoredAuctionDistanceFieldNamerelayprovider"},{kind:"RootArgument",name:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider"},{defaultValue:!1,kind:"LocalArgument",name:"shouldObfuscateCategoryField"}],kind:"Fragment",metadata:null,name:"CometNewsFeedUnit_feedEdge",selections:[{condition:"__relay_internal__pv__GHLShouldChangeSponsoredAuctionDistanceFieldNamerelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"sponsored_auction_distance",storageKey:null}]},{condition:"__relay_internal__pv__GHLShouldChangeSponsoredAuctionDistanceFieldNamerelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:"spon_auct_dist_new",args:null,kind:"ScalarField",name:"sponsored_auction_distance",storageKey:null}]},{args:null,kind:"FragmentSpread",name:"CometFeedUnit_newsFeedEdge"},{kind:"InlineDataFragmentSpread",name:"CometNewsFeedVPVDStore_newsFeedEdge",selections:[{alias:null,args:null,concreteType:"FeedBackendData",kind:"LinkedField",name:"feed_backend_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"qid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_qid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"vsid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"vspos",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_recent_vpv_fetch_tracking_data",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"serialized_payloads",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Node",abstractKey:"__isNode"}],storageKey:null}],args:null,argumentDefinitions:[]},{args:[{kind:"Variable",name:"shouldObfuscateCategoryField",variableName:"shouldObfuscateCategoryField"}],kind:"FragmentSpread",name:"useLogCometFeedUnitRenderAttemptEvent_newsFeedEdge"},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometFeedUnit_feedUnit"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null},{condition:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:a,storageKey:null}]},{condition:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:"the_spons_data",args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:a,storageKey:null}]}],type:"Story",abstractKey:null}],storageKey:null}],type:"NewsFeedEdge",abstractKey:null}}();e.exports=a}),null);
__d("FeedStoryCategory",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,ORGANIC:1,ENGAGEMENT:2,FIXED_POSITION:3,PROMOTION:4,SPONSORED:5,END_OF_FEED_CONTENT:6,FB_STORIES:7,HIGH_VALUE_PROMOTION:8,FB_STORIES_ENGAGEMENT:9,SHOWCASE:10,FB_SHORTS:11,TRENDING:12,ENGAGEMENT_QP:13,MULTI_FB_STORIES_TRAY:14,END_OF_FEED_REELS:15,FB_SHORTS_FALLBACK:16,FRIENDLY_FEED_MID_CARD:17,FRIENDLY_FEED_PROMOTION:18,INJECTED_STORY:19});f["default"]=a}),66);
__d("GHLFeedStoryCategoryObfuscationUtils",["CryptoJS","FeedStoryCategory"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(a==null||b==null)return null;b=c("CryptoJS").SHA256(b);b=b.toString(c("CryptoJS").enc.Hex);for(var d of Object.entries(c("FeedStoryCategory"))){var e=d[0],f=d[1];f=c("CryptoJS").SHA256(b.concat(f));f=f.toString(c("CryptoJS").enc.Hex);if(f===a)return e}return null}g.getMatchWithFeedStoryCategory=a}),98);
__d("useLogCometFeedUnitRenderAttemptEvent_newsFeedEdge.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"shouldObfuscateCategoryField"}],kind:"Fragment",metadata:null,name:"useLogCometFeedUnitRenderAttemptEvent_newsFeedEdge",selections:[{condition:"shouldObfuscateCategoryField",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null}]},{condition:"shouldObfuscateCategoryField",kind:"Condition",passingValue:!0,selections:[{alias:"cat_sensitive",args:null,concreteType:"FeedCategorySensitive",kind:"LinkedField",name:"category_sensitive",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"enc",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cat",storageKey:null}],storageKey:null}]},{alias:null,args:null,kind:"ScalarField",name:"deduplication_key",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useCometFeedUnitEventLogger_feedUnit"},{kind:"InlineFragment",selections:[{condition:"shouldObfuscateCategoryField",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null}]}],type:"Story",abstractKey:null}],storageKey:null}],type:"NewsFeedEdge",abstractKey:null};e.exports=a}),null);
__d("useLogCometFeedUnitRenderAttemptEvent",["CometRelay","GHLFeedStoryCategoryObfuscationUtils","react","react-compiler-runtime","recoverableViolation","unrecoverableViolation","useCometFeedUnitEventLogger","useLogCometFeedUnitRenderAttemptEvent_newsFeedEdge.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");var j=e.useEffect,k=e.useRef;function a(a,e,f,g){var i=d("react-compiler-runtime").c(14),l=k(!1);a=d("CometRelay").useFragment(h!==void 0?h:h=b("useLogCometFeedUnitRenderAttemptEvent_newsFeedEdge.graphql"),a);if(a.node==null)throw c("unrecoverableViolation")("node cannot be null on edge in useLogCometFeedUnitRenderAttemptEvent","comet_feed");var m=c("useCometFeedUnitEventLogger")(a.node),n=a.cat_sensitive,o=a.deduplication_key,p;p=null;if(n){var q=n==null?void 0:n.cat;n=n==null?void 0:n.enc;p=(q=q)!=null?q:d("GHLFeedStoryCategoryObfuscationUtils").getMatchWithFeedStoryCategory(n,(q=a.node)==null?void 0:q.post_id)}else p=a.category;i[0]!==p||i[1]!==o||i[2]!==m||i[3]!==g||i[4]!==e||i[5]!==f?(n=function(){if(!l.current){l.current=!0;if(o!=null){var a;m({category:(a=p)!=null?a:void 0,event:"render_attempt",minGapType:g,position:e,renderLocation:(a=f)!=null?a:void 0})}else c("recoverableViolation")("deduplication key and node cannot be null in useLogCometFeedUnitRenderAttemptEvent","comet_feed")}},i[0]=p,i[1]=o,i[2]=m,i[3]=g,i[4]=e,i[5]=f,i[6]=n):n=i[6];i[7]!==p||i[8]!==o||i[9]!==m||i[10]!==g||i[11]!==e||i[12]!==f?(q=[p,o,m,e,f,g],i[7]=p,i[8]=o,i[9]=m,i[10]=g,i[11]=e,i[12]=f,i[13]=q):q=i[13];j(n,q)}g["default"]=a}),98);
__d("CometNewsFeedUnit.react",["CometFeedAdsProductContext","CometFeedUnit.react","CometFeedUnitOnUnsupportedLoggerContext","CometFeedUnitSetStatusContext","CometNewsFeedUnit_feedEdge.graphql","CometNewsFeedVPVDStore","CometRelay","FBLogger","GHLMitigationsGating","RelayHooks","react","react-compiler-runtime","useLogCometFeedUnitRenderAttemptEvent"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.useContext,l=e.useLayoutEffect;e.useMemo;function a(a){var e,f=d("react-compiler-runtime").c(31),g=d("CometRelay").useFragment(h!==void 0?h:h=b("CometNewsFeedUnit_feedEdge.graphql"),a.edge),i=g.node,m=i==null?void 0:i.__typename,n=i==null?void 0:i.post_id,o=a.minGapType,p=a.position,q=a.variables.renderLocation!=="%future added value"?a.variables.renderLocation:null,r=d("RelayHooks").useRelayEnvironment();c("useLogCometFeedUnitRenderAttemptEvent")(g,p,q,o);var s=k(d("CometFeedUnitSetStatusContext").CometFeedUnitSetStatusContext),t=i==null,u,v;f[0]!==t||f[1]!==s?(u=function(){t&&(s("error"),c("FBLogger")("CometNewsFeedUnitNull").warn("node should not be null in CometNewsFeedUnit","comet_feed"))},v=[t,s],f[0]=t,f[1]=s,f[2]=u,f[3]=v):(u=f[2],v=f[3]);l(u,v);i==null?void 0:i.sponsored_data;i==null?void 0:i.the_spons_data;g==null?void 0:g.sponsored_auction_distance;g==null?void 0:g.spon_auct_dist_new;v=(u=(v=(u=i==null?void 0:i.sponsored_data)!=null?u:i==null?void 0:i.the_spons_data)==null?void 0:v.ad_id)!=null?u:(u=(v=i==null?void 0:i.sponsored_data)!=null?v:i==null?void 0:i.the_spons_data)==null?void 0:u.lbl_adv_iden;u=(u=g==null?void 0:g.sponsored_auction_distance)!=null?u:g==null?void 0:g.spon_auct_dist_new;e=(e=o)!=null?e:"UNKNOWN";var w;f[4]!==v||f[5]!==u||f[6]!==e?(w={adId:v,minGapRule:u,minGapType:e},f[4]=v,f[5]=u,f[6]=e,f[7]=w):w=f[7];v=w;u=v;if(i==null)return null;e="FeedPost-"+String(n);f[8]!==g||f[9]!==o||f[10]!==i||f[11]!==p||f[12]!==a.variables?(w=j.jsx(c("CometFeedUnit.react"),{feedUnit:i,minGapType:o,newsFeedEdge:g,position:p,variables:a.variables}),f[8]=g,f[9]=o,f[10]=i,f[11]=p,f[12]=a.variables,f[13]=w):w=f[13];f[14]!==u||f[15]!==w?(v=j.jsx(c("CometFeedAdsProductContext").Provider,{value:u,children:w}),f[14]=u,f[15]=w,f[16]=v):v=f[16];f[17]!==o||f[18]!==p||f[19]!==n||f[20]!==q||f[21]!==v||f[22]!==m?(i=j.jsx(d("CometFeedUnitOnUnsupportedLoggerContext").CometFeedUnitOnUnsupportedLoggerContextProvider,{minGapType:o,position:p,postID:n,renderLocation:q,unitName:m,children:v}),f[17]=o,f[18]=p,f[19]=n,f[20]=q,f[21]=v,f[22]=m,f[23]=i):i=f[23];f[24]!==g||f[25]!==r||f[26]!==i?(a=j.jsx(d("CometNewsFeedVPVDStore").LoggerProvider,{environment:r,newsFeedEdge:g,children:i}),f[24]=g,f[25]=r,f[26]=i,f[27]=a):a=f[27];f[28]!==a||f[29]!==e?(u=j.jsx("div",{className:d("GHLMitigationsGating").getIsGHLExtraDivForFeedUnitEnabled()?"":void 0,"data-testid":void 0,children:a}),f[28]=a,f[29]=e,f[30]=u):u=f[30];return u}f=j.memo(a);g["default"]=f}),98);
__d("CometNewsFeed_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometNewsFeed_viewer",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_have_friends",storageKey:null},{alias:null,args:null,concreteType:"AllFriendsConnection",kind:"LinkedField",name:"all_friends",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"friend_count",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_fb_employee",storageKey:null},{alias:null,args:null,concreteType:"NewsFeedInject",kind:"LinkedField",name:"injected_stories",plural:!1,selections:[{args:null,documentName:"CometNewsFeed_viewer",fragmentName:"CometInjectedStoriesNotice_edge",fragmentPropName:"edge",kind:"ModuleImport"}],storageKey:null}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometNewsFeedPaginationQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="10040007639388947"}),null);
__d("CometNewsFeedPaginationQuery.graphql",["CometNewsFeedPaginationQuery_facebookRelayOperation","GHLShouldChangeSponsoredAuctionDistanceFieldName.relayprovider","GHLShouldChangeSponsoredDataFieldName.relayprovider","GHLShouldChangeSponsoredAuctionDistanceFieldName.relayprovider","GHLShouldChangeSponsoredDataFieldName.relayprovider","GHLShouldChangeAdIdFieldName.relayprovider","IsWorkUser.relayprovider","FBReels_deprecate_short_form_video_context_gk.relayprovider","CometFeedStoryDynamicResolutionPhotoAttachmentRenderer_experimentWidth.relayprovider","CometImmersivePhotoCanUserDisable3DMotion.relayprovider","WorkCometIsEmployeeGKProvider.relayprovider","IsMergQAPolls.relayprovider","FBReelsMediaFooter_comet_enable_reels_ads_gk.relayprovider","CometUFIReactionsEnableShortName.relayprovider","CometUFIShareActionMigration.relayprovider","CometUFI_dedicated_comment_routable_dialog_gk.relayprovider","CometIsReplyPagerDisabled.relayprovider","StoriesArmadilloReplyEnabled.relayprovider","FBReelsIFUTileContent_reelsIFUPlayOnHover.relayprovider"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"RELAY_INCREMENTAL_DELIVERY"},c={defaultValue:null,kind:"LocalArgument",name:"clientQueryId"},d={defaultValue:null,kind:"LocalArgument",name:"clientSession"},e={defaultValue:null,kind:"LocalArgument",name:"connectionClass"},f={defaultValue:2,kind:"LocalArgument",name:"count"},g={defaultValue:null,kind:"LocalArgument",name:"cursor"},h={defaultValue:null,kind:"LocalArgument",name:"experimentalValues"},i={defaultValue:null,kind:"LocalArgument",name:"feedLocation"},j={defaultValue:null,kind:"LocalArgument",name:"feedStyle"},k={defaultValue:null,kind:"LocalArgument",name:"feedbackSource"},l={defaultValue:null,kind:"LocalArgument",name:"focusCommentID"},m={defaultValue:null,kind:"LocalArgument",name:"orderby"},n={defaultValue:null,kind:"LocalArgument",name:"privacySelectorRenderLocation"},o={defaultValue:null,kind:"LocalArgument",name:"recentVPVs"},p={defaultValue:null,kind:"LocalArgument",name:"refreshMode"},q={defaultValue:null,kind:"LocalArgument",name:"renderLocation"},r={defaultValue:null,kind:"LocalArgument",name:"scale"},s={defaultValue:!1,kind:"LocalArgument",name:"shouldChangeBRSLabelFieldName"},t={defaultValue:null,kind:"LocalArgument",name:"shouldChangeSponsoredAuctionDistanceFieldName"},u={defaultValue:null,kind:"LocalArgument",name:"shouldChangeSponsoredDataFieldName"},v={defaultValue:!1,kind:"LocalArgument",name:"shouldObfuscateCategoryField"},w={defaultValue:null,kind:"LocalArgument",name:"useDefaultActor"},x=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"client_query_id",variableName:"clientQueryId"},{kind:"Variable",name:"client_session",variableName:"clientSession"},{kind:"Variable",name:"connection_class",variableName:"connectionClass"},{kind:"Literal",name:"environment",value:"DESKTOP"},{kind:"Variable",name:"experimental_values",variableName:"experimentalValues"},{kind:"Variable",name:"feed_style",variableName:"feedStyle"},{kind:"Variable",name:"first",variableName:"count"},{kind:"Literal",name:"is_setting_suitable_for_autoplay",value:!0},{kind:"Variable",name:"orderby",variableName:"orderby"},{kind:"Variable",name:"recent_vpvs_v2",variableName:"recentVPVs"},{kind:"Variable",name:"refresh_mode",variableName:"refreshMode"},{kind:"Literal",name:"site",value:"comet"}],y={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},z={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},A=[{alias:null,args:null,kind:"ScalarField",name:"brs_filter_setting",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"client_token",storageKey:null},y,{condition:"__relay_internal__pv__GHLShouldChangeAdIdFieldNamerelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null}]},{condition:"__relay_internal__pv__GHLShouldChangeAdIdFieldNamerelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:"lbl_adv_iden",args:null,kind:"ScalarField",name:"ad_id",storageKey:null}]},{alias:null,args:null,kind:"ScalarField",name:"post_rendering_loggers",storageKey:null}],B=[z],C={alias:null,args:null,concreteType:"QuickPromotionFeedUnitItem",kind:"LinkedField",name:"quick_promotion_items",plural:!0,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"quick_promotion",plural:!1,selections:B,storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[a,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w],kind:"Fragment",metadata:null,name:"CometNewsFeedPaginationQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:[{kind:"Variable",name:"clientQueryId",variableName:"clientQueryId"},{kind:"Variable",name:"clientSession",variableName:"clientSession"},{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"},{kind:"Variable",name:"refreshMode",variableName:"refreshMode"},{kind:"Variable",name:"shouldChangeBRSLabelFieldName",variableName:"shouldChangeBRSLabelFieldName"},{kind:"Variable",name:"shouldObfuscateCategoryField",variableName:"shouldObfuscateCategoryField"}],kind:"FragmentSpread",name:"CometNewsFeed_viewerConnection"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__GHLShouldChangeSponsoredAuctionDistanceFieldNamerelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__GHLShouldChangeAdIdFieldNamerelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__IsWorkUserrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__FBReels_deprecate_short_form_video_context_gkrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometFeedStoryDynamicResolutionPhotoAttachmentRenderer_experimentWidthrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometImmersivePhotoCanUserDisable3DMotionrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__WorkCometIsEmployeeGKProviderrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__IsMergQAPollsrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__FBReelsMediaFooter_comet_enable_reels_ads_gkrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometUFIReactionsEnableShortNamerelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometUFIShareActionMigrationrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometUFI_dedicated_comment_routable_dialog_gkrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometIsReplyPagerDisabledrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__StoriesArmadilloReplyEnabledrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__FBReelsIFUTileContent_reelsIFUPlayOnHoverrelayprovider"}],kind:"Operation",name:"CometNewsFeedPaginationQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:x,concreteType:"NewsFeedConnection",kind:"LinkedField",name:"news_feed",plural:!1,selections:[{"if":"RELAY_INCREMENTAL_DELIVERY",kind:"Stream",label:"CometNewsFeed_viewerConnection$stream$CometNewsFeed_viewer_news_feed",selections:[{alias:null,args:null,concreteType:"NewsFeedEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"deduplication_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"min_gap_type_index_string",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"top_story_cache_score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"brs_content_label",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[y,{kind:"TypeDiscriminator",abstractKey:"__isFeedUnit"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"debug_info",storageKey:null},z,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"associated_group",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"context_actor_hovercard",storageKey:null},z],storageKey:null},z],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_story_civic",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null},{condition:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:A,storageKey:null}]},{condition:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:"the_spons_data",args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:A,storageKey:null}]},{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFeedUnitStoryStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"Story",abstractKey:null},{kind:"InlineFragment",selections:B,type:"Node",abstractKey:"__isNode"},{kind:"InlineFragment",selections:B,type:"CommunityTabTrendingPOGFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:B,type:"FBShortsMidCardFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:B,type:"GroupsMultiGYSJStoryUnit",abstractKey:null},{kind:"InlineFragment",selections:B,type:"GroupsTabCategoriesUnit",abstractKey:null},{kind:"InlineFragment",selections:B,type:"PagesYouMayLikeFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:B,type:"StoriesTrayFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:B,type:"XFBDummyReelsInWatchIFU",abstractKey:null},{kind:"InlineFragment",selections:[C],type:"QuickPromotionFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[C,{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFeedUnitQuickPromotionStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"QuickPromotionNativeTemplateFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFeedUnitGoodwillMemoryStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GoodwillCometStory",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometPYMKQPFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"PaginatedPeopleYouMayKnowFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometReelsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"ShowcaseFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFriendRequestsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"FriendRequestsFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"GroupsCometGYSJFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GroupsYouShouldJoinFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometGroupsSuggestionFeedUnitStrategy_unit",fragmentPropName:"unit",kind:"ModuleImport"}],type:"GroupsSuggestionUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometPYMIQPFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"PaginatedGroupsPeopleYouMayInviteFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"GeminiPYSFQPFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"PeopleYouShouldFollowAtWorkFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometSPFFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"SuggestedPublicEntitiesToFollowFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometEndOfFeedUpsellStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"EndOfFeedUpsellFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometGroupRelatedGroupsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GroupRelatedGroupsFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometGroupRelatedKeywordsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GroupRelatedKeywordsFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometStoriesSingleBucketFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"StoriesSingleBucketInlineViewerFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"TrackingData",kind:"LinkedField",name:"trackingdata",plural:!1,selections:B,storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"viewability_config",storageKey:null},{alias:null,args:null,concreteType:"CometClientViewConfig",kind:"LinkedField",name:"client_view_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_delay_log_impression",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"use_banzai_signal_imp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"use_banzai_vital_imp",storageKey:null}],storageKey:null}],type:"Story",abstractKey:null}],type:"TrackableFeedUnit",abstractKey:"__isTrackableFeedUnit"}],storageKey:null},{alias:null,args:null,concreteType:"FeedBackendData",kind:"LinkedField",name:"feed_backend_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"qid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_qid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"vsid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"vspos",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_recent_vpv_fetch_tracking_data",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"serialized_payloads",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},{condition:"shouldChangeBRSLabelFieldName",kind:"Condition",passingValue:!0,selections:[{alias:"conte_brs_lb_for",args:null,kind:"ScalarField",name:"brs_content_label",storageKey:null}]},{condition:"shouldObfuscateCategoryField",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null}]},{condition:"shouldObfuscateCategoryField",kind:"Condition",passingValue:!0,selections:[{alias:"cat_sensitive",args:null,concreteType:"FeedCategorySensitive",kind:"LinkedField",name:"category_sensitive",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"enc",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cat",storageKey:null}],storageKey:null}]},{condition:"__relay_internal__pv__GHLShouldChangeSponsoredAuctionDistanceFieldNamerelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"sponsored_auction_distance",storageKey:null}]},{condition:"__relay_internal__pv__GHLShouldChangeSponsoredAuctionDistanceFieldNamerelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:"spon_auct_dist_new",args:null,kind:"ScalarField",name:"sponsored_auction_distance",storageKey:null}]},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"visibility_hidden",storageKey:null}]}],storageKey:null}]},{"if":"RELAY_INCREMENTAL_DELIVERY",kind:"Defer",label:"CometNewsFeed_viewerConnection$defer$CometNewsFeed_viewer_news_feed$page_info",selections:[{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[y,{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}]}],storageKey:null},{alias:null,args:x,filters:["orderby","feed_style","client_session"],handle:"comet_news_feed",key:"CometNewsFeed_viewer_news_feed",kind:"LinkedHandle",name:"news_feed"}],storageKey:null}]},params:{id:b("CometNewsFeedPaginationQuery_facebookRelayOperation"),metadata:{},name:"CometNewsFeedPaginationQuery",operationKind:"query",text:null,providedVariables:{shouldChangeSponsoredAuctionDistanceFieldName:b("GHLShouldChangeSponsoredAuctionDistanceFieldName.relayprovider"),shouldChangeSponsoredDataFieldName:b("GHLShouldChangeSponsoredDataFieldName.relayprovider"),__relay_internal__pv__GHLShouldChangeSponsoredAuctionDistanceFieldNamerelayprovider:b("GHLShouldChangeSponsoredAuctionDistanceFieldName.relayprovider"),__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider:b("GHLShouldChangeSponsoredDataFieldName.relayprovider"),__relay_internal__pv__GHLShouldChangeAdIdFieldNamerelayprovider:b("GHLShouldChangeAdIdFieldName.relayprovider"),__relay_internal__pv__IsWorkUserrelayprovider:b("IsWorkUser.relayprovider"),__relay_internal__pv__FBReels_deprecate_short_form_video_context_gkrelayprovider:b("FBReels_deprecate_short_form_video_context_gk.relayprovider"),__relay_internal__pv__CometFeedStoryDynamicResolutionPhotoAttachmentRenderer_experimentWidthrelayprovider:b("CometFeedStoryDynamicResolutionPhotoAttachmentRenderer_experimentWidth.relayprovider"),__relay_internal__pv__CometImmersivePhotoCanUserDisable3DMotionrelayprovider:b("CometImmersivePhotoCanUserDisable3DMotion.relayprovider"),__relay_internal__pv__WorkCometIsEmployeeGKProviderrelayprovider:b("WorkCometIsEmployeeGKProvider.relayprovider"),__relay_internal__pv__IsMergQAPollsrelayprovider:b("IsMergQAPolls.relayprovider"),__relay_internal__pv__FBReelsMediaFooter_comet_enable_reels_ads_gkrelayprovider:b("FBReelsMediaFooter_comet_enable_reels_ads_gk.relayprovider"),__relay_internal__pv__CometUFIReactionsEnableShortNamerelayprovider:b("CometUFIReactionsEnableShortName.relayprovider"),__relay_internal__pv__CometUFIShareActionMigrationrelayprovider:b("CometUFIShareActionMigration.relayprovider"),__relay_internal__pv__CometUFI_dedicated_comment_routable_dialog_gkrelayprovider:b("CometUFI_dedicated_comment_routable_dialog_gk.relayprovider"),__relay_internal__pv__CometIsReplyPagerDisabledrelayprovider:b("CometIsReplyPagerDisabled.relayprovider"),__relay_internal__pv__StoriesArmadilloReplyEnabledrelayprovider:b("StoriesArmadilloReplyEnabled.relayprovider"),__relay_internal__pv__FBReelsIFUTileContent_reelsIFUPlayOnHoverrelayprovider:b("FBReelsIFUTileContent_reelsIFUPlayOnHover.relayprovider")}}}}();e.exports=a}),null);
__d("CometNewsFeed_viewerConnection.graphql",["CometNewsFeedPaginationQuery.graphql"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"RootArgument",name:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider"},c=["news_feed"],d={alias:null,args:null,kind:"ScalarField",name:"brs_content_label",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"brs_filter_setting",storageKey:null},f=[e,{alias:null,args:null,kind:"ScalarField",name:"client_token",storageKey:null}],g={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};e=[e];return{argumentDefinitions:[{kind:"RootArgument",name:"RELAY_INCREMENTAL_DELIVERY"},{kind:"RootArgument",name:"__relay_internal__pv__GHLShouldChangeSponsoredAuctionDistanceFieldNamerelayprovider"},a,{defaultValue:null,kind:"LocalArgument",name:"clientQueryId"},{defaultValue:null,kind:"LocalArgument",name:"clientSession"},{kind:"RootArgument",name:"connectionClass"},{defaultValue:2,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{kind:"RootArgument",name:"experimentalValues"},{kind:"RootArgument",name:"feedLocation"},{kind:"RootArgument",name:"feedStyle"},{kind:"RootArgument",name:"feedbackSource"},{kind:"RootArgument",name:"focusCommentID"},{kind:"RootArgument",name:"orderby"},{kind:"RootArgument",name:"privacySelectorRenderLocation"},{kind:"RootArgument",name:"recentVPVs"},{defaultValue:null,kind:"LocalArgument",name:"refreshMode"},{kind:"RootArgument",name:"renderLocation"},{kind:"RootArgument",name:"scale"},{defaultValue:!1,kind:"LocalArgument",name:"shouldChangeBRSLabelFieldName"},{defaultValue:!1,kind:"LocalArgument",name:"shouldObfuscateCategoryField"},{kind:"RootArgument",name:"useDefaultActor"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:c,stream:!0}],refetch:{connection:{forward:{count:"count",cursor:"cursor"},backward:null,path:c},fragmentPathInResult:["viewer"],operation:b("CometNewsFeedPaginationQuery.graphql")}},name:"CometNewsFeed_viewerConnection",selections:[{alias:"news_feed",args:[{kind:"Variable",name:"client_session",variableName:"clientSession"},{kind:"Variable",name:"feed_style",variableName:"feedStyle"},{kind:"Variable",name:"orderby",variableName:"orderby"}],concreteType:"NewsFeedConnection",kind:"LinkedField",name:"__CometNewsFeed_viewer_news_feed_comet_news_feed",plural:!1,selections:[{kind:"Stream",selections:[{alias:null,args:null,concreteType:"NewsFeedEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{condition:"shouldChangeBRSLabelFieldName",kind:"Condition",passingValue:!1,selections:[d]},{condition:"shouldChangeBRSLabelFieldName",kind:"Condition",passingValue:!0,selections:[{alias:"conte_brs_lb_for",args:null,kind:"ScalarField",name:"brs_content_label",storageKey:null}]},{condition:"shouldObfuscateCategoryField",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null}]},{condition:"shouldObfuscateCategoryField",kind:"Condition",passingValue:!0,selections:[{alias:"cat_sensitive",args:null,concreteType:"FeedCategorySensitive",kind:"LinkedField",name:"category_sensitive",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"enc",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cat",storageKey:null}],storageKey:null}]},{alias:null,args:null,kind:"ScalarField",name:"deduplication_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"min_gap_type_index_string",storageKey:null},{condition:"__relay_internal__pv__GHLShouldChangeSponsoredAuctionDistanceFieldNamerelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"sponsored_auction_distance",storageKey:null}]},{condition:"__relay_internal__pv__GHLShouldChangeSponsoredAuctionDistanceFieldNamerelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:"spon_auct_dist_new",args:null,kind:"ScalarField",name:"sponsored_auction_distance",storageKey:null}]},{alias:null,args:null,kind:"ScalarField",name:"top_story_cache_score",storageKey:null},{kind:"InlineDataFragmentSpread",name:"useCometFeedUnitReordering_newsFeedEdge",selections:[d,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{condition:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:f,storageKey:null}]},{condition:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:"the_spons_data",args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:f,storageKey:null}]}],type:"Story",abstractKey:null}],storageKey:null}],args:null,argumentDefinitions:[a]},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[g,{args:null,kind:"FragmentSpread",name:"CometFeedUnitErrorBoundary_feedUnit"},{kind:"InlineFragment",selections:[{condition:"shouldObfuscateCategoryField",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null}]},{condition:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:e,storageKey:null}]},{condition:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:"the_spons_data",args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:e,storageKey:null}]}],type:"Story",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"FeedBackendData",kind:"LinkedField",name:"feed_backend_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"qid",storageKey:null}],storageKey:null},{args:[{kind:"Variable",name:"shouldObfuscateCategoryField",variableName:"shouldObfuscateCategoryField"}],kind:"FragmentSpread",name:"CometNewsFeedUnit_feedEdge"},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"visibility_hidden",storageKey:null}]}],storageKey:null}]},{kind:"Defer",selections:[{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[g,{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}]}],storageKey:null}],type:"Viewer",abstractKey:null}}();e.exports=a}),null);
__d("CometNewsfeedOrderingDebuggingState",[],(function(a,b,c,d,e,f){"use strict";var g={hasInjectedStories:null,order:null,reorderingEnabled:null};function a(){return g}function b(a){g.order=a}function c(a){g.hasInjectedStories=a}function d(a){g.reorderingEnabled=a}f.dump=a;f.setFeedUnitOrderingState=b;f.setHasInjectedStories=c;f.setReorderingEnabled=d}),66);
__d("GHLRandomTags.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){var b=d("react-compiler-runtime").c(5),c=a.children;a=a.depth;var e=c;if(a>1){a=a-1;var f;b[0]!==c||b[1]!==a?(f=i.jsx(j,{children:c,depth:a}),b[0]=c,b[1]=a,b[2]=f):f=b[2];e=f}b[3]!==e?(c=i.jsx("span",{children:e}),b[3]=e,b[4]=c):c=b[4];return c}g["default"]=j}),98);
__d("useCometFeedIneligibleUnitLogger",["CometAdsProductLogger","CometFeedUnitsTypedLoggerLite","CometValidFeedUnitOrdering","MinGapType","MinGapTypeUtils.facebook","react","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=j||d("react");var k=b.useEffect,l=b.useMemo,m=b.useRef;function a(a,b){var e=(h||(h=c("useUnsafeRef_DEPRECATED")))({}),f=l(function(){return a.map(function(a){if(a!=null&&a.deduplication_key!=null){var b;return{key:a.deduplication_key,minGapType:(b=(i||(i=c("MinGapType"))).cast(parseInt(a.min_gap_type_index_string,10)))!=null?b:0,status:"received",typename:(a=a==null?void 0:(b=a.node)==null?void 0:b.__typename)!=null?a:null}}return null}).filter(Boolean)},[a]),g=f.reduce(function(a,b){return babelHelpers["extends"]({},a,(a={},a[b.key]=b,a))},{}),j=f.map(function(a){return{category:a.category,key:a.key,minGapType:a.minGapType,status:"rendered"}}),n=0;j.some(function(a,b){if(e.current[a.key]==null){n=b;return!0}});var o=d("CometValidFeedUnitOrdering").getFeedUnitOrderViolations(j,n),p=m({}),q=m({});k(function(){var a={};f.forEach(function(e,f){if(a[e.key]!=null){var g;a[e.key]+=1;if(a[e.key]>((g=p.current[e.key])!=null?g:0)){c("CometFeedUnitsTypedLoggerLite").log({event:"ineligible_for_position",ineligible_reason:"duplicate",min_gap_type:(g=d("MinGapTypeUtils.facebook").fromJSEnum(e.minGapType))!=null?g:"UNKNOWN",position:f,render_location:b,unit_name:e.typename})}}else a[e.key]=1});p.current=a;if(f.length>0){var e=f[0];if((e.category==="SPONSORED"||e.minGapType===5)&&q.current[e.key]==null){var g;d("CometAdsProductLogger").logCometFeedHighestPositionAd({minGapRule:(g=e.edgeData)==null?void 0:g.sponsoredAuctionDistance,minGapType:(g=d("MinGapTypeUtils.facebook").fromJSEnum(e.minGapType))!=null?g:"UNKNOWN"});q.current[e.key]=!0}}});k(function(){o.forEach(function(a){if(e.current[a.violationUnitKey]==null){var f=a.violationPosition,h=a.violationUnitKey;a=a.violationUnitMinGapType;c("CometFeedUnitsTypedLoggerLite").log({event:"ineligible_for_position",ineligible_reason:"gap_rule_violation",min_gap_type:(a=d("MinGapTypeUtils.facebook").fromJSEnum(a))!=null?a:"UNKNOWN",position:f,render_location:b,unit_name:(f=(a=g[h])==null?void 0:a.typename)!=null?f:null})}}),j.forEach(function(a){e.current[a.key]=!0})})}g["default"]=a}),98);
__d("FeedRequestWaterfallTypedLoggerLite",["generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:FeedRequestWaterfallLoggerConfig")}),null);
__d("useCometFeedRequestWaterfallLogger",["FeedRequestWaterfallTypedLoggerLite","react","react-compiler-runtime","usePrevious","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useEffect,j=b.useRef,k=function(a){return a===!0};function a(a,b,e){var f=d("react-compiler-runtime").c(16),g=j(null),h=c("usePrevious")(a),m,n;f[0]!==a||f[1]!==e||f[2]!==h?(m=function(){if(!k(e))return;if(h===a)return;if(g.current!=null){var b=h!=null?a.filter(function(a){return!h.find(function(b){return b===a})}):a,d=b.reduce(l,{});Object.keys(d).forEach(function(a){c("FeedRequestWaterfallTypedLoggerLite").log({client_query_id:g.current,event:"client_received_response",is_employee:e,number_of_stories:d[a],query_id:a})})}},n=[a,e,h],f[0]=a,f[1]=e,f[2]=h,f[3]=m,f[4]=n):(m=f[3],n=f[4]);i(m,n);var o=j(0),p=b.length;f[5]!==e||f[6]!==p?(m=function(){if(!k(e))return;g.current!=null&&(c("FeedRequestWaterfallTypedLoggerLite").log({client_query_id:g.current,event:"client_rendered_success",is_employee:e,number_of_stories:p-o.current}),o.current=p)},n=[p,e],f[5]=e,f[6]=p,f[7]=m,f[8]=n):(m=f[7],n=f[8]);i(m,n);f[9]!==e?(b=function(){var a=c("uuidv4")();if(!k(e))return a;c("FeedRequestWaterfallTypedLoggerLite").log({client_query_id:a,event:"client_sent_request",is_employee:e});g.current=a;return a},f[9]=e,f[10]=b):b=f[10];m=b;f[11]!==e?(n=function(a){if(!k(e))return;c("FeedRequestWaterfallTypedLoggerLite").log({client_query_id:g.current,event:"client_failed_to_receive_response",failure_reason:a.message,is_employee:e,number_of_stories:o.current})},f[11]=e,f[12]=n):n=f[12];b=n;f[13]!==b||f[14]!==m?(n=[m,b],f[13]=b,f[14]=m,f[15]=n):n=f[15];return n}function l(a,b){b=(b=b.feed_backend_data)==null?void 0:b.qid;if(b==null)return a;a[b]==null?a[b]=1:a[b]=a[b]+1;return a}g["default"]=a}),98);
__d("getCometFeedUnitOrderingDebuggingTable",["CometFeedUnitOrderingDebugInfo","MinGapTypeUtils.facebook"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b;return{ReceivedPositions:"["+a.receivedPositions.toString()+"]"+(a.renderedPosition!==a.receivedPositions[0]?" reordered":""),MinGapType:(b=d("MinGapTypeUtils.facebook").fromJSEnum(a.minGapType))!=null?b:"UNKNOWN",Key:a.key,Status:a.status+(a.renderedPosition==null?" (deferred)":"")}}function a(a,b){a=d("CometFeedUnitOrderingDebugInfo").getCometFeedUnitOrderingDebugInfo(a,b);b=a.feedUnitsToRender.map(h);a=a.feedUnitsDeferred.map(h);return{feedUnitsDeferred:a,feedUnitsToRender:b}}g["default"]=a}),98);
__d("debugCometFeedUnitOrdering",["getCometFeedUnitOrderingDebuggingTable"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a=c("getCometFeedUnitOrderingDebuggingTable")(a,b);b=a.feedUnitsDeferred;a=a.feedUnitsToRender;var d=console.table!=null?console.table:emptyFunction;console.group("Feed Unit Order");d(Array.from(a));b.length>0&&d(Array.from(b));console.groupEnd()}g["default"]=a}),98);
__d("useCometFeedGapRuleViolationLogger",["CometFeedUnitOrderingDebugInfo","CometFeedUnitStatusTrackingUtils","CometValidFeedUnitOrdering","MinGapTypeUtils.facebook","react","requireDeferred","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useEffect,k=c("requireDeferred")("CometFeedGapRuleViolationTypedLoggerLite").__setRef("useCometFeedGapRuleViolationLogger"),l=6,m=3;function a(a,b,e){var f=(h||(h=c("useUnsafeRef_DEPRECATED")))({}),g=0;a.some(function(a,b){if(d("CometFeedUnitStatusTrackingUtils").isCurrentlyVisible(a)&&f.current[a.key]==null){g=b;return!0}});var i=d("CometValidFeedUnitOrdering").getFeedUnitOrderViolations(a,g);j(function(){i.forEach(function(c){if(a[c.violationPosition]!=null&&f.current[a[c.violationPosition].key]==null){var g=c.conflictPosition,h=c.conflictUnitMinGapType,i=c.violationPosition,j=c.violationType,n=c.violationUnitMinGapType;c=(c=g)!=null?c:0;var o=e?d("CometFeedUnitOrderingDebugInfo").getCometFeedUnitOrderingDebugInfoString(a,b,!0,c-l,i+1+m):null,p=a.slice(0,i+1).filter(function(a){return a.status==="error"}).length,q=a.slice(c+1,i).filter(function(a){return a.status==="error"}).length;k.onReady(function(a){a.log({conflict_position:g,conflict_unit_category:d("MinGapTypeUtils.facebook").fromJSEnum(h),debug_info:o,errored_in_gap_count:q,errored_total_count:p,reordering_enabled:e,violation_cause:"unknown",violation_position:i,violation_type:j,violation_unit_category:d("MinGapTypeUtils.facebook").fromJSEnum(n)})})}}),a.filter(d("CometFeedUnitStatusTrackingUtils").isCurrentlyVisible).forEach(function(a){f.current[a.key]=!0})})}g["default"]=a}),98);
__d("useCometFeedUnitReordering_newsFeedEdge.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"useCometFeedUnitReordering_newsFeedEdge"};e.exports=a}),null);
__d("useCometFeedUnitStatusTracking",["CometFeedUnitStatusTrackingUtils","react","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=b.useCallback,k=b.useRef,l=["received","positioned","rendered","error"];function m(a,b){b=b.map(function(b){if(a[b]!=null){var c;return{category:(c=a[b].category)!=null?c:"UNKNOWN",edgeData:a[b].edgeData,key:b,minGapType:(c=a[b].minGapType)!=null?c:0,status:a[b].status}}return null}).filter(Boolean);return d("CometFeedUnitStatusTrackingUtils").getFeedUnitsWithRenderingOutOfOrderFixed(b)}function a(a,b){var d=(h||(h=c("useUnsafeRef_DEPRECATED")))({}),e=h([]),f=k({}),g=h(0),i=g.current,n=j(function(){if(a!=null){var b=m(d.current,e.current);a(b)}},[a]),o=j(function(){return m(d.current,e.current)},[]),p=j(function(){d.current={},e.current=[],f.current={},g.current+=1},[]),q=j(function(a){var b=e.current.length===a.length&&e.current.every(function(b,c){return b===a[c]});if(b)return;e.current.filter(function(b){return a.indexOf(b)===-1}).forEach(function(a){delete d.current[a]});e.current=a;n()},[n]),r=j(function(a,c){i;var e=d.current[a];if(e==null){d.current[a]=c;n();return}var g=l[Math.max(l.indexOf(c.status),l.indexOf(e.status))];c={category:c.category,edgeData:c.edgeData,minGapType:c.minGapType,status:g};if(c.minGapType===e.minGapType&&c.status===e.status)return;c.status==="error"&&f.current[a]===void 0&&(b!=null&&b(a,e.status==="rendered"),f.current[a]=!0);d.current[a]=c;n()},[b,n,i]),s=m(d.current,e.current);return[s,q,r,p,o]}g["default"]=a}),98);
__d("useCometFeedUnitReordering",["CometFeedUnitStatusTrackingUtils","CometNewsfeedOrderingDebuggingState","CometRelay","CometValidFeedUnitOrdering","FBLogger","InteractionTracing","MinGapType","MinGapTypeUtils.facebook","debugCometFeedUnitOrdering","emptyFunction","getCometFeedUnitOrderingDebuggingTable","gkx","react","react-compiler-runtime","recoverableViolation","useCometFeedGapRuleViolationLogger","useCometFeedUnitReordering_newsFeedEdge.graphql","useCometFeedUnitStatusTracking","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=j||d("react");e.useCallback;var k=e.useEffect,l=e.useRef,m=e.useState;function n(a,b,e){b===void 0&&(b="CometFeedRenderingOrderError");e===void 0&&(e="Feed unit effects called out of order");var f=null,g=null;a.forEach(function(a,b){a.status==="rendered"&&(f=b),a.status==="received"&&g===null&&(g=b)});if(f!=null&&g!=null&&g<f&&g!==0){a=a.map(function(a,b){return babelHelpers["extends"]({},a,{position:b})}).slice(Math.max(0,g-2),f+2).map(function(a){var b;return String(a.position).padStart(2)+": "+a.status+" | "+(a.minGapType!=null?(b=d("MinGapTypeUtils.facebook").fromJSEnum(a.minGapType))!=null?b:"":"")+" | "+a.key}).join("\n");c("FBLogger")(b).warn("%s in positions %s-%s.\n%s",e,g,f,a)}}function a(a,e,f,g,j,u){u=d("react-compiler-runtime").c(51);var v=j===void 0?t:j;j=m(0);var w=j[1];u[0]===Symbol["for"]("react.memo_cache_sentinel")?(j={},u[0]=j):j=u[0];var x=l(j);u[1]===Symbol["for"]("react.memo_cache_sentinel")?(j=function(a,b){w(s),b&&(x.current[a]=!0)},u[1]=j):j=u[1];j=j;var y,z;u[2]!==e?(y=function(){d("CometNewsfeedOrderingDebuggingState").setReorderingEnabled(e)},z=[e],u[2]=e,u[3]=y,u[4]=z):(y=u[3],z=u[4]);k(y,z);y=c("useCometFeedUnitStatusTracking")(c("emptyFunction"),j);z=y[0];var A=y[1],B=y[2];j=y[3];var C=y[4],D=c("gkx")("22809"),E,F;if(u[5]!==g||u[6]!==a){u[10]!==g?(y=function(a,e){var f,j;if(a==null){c("recoverableViolation")("edge should not be nullish in useCometFeedUnitReordering","comet_feed");return null}if(a.node==null)return null;if(a.min_gap_type_index_string==null){c("recoverableViolation")("min gap type should not be nullish in useCometFeedUnitReordering","comet_feed");return null}if(a.deduplication_key==null){c("recoverableViolation")("deduplication_key should not be nullish in useCometFeedUnitReordering","comet_feed");return null}f={category:(f=a.category)!=null?f:"UNKNOWN",key:a.deduplication_key,minGapType:(f=(i||(i=c("MinGapType"))).cast(parseInt(a.min_gap_type_index_string,10)))!=null?f:0};e=d("CometRelay").readInlineData(h!==void 0?h:h=b("useCometFeedUnitReordering_newsFeedEdge.graphql"),g==null?void 0:g[e]);j=(j=e==null?void 0:(j=e.node)==null?void 0:j.sponsored_data)!=null?j:e==null?void 0:(j=e.node)==null?void 0:j.the_spons_data;return D?f:babelHelpers["extends"]({},f,{edgeData:{brsContentLabel:e==null?void 0:e.brs_content_label,brsFilterSetting:j==null?void 0:j.brs_filter_setting,clientToken:j==null?void 0:j.client_token,sponsoredAuctionDistance:(f=a.sponsored_auction_distance)!=null?f:a.spon_auct_dist_new}})},u[10]=g,u[11]=y):y=u[11];F=a.map(y).filter(Boolean);y=c("usePrevious");E=F.map(r);u[5]=g;u[6]=a;u[7]=y;u[8]=E;u[9]=F}else y=u[7],E=u[8],F=u[9];y=y(E);c("useCometFeedGapRuleViolationLogger")(z,F,e);if(u[12]!==e||u[13]!==z||u[14]!==y||u[15]!==F){E=e?d("CometValidFeedUnitOrdering").getValidFeedUnitOrdering(z,F,(E=y)!=null?E:[]):F.map(q);u[12]=e;u[13]=z;u[14]=y;u[15]=F;u[16]=E}else E=u[16];var G=E;u[17]!==A||u[18]!==B||u[19]!==G?(z=function(){var a=G.map(p);A(a);d("CometFeedUnitStatusTrackingUtils").getUncommittedFeedUnits(G).forEach(function(a){var b;return B(a.key,{category:(b=a.category)!=null?b:"UNKNOWN",edgeData:a.edgeData,minGapType:a.minGapType,status:a.status})})},u[17]=A,u[18]=B,u[19]=G,u[20]=z):z=u[20];k(z);if(u[21]!==e||u[22]!==a||u[23]!==v||u[24]!==f||u[25]!==G){u[27]!==v?(y=function(a,b){var c=b.deduplication_key;if(c==null)return a;if(a[c]!=null)return a;return v(c)?a:babelHelpers["extends"]({},a,(a={},a[c]=b,a))},u[27]=v,u[28]=y):y=u[28];var H=a.filter(Boolean).reduce(y,{});u[29]!==e||u[30]!==f||u[31]!==G?(E=f&&e?G.filter(d("CometFeedUnitStatusTrackingUtils").isPossiblyVisible):G,u[29]=e,u[30]=f,u[31]=G,u[32]=E):E=u[32];z=E;y=e?z.map(function(a){return H[a.key]}).filter(Boolean):a.filter(Boolean);u[21]=e;u[22]=a;u[23]=v;u[24]=f;u[25]=G;u[26]=y}else y=u[26];E=y;var I=l(!1);if(u[33]!==e||u[34]!==((z=a[0])==null?void 0:z.deduplication_key)||u[35]!==F||u[36]!==G){f=function(){var b;b=(b=a[0])==null?void 0:b.deduplication_key;if(e&&!I.current&&b!=null&&F!=null&&G!=null){var f=d("CometValidFeedUnitOrdering").getFeedUnitReorderInfo(F,G);f[b]!=null&&c("InteractionTracing").getPendingInteractions().forEach(o);I.current=!0}};u[33]=e;u[34]=(y=a[0])==null?void 0:y.deduplication_key;u[35]=F;u[36]=G;u[37]=f}else f=u[37];k(f);u[38]!==e?(z=function(){},y=[e],u[38]=e,u[39]=z,u[40]=y):(z=u[39],y=u[40]);k(z,y);u[41]!==F||u[42]!==G?(f=function(){d("CometNewsfeedOrderingDebuggingState").setFeedUnitOrderingState(c("getCometFeedUnitOrderingDebuggingTable")(G,F))},u[41]=F,u[42]=G,u[43]=f):f=u[43];k(f);u[44]!==C?(z=function(){window.requestAnimationFrame(function(){n(C(),"CometFeedRenderingOrderErrorAfterAnimationFrame","Feed units rendered out of order")})},u[44]=C,u[45]=z):z=u[45];k(z);u[46]!==E||u[47]!==C||u[48]!==j||u[49]!==B?(y={feedEdgesToRender:E,getFeedUnitStatusListPassive:C,resetFeedUnitRegistry:j,setFeedUnitRecord:B},u[46]=E,u[47]=C,u[48]=j,u[49]=B,u[50]=y):y=u[50];return y}function o(a){a.addAnnotationInt("firstFeedUnitReordered",1)}function p(a){return a.key}function q(a){return babelHelpers["extends"]({},a,{status:"received"})}function r(a){return a.key}function s(a){return a+1}function t(){return!1}g["default"]=a}),98);
__d("GhlNfmFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("30");b=d("FalcoLoggerInternal").create("ghl_nfm",a);e=b;g["default"]=e}),98);
__d("useGHLIsCanvasFillTextModified.react",["GHLDetectionUtils","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;function b(){var b=d("react-compiler-runtime").c(1),c;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c=d("GHLDetectionUtils").isCanvasFillTextModified(a.CanvasRenderingContext2D),b[0]=c):c=b[0];b=c;return b}g["default"]=b}),98);
__d("useGHLIsJSONParseShimmed.react",["GHLDetectionUtils","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=d("GHLDetectionUtils").isJSONParseShimmed(),a[0]=b):b=a[0];a=b;return a}g["default"]=a}),98);
__d("useGHLIsXHRModified.react",["GHLDetectionUtils","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;function b(){var b=d("react-compiler-runtime").c(1),c;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c=d("GHLDetectionUtils").isXHRModified(a.XMLHttpRequest),b[0]=c):c=b[0];b=c;return b}g["default"]=b}),98);
__d("useGHLNativeFunctionModificationLogger",["GhlNfmFalcoEvent","gkx","react","useGHLIsCanvasFillTextModified.react","useGHLIsJSONParseShimmed.react","useGHLIsXHRModified.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useState;function a(){var a=i(!1),b=a[0];a=a[1];var d=c("useGHLIsXHRModified.react")(),e=c("useGHLIsJSONParseShimmed.react")(),f=c("useGHLIsCanvasFillTextModified.react")(),g=c("gkx")("5599");if(!g||b)return;d&&c("GhlNfmFalcoEvent").log(l);e&&c("GhlNfmFalcoEvent").log(k);f&&c("GhlNfmFalcoEvent").log(j);a(!0)}function j(){return{event:"cfm"}}function k(){return{event:"jm"}}function l(){return{event:"xm"}}g["default"]=a}),98);
__d("CometNewsFeed.react",["fbt","CometBackupPlaceholder.react","CometClipboardCustomCopy.react","CometFeed5sImpressionDelayContextProvider.react","CometFeedBrandSafetyContextProvider.react","CometFeedEndOfFeedMessageForNewsfeedOnly.react","CometFeedInfiniteScrollSuspenseList.react","CometFeedKeyboardNavPositionContext","CometFeedTailLoadConfig","CometFeedUnitErrorBoundary.react","CometFeedUnitSetDebugInfoContextProvider.react","CometFeedUnitSetStatusContext","CometFeedUnitStatusListPassiveContext","CometFeedUnitsTypedLoggerLite","CometGHLFeedClassContext","CometGHLFeedFallbackContext","CometGHLFeedRandomElementWrapperContext","CometHeroFeedItem.react","CometHeroHoldTrigger.react","CometNewsFeedEofFalcoEvent","CometNewsFeedLoadedFalcoEvent","CometNewsFeedUnit.react","CometNewsFeedVPVDStore","CometNewsFeed_viewer.graphql","CometNewsFeed_viewerConnection.graphql","CometNewsfeedOrderingDebuggingState","CometOnInitialMount.react","CometOnRefresh","CometPageletWithDiv.react","CometRelay","CometScreenReaderHeading.react","ErrorGuard","FBLogger","GHLFeedStoryCategoryObfuscationUtils","GHLMitigationsGating","GHLRandomTags.react","GHLSurfaceContainerContext","HiddenSubtreePassiveContext","InteractionTracing","MinGapType","MinGapTypeUtils.facebook","NetworkStatus","Random","RefreshModeConstants.facebook","VideoAutoplayLocalScopeProvider.react","VideoPlayerAutoplayRulesProvider","WebConnectionClassServerGuess","cometCappedListFactory","cr:1142206","cr:1813330","cr:3683","gkx","justknobx","pageID","qex","react","react-compiler-runtime","useCometFeedIneligibleUnitLogger","useCometFeedKeyCommands","useCometFeedRequestWaterfallLogger","useCometFeedUnitReordering","useCometFeedViewportMaintainer","useCometRouterState","useGHLNativeFunctionModificationLogger","useSimpleImpression","useStable","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n,o=n||(n=d("react")),p=n,q=p.useCallback,r=p.useContext,s=p.useEffect,t=p.useLayoutEffect,u=p.useMemo,v=p.useRef,w=p.useState,aa=c("justknobx")._("546"),x=(p=c("qex")._("3688"))!=null?p:0;p=c("cometCappedListFactory")();var ba=p.CappedListItemTracker,ca=p.useCometCappedList,da=!0,ea=d("VideoPlayerAutoplayRulesProvider").provideAutoplayRules("default_feed"),y="homepage_stream",fa=c("gkx")("21050")?[2,2,2,2,4]:void 0,ga=i!==void 0?i:i=b("CometNewsFeed_viewerConnection.graphql"),ha=j!==void 0?j:j=b("CometNewsFeed_viewer.graphql");function a(a){var b,e,f,g,h=d("react-compiler-runtime").c(33),i=a.feedEdge,j=a.position,l=a.setFeedUnitRecord;a=a.variables;var m=v(!1),n=i.node;if(n==null)return null;var p=(b=n.__typename)!=null?b:null;b=(b=(k||(k=c("MinGapType"))).cast(parseInt(i.min_gap_type_index_string,10)))!=null?b:0;var q=(e=d("MinGapTypeUtils.facebook").fromJSEnum(b))!=null?e:"UNKNOWN";e=i.cat_sensitive;var r;r=null;if(e){var s=e==null?void 0:e.cat;e=e==null?void 0:e.enc;r=(s=s)!=null?s:d("GHLFeedStoryCategoryObfuscationUtils").getMatchWithFeedStoryCategory(e,n.post_id)}else r=i.category;e=(s=i.brs_content_label)!=null?s:i.conte_brs_lb_for;var t;h[0]!==r||h[1]!==q||h[2]!==j||h[3]!==p?(s=o.jsx(c("CometOnInitialMount.react"),{onInitialMount:function(){c("CometFeedUnitsTypedLoggerLite").log({category:r,event:"unexpected_resuspense",min_gap_type:q,position:j,render_location:y,unit_name:p})}}),t=function(a){m.current||(c("CometFeedUnitsTypedLoggerLite").log({category:r,event:"unexpected_resuspense_with_name",min_gap_type:q,position:j,promise_name:a,render_location:y,unit_name:p}),m.current=!0)},h[0]=r,h[1]=q,h[2]=j,h[3]=p,h[4]=s,h[5]=t):(s=h[4],t=h[5]);f=(f=(f=(f=i.node)==null?void 0:f.sponsored_data)!=null?f:(f=i.node)==null?void 0:f.the_spons_data)==null?void 0:f.brs_filter_setting;g=(g=r)!=null?g:void 0;var u;h[6]!==i||h[7]!==q||h[8]!==j||h[9]!==a?(u=o.jsx(c("CometNewsFeedUnit.react"),{edge:i,minGapType:q,position:j,variables:a}),h[6]=i,h[7]=q,h[8]=j,h[9]=a,h[10]=u):u=h[10];h[11]!==q||h[12]!==n||h[13]!==j||h[14]!==g||h[15]!==u||h[16]!==p?(a=o.jsx(c("CometFeedUnitErrorBoundary.react"),{category:g,feedUnit:n,minGapType:q,position:j,renderLocation:y,unitTypename:p,children:u}),h[11]=q,h[12]=n,h[13]=j,h[14]=g,h[15]=u,h[16]=p,h[17]=a):a=h[17];h[18]!==e||h[19]!==r||h[20]!==i.deduplication_key||h[21]!==b||h[22]!==l||h[23]!==f||h[24]!==a?(n=o.jsx(d("CometFeedUnitSetStatusContext").CometFeedUnitSetStatusContextProvider,{brsContentLabel:e,brsFilterSetting:f,category:r,deduplicationKey:i.deduplication_key,minGapType:b,setFeedUnitRecord:l,children:a}),h[18]=e,h[19]=r,h[20]=i.deduplication_key,h[21]=b,h[22]=l,h[23]=f,h[24]=a,h[25]=n):n=h[25];h[26]!==s||h[27]!==t||h[28]!==n?(g=o.jsx(c("CometBackupPlaceholder.react"),{fallback:s,unstable_onSuspense:t,children:n}),h[26]=s,h[27]=t,h[28]=n,h[29]=g):g=h[29];h[30]!==j||h[31]!==g?(u=o.jsx(c("CometHeroFeedItem.react"),{position:j,children:g}),h[30]=j,h[31]=g,h[32]=u):u=h[32];return u}var ia=o.memo(a);function e(a){var e,f,g,i=w(!1),j=i[0],k=i[1];i=w(!1);var n=i[0],p=i[1];i=w(!1);var ja=i[0],ka=i[1];i=d("CometRelay").usePaginationFragment(ga,a.viewerConnection);var z=i.data,A=i.hasNext,B=i.isLoadingNext,la=i.loadNext,C=d("CometRelay").useIsParentQueryActive(ga,a.viewer);i=d("CometRelay").useFragment(ha,a.viewer);var D=a.endOfFeedComponent,E=a.isReloading,ma=a.onReload,F=a.variables;a=i==null?void 0:i.is_fb_employee;z=z==null?void 0:z.news_feed;e=(e=i==null?void 0:i.can_have_friends)!=null?e:!0;f=(f=i==null?void 0:(f=i.actor)==null?void 0:f.name)!=null?f:null;var G=B||C||!n||E,H=(B=c("qex")._("3689"))!=null?B:!1;E=w(!0);var I=E[0],na=E[1],J=!j&&(A||G),K=i==null?void 0:i.injected_stories;B=(z==null?void 0:z.page_info)!=null;i=i==null?void 0:(E=i.all_friends)==null?void 0:E.friend_count;var L=(E=z==null?void 0:z.edges)!=null?E:[];z=v(null);E=c("useCometFeedViewportMaintainer")({feedClientSession:F.feedClientSession});var oa=E.maintainedViewstateIDs;E=u(function(){return{isFallbackEnabled:ja,isInNewsFeed:!0,setIsFallbackEnabled:ka}},[ja,ka]);var M=v(null);s(function(){var a={didMount:n,hasMore:J,hasNextFromPaginationFragment:A,isParentQueryActive:C,tailLoadErrored:j};if(M.current!=null&&M.current.tailLoadErrored===!1&&M.current.hasMore===!1&&J===!0){var b;if(H&&R.current>0)return;b=(b=(l||(l=c("ErrorGuard"))).applyWithGuard(function(){return JSON.stringify({hasMoreObject:a,previousHasMoreObject:M.current})},null,[]))!=null?b:"";c("FBLogger")("CometNewsfeedHasMoreUnstable").addMetadata("COMET_FEED","FEED_UNIT_RECEIVED_COUNT",String(L.length)).mustfix("hasMore unexpectedly became true again after being false\n\n%s",b)}M.current=a},[n,L.length,J,A,H,C,I,j]);var pa=(m||(m=c("useUnsafeRef_DEPRECATED")))(0),N=Math.max(pa.current,L.length);s(function(){pa.current=N},[N]);c("useCometFeedIneligibleUnitLogger")(L,y);c("useGHLNativeFunctionModificationLogger")();var O=c("useCometFeedUnitReordering")(L,!K,da,L,function(a){return oa.includes(a)}),P=O.feedEdgesToRender,qa=O.getFeedUnitStatusListPassive,ra=O.resetFeedUnitRegistry,sa=O.setFeedUnitRecord;d("CometOnRefresh").useOnRefresh(function(){ra()});var ta=r(c("HiddenSubtreePassiveContext")),Q=r(d("CometNewsFeedVPVDStore").StoreContext),ua=v(!1);s(function(){ua.current||(c("CometNewsFeedLoadedFalcoEvent").log(function(){return{connection_class:F.connectionClass,feed_unit_count:P.length.toString(),feed_unit_received_count:L.length.toString(),page_id:c("pageID"),was_in_hidden_subtree:ta.getCurrentState().hiddenOrBackgrounded_FIXME}}),ua.current=!0)},[]);s(function(){p(!0);return function(){return d("CometNewsFeedVPVDStore").resetVisibleViewstateIDs()}},[]);s(function(){d("CometNewsfeedOrderingDebuggingState").setHasInjectedStories(K!=null)},[K]);O=c("useCometFeedRequestWaterfallLogger")(L,P,!!a);var va=O[0],wa=O[1],R=v(0);a=w(!1);O=a[0];var S=a[1],T=q(function(){var a;b("cr:1142206")==null?void 0:b("cr:1142206").log("[handleLoadMore]","checking if we have hasNext or are isLoading",{hasNext:J,isLoading:G});if(H&&!I&&(!J||G))return;if(!H&&(!J||G))return;b("cr:1142206")==null?void 0:b("cr:1142206").log("[handleLoadMore]","starting tail load with trace");var d={clientQueryId:va(),recentVPVs:Q==null?void 0:Q.readRecentVPVDs()},e=c("qex")._("1327");a=c("RefreshModeConstants.facebook").cast((a=e)!=null?a:"");e!=null&&(d=babelHelpers["extends"]({},d,{refreshMode:a}));la(c("CometFeedTailLoadConfig").fetchCount,{UNSTABLE_extraVariables:babelHelpers["extends"]({},d),onComplete:function(a){a!=null?(S(!0),H&&R.current===x&&na(!1),k(!0),wa(a),b("cr:1142206")!=null&&b("cr:1142206").log("[loadNext]","Failed to fetch next page",{errorMessage:a.toString(),hasNext:J,isLoading:G,isOnline:navigator.onLine})):A===!1?H&&R.current===x&&na(!1):(R.current=0,S(!1))}})},[J,G,I,va,Q,la,H,A,wa]),xa=q(function(){k(!1),T()},[T]);a=null;K!=null&&(a=d("CometRelay").ModuleResource.read(K));var U={},V=P.map(function(a,b){if(a.node==null)return null;var c=a.deduplication_key;c!=null?(U[c]!=null?U[c]+=1:U[c]=1,c=c+"-"+U[c].toString()):c=b.toString();return{edge:a,reactKey:c}}).filter(Boolean);g=(g=c("qex")._("626"))!=null?g:0;g=g<=0?aa:g;var ya=ca(V,g,q(function(a){return a.reactKey},[])),W=0,X=P.length,za=0;g=V.map(function(a,b){b=a.edge;a=a.reactKey;b=o.jsx("div",{className:{0:"",1:"xg01cxk xlshs6z"}[!!(b.visibility_hidden===!0)<<0],"data-testid":void 0,children:d("GHLMitigationsGating").getIsGHLExtraDivForFeedUnitEnabled()?o.jsx("div",{children:o.jsx(ia,{feedEdge:b,position:W++,setFeedUnitRecord:sa,variables:F},a)}):o.jsx(ia,{feedEdge:b,position:W++,setFeedUnitRecord:sa,variables:F},a)});(ya==null?void 0:ya.cappedItemIDs.has(a))&&(X--,za++);return o.createElement(ba,babelHelpers["extends"]({},ya,{id:a,key:a}),b)});c("useSimpleImpression")(function(){c("InteractionTracing").getPendingInteractions().forEach(function(a){a.addAnnotationInt("comet_news_feed_count",X)})});b("cr:1813330")!=null&&(b("cr:1813330").setNewsFeedCount(X),b("cr:1813330").setNewsFeedStoryPositionOffset(za));V=c("useCometFeedKeyCommands")(P.length,"newsfeed",null);var Y=!G&&!J,Z=c("useCometRouterState")(),Aa=(Z=Z==null?void 0:(Z=Z.main)==null?void 0:(Z=Z.route)==null?void 0:Z.tabKey)!=null?Z:"";Z=H&&I&&L.length>0;t(function(){var a;Y&&I&&L.length>0&&((a=c("qex")._("3690"))!=null?a:!1)&&R.current<x&&(c("CometNewsFeedEofFalcoEvent").log(function(){return{connection_class:c("WebConnectionClassServerGuess").connectionClass,eof_mount_reason:"auto_retry_tail_load",feed_tab_key:Aa,feed_unit_count:X.toString(),feed_unit_received_count:L.length.toString(),is_online:c("NetworkStatus").isOnline(),max_feed_units_received_count:N.toString(),page_id:c("pageID"),position:W.toString(),was_in_hidden_subtree:ta.getCurrentState().hiddenOrBackgrounded_FIXME}}),R.current++,xa())},[Z,xa,Y]);var $=!B||j,Ba=null;Y&&(Z?Ba=null:Ba=o.jsx(d("CometPageletWithDiv.react").Placeholder,{fallback:null,name:"FeedUnit_EOF",children:o.jsx(c("CometFeedEndOfFeedMessageForNewsfeedOnly.react"),{canHaveFriends:e,endOfFeedComponent:D,feedUnitReceivedCount:L.length,feedUnitRenderedCount:X,friendsCount:i,hasPageInfo:B,isError:$,maxFeedUnitsReceived:N,onReload:ma,onTailLoadReload:xa,pageletName:"FeedUnit",position:W,renderLocation:y,setStopFutureTailLoads:S,tailLoadErrored:j,viewerName:f})}));var Ca=v({hasMore:J,isEOFError:$,isLoading:G,showEOFMessageAfterFeedStoppedLoading:Y});s(function(){Ca.current={hasMore:J,isEOFError:$,isLoading:G,showEOFMessageAfterFeedStoppedLoading:Y}},[Y,J,$,G]);e=c("gkx")("23000")||g.length===0?null:{role:"feed"};D=c("useStable")(function(){return Math.floor(d("Random").random()*5)+4});i=o.jsxs(o.Fragment,{children:[o.jsx(c("CometScreenReaderHeading.react"),{children:h._(/*BTDS*/"News Feed posts")}),d("GHLMitigationsGating").getIsGHLEmptyDivElementAfterH3Enabled()?o.jsx("div",{"aria-hidden":!0}):null,o.jsx(c("VideoAutoplayLocalScopeProvider.react"),{autoplayLocalRules:ea,children:o.jsx(c("CometClipboardCustomCopy.react"),{reformersDeferred:b("cr:3683")!=null?[b("cr:3683")]:[],children:o.jsx(c("GHLSurfaceContainerContext").Provider,{value:z,children:o.jsxs(c("CometFeedKeyboardNavPositionContext").Provider,{value:V,children:[a?o.jsx(a,{}):null,o.jsx(c("CometFeedUnitStatusListPassiveContext").Provider,{value:qa,children:o.jsx(c("CometFeedUnitSetDebugInfoContextProvider.react"),{location:"newsfeed",children:o.jsx(c("CometFeedBrandSafetyContextProvider.react"),{feedStateInfoRef:Ca,children:o.jsxs(c("CometFeed5sImpressionDelayContextProvider.react"),{children:[o.jsx(c("CometHeroHoldTrigger.react"),{description:"FeedQuery",hold:(J||G)&&X<2}),o.jsx(c("CometGHLFeedFallbackContext").Provider,{value:E,children:o.jsx(c("CometGHLFeedClassContext").Provider,{value:c("gkx")("22882"),children:o.jsx(c("CometGHLFeedRandomElementWrapperContext").Provider,{value:d("GHLMitigationsGating").getIsGHLRandomElementWrapperForFeedEnabled(),children:o.jsx(c("CometFeedInfiniteScrollSuspenseList.react"),{hasMore:J||Z,incrementalRenderingPageSizes:fa,interactionSource:0,isLoading:G,onLoadMore:T,pageletName:"FeedUnit",positionLimitForSSR:c("gkx")("23006")?1:0,reducedSpacing:c("gkx")("22999"),stopFutureTailLoads:O,waitOnScrollIntent:!0,children:g})})})})]})})})}),Ba]})})})})]});return o.jsx("div",babelHelpers["extends"]({"data-testid":void 0,ref:z},e,{children:c("gkx")("23007")?o.jsx(c("GHLRandomTags.react"),{children:i,depth:D}):i}))}e.displayName=e.name+" [from "+f.id+"]";g["default"]=e}),226);
__d("FeedsCometEndOfFeed.react",["fbt","ix","FDSCard.react","FDSIcon.react","FDSTextPairing.react","fbicon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");function a(a){a=d("react-compiler-runtime").c(6);var b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=h._(/*BTDS*/"Check back later for more updates"),a[0]=b):b=a[0];b=b;var e;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"You're all caught up on Most Recent posts"),a[1]=e):e=a[1];e=e;var f;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"x1hq5gj4"},a[2]=f):f=a[2];var g,j;a[3]===Symbol["for"]("react.memo_cache_sentinel")?(g={className:"x6s0dn4 x78zum5 xdt5ytf x1p5oq8j xxbr6pl xwxc41k xbbxn1n"},j={className:"x1yztbdb x123j3cw x1mpkggp xs9asl8 x1t2a60a"},a[3]=g,a[4]=j):(g=a[3],j=a[4]);a[5]===Symbol["for"]("react.memo_cache_sentinel")?(f=k.jsx("div",babelHelpers["extends"]({},f,{children:k.jsx(c("FDSCard.react"),{background:"default",dropShadow:1,children:k.jsxs("div",babelHelpers["extends"]({},g,{children:[k.jsx("div",babelHelpers["extends"]({},j,{children:k.jsx(c("FDSIcon.react"),{color:"positive",icon:d("fbicon")._(i("509885"),32)})})),k.jsx(c("FDSTextPairing.react"),{body:b,headline:e,level:2,textAlign:"center"})]}))})})),a[5]=f):f=a[5];return f}g["default"]=a}),226);
__d("CometModernHomeFeed.react",["CometFeedFavoritesEndOfFeedMessage.react","CometModernHomeFeedQuery.graphql","CometNewsFeed.react","CometRelay","FeedsCometEndOfFeed.react","RelayUFI2CommentsKeyContext","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=h!==void 0?h:h=b("CometModernHomeFeedQuery.graphql");function a(a){var b=d("react-compiler-runtime").c(7),e=a.cacheBreaker,f=a.feedQueryReference,g=a.isLoading;a=a.onReload;var h=d("CometRelay").usePreloadedQuery(k,f),i=String(f.variables.orderby);e=i+"_"+e;i=f.variables.feedStyle==="FAVORITES_FEED"&&!c("gkx")("20836")?c("CometFeedFavoritesEndOfFeedMessage.react"):i==="MOST_RECENT"?c("FeedsCometEndOfFeed.react"):void 0;var l;b[0]!==h.viewer||b[1]!==i||b[2]!==e||b[3]!==f.variables||b[4]!==g||b[5]!==a?(l=j.jsx(c("RelayUFI2CommentsKeyContext").Provider,{value:"CometModernHomeFeedQuery",children:j.jsx(c("CometNewsFeed.react"),{endOfFeedComponent:i,isReloading:g,onReload:a,variables:f.variables,viewer:h.viewer,viewerConnection:h.viewer},e)}),b[0]=h.viewer,b[1]=i,b[2]=e,b[3]=f.variables,b[4]=g,b[5]=a,b[6]=l):l=b[6];return l}e=j.memo(a);g["default"]=e}),98);