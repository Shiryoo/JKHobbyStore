;/*FB_PKG_DELIM*/

__d("EARInitType",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["EB_INIT","LS_INIT","MAW_INIT","MAW_RP_INIT","MAW_IN_UI_INIT"]);c=a;f["default"]=c}),66);
__d("EBAPIWorkerCheck",[],(function(a,b,c,d,e,f){"use strict";function a(){try{return WorkerGlobalScope!==void 0&&self instanceof WorkerGlobalScope}catch(a){return!1}}f.runningInWorker=a}),66);
__d("EBMainThreadEBDBApiDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("EBMainThreadEBDBApi").__setRef("EBMainThreadEBDBApiDeferred");function a(a,b,c){return h.load().then(function(d){return d.initEBDB(a,b,c)})}function b(a){return h.load().then(function(b){return b.migrateEBSMtoWORM(a)})}function d(){return h.load().then(function(a){return a.startListeningDeviceRegistrations()})}function e(a){return h.load().then(function(b){return b.trackOverprompting(a)})}function f(a){return h.load().then(function(b){return b.addNewDevice(a)})}function i(){return h.load().then(function(a){return a.getEBDBDump()})}function j(){return h.load().then(function(a){return a.clearWorkerState()})}function k(a,b){return h.load().then(function(c){return c.trackConsistency(a,b)})}function l(a){return h.load().then(function(b){return b.flushEBSMtoEBDB(a)})}function m(a){return h.load().then(function(b){return b.rehydrateEBSMFromEBDB(a)})}g.initEBDB=a;g.migrateEBSMtoWORM=b;g.startListeningDeviceRegistrations=d;g.trackOverprompting=e;g.addNewDevice=f;g.getEBDBDump=i;g.clearWorkerState=j;g.trackConsistency=k;g.flushEBSMtoEBDB=l;g.rehydrateEBSMFromEBDB=m}),98);
__d("LSPlatformErrorChannel",["FBLogger","ODS","XPlatReactEventEmitter"],(function(a,b,c,d,e,f,g){"use strict";var h,i="onLSError",j=new(c("XPlatReactEventEmitter"))(),k=0,l=null;function a(a){l===null&&((h||(h=d("ODS"))).bumpEntityKey(3185,"lsplatform_error","first_error_emitted_to_"+k+"listeners"),k===0&&c("FBLogger")("messenger_web").mustfix("No listeners when emitting LS error %s",a.name)),l=a,j.emit(i,a)}function b(a){var b=j.addListener(i,a);k++;return function(){return b.remove()}}function e(){return l}function f(){j.removeAllListeners(i),l=null}f={TEST_ONLY_clear:f,emit:a,lastError:e,subscribe:b};g["default"]=f}),98);
__d("MAWEARGenNewKeychainCryptoKey",["FBLogger","MAWCryptoConsts","MAWKeychainCrypto","MAWWebInitDataHelpers","MessengerWebInitData","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";async function a(){try{var a,b=d("MAWWebInitDataHelpers").getLastAccountKeyFormatVersion(),e=(await (a=d("MAWKeychainCrypto")).getAccountKeys(b))[0],f=a.genBrowserEncryptionKeyString(),g=a.genDatabaseEncryptionSeed();e=await a.encryptDataToStringBuffer(e,g);g=d("WATimeUtils").castToUnixTime(d("WATimeUtils").unixTime()+d("MAWCryptoConsts").ENC_KEY_TTL);return{accountKeyString:await a.generateHashString(d("MAWWebInitDataHelpers").getAccountKeysString(b)[0]),appIdOrigin:c("MessengerWebInitData").appId,expiration:g,formatVersion:b,key:f,seed:e,userKeyBaseString:await a.generateHashString(c("MessengerWebInitData").userKeyBase)}}catch(a){throw c("FBLogger")("messenger_web").catching(a).mustfixThrow("Failed to generateNewKey")}}g.default=a}),98);
__d("MAWEARKeychainDecryptionError",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.name="MAWEARKeychainDecryptionError";c.message=b;return c}return b}(babelHelpers.wrapNativeSuper(Error));f["default"]=a}),66);
__d("MAWWorkerSetupArgs",[],(function(a,b,c,d,e,f){"use strict";var g=null;function a(a){g=a}function b(){return g}function c(){g=null}f.setWorkerSetupArgs=a;f.getWorkerSetupArgs=b;f.resetWorkerSetupArgs=c}),66);
__d("MAWGenKeychainCryptoKeyWithVersion",["ExecutionEnvironment","FBLogger","MAWCurrentUser","MAWEARKeychainDecryptionError","MAWKeychainCrypto","MAWWebInitDataHelpers","MAWWorkerSetupArgs","MessengerWebInitData"],(function(a,b,c,d,e,f,g){"use strict";var h;async function a(a,b,e,f,g,i,j){f===void 0&&(f=1);try{var k=await d("MAWKeychainCrypto").getAccountKeys(f);a=await Promise.all([d("MAWKeychainCrypto").importBrowserEncryptionKey(a),Promise.all(k.map(function(a){return d("MAWKeychainCrypto").decryptDataToArrayBuffer(a,b).catch(function(){return null})}))]);var l=a[0];k=a[1];a=await Promise.all(k.filter(Boolean).map(function(a){return d("MAWKeychainCrypto").genDatabaseEncryptionKey(l,a).catch(function(){return null})}));k=a.filter(Boolean);if(k.length===0)throw new(c("MAWEARKeychainDecryptionError"))("Failed to generate keys from seed");return{keys:k,version:e}}catch(b){a=null;k=null;e=d("MAWWorkerSetupArgs").getWorkerSetupArgs();(h||(h=c("ExecutionEnvironment"))).isInWorker&&e!=null&&(a=e.userKeyBase===c("MessengerWebInitData").userKeyBase,k=e.fbId===d("MAWCurrentUser").getID());e=d("MAWWebInitDataHelpers").getAccountKeysString(f);var m=e&&e[0]!=null?await d("MAWKeychainCrypto").generateHashString(e[0]):null;c("FBLogger")("messenger_web").catching(b).mustfix("Failed to genKeyWithVersion: accountKeyBackfilled = %s; accountKeyExists = %s; acccountKeyMatches = %s; userKeyBaseBackilled = %s; userKeyBaseExists = %s; userKeyBaseMatches = %s; appIdOrigin = %s; appIdInitData = %s; userIdMatches = %s; isInWorker = %s; userKeyBase_match_between_threads = %s; userId_match_between_threads = %s; formatVersion = %s;",g!=null,e!=null,g===m,i!=null,c("MessengerWebInitData").userKeyBase!=null,i===await d("MAWKeychainCrypto").generateHashString(c("MessengerWebInitData").userKeyBase),j,c("MessengerWebInitData").appId,d("MAWCurrentUser").getID()===String(c("MessengerWebInitData").userId),(h||(h=c("ExecutionEnvironment"))).isInWorker,a,k,f);throw b}}g.default=a}),98);
__d("MWEARKeychainV3Errors",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.name="EARKeychainNotFoundError";c.message=b;return c}return b}(babelHelpers.wrapNativeSuper(Error));f.EARKeychainNotFoundError=a}),66);
__d("MWLocalStorageErrorHandler",["cr:3449"],(function(a,b,c,d,e,f,g){"use strict";function a(){b("cr:3449")&&b("cr:3449").clearLocalStorageBigValues()}g.onQuotaExceeded=a}),98);
__d("MAWLocalStorage",["LocalStorageWrapper","MWLocalStorageErrorHandler","WALogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["not storage found"]);h=function(){return a};return a}function i(a){d("WALogger").LOG([a])}function j(a){d("WALogger").ERROR([a])}function a(){return d("LocalStorageWrapper").getStorage(i)}function b(){return d("LocalStorageWrapper").isLocalStorageAvailable(i)}function c(a,b,c){return d("LocalStorageWrapper").setItemGuarded(a,b,c,j,d("MWLocalStorageErrorHandler").onQuotaExceeded)}function e(a,b){a==null?d("WALogger").ERROR(h()):a.removeItem(b)}g.getStorage=a;g.isLocalStorageAvailable=b;g.setItemGuarded=c;g.removeItemGuarded=e}),98);
__d("MWTabCommunicationChannel",["MAWLocalStorage"],(function(a,b,c,d,e,f,g){"use strict";var h=typeof window!=="undefined"?window:self;function i(a){var b=d("MAWLocalStorage").getStorage(),c=function(c){d("MAWLocalStorage").setItemGuarded(b,a,JSON.stringify(c))},e=function(c){window.removeEventListener("storage",c),d("MAWLocalStorage").removeItemGuarded(b,a)},f=function(a){window.addEventListener("storage",a)},g=function(b){return b!=null&&b.key===a&&typeof b.newValue==="string"?JSON.parse(b.newValue):null};return{getMessage:g,onRequestReceived:function(a){var b=function(b){b=g(b);b!=null&&a(b)};f(b);return{release:function(){e(b)}}},sendMessage:c,stopWaitingForReply:e,waitForReply:f}}function j(a){var b=new h.BroadcastChannel(a),c=new Set();b.addEventListener("message",function(a){c.forEach(function(b){b(a)})});var d=function(a){c.add(a)},e=function(a){c["delete"](a)};a=function(a){b.postMessage(JSON.stringify(a))};var f=function(a){return a!=null&&typeof a.data==="string"?JSON.parse(a.data):null};return{getMessage:f,onRequestReceived:function(a){var b=function(b){b=f(b);b!=null&&a(b)};d(b);return{release:function(){e(b)}}},sendMessage:a,stopWaitingForReply:e,waitForReply:d}}function a(a){return h.BroadcastChannel!=null?j(a):i(a)}g.getChannel=a}),98);
__d("MWTabCommunication",["MWTabCommunicationChannel","Promise","clearTimeout","pageID","promiseDone","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,b){var c=this;this.$2=null;this.$5=function(a){a=c.$4.getMessage(a);a!=null&&a.a==="sb"&&a.t!==c.tabID()&&a.r===c.tabID()&&a.k!=null&&(c.$2&&c.$2(a.k),c.$4.stopWaitingForReply(c.$5),c.$2=null)};this.$1=a;this.$3=b!=null?b:500;this.$4=d("MWTabCommunicationChannel").getChannel(a)}var e=a.prototype;e.tabID=function(){return c("pageID")};e.$6=function(){var a={a:"r",t:this.tabID()};this.$4.sendMessage(a)};e.listenToRequest=function(a){return this.listenToRequestAsync(function(){return(h||(h=b("Promise"))).resolve(a())})};e.listenToRequestAsync=function(a){var b=this,d=function(d){d.a==="r"&&d.t!==b.tabID()&&c("promiseDone")(a().then(function(a){a={a:"sb",k:a,r:d.t,t:b.tabID()};b.$4.sendMessage(a)}))};return this.$4.onRequestReceived(d)};e.$7=function(){var a=this;return new(h||(h=b("Promise")))(function(b){a.$2=b,a.$4.waitForReply(a.$5),a.$6()})};e.request=function(a,d){var e=this,f,g=function(){f!=null&&c("clearTimeout")(f)};return(h||(h=b("Promise"))).race([this.$7().then(function(b){e.$4.stopWaitingForReply(e.$5);return a(b)}),new h(function(a){f=c("setTimeout")(function(){a(d()),e.$4.stopWaitingForReply(e.$5)},e.$3)})]).then(function(a){g();return a})};return a}();g.MWTabCommunication=a}),98);
__d("MWLSDatabaseNames",[],(function(a,b,c,d,e,f){"use strict";a="LightSpeed";b=a+"V3";f.name=a;f.lightspeedPrefix=b}),66);
__d("MWLSIndexedDBName",["MAWCurrentUser","MWLSDatabaseNames"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MAWCurrentUser").getID();return d("MWLSDatabaseNames").lightspeedPrefix+a}g.dbName=a}),98);
__d("ReStoreTabNotifier",["CurrentMessengerUser","FBLogger","MWBroadcastChannel","MWLSIndexedDBName"],(function(a,b,c,d,e,f,g){"use strict";var h=d("CurrentMessengerUser").getIDorEIMU();function a(a){var b=d("MWBroadcastChannel").MWBroadcastChannel(a==="restore-table-"+h+"-"+d("MWLSIndexedDBName").dbName()?"mwChat-"+h:a);function e(a,d){try{b.postMessage([a,d])}catch(a){c("FBLogger")("messenger_web").catching(a).warn("Failed to broadcast changes")}}function f(a,c){b.addEventListener("message",function(b){b=b.data;var d=b[0];d===a&&c(b[1])})}return{onEventReceive:f,postMessage:e}}g["default"]=a}),98);
__d("MWEARKeychainV3",["$InternalEnum","Deferred","ExecutionEnvironment","FBLogger","LSPlatformLsInitLog","MAWCryptoConsts","MAWCurrentUser","MAWEARGenNewKeychainCryptoKey","MAWGenKeychainCryptoKeyWithVersion","MAWQplProxy","MAWReliabilityMonitor","MWEARKeychainV3Errors","MWTabCommunication","QPLUserFlow","Random","ReStoreTabNotifier","WAArrayBufferUtils","WAResultOrError","WATimeUtils","err","getErrorSafe","gkx","memoizeOneWithArgs","promiseDone","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(){return{accountKey:null,databaseEncryptionKeys:new Map(),dbReady:new(c("Deferred"))(),latestVersion:d("MAWCryptoConsts").VERSION}},j={global_ear:i(),maw_ear:i()},k=null,l=function(){var a=Object.keys(j).reduce(function(a,b){a[b]="none";return a},{});return{get:function(b){return a[b]},is:function(b,c){return a[b]===c},set:function(b,c){a[b]=c;(b=k)==null?void 0:b.updateState()}}}();function a(a){j[a]=i(),l.set(a,"none")}function e(a,b){l.set(a,b)}function m(a){var b=d("Random").uint32();while(a.some(function(a){return a.randomisedVersion===b}))b=d("Random").uint32();return b}var n={global_ear:function(){return null},maw_ear:function(){return null}},o=function(a){return n[a]()},p=function(a,b){n[a]=function(){return b}},q=function(a,b){p(a,b),v(a).dbReady.resolve()},r={global_ear:"browserEncryptionMetaV2",maw_ear:"encryptionMetaV3"},s=c("memoizeOneWithArgs")(function(a,b){return new(d("MWTabCommunication").MWTabCommunication)("ear_keys_"+b+"_"+a)});async function f(a,b,e){var f;e===void 0&&(e=K);c("gkx")("9396")&&c("FBLogger")("messenger_web").info("Initialise EAR keychain: %s",a);k=I(a);if(l.is(a,"success")&&v(a).databaseEncryptionKeys.size!==0)return d("WAResultOrError").makeResult(u(a));var g=d("MAWCurrentUser").getID(),i=c("ReStoreTabNotifier")("channel-ear-keychain-v3-"+g);i.onEventReceive("notifyEarKeychainV2",E);var j=(h||(h=c("ExecutionEnvironment"))).isInWorker?"Worker":"UI";e(a+"_ear_init_start",{string:(f={},f["initFlow_"+a+"_"+j]=b,f)});try{b=await J(i,a,void 0,e);e(a+"_ear_import_end");for(f of b)v(a).databaseEncryptionKeys.set(f.result.version,{dbEntry:f.entry,keys:f.result.keys});D(a);s(a,g).listenToRequest(function(){return JSON.stringify(Array.from(v(a).databaseEncryptionKeys.entries()).map(function(a){var b=a[0];a=a[1];var c=a.dbEntry;a=a.keys;return[b,{dbEntry:c,keys:a.map(function(a){return d("WAArrayBufferUtils").arrayBufferToString(a)})}]}))});e(a+"_ear_init_end",{string_array:(i={},i[a+"_randomisedVersionKeys"+j]=t(a).map(function(a){a[0];a=a[1].dbEntry;return String(a.randomisedVersion)}),i)});l.set(a,"success");return d("WAResultOrError").makeResult(u(a))}catch(b){l.set(a,"failure");e(a+"_ear_init_error");c("gkx")("9396")&&c("FBLogger")("messenger_web").catching(c("getErrorSafe")(b)).mustfix("Failed to setup EAR Keychain V3. Namespace: %s",a);return d("WAResultOrError").DEPRECATED_makeError("keychain-setup-failure",b)}}function t(a){return Array.from(v(a).databaseEncryptionKeys.entries())}function u(a){return v(a).latestVersion}function v(a){return j[a]}function w(a,b){var e=(b=b)!=null?b:u(a);b=v(a).databaseEncryptionKeys.get(e);if(b==null){c("promiseDone")(A(a).then(function(a){var b=a.map(function(a){return a.version}).includes(e);c("FBLogger")("messenger_web").info("EAR Keychain DB match found: %s. Version = %s. NumberVersions = %s",b,e,a.length)}));var f=u(a),g=Array.from(v(a).databaseEncryptionKeys.keys());c("FBLogger")("messenger_web").mustfix("EAR Key v%s was null. Latest version: %s has key: %s, keychain length: %s, currentLatestVersion: %s, init status %s, in worker %s",e,f,v(a).databaseEncryptionKeys.get(f)==null,v(a).databaseEncryptionKeys.size,Math.max.apply(Math,g),l.get(a),(h||(h=c("ExecutionEnvironment"))).isInWorker);throw new(d("MWEARKeychainV3Errors").EARKeychainNotFoundError)("EAR Key "+e+" was null.")}return{dbEntry:b.dbEntry,keys:b.keys,randomisedVersion:b.dbEntry.randomisedVersion,version:e}}function x(a){return c("MAWGenKeychainCryptoKeyWithVersion")(a.key,a.seed,a.version,a.formatVersion,a.accountKeyString,a.userKeyBaseString,a.appIdOrigin)}var y=b("$InternalEnum")({UNKNOWN:-1,NO_KEY:0,EBSM_EARV2_UPGRADE:1,RANDOMISED_VERSION_UPGRADE:2,EXPIRED_KEY:3,FORCE_KEY_ROTATION:4});function z(a){var b;if(a.length===0)return{reason:y.NO_KEY,result:!0};a=a[a.length-1];b=(b=a.formatVersion)!=null?b:1;if(c("gkx")("7292")&&b<2)return{reason:y.EBSM_EARV2_UPGRADE,result:!0};return!d("WATimeUtils").isInFuture(a.expiration)?{reason:y.EXPIRED_KEY,result:!0}:{result:!1}}function A(a){var b=C(a,"readonly");return new Promise(function(c,d){b.onabort=function(){return d(b.error)};b.onerror=function(){return d(b.error)};var e=b.objectStore(r[a]).getAll();e.onsuccess=function(){return c(e.result)};e.onerror=function(){return d(e.error)}}).then(B)}function B(a){var b=a.find(function(a){return a.version==null});b!=null&&c("FBLogger")("messenger_web").mustfix("EAR Keychain Rotation null version: fields nonnull: %s %s %s %s %s %s",b.id==null,b.key==null,b.seed==null,b.formatVersion==null,b.accountKeyString==null,b.userKeyBaseString==null);b=a.filter(function(a){return a.version!=null});return b.sort(function(a,b){return a.version-b.version})}function C(a,b){var d=o(a);if(d==null)throw c("err")("Encryption IndexDB should've been initialized. Namespace: %s",a);return d.transaction(r[a],b,{durability:"strict"})}var D=function(a){var b=Array.from(v(a).databaseEncryptionKeys.keys());b.length>0?v(a).latestVersion=Math.max.apply(Math,b):c("FBLogger")("messenger_web").mustfix("EAR latest version does not exist")},E=function(a){var b=a.namespace,d=a.version;c("promiseDone")(async function(){try{c("FBLogger")("messenger_web").info("Received key rotation notification. Namespace: %s",b);await v(b).dbReady.getPromise();var a=(await A(b)).find(function(a){return a.version===d});if(a==null)throw c("err")("Notified new Ear Key but missing in DB");var e=await x(a);v(b).databaseEncryptionKeys.set(e.version,{dbEntry:a,keys:e.keys});D(b);c("FBLogger")("messenger_web").info("Rotated key successfully. Namespace: %s",b)}catch(a){return c("FBLogger")("messenger_web").catching(a).mustfix("Failed to handleNewVersion. In worker %s. Namespace: %s.",(h||(h=c("ExecutionEnvironment"))).isInWorker,b)}}())};function F(a){return l.get(a)!=="none"}function G(a){return l.get(a)}function H(a){if(l.is(a,"success")){v(a).databaseEncryptionKeys.size===0&&c("FBLogger")("messenger_web").mustfix("Keychain initialised but no keys present");return!0}return!1}function I(a){return d("MAWReliabilityMonitor").MAWReliabilityMonitorSingleton.startMonitoring("EARv3",function(){return{extra:{isKeychainInitialised:H(a).toString(),latestVersion:u(a).toString()},reason:l.get(a),state:function(){switch(l.get(a)){case"none":return d("MAWReliabilityMonitor").HealthReportState.PENDING;case"success":return d("MAWReliabilityMonitor").HealthReportState.OK;case"failure":return d("MAWReliabilityMonitor").HealthReportState.ERROR;default:return d("MAWReliabilityMonitor").HealthReportState.UNKNOWN}}()}})}async function J(a,b,d,e){var f=await c("MAWEARGenNewKeychainCryptoKey")();e(b+"_ear_raw_key_generated");var g=await new Promise(function(g,i){var j=C(b,"readwrite");j.onerror=function(){return i(j.error)};j.onabort=function(){return i(j.error)};var k=j.objectStore(r[b]).getAll();k.onerror=function(){return i(k.error)};k.onsuccess=function(){var l;e(b+"_ear_keys_fetched");var n=B(k.result),o=z(n),p=o.reason;o=o.result;if((d==null?void 0:d.forceKeyRotation)!==!0&&!o)return g(n);p=(d==null?void 0:d.forceKeyRotation)===!0?y.FORCE_KEY_ROTATION:(o=p)!=null?o:y.UNKNOWN;o=n.map(function(a){return a.version});l=(l=o[o.length-1])!=null?l:0;c("FBLogger")("messenger_web").info("Key rotation. EAR versions: %s. Latest version: %s. Namespace: %s, Worker: %s",o.toString(),l,b,(h||(h=c("ExecutionEnvironment"))).isInWorker);var q=babelHelpers.extends({},f,{randomisedVersion:m(n),source:p,version:l+1});e(b+"_ear_adding_new_key");j.oncomplete=function(){n.push(babelHelpers.extends({},q,{id:q.version})),a.postMessage("notifyEarKeychainV2",{namespace:b,version:q.version}),e(b+"_ear_gen_key_end"),g(n)};var s=j.objectStore(r[b]).add(q);s.onerror=function(){return i(c("FBLogger")("messenger_web").catching(s.error).mustfixThrow("Failed to rotate EAR key"))}}});e(b+"_ear_import_start");g=await Promise.allSettled(g.map(function(a){return x(a).then(function(b){return{entry:a,result:b}})}));var i=g[g.length-1];if(i.status==="rejected"){var j;j=(j=d==null?void 0:d.corruptedEARRetryCount)!=null?j:0;if(j>=1)throw i.reason;return J(a,b,{corruptedEARRetryCount:j+1,forceKeyRotation:!0},e)}return g.map(function(a){if(a.status==="fulfilled")return a.value}).filter(Boolean)}var K=function(a,b){d("LSPlatformLsInitLog").addPoint(a,b),L(a,b)},L=function(a,b){var e=c("qpl")._(25310776,"6155");(h||(h=c("ExecutionEnvironment"))).isInWorker?d("MAWQplProxy").sendQplPointThroughBridge(e,"backend_"+a,{annotations:b}):(c("QPLUserFlow").addPoint(e,"ui_"+a),b!=null&&c("QPLUserFlow").addAnnotations(e,b))};b=function(a,b){return s(a,b).request(function(b){b=JSON.parse(b);b.forEach(function(b){var c=b[0];b=b[1];var e=b.keys.map(d("WAArrayBufferUtils").stringToArrayBuffer);v(a).databaseEncryptionKeys.set(c,{dbEntry:b.dbEntry,keys:e})});D(a);l.set(a,"success");return!0},function(){return!1})};g.InitStatus=l;g.resetKeychain__TEST_ONLY_DO_NOT_USE=a;g.setInitStatus__TEST_ONLY_DO_NOT_USE=e;g.generateNewRandomisedVersionNumber=m;g.setNamespaceSourceDbWithoutMarkingDbReady=p;g.setNamespaceSourceDbAndMarkAsReady=q;g.getEncryptionKeysTabCommunication=s;g.init=f;g.getLatestVersion=u;g.getKeychain=v;g.getDbEncryptionKey=w;g.isKeychainSettled=F;g.getKeychainInitStatus=G;g.isKeychainInitialised=H;g.logMawInitPoint=L;g.importKeysFromOtherTab=b}),98);
__d("EBSMHydrationUtils",["EBAPIWorkerCheck","EBSMProperties","MAWEncryptedBackupsPersistedDB","MAWLSDBEncryption","MAWLoggerDeferred","MWEBUseLocalStorage","MWEncryptedBackupsLocalStorageEntryEnum","QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Error loading data from EB State db to in memory ReStore"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Loaded data from EB State db to in memory ReStore"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Error loading table "," from EB State db to in memory ReStore"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Hydrated ",": "," rows"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Hydration not performed for "," because its not present in IDB"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] EBSM hydration failed due to IDB transaction error: ",""]);m=function(){return a};return a}function n(a){var b=[];a=a;while(a!==0)b.push(a.hd),a=a.tl;return b}function o(a,b){c("QPLUserFlow").addPoint(c("qpl")._(521481876,"1407"),"EBSM_HYDRATION_GET_ROWS_OF_"+b.toUpperCase());return new Promise(function(e,f){var g=[],h,i;try{i=a.transaction(b,"readonly"),h=i.objectStore(b).openCursor()}catch(a){void d("MAWLoggerDeferred").ERROR(m(),a);return f(null)}h.onsuccess=function(a){a=a.target.result;if(a){var c=a.key,e=a.value;e=d("MAWLSDBEncryption").decryptLSDBObj(e,b);e!=null&&e.isLeaf!==void 0&&(e.keys!==void 0&&Array.isArray(e.keys)&&e.keys.length>0&&!Array.isArray(e.keys[0])&&(e.keys=e.keys.filter(function(a){return a!=null&&typeof a==="object"&&!Array.isArray(a)}).map(function(a){return n(a)})));g.push({key:c,value:e});a.continue()}};h.onerror=function(a){c("QPLUserFlow").addPoint(c("qpl")._(521481876,"1407"),"EBSM_HYDRATION_CURSOR_ERROR_ON_"+b.toUpperCase());return f(a)};i.onerror=function(a){c("QPLUserFlow").addPoint(c("qpl")._(521481876,"1407"),"EBSM_HYDRATION_TRANSACTION_ERROR_"+b.toUpperCase());return f(a)};i.onabort=function(a){c("QPLUserFlow").addPoint(c("qpl")._(521481876,"1407"),"EBSM_HYDRATION_TRANSACTION_ABORT_ERROR_"+b.toUpperCase());return f(a)};i.oncomplete=function(){c("QPLUserFlow").addPoint(c("qpl")._(521481876,"1407"),"EBSM_HYDRATION_TRANSACTION_COMPLETE_"+b.toUpperCase()),e(g)}})}async function a(a){var b=new Map();await d("MAWEncryptedBackupsPersistedDB").isDBBeingUpgraded();c("QPLUserFlow").addPoint(c("qpl")._(521481876,"1407"),"EBSM_HYDRATION_LOAD_DATA_FROM_IDB");return Promise.all(Array.from(c("EBSMProperties").persistedTables).map(function(e){if(!a.objectStoreNames.contains(e)){c("QPLUserFlow").addPoint(c("qpl")._(521481876,"1407"),"EBSM_HYDRATION_TABLE_"+e.toUpperCase()+"_NOT_IN_IDB");void d("MAWLoggerDeferred").WARN(l(),e);return!0}var f=o(a,e),g=new Map();return f.then(function(a){a.map(function(a,b){g.set(a,b)});b.set(e,g);if(e==="secure_encrypted_backups_client_state"&&g.size===0){a=d("EBAPIWorkerCheck").runningInWorker()?!1:d("MWEBUseLocalStorage").mwEBGetIsLocalStorageEntryValuePresent(c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_RESTORED_IN_CURRENT_SESSION);a&&c("QPLUserFlow").addAnnotations(c("qpl")._(521481876,"1407"),{string:{missing_eb_keys:"true"}})}c("QPLUserFlow").addPoint(c("qpl")._(521481876,"1407"),"EBSM_HYDRATION_DONE_ON_"+e.toUpperCase());void d("MAWLoggerDeferred").LOG(k(),e,g.size);return!0},function(){c("QPLUserFlow").addPoint(c("qpl")._(521481876,"1407"),"EBSM_HYDRATION_FAILED_ON_"+e.toUpperCase());void d("MAWLoggerDeferred").ERROR(j(),e);return!1})})).then(function(a){var e=!0;a.forEach(function(a){a||(e=!1)});if(e){c("QPLUserFlow").addPoint(c("qpl")._(521481876,"1407"),"EBSM_HYDRATION_DONE_ON_ALL_TABLES_SUCCESSFULLY");void d("MAWLoggerDeferred").LOG(i());return Promise.resolve(b)}else{c("QPLUserFlow").addPoint(c("qpl")._(521481876,"1407"),"EBSM_HYDRATION_FAILED_TO_LOAD_DATA_FROM_IDB");void d("MAWLoggerDeferred").ERROR(h());return Promise.reject(b)}})}g.getAllRowsByTableName=o;g.loadEBdataToEphemeralRestore=a}),98);
__d("LSE2EEMetadataSyncGroupUtils",["gkx","isArmadillo","isInstamadillo","qex"],(function(a,b,c,d,e,f,g){"use strict";var h=c("isArmadillo")()||c("gkx")("23910")===!0&&!c("isInstamadillo")(),i=c("qex")._("923")===!0&&!c("isInstamadillo")();function a(){return h}function b(){return h?{groupId:95}:null}function d(){return i?{groupId:95}:null}g.shouldAlwaysResetE2EEMetadata=a;g.getE2EEMetadataSyncGroup=b;g.getE2EEMetadataSyncGroupForIGDSyncGroup=d}),98);
__d("LSMailboxInitialSyncCursor",["I64","LSPlatformMessengerSyncParams","LSPlatformWorkplaceSyncParams","gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";var h;a=c("gkx")("23433")||c("gkx")("23434");b=c("gkx")("20836")?c("LSPlatformWorkplaceSyncParams").mailbox:c("LSPlatformMessengerSyncParams").mailbox;e=(h||(h=d("I64"))).of_int32(a&&(c("qex")._("422")===!0||c("qex")._("4331")===!0)?3:1);f=h.of_int32(a&&(c("qex")._("422")===!0||c("qex")._("4375")===!0)?3:1);d=h.of_int32(0);g.syncParams=b;g.taskChannel=e;g.syncChannel=f;g.lastSyncTimestampMs=d}),98);
__d("LSDatabase",[],(function(a,b,c,d,e,f){}),null);
__d("LSSyncGroupsUtils",["CurrentLocale","LSIntEnum","LSMailboxInitialSyncCursor"],(function(a,b,c,d,e,f,g){"use strict";var h;a={locale:c("CurrentLocale").get()};b={canIgnoreTimestamp:!1,currentCursor:void 0,dataTraceId:void 0,groupId:(h||(h=d("LSIntEnum"))).ofNumber(0),initTraceTimestampMs:void 0,lastSyncCompletedTimestampMs:void 0,lastSyncRequestTimestampMs:h.ofNumber(0),minTimeToSyncTimestampMs:h.ofNumber(-1),priority:h.ofNumber(0),regionHint:void 0,sendSyncParams:!0,syncChannel:d("LSMailboxInitialSyncCursor").syncChannel,syncParams:JSON.stringify(a),syncStatus:h.ofNumber(0)};e={epochId:void 0,failureCount:h.ofNumber(0),lastDelayedRequestTimestampMs:void 0,lastSentTimestampMs:h.ofNumber(0),lastSyncRequestTimestampMs:h.ofNumber(0),networkTaskIdentifier:void 0,syncDatabaseId:h.ofNumber(0),taskQueueName:""};f=h.ofNumber(9999999999999);g.defaultSyncParams=a;g.defaultSyncGroup=b;g.defaultNetworkRequest=e;g.neverSyncTimestamp=f}),98);
__d("MNetRankType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNDEFINED_RANKING_TYPE:-1,INBOX_ACTIVE_NOW:0,MESSENGER_USER_SEARCH:1,MONTAGE_USER:2,BROADCAST_FLOW_TOP_CONTACTS:3,BROADCAST_FLOW_NEEDY_CONTACTS:4,MESSENGER_GROUP_SEARCH:5,RTC_TOP_CONTACTS:6,PSTN_TOP_CONTACTS:7,MESSENGER_NON_CONTACT_SEARCH:8,MESSENGER_SEARCH_BOOTSTRAP:9,ACTIVE_BEEPER:10,MONTAGE_AND_ACTIVE_NOW:11,MESSENGER_PAGE_SEARCH:12,MESSENGER_GAME_SEARCH:13,WWW_NULLSTATE:14,RTC_GROWTH:15,MESSENGER_OMNIPICKER_NULLSTATE:16,RTC_SEQUENTIAL_TOP_CONTACTS:17,MESSENGER_USER_SEARCH_NULLSTATE:18,MLITE_DIODE_PROMOTION:19,MESSENGER_PENDING_REQUEST:20,MESSENGER_CLOSE_CONNECTION:21,MESSENGER_MONTAGE_SEEN_SHEET:22,MESSENGER_OMNIPICKER_KEYPRESS:23,MESSENGER_NOTIF_QP_TARGETING_UPSELL_TYPE:24,CONTACT_TAB_ACTIVE_NOW:26,MESSENGER_UNIV_NULLSTATE_BLEND:27,MESSENGER_INBOX_THREADS:28,INBOX_ACTIVE_NOW_NO_BOOSTING:29,BROADCAST_FLOW_TOP_CONTACTS_FB_SHARE:30,BROADCAST_FLOW_TOP_CONTACTS_MESSENGER_SHARE:31,BROADCAST_FLOW_TOP_CONTACTS_EXTERNAL_SHARE:32,MESSENGER_TRENDING_STICKERS:33,MESSENGER_BROADCAST_FLOW_TOP_THREADS:34,MESSENGER_SENDS_28D:35,MESSENGER_ROOM_INVITE:36,MESSENGER_ROOM_INVITE_SEARCH:37,INBOX_ACTIVE_NOW_PREFETCH:38,MESSENGER_BLENDED_KEYPRESS:39,MESSENGER_BLENDED_NULLSTATE:40,MESSENGER_CARRIER_MESSAGING:41,MESSENGER_ROOM_INVITE_GROUP:42,MESSENGER_INBOX_BIRTHDAY_ITEM:43,INSTAGRAM_DIRECT_SEARCH_NULLSTATE:44,BROADCAST_FLOW_TOP_CONTACTS_AND_TOP_THREAD_FB_SHARE:45,BROADCAST_FLOW_TOP_THREADS_FB_SHARE:46,FB_H_SCROLL_RANKING:47,FB_MESSAGING_USER_SEARCH:48,FB_MESSAGING_USER_SEARCH_NULLSTATE:49,MESSENGER_ACTIVE_NOW_TRAY_ACTIVE_CC:50,MESSENGER_SHARE_SHEET:51,MESSENGER_COMMUNITY_TAB_UNJOINED_COMMUNITIES:52,MESSENGER_BCF_FREQUENTS:53,FB_ORIGINAL_PRIVATE_SHARING:54});f["default"]=a}),66);
__d("isSearchQualityEnabled",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("3283")}g["default"]=a}),98);
__d("seedUserInfo",["CurrentMessengerUser","I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;async function a(a){var b=d("CurrentMessengerUser").getIDorEIMU();await a._user_info.put({facebookUserId:(h||(h=d("I64"))).of_string(b),id:(i||(i=d("LSIntEnum"))).ofNumber(1)})}g.default=a}),98);
__d("LSDefaultSyncGroups",["CurrentEnvironment","I64","LSE2EEMetadataSyncGroupUtils","LSIntEnum","LSMailboxInitialSyncCursor","LSPlatformLsInitLog","LSSyncGroupsUtils","MNetRankType","ReQL","cr:17238","gkx","isInstamadillo","isSearchQualityEnabled","justknobx","promiseDone","seedUserInfo"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=new Set();d("LSE2EEMetadataSyncGroupUtils").shouldAlwaysResetE2EEMetadata()&&j.add(95);var k=c("justknobx")._("3638")||c("isInstamadillo")();e=c("justknobx")._("3637");f=d("LSE2EEMetadataSyncGroupUtils").getE2EEMetadataSyncGroup();e=[{groupId:1,lastSyncRequestTimestampMs:d("LSMailboxInitialSyncCursor").lastSyncTimestampMs,syncChannel:d("LSMailboxInitialSyncCursor").syncChannel,syncParams:d("LSMailboxInitialSyncCursor").syncParams},{groupId:2,lastSyncRequestTimestampMs:d("LSMailboxInitialSyncCursor").lastSyncTimestampMs,syncChannel:d("LSMailboxInitialSyncCursor").syncChannel},{groupId:16,syncChannel:d("LSSyncGroupsUtils").defaultSyncGroup.syncChannel},c("gkx")("4246")?null:{groupId:28,syncChannel:d("LSSyncGroupsUtils").defaultSyncGroup.syncChannel,syncParams:JSON.stringify(babelHelpers.extends({},d("LSSyncGroupsUtils").defaultSyncParams,{size_type:"wide"}))},{groupId:118,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp,syncChannel:d("LSSyncGroupsUtils").defaultSyncGroup.syncChannel},{groupId:198},k?{groupId:89}:null,e?{groupId:197}:null];var l=[].concat(e,[c("gkx")("10282")?null:{groupId:6},{groupId:7,syncParams:JSON.stringify({mnet_rank_types:[c("MNetRankType").INSTAGRAM_DIRECT_SEARCH_NULLSTATE]})},d("LSE2EEMetadataSyncGroupUtils").getE2EEMetadataSyncGroupForIGDSyncGroup()]),m=[].concat(e,[{groupId:7,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp,syncParams:JSON.stringify({mnet_rank_types:[c("MNetRankType").MESSENGER_USER_SEARCH,c("isSearchQualityEnabled")()?c("MNetRankType").MESSENGER_BLENDED_NULLSTATE:c("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE,c("MNetRankType").INBOX_ACTIVE_NOW,c("MNetRankType").MESSENGER_OMNIPICKER_NULLSTATE,c("MNetRankType").MESSENGER_BROADCAST_FLOW_TOP_THREADS,c("MNetRankType").BROADCAST_FLOW_TOP_CONTACTS]})},{groupId:15,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp,syncChannel:d("LSSyncGroupsUtils").defaultSyncGroup.syncChannel},{groupId:12,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp,syncChannel:d("LSSyncGroupsUtils").defaultSyncGroup.syncChannel},{groupId:26},{groupId:196},f,c("gkx")("24113")?{groupId:120,syncChannel:d("LSSyncGroupsUtils").defaultSyncGroup.syncChannel}:null,c("gkx")("26390")?{groupId:6,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp}:null,{groupId:145,syncChannel:d("LSSyncGroupsUtils").defaultSyncGroup.syncChannel},c("gkx")("5985")?{groupId:202}:null]).concat(c("gkx")("22843")?[{groupId:104,syncChannel:d("LSSyncGroupsUtils").defaultSyncGroup.syncChannel},{groupId:143},{groupId:142},{groupId:140},{groupId:141}]:[]);async function n(a,b){var c=await d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.network_requests).getKeyRange("")),e=c.map(function(a){a=a.syncDatabaseId;return(h||(h=d("LSIntEnum"))).toNumber(a)});return Promise.all(b.map(async function(b){b!=null&&(!e.includes(b.groupId)||j.has(b.groupId))&&await a.network_requests.put(babelHelpers.extends({},d("LSSyncGroupsUtils").defaultNetworkRequest,{syncDatabaseId:(h||(h=d("LSIntEnum"))).ofNumber(b.groupId)}))}))}async function o(a){a=await d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.sync_groups));return new Map(a.map(function(a){return[(h||(h=d("LSIntEnum"))).toNumber(a.groupId),a]}))}async function p(a,b){var c=await o(a);async function e(b){var e=b.groupId;b=babelHelpers.objectWithoutPropertiesLoose(b,["groupId"]);var f=c.get(e);f==null||j.has(e)?await a.sync_groups.put(babelHelpers.extends({},d("LSSyncGroupsUtils").defaultSyncGroup,b,{groupId:(h||(h=d("LSIntEnum"))).ofNumber(e)})):f!=null&&(f.syncParams!==b.syncParams||b.syncChannel!=null&&!(i||(i=d("I64"))).equal(f.syncChannel,b.syncChannel))&&await a.sync_groups.put(babelHelpers.extends({},f,{syncChannel:b.syncChannel!=null?b.syncChannel:f.syncChannel,syncParams:b.syncParams}))}await Promise.all(b.map(function(a){return a&&e(a)}))}function q(a){return a!=null?a:c("CurrentEnvironment").instagramdotcom?l:m}async function a(a,e){e=q(e);d("LSPlatformLsInitLog").addPoint("db_seed_start");await c("seedUserInfo")(a);await n(a,e);await p(a,e);k&&b("cr:17238")!=null&&c("promiseDone")(b("cr:17238").prewarmAcsVoprfWasmModule());d("LSPlatformLsInitLog").addPoint("db_seed_end")}g.e2eeMetadataSyncGroup=f;g.igdSyncGroups=l;g.defaultSyncGroups=m;g.seedDb=a}),98);
__d("MAWDropCutoverThreadsTable",["Promise","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var c=d("ReQL").fromTableAscending(a.cutover_threads);return d("ReQL").toArrayAsync(c).then(function(c){return c.reduce(function(b,c){return b.then(function(){return a.cutover_threads["delete"](c.openThreadId)})},(h||(h=b("Promise"))).resolve())})}g.call=a}),98);
__d("ReStoreDecryptionFailure",[],(function(a,b,c,d,e,f){"use strict";var g="ReStoreDecryptionFailure";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;b=b+" - Encrypted Restore was unable to decrypt an entity for table "+c;d=a.call(this,b)||this;d.message=b;d.name=g;d.tableName=c;return d}var c=b.prototype;c.getTableName=function(){return this.tableName};return b}(babelHelpers.wrapNativeSuper(Error));f.ERROR_NAME=g;f.ReStoreDecryptionFailure=a}),66);
__d("ReStoreEARSetupFailure",[],(function(a,b,c,d,e,f){"use strict";var g="Encryption keychain could not be setup",h="ReStoreEARSetupFailure";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;b=g+": "+b;c=a.call(this,b)||this;c.message=b;c.name=h;return c}return b}(babelHelpers.wrapNativeSuper(Error));f.ERROR_MESSAGE=g;f.ERROR_NAME=h;f.ReStoreEARSetupFailure=a}),66);
__d("ReStoreEvent",[],(function(a,b,c,d,e,f){"use strict";a=function(){};f["default"]=a}),66);
__d("ReStoreIndexedDbClosedEvent",["ReStoreEvent"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this)||this;d.idb=b;d.error=c;return d}var c=b.prototype;c.getError=function(){return this.error};return b}(c("ReStoreEvent"));g["default"]=a}),98);
__d("ReStoreIndexedDbFailToOpenEvent",["ReStoreEvent"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(c("ReStoreEvent"));g["default"]=a}),98);
__d("ReStoreIndexedDbUpgradedEvent",["ReStoreEvent"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(c("ReStoreEvent"));g["default"]=a}),98);
__d("ReStoreUnexpectedlyClosed",[],(function(a,b,c,d,e,f){"use strict";a="ReStoreUnexpectedlyClosed";b=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(babelHelpers.wrapNativeSuper(Error));f.ERROR_NAME=a;f.ReStoreUnexpectedlyClosed=b}),66);
__d("GetLsDatabase",["ExecutionEnvironment","LSDefaultSyncGroups","LSPlatformErrorChannel","LSPlatformLsInitLog","MAWDropCutoverThreadsTable","MessengerLogHistory","MultipleTabsLogger","ReStoreDecryptionFailure","ReStoreEARSetupFailure","ReStoreIndexedDbClosedEvent","ReStoreIndexedDbFailToOpenEvent","ReStoreIndexedDbUpgradedEvent","ReStoreUnexpectedlyClosed","UserTimingUtils","cr:10099","cr:10200","cr:10755","cr:4489","cr:6218","cr:665","cr:7000","cr:7351","cr:8659","cr:8915","justknobx","promiseDone","qex","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(e=b("cr:6218"))!=null?e:b("cr:10755"),j=(e=b("cr:7000"))!=null?e:b("cr:7351");function k(a){if(a instanceof c("ReStoreIndexedDbUpgradedEvent")&&i!=null&&c("justknobx")._("1410"))c("promiseDone")(i.killSharedWorker(!0,"ls_upgrade"));else if(a instanceof c("ReStoreIndexedDbClosedEvent")){a=a.getError();b("cr:8915")!=null&&a instanceof(b("cr:8915")==null?void 0:b("cr:8915").ReStoreDbVersionChange)?c("LSPlatformErrorChannel").emit(a):a instanceof d("ReStoreDecryptionFailure").ReStoreDecryptionFailure?c("LSPlatformErrorChannel").emit(a):a instanceof d("ReStoreEARSetupFailure").ReStoreEARSetupFailure?c("LSPlatformErrorChannel").emit(a):a instanceof d("ReStoreUnexpectedlyClosed").ReStoreUnexpectedlyClosed&&b("cr:10099")!=null?(b("cr:10099")==null?void 0:b("cr:10099").releaseIfExist(),c("LSPlatformErrorChannel").emit(a)):a instanceof c("ReStoreIndexedDbFailToOpenEvent")&&b("cr:10099")!=null&&(b("cr:10099")==null?void 0:b("cr:10099").releaseIfExist())}}var l=async function(){var a=d("MessengerLogHistory").getInstance("db_init");c("promiseDone")(d("MultipleTabsLogger").getMultipleTabsAnnotation().then(function(b){a.debug("Has multiple tabs: "+b),d("MultipleTabsLogger").addAnnotationToQPLEvent(c("qpl")._(25305590,"1127"))}));a.debug("====Creating DB====");d("LSPlatformLsInitLog").addPoint("vaulting_setup_start");b("cr:4489")!=null&&b("cr:665")!=null&&(h||(h=c("ExecutionEnvironment"))).isInBrowser&&(a.debug("Vaulting setup started"),b("cr:665").setupMainWaLogger(),await d("UserTimingUtils").asyncMeasure("Setup Vaulting Materials",async function(){await b("cr:4489").setupVaultMaterials()}),a.debug("Vaulting setup finished"));d("LSPlatformLsInitLog").addPoint("vaulting_setup_end");a.debug("Connecting to DB");var e=b("cr:8659")!=null?await b("cr:8659")():await b("cr:10200").createDB(k);a.debug("Connection established");await e.runInTransaction(async function(b){var c=j==null?[Promise.resolve(),Promise.resolve()]:[j.call(b),d("MAWDropCutoverThreadsTable").call(b)],e=c[0];c=c[1];await Promise.all([e,c]);d("LSPlatformLsInitLog").addPoint("success_maw_data_deletion");a.debug("Seeding DB");await d("LSDefaultSyncGroups").seedDb(b,void 0);a.debug("DB seeded")},"readwrite","ui",void 0,f.id+":119");a.debug("====DB created====");return e},m;function a(){m==null&&(m=(h||(h=c("ExecutionEnvironment"))).isInBrowser||c("qex")._("3809")?l():new Promise(function(){}));return m}g.get=a}),98);
__d("IndexedDbPolyfills",[],(function(a,b,c,d,e,f){"use strict";var g=function(){function a(){this.$1=new Map()}var b=a.prototype;b.emit=function(a){var b=this.$1.get(a);for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];if(b!==void 0)for(var f of b)f.apply(void 0,d);var g=this["on"+a];g!=null&&g.apply(void 0,d)};b.addEventListener=function(a,b,c){var d=this;c===void 0&&(c={});c=c;c=c.signal;var e=this.$1.get(a);e===void 0&&(e=new Set(),this.$1.set(a,e));e.add(b);c!=null&&(c.onabort=function(){d.removeEventListener(a,b)})};b.removeEventListener=function(a,b){a=this.$1.get(a);if(a===void 0)return;a["delete"](b)};return a}();a=function(){return function(a,b){a=this.openCursor((a=a)!=null?a:null);var c=[],d=new g();a.onsuccess=function(a){a=a.target.result;if(a!=null&&(b===void 0||c.length<b))c.push(a.value),a["continue"]();else{d.result=c;d.onsuccess==null?void 0:d.onsuccess({target:{readyState:"done",result:c}});return}};a.onerror=function(a){d.onerror==null?void 0:d.onerror(a)};return d}};b=typeof window!=="undefined"?window:self;typeof b.IDBObjectStore!=="undefined"&&b.IDBObjectStore.prototype.getAll===void 0&&(b.IDBObjectStore.prototype.getAll=a());f.IDBRequest=g;f.getAll=a}),66);
__d("IntervalList",["FBLogger","JSONStringifyBigIntSafe","ReQLBounds","ReStoreKeyComparer"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){if(a==null)throw c("FBLogger")("messenger_web").mustfixThrow("must not be null");return a}function a(a,b){var e=new Map(),f=new Map(),g=new Map();function k(b,c){return c==null?!0:(c.gt!==void 0?a(b,c.gt)>0:c.gte!==void 0?a(b,c.gte)>=0:!0)&&(c.lt!==void 0?a(b,c.lt)<0:c.lte!==void 0?a(b,c.lte)<=0:!0)}function* l(a){var g=0;while(g<a.length&&f.size){g++;var i=a.slice(0,g);g<b&&i.push((h||(h=d("ReStoreKeyComparer"))).MAX_KEY);i=f.get(c("JSONStringifyBigIntSafe")(i));if(i!=null)for(i of i)yield i}for(i of e.entries()){g=i[0];var j=i[1];e.has(g)&&k(a,j)&&(yield g)}}function m(a){var b=g.get(a);if(b!=null){g["delete"](a);var c=j(f.get(b));c["delete"](a);c.size===0&&f["delete"](b)}else e["delete"](a)}function n(a,h){var j;if(a&&a.gte!=null&&a.lte!=null&&(j=c("JSONStringifyBigIntSafe")((i||(i=d("ReQLBounds"))).nextKey(a.gte,b)))===c("JSONStringifyBigIntSafe")(a.lte)){var k=f.get(j);k==null&&(k=new Set(),f.set(j,k));k.add(h);g.set(h,j)}else e.set(h,a)}return{"delete":m,findIntersecting:l,set:n}}g["default"]=a}),98);
__d("LSTransactionLogger",["cr:8879"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:8879")}),98);
__d("LSReStoreQplLogger",["LSTransactionLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return{startTracking:function(b,d){var e=c("LSTransactionLogger")==null?void 0:c("LSTransactionLogger").startTracking(b,a,d);return{addAnnotations:function(b){c("LSTransactionLogger")==null?void 0:c("LSTransactionLogger").addAnnotations(a,e,b)},end:function(){c("LSTransactionLogger")==null?void 0:c("LSTransactionLogger").end(a,e)},fail:function(b){c("LSTransactionLogger")==null?void 0:c("LSTransactionLogger").fail(a,e,b)},mark:function(b){c("LSTransactionLogger")==null?void 0:c("LSTransactionLogger").mark(a,e,b)},recordLogicalWrite:function(){c("LSTransactionLogger")==null?void 0:c("LSTransactionLogger").recordLogicalWrite(e)}}}}}g.createQplLogger=a}),98);
__d("createReStoreEphemeralPersistence",["FBLogger","ReStorePersistence"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c){return(a.has(b)?a:a.set(b,c())).get(b)}function a(a,b){var e=Promise.resolve(),f=new Map();function g(a){return h(f,a,function(){return new Map()})}return{flush:function(a){a.forEach(function(a,b){var c=g(b);a.forEach(function(a,b){d("ReStorePersistence").isDeletedValue(a)?c.delete(b):c.set(b,a)})});return Promise.resolve()},get:function(a,b,c){a=g(b);return a.get(c)},logError:function(a,b,d,e){if(d==="dbCorruption"){throw c("FBLogger")("messenger_web").mustfixThrow("Got unexpected undefined in edb, mode: %s, table: %s, id: %s, deletedInThisTxn: %s",b,a,(d=e==null?void 0:e.id)!=null?d:"",(b=e==null?void 0:e.deletedInThisTxn)!=null?b:"")}},permitsSynchronousIO:function(a){return!0},queueCommitWork:void 0,runExclusively:function(a){var c=b==null?void 0:b.startTracking(!1);c==null?void 0:c.addAnnotations({string:{source:"createReStoreEphemeralPersistence",type:"runExclusivelyPromiseChain"}});return new Promise(function(b,d){e=e.then(async function(){var e=await a(),f=e[0];e[1];try{b(await f()),c==null?void 0:c.end()}catch(a){d(a),c==null?void 0:c.fail()}}).catch(function(a){d(a)})})},shouldApplySync:function(){return!1},shouldInline:function(a,b){return!0},shouldSync:function(){return!1},types:["ephemeral"],uniqueId:a}}g.default=a}),98);
__d("createLSReStoreEphemeralPersistence",["LSReStoreQplLogger","MAWCurrentUser","createReStoreEphemeralPersistence","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MAWCurrentUser").getID();return c("createReStoreEphemeralPersistence")("LSEphemeral "+a,d("LSReStoreQplLogger").createQplLogger(c("qpl")._(25303045,"817")))}g.createLSReStoreEphemeralPersistence=a}),98);
__d("QPLMemoryUtils",["MemoryUtils","QPLUserFlow"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("MemoryUtils").getCurrentMemory();b=b.usedJSHeapSize;c("QPLUserFlow").addAnnotations(a,{"int":{usedJSHeapSizeStart:b}})}function b(a){var b=d("MemoryUtils").getCurrentMemory();b=b.usedJSHeapSize;c("QPLUserFlow").addAnnotations(a,{"int":{usedJSHeapSizeEnd:b}})}g.logMemoryForQPLStart=a;g.logMemoryForQPLEnd=b}),98);
__d("promiseFromRequest",[],(function(a,b,c,d,e,f){"use strict";function a(a){return new self.Promise(function(b,c){a.onsuccess=function(a){b(a.target.result)},a.onerror=function(a){c(a)}})}f["default"]=a}),66);
__d("createReStoreEBSMTablesPersistence",["CurrentMessengerUser","EBDBEbsmApi","EBSMHydrationUtils","EBSMProperties","ExecutionEnvironment","FBLogger","MAWLSDBEncryption","MAWLoggerDeferred","MAWUnrecoverableDbErrors","MWEBODSCategory","MWEBODSEntityKey.enum","MWEBODSEntityName.enum","MWEBUseLocalStorage","MWEncryptedBackupsFirstRestoreUpsellTime","MWEncryptedBackupsLocalStorageEntryEnum","ODS","QPLMemoryUtils","QPLUserFlow","Random","ReStorePersistence","ReStoreTabNotifier","WAExceededStorageQuota","WebSession","gkx","promiseFromRequest","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] DB corruption detected - deleting EBSM db"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web][EB SM] EB SM tableName is "," is missing in ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] An error occured in flush. ",". Requested stores: ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] An error occured in EBSM hydration when loading EB data: ",""]);m=function(){return a};return a}b=d("CurrentMessengerUser").getIDorEIMU();var n=c("ReStoreTabNotifier")==null?void 0:c("ReStoreTabNotifier")("mwChat-"+b),o=c("gkx")("23665"),p=null,q=!1,r=!1;function s(a,b,c){return(a.has(b)?a:a.set(b,c())).get(b)}function a(a,b,e){a===void 0&&(a=!1);var f=Promise.resolve(),g=new Map();function t(a){return s(g,a,function(){return new Map()})}var u=d("MWEncryptedBackupsFirstRestoreUpsellTime").getFirstRestoreUpsellTime();c("QPLUserFlow").start(c("qpl")._(521481876,"1407"),{annotations:{string:{ebSessionIdentifier:u,sessionTabId:d("WebSession").getId()}}});(i||(i=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EBSM_HYDRATION,c("MWEBODSEntityKey.enum").START);d("QPLMemoryUtils").logMemoryForQPLStart(c("qpl")._(521481876,"1407"));async function v(){try{var a=c("gkx")("12405"),f=d("EBDBEbsmApi").RehydrationResult.Success;a&&(f=await e.rehydrateEBSMFromEBDB(t));if(!a||f===d("EBDBEbsmApi").RehydrationResult.EmptyDb){a=await b;if(a==null)return;f=await d("EBSMHydrationUtils").loadEBdataToEphemeralRestore(a);f.forEach(function(a,b){var c=t(b);a.forEach(function(a,b){c.set(b.key,b.value)})})}d("QPLMemoryUtils").logMemoryForQPLEnd(c("qpl")._(521481876,"1407"));c("QPLUserFlow").endSuccess(c("qpl")._(521481876,"1407"));(i||(i=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EBSM_HYDRATION,c("MWEBODSEntityKey.enum").SUCCESS)}catch(a){c("QPLUserFlow").addPoint(c("qpl")._(521481876,"1407"),"EBSM_HYDRATION_FAILED"),void d("MAWLoggerDeferred").ERROR(m(),a),c("QPLUserFlow").endFailure(c("qpl")._(521481876,"1407"),"Hydration failed."),(i||(i=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EBSM_HYDRATION,c("MWEBODSEntityKey.enum").FAIL)}}p=v();n==null?void 0:n.onEventReceive("flushChangesV2",function(a){var b=a.changeSet,c=a.sentinelDeleted;b.forEach(function(a,b){var e=t(b);a.forEach(function(a,b){d("ReStorePersistence").isDeletedValue(a,c)?e.delete(b):e.set(b,a)})})});return{flush:async function(f){if(f.size===0)return;f.size>0&&f.forEach(function(a,b){a.size===0&&f.delete(b)});if(f.size===0)return;var g=new Map();f.forEach(function(a,b){g.set(b,{toAdd:[],toDelete:[]});var c=t(b);a.forEach(function(a,e){if(d("ReStorePersistence").isDeletedValue(a,d("ReStorePersistence").sentinelDeleted)){var f;(f=g.get(b))==null?void 0:f.toDelete.push(c.get(e));c.delete(e)}else{(f=g.get(b))==null?void 0:f.toAdd.push(a);c.set(e,a)}})});n==null?void 0:n.postMessage("flushChangesV2",{changeSet:f,fromVersion:"",sentinelDeleted:d("ReStorePersistence").sentinelDeleted,version:""});if(a)return;var h=d("Random").uint32(),i=Array.from(f.keys());c("QPLUserFlow").start(c("qpl")._(521485383,"2200"),{annotations:{bool:{ebsmv2:!0},string_array:{tables:i}},instanceKey:h});await p;await Promise.all([c("gkx")("12229")?e.flushEBSMtoEBDB(g).catch(function(){}):Promise.resolve(),async function(){var a=await b;if(a==null)return;var e=a.transaction(a.objectStoreNames,"readwrite",{durability:"relaxed"});d("WAExceededStorageQuota").listenToQuotaExceededError(e);var g=new window.Promise(function(a,b){e.oncomplete=function(b){c("QPLUserFlow").endSuccess(c("qpl")._(521485383,"2200"),{instanceKey:h}),a(b.target.result)},e.onerror=async function(a){var e,g=Array.from(f).map(function(a){a=a[0];return a}).join(", ");await d("MAWLoggerDeferred").ERROR(l(),a==null?void 0:(e=a.target)==null?void 0:e.error,g);c("QPLUserFlow").endFailure(c("qpl")._(521485383,"2200"),a==null?void 0:(e=a.target)==null?void 0:e.error,{instanceKey:h});b(a)}});await Promise.all(Array.from(f).map(async function(b){var f=b[0];b=b[1];if(f!=null&&a.objectStoreNames.contains(f)){var g=e.objectStore(f);await Promise.all(Array.from(b).map(async function(a){var b=a[0];a=a[1];if(d("ReStorePersistence").isDeletedValue(a))await c("promiseFromRequest")(g.delete(b));else{a=d("MAWLSDBEncryption").encryptLSDBObj(a,f);await c("promiseFromRequest")(g.put(a,b))}}))}else void d("MAWLoggerDeferred").ERROR(k(),f,Array.from(a.objectStoreNames).toString())}));await g}()])},get:function(a,b,c){var d=t(b);if(q)return d.get(c);return p==null?Promise.reject("rehydration is not complete"):p.then(function(){q=!0;return d.get(c)})},logError:function(a,b,e,f){(i||(i=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EBSM_RESTORE_PERSISTENCE_ERROR,a);if(e==="dbCorruption"){var g;(i||(i=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EBSM_CORRUPTION,a);e=d("MWEncryptedBackupsFirstRestoreUpsellTime").getFirstRestoreUpsellTime();void d("MAWLoggerDeferred").ERROR(j());f="Got unexpected undefined in ebsm, mode: "+b+", table: "+a+", id: "+((g=f==null?void 0:f.id)!=null?g:"")+", deletedInThisTxn: "+((g=f==null?void 0:f.deletedInThisTxn)!=null?g:"")+". Deleting EBSM db";c("FBLogger")("labyrinth_web").mustfix(f);g=c("EBSMProperties").mandatoryTables.has(a)||!o;b={bool:{fullDeletion:g},string:{mode:b,restoreUpsellTime:e,tableName:a}};e=d("Random").uint32();c("QPLUserFlow").start(c("qpl")._(521484724,"141"),{annotations:b,instanceKey:e});d("MAWUnrecoverableDbErrors").setError(new(d("MAWUnrecoverableDbErrors").EbsmHydrationError)(f,g,e,a));r||(r=!0,d("MWEBUseLocalStorage").mwEBCreateLocalStorageEntry(c("MWEncryptedBackupsLocalStorageEntryEnum").EBSM_CORRUPTION_WIPE,g?"full":"partial"))}},queueCommitWork:void 0,runExclusively:function(a){return new Promise(function(b,c){f=f.then(async function(){var d=await a(),e=d[0];d[1];try{b(await e())}catch(a){c(a)}})})},shouldApplySync:function(){return!1},shouldInline:function(a,b){return!1},shouldSync:function(a,b){return a==="notifyInMemoryTable"?!1:!0},tabTablesNotifier:function(){return(h||(h=c("ExecutionEnvironment"))).isInBrowser?n:void 0},types:["ephemeral"],uniqueId:""}}g.default=a}),98);
__d("createReStoreEBSMWorkerTablesPersistance",["EBSMHydrationUtils","EBSMProperties","FBLogger","MAWLSDBEncryption","MAWLoggerDeferred","MAWUnrecoverableDbErrors","MWEBODSCategory","MWEBODSEntityKey.enum","MWEBODSEntityName.enum","MWEBUseLocalStorage","MWEncryptedBackupsFirstRestoreUpsellTime","MWEncryptedBackupsLocalStorageEntryEnum","ODS","QPLUserFlow","Random","ReStorePersistence","WAExceededStorageQuota","WebSession","gkx","promiseFromRequest","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] worker DB corruption detected - deleting EBSM db"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web][EB SM] EB SM tableName is "," is missing in ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] An error occured in flush. ",". Requested stores: ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] An error occured in EBSM hydration when loading EB data"]);l=function(){return a};return a}var m=c("gkx")("23665"),n=null,o=!1,p=!1;function q(a,b,c){return(a.has(b)?a:a.set(b,c())).get(b)}function a(a,b){a===void 0&&(a=!1);var e=Promise.resolve(),f=new Map();function g(a){return q(f,a,function(){return new Map()})}var r=d("MWEncryptedBackupsFirstRestoreUpsellTime").getFirstRestoreUpsellTime();c("QPLUserFlow").start(c("qpl")._(521481876,"1407"),{annotations:{bool:{is_worker:!0},string:{ebSessionIdentifier:r,sessionTabId:d("WebSession").getId()}}});(h||(h=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EBSM_HYDRATION+c("MWEBODSEntityName.enum").MW_EBSM_WORKER_SUFFIX,c("MWEBODSEntityKey.enum").START);async function s(){var a=await b;if(a==null)return;a=d("EBSMHydrationUtils").loadEBdataToEphemeralRestore(a);return a.then(function(a){a.forEach(function(a,b){var c=g(b);a.forEach(function(a,b){c.set(b.key,b.value)})}),c("QPLUserFlow").endSuccess(c("qpl")._(521481876,"1407")),(h||(h=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EBSM_HYDRATION+c("MWEBODSEntityName.enum").MW_EBSM_WORKER_SUFFIX,c("MWEBODSEntityKey.enum").SUCCESS)},function(){c("QPLUserFlow").addPoint(c("qpl")._(521481876,"1407"),"EBSM_HYDRATION_FAILED"),void d("MAWLoggerDeferred").ERROR(l()),c("QPLUserFlow").endFailure(c("qpl")._(521481876,"1407"),"Hydration failed."),(h||(h=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EBSM_HYDRATION+c("MWEBODSEntityName.enum").MW_EBSM_WORKER_SUFFIX,c("MWEBODSEntityKey.enum").FAIL)})}n=s();return{flush:async function(e){if(e.size===0)return;e.size>0&&e.forEach(function(a,b){a.size===0&&e.delete(b)});if(e.size>0){e.forEach(function(a,b){var c=g(b);a.forEach(function(a,b){d("ReStorePersistence").isDeletedValue(a,d("ReStorePersistence").sentinelDeleted)?c.delete(b):c.set(b,a)})});if(a)return;var f=d("Random").uint32(),h=Array.from(e.keys());c("QPLUserFlow").start(c("qpl")._(521485383,"2200"),{annotations:{bool:{ebsmv2:!0,is_worker:!0},string_array:{tables:h}},instanceKey:f});await n;var i=await b;if(i==null)return;var l=i.transaction(i.objectStoreNames,"readwrite",{durability:"relaxed"});d("WAExceededStorageQuota").listenToQuotaExceededError(l);h=new window.Promise(function(a,b){l.oncomplete=function(b){c("QPLUserFlow").endSuccess(c("qpl")._(521485383,"2200"),{instanceKey:f}),a(b.target.result)},l.onerror=async function(a){var g,h=Array.from(e).map(function(a){a=a[0];return a}).join(", ");await d("MAWLoggerDeferred").ERROR(k(),a==null?void 0:(g=a.target)==null?void 0:g.error,h);c("QPLUserFlow").endFailure(c("qpl")._(521485383,"2200"),a==null?void 0:(g=a.target)==null?void 0:g.error,{instanceKey:f});b(a)}});await Promise.all(Array.from(e).map(async function(a){var b=a[0];a=a[1];if(b!=null&&i.objectStoreNames.contains(b)){var e=l.objectStore(b);await Promise.all(Array.from(a).map(async function(a){var f=a[0];a=a[1];if(d("ReStorePersistence").isDeletedValue(a))await c("promiseFromRequest")(e.delete(f));else{a=d("MAWLSDBEncryption").encryptLSDBObj(a,b);await c("promiseFromRequest")(e.put(a,f))}}))}else void d("MAWLoggerDeferred").ERROR(j(),b,Array.from(i.objectStoreNames).toString())}));await h}},get:function(a,b,c){var d=g(b);if(o)return d.get(c);return n==null?Promise.reject("rehydration is not complete"):n.then(function(){o=!0;return d.get(c)})},logError:function(a,b,e,f){(h||(h=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EBSM_RESTORE_PERSISTENCE_ERROR+c("MWEBODSEntityName.enum").MW_EBSM_WORKER_SUFFIX,a);if(e==="dbCorruption"){var g;(h||(h=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MW_EBSM_CORRUPTION+c("MWEBODSEntityName.enum").MW_EBSM_WORKER_SUFFIX,a);e=d("MWEncryptedBackupsFirstRestoreUpsellTime").getFirstRestoreUpsellTime();void d("MAWLoggerDeferred").ERROR(i());f="Got unexpected undefined in worker ebsm, mode: "+b+", table: "+a+", id: "+((g=f==null?void 0:f.id)!=null?g:"")+", deletedInThisTxn: "+((g=f==null?void 0:f.deletedInThisTxn)!=null?g:"")+". Deleting EBSM db";c("FBLogger")("labyrinth_web").mustfix(f);g=c("EBSMProperties").mandatoryTables.has(a)||!m;b={bool:{fullDeletion:g,is_worker:!0},string:{mode:b,restoreUpsellTime:e,tableName:a}};e=d("Random").uint32();c("QPLUserFlow").start(c("qpl")._(521484724,"141"),{annotations:b,instanceKey:e});d("MAWUnrecoverableDbErrors").setError(new(d("MAWUnrecoverableDbErrors").EbsmHydrationError)(f,g,e,a));p||(p=!0,d("MWEBUseLocalStorage").mwEBCreateLocalStorageEntry(c("MWEncryptedBackupsLocalStorageEntryEnum").EBSM_CORRUPTION_WIPE,g?"full":"partial"))}},queueCommitWork:void 0,runExclusively:function(a){return new Promise(function(b,c){e=e.then(async function(){var d=await a(),e=d[0];d[1];try{b(await e())}catch(a){c(a)}})})},shouldApplySync:function(){return!1},shouldInline:function(a,b){return!1},shouldSync:function(a,b){return a==="notifyInMemoryTable"?!1:!0},types:["ephemeral"],uniqueId:""}}g.default=a}),98);
__d("createReStoreTableNameAllowListPersistence",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){var d;return{clearCache:function(){a.clearCache==null?void 0:a.clearCache(),b.clearCache==null?void 0:b.clearCache()},close:function(){a.close==null?void 0:a.close(),b.close==null?void 0:b.close()},flush:async function(d,e){var f=new Map(),g=new Map();d.forEach(function(a,b){c.has(b)?g.set(b,a):f.set(b,a)});await Promise.all([a.flush(f,e),b.flush(g,e)])},get:function(d,e,f,g){return c.has(e)?b.get(d,e,f,g):a.get(d,e,f,g)},isClosed:function(){return(a.isClosed==null?void 0:a.isClosed())||!1},isPersistenceSupported:a.isPersistenceSupported,logError:function(d,e,f,g){c.has(d)?b.logError==null?void 0:b.logError(d,e,f,g):a.logError==null?void 0:a.logError(d,e,f,g)},permitsSynchronousIO:function(d){if(c.has(d)){var e;return(e=b.permitsSynchronousIO==null?void 0:b.permitsSynchronousIO(d))!=null?e:!1}else{return(e=a.permitsSynchronousIO==null?void 0:a.permitsSynchronousIO(d))!=null?e:!1}},runExclusively:function(c,d){return a.runExclusively(function(){return new Promise(function(a,e){var f=b.runExclusively(async function(){var b=await c(),d=b[0],e=b[1],g=new Promise(function(b){a([function(){b();return f},e])});return[async function(){await g;return d()},e]},d);f.catch(e)})},d)},shouldApplySync:function(d,e){if(c.has(e))return b.shouldApplySync(d,e);else return a.shouldApplySync(d,e)},shouldInline:function(d,e){return c.has(d)?b.shouldInline(d,e):a.shouldInline(d,e)},shouldSync:function(d,e){if(c.has(e))return b.shouldSync(d,e);else return a.shouldSync(d,e)},tabTablesNotifier:(d=a.tabTablesNotifier)!=null?d:b.tabTablesNotifier,types:[].concat(a.types,b.types),uniqueId:b.uniqueId+a.uniqueId}}f.default=a}),66);
__d("LSJSEBInMemoryStorage",["EBSMProperties","createLSReStoreEphemeralPersistence","createReStoreEBSMTablesPersistence","createReStoreEBSMWorkerTablesPersistance","createReStoreTableNameAllowListPersistence"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){e===void 0&&(e=!1);e=c("createReStoreTableNameAllowListPersistence")(d("createLSReStoreEphemeralPersistence").createLSReStoreEphemeralPersistence(),c("createReStoreEBSMTablesPersistence")(e,a,b),c("EBSMProperties").persistedTables);return e}function b(a,b){b===void 0&&(b=!1);b=c("createReStoreTableNameAllowListPersistence")(d("createLSReStoreEphemeralPersistence").createLSReStoreEphemeralPersistence(),c("createReStoreEBSMWorkerTablesPersistance")(b,a),c("EBSMProperties").persistedTables);return b}g.makeReStorePersistence=a;g.makeReStoreWorkerPersistence=b}),98);
__d("ReStoreCustomMigration",["ReStoreMigrateUtil","ReStorePersistedMetadata"],(function(a,b,c,d,e,f,g){"use strict";async function a(a,b){var c,e=b.storeTx;b=b.transaction;if(a==null)return d("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED;var f=new(d("ReStorePersistedMetadata").ReStorePersistedCustomMigrationVersion)();c=(c=await f.read(e))==null?void 0:c.customMigrationVersion;if(a.targetVersion===c)return d("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED;await a.migration((c=c)!=null?c:0,b);f.write(e,{customMigrationVersion:a.targetVersion});return d("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE}g.runCustomMigration=a}),98);
__d("ReStoreHooks",["PromiseOrValue"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return{afterAdd:a.reduce(function(a,b){var c=b.onAfterAdd;return c?function(b){return(h||(h=d("PromiseOrValue"))).map(a(b),function(a){return c(babelHelpers.extends({},b,{value:a}))})}:a},function(a){a=a.value;return a}),afterEntriesNext:a.reduce(function(a,b){var c=b.onAfterEntriesNext;return c?function(b){return c({tableName:b.tableName,value:a(b)})}:a},function(a){a=a.value;return a}),afterGet:a.reduce(function(a,b){var c=b.onAfterGet;return c?function(b){return c({tableName:b.tableName,value:a(b)})}:a},function(a){a=a.value;return a}),afterPut:a.reduce(function(a,b){var c=b.onAfterPut;return c?function(b){return(h||(h=d("PromiseOrValue"))).map(a(b),function(a){return c(babelHelpers.extends({},b,{value:a}))})}:a},function(a){a=a.value;return a}),beforeAdd:a.reduce(function(a,b){var c=b.onBeforeAdd;return c?function(b){return(h||(h=d("PromiseOrValue"))).map(a(b),function(a){return c(babelHelpers.extends({},b,{value:a}))})}:a},function(a){a=a.value;return a}),beforeDelete:a.reduce(function(a,b){var c=b.onBeforeDelete;return c?function(b){return(h||(h=d("PromiseOrValue"))).map(a(b),function(a){return c(babelHelpers.extends({},b,{value:a}))})}:a},function(a){a=a.key;return a}),beforeNotify:a.reduce(function(a,b){var c=b.onBeforeNotify;return c?function(b){var d=a(b),e=d.newValue;d=d.prevValue;return c({newValue:e,prevValue:d,tableName:b.tableName})}:a},function(a){var b=a.newValue;a=a.prevValue;return{newValue:b,prevValue:a}}),beforePut:a.reduce(function(a,b){var c=b.onBeforePut;return c?function(b){return(h||(h=d("PromiseOrValue"))).map(a(b),function(a){return c(babelHelpers.extends({},b,{value:a}))})}:a},function(a){a=a.value;return a}),beforeUpsert:a.reduce(function(a,b){var c=b.onBeforeUpsert;return c?function(b){return(h||(h=d("PromiseOrValue"))).map(a(b),function(a){return c(babelHelpers.extends({},b,{value:a}))})}:a},function(a){a=a.value;return a})}}g.createHookManager=a}),98);
__d("ReStoreIndexeddbPersistenceInitFailure",[],(function(a,b,c,d,e,f){"use strict";var g="ReStoreIndexeddbPersistenceInitFailure";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.message=b;c.name=g;return c}return b}(babelHelpers.wrapNativeSuper(Error));f.ERROR_NAME=g;f.ReStoreIndexeddbPersistenceInitFailure=a}),66);
__d("ReStoreTransactionDelay",["setTimeout"],(function(a,b,c,d,e,f,g){"use strict";async function a(a){a=a==="background"?new Promise(function(a){return c("setTimeout")(a,0)}):Promise.resolve();await a}g.default=a}),98);
__d("createReStoreSubscriptionManager",["ExecutionEnvironment","FBLogger","IntervalList","PromiseOrValue","ReStoreKeyComparer","ReStoreUtils","isPromise","nullthrows","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function a(a,b,e){var f=new Map(),g=new Map();function l(a,b){return(k||(k=d("ReStoreKeyComparer"))).compareValue(a,b)===0}function m(a,b,c,d){a=(a=x.get(a))!=null?a:[];var e=[];for(var f=0;f<b.length;f++){var g=b[f];for(var h=0;h<32&&g!==0;h++){if(g&1){var i=a[(f<<5)+h];if(!l(c[i],d[i])){e[f]=((i=e[f])!=null?i:0)|1<<h%32}}g=g>>>1}}return e}function n(a,b){for(var c=0;c<Math.max(a.length,b.length);c++)if((a[c]&b[c])!==0)return!0;return!1}function o(a,b,d,e){try{a=a(b,d,e);if((h||(h=c("isPromise")))(a))return a.catch(function(a){c("FBLogger")("messenger_web").catching(a).mustfix("error in ReStore subscription async handler")});else return a}catch(a){c("FBLogger")("messenger_web").catching(a).mustfix("error in ReStore subscription handlers")}}function p(a,b,c,e,f){var g=Array.from(b(e));if(f.operation==="put"&&f.prevValue!=null){b=function(){var b=f.prevValue,h=[];for(var i of g){i[0];var k=i[1];k!=null&&k.forEach(function(a,b){h[b]=((b=h[b])!=null?b:0)|a})}var l=m(a,h,b,f.value);return{v:(j||(j=d("PromiseOrValue"))).all(g.map(function(a){var b=a[0];a=a[1];if(a==null||n(l,a))return o(b,e,f,c)}))}}();if(typeof b==="object")return b.v}return Promise.all(g.map(function(a){var b=a[0];a[1];return o(b,e,f,c)}))}function q(b){return c("nullthrows")((f.has(b)?f:f.set(b,[c("IntervalList")((k||(k=d("ReStoreKeyComparer"))).compareKey,a.tableNames[b].primaryKeyIds.length),new Map()])).get(b))}function r(b,e){var f=q(b);f[0];f=f[1];return c("nullthrows")((f.has(e)?f:f.set(e,c("IntervalList")((k||(k=d("ReStoreKeyComparer"))).compareKey,a.tableNames[b].indexes[e].length))).get(e))}function s(b,e,f,g,h,i){var l=function(a,c){return p(e,b.findIntersecting,i,a,c)},m=f==null?void 0:d("ReStoreUtils").searchKey(a.tableNames[e],f,h),n=g==null?void 0:d("ReStoreUtils").searchKey(a.tableNames[e],g,h);if(n==null&&m!=null)return l(m,{operation:"delete",prevValue:c("nullthrows")(f)});if(m==null&&n!=null)return l(n,{operation:"add",value:c("nullthrows")(g)});if(m!=null&&n!=null)return(k||(k=d("ReStoreKeyComparer"))).compareKey(m,n)===0?l(m,{operation:"put",prevValue:c("nullthrows")(f),value:c("nullthrows")(g)}):(j||(j=d("PromiseOrValue"))).map(l(m,{operation:"delete",prevValue:c("nullthrows")(f)}),function(){return l(n,{operation:"add",value:c("nullthrows")(g)})})}function t(a,b,c,e){var f=q(a),g=f[0],h=f[1];return(j||(j=d("PromiseOrValue"))).map(s(g,a,b,c,null,e),function(){return(j||(j=d("PromiseOrValue"))).all(Array.from(h.entries()).map(function(d){var f=d[0];d=d[1];return s(d,a,b,c,f,e)}).filter(function(a){return a!=null}))})}function u(){g.forEach(function(a){return a()})}function v(a,d){function f(){var e=new Map();try{for(var f of a){var g=f[0],h=f[1];b(d,g)&&e.set(g,h)}}catch(a){c("FBLogger")("messenger_web").catching(a).mustfix("Couldnot format changes to broadcast")}return Array.from(e)}if((i||(i=c("ExecutionEnvironment"))).isInBrowser&&e!=null){f=f();if(f.length===0)return;e.postMessage(d,f)}}(i||(i=c("ExecutionEnvironment"))).isInBrowser&&(e!=null&&e.onEventReceive("notifyTableV2",function(a){c("promiseDone")(async function(){var b=new WeakMap(),c=a.values();await (j||(j=d("PromiseOrValue"))).loop(function(a){if(a.done)return{action:"break",value:void 0};a=a.value;var e=a[0];a=a[1];var f=a.values();return(j||(j=d("PromiseOrValue"))).map(j.loop(function(a){if(a.done)return{action:"break",value:void 0};a=a.value;var c=a[0];a=a[1];return(j||(j=d("PromiseOrValue"))).map(t(e,c,a,b),function(){return{action:"continue",value:f.next()}})},f.next()),function(){return{action:"continue",value:c.next()}})},c.next());u()}())}));var w=new Map(),x=new Map();function y(a,b){if(b==null)return null;var c=w.get(a);c==null&&(c=new Map(),w.set(a,c));var d=[];for(b of b){var e=c.get(b);if(e==null){e=c.size;c.set(b,e);var f=x.get(a);f==null&&(f=[],x.set(a,f));f.push(b)}f=e>>5;e=e&31;d[f]=((f=d[f])!=null?f:0)|1<<e}return d}return{dispose:function(){f.clear(),g.clear()},notifyCommit:u,notifyTableAndIndexSubscribers:t,notifyTableV2:v,subscribeIndex:function(a,b,c,d,e){var f=r(a,b),g=!1;b=function(a,b,d){return g?Promise.resolve():o(c,a,b,d)};var h=[b,y(a,e)];f.set(d,h);return function(){g=!0,f.delete(h)}},subscribeTable:function(a,b,c,d){var e=q(a),f=e[0],g=!1;e=function(a,c,d){return g?Promise.resolve():o(b,a,c,d)};var h=[e,y(a,d)];f.set(c,h);return function(){g=!0,f.delete(h)}},subscribeToCommit:function(a){g.set(a,a);return function(){g.delete(a)}}}}g.default=a}),98);
__d("ReStore",["ExecutionEnvironment","FBLogger","JSONStringifyBigIntSafe","ODS","PromiseOrValue","ReStoreCustomMigration","ReStoreHooks","ReStoreIndexeddbPersistenceInitFailure","ReStoreMigrateUtil","ReStoreOperationLock","ReStorePersistedMetadata","ReStorePersistence","ReStoreTable","ReStoreTransactionDelay","ReStoreUtils","clearTimeout","cr:1088","cr:6665","createReStoreSubscriptionManager","promiseDone","setImmediate","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,"ReStore transaction timed out")||this}return a}(babelHelpers.wrapNativeSuper(Error)),l={enableRejectingTransaction:!1,enableTransactionTimeout:!1,fbLoggerProject:"maw_db",odsCategoryID:600},m=12e4;function a(a){var e=a.persistence,f=a.hooks;f=f===void 0?[]:f;var g=a.customMigration,n=a.loggers,o=n===void 0?{logHistory:void 0,transactionQplLogger:void 0,userFlow:void 0}:n;n=a.config;var p=n===void 0?l:n,q=a.schema,r=o.logHistory,s=o.transactionQplLogger,t=o.userFlow,u=d("ReStorePersistence").createDbStore(e);n=e.tabTablesNotifier==null?void 0:e.tabTablesNotifier();var v=q.defaults,w=c("createReStoreSubscriptionManager")(q,e.shouldSync,n),x=d("ReStoreHooks").createHookManager(f),y=u.createTransaction("readonly"),z=e.types.includes("indexeddb"),A={background:{first:null,last:null},sync_script:{first:null,last:null},ui:{first:null,last:null}},B="<first_txn>";t==null?void 0:t.addPoint("migration_start");r==null?void 0:r.debug("restore migration start");var C=new(d("ReStoreOperationLock").WaitForPromiseLock)(e.types.includes("devtool")?Promise.resolve():u.runExclusively(function(){return Promise.resolve([async function(){t==null?void 0:t.addPoint("migration_execute_start");var a=new Map(),b=u.createTransaction("readwrite"),c=F(b,a);r==null?void 0:r.debug("migration transaction created");c={changedKeys:a,clearCache:E,hooksManager:x,loggers:o,storeTx:b,transaction:c};try{var e=await q.migrate(c);t==null?void 0:t.addPoint("migration_custom_start");c=await d("ReStoreCustomMigration").runCustomMigration(g,c);r==null?void 0:r.debug("migration custom end");t==null?void 0:t.addPoint("migration_custom_end");if(c===d("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED&&e===d("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED){b.close();r==null?void 0:r.debug("restore migration skipped");t==null?void 0:t.addPoint("migration_skipped");return}c=e!==d("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA&&a.size!==0;await b.flush({upgrade:c});t==null?void 0:t.addPoint("migration_execute_end");r==null?void 0:r.debug("restore migration complete")}catch(a){b.close();throw a}t==null?void 0:t.addPoint("migration_end");r==null?void 0:r.debug("restore migration end")},"readwrite"])},"migration").catch(function(a){t==null?void 0:t.addAnnotations({string:{migration_error:a.message}});a instanceof d("ReStoreIndexeddbPersistenceInitFailure").ReStoreIndexeddbPersistenceInitFailure||(t==null?void 0:t.endFail("migration_error"));r==null?void 0:r.debug("restore migration error");c("FBLogger")("restore_init").catching(a).mustfix("migration failed");throw a}));async function D(a,b){var c=new WeakMap();await u.runExclusively(function(){return Promise.resolve([async function(){var e=new Map(),f=u.createTransaction("readwrite"),g=F(f,e),h=b.values();await (j||(j=d("PromiseOrValue"))).loop(function(b){if(b.done)return{action:"break",value:void 0};b=b.value;var e=b[0],f=b[1];return(j||(j=d("PromiseOrValue"))).map(j.map(f==null?g.table(a).delete(d("ReStoreUtils").searchKey(q.tableNames[a],e)):g.table(a).put(f),function(){return w.notifyTableAndIndexSubscribers(a,e,f,c)}),function(){return{action:"continue",value:h.next()}})},h.next());try{await f.flush({upgrade:!0})}catch(a){f.close();throw a}},"readwrite"])},"applyChangesToTable")}function E(){u.clearCache==null?void 0:u.clearCache()}function F(a,b,c){return d("ReStoreUtils").createReStoreTransaction(q,v,x,w,a,b,c)}var G;function H(a,b,c,d){return new Promise(function(e,f){p.enableRejectingTransaction&&(G=f);var g=function(){B=d;return a().then(e,f).finally(function(){return B=void 0})};A[b].last==null?A[b].first=A[b].last={value:{code:g,writemode:c}}:A[b].last=A[b].last.next={value:{code:g,writemode:c}}})}function I(a){return u.runExclusively(function(){var a=A.ui.first!=null?A.ui:A.sync_script.first!=null?A.sync_script:A.background;if(a.first==null){c("FBLogger")(p.fbLoggerProject).mustfix("Expected work is missing");return Promise.resolve([function(){return Promise.resolve({})},"readonly"])}var b=a.first;a.first===a.last&&(a.last=null);a.first=a.first.next;return Promise.resolve([b.value.code,b.value.writemode])},a)}async function J(a,b,d,e){var f;d===void 0&&(d="background");e===void 0&&(e={source:"unknown",type:"user_initiated"});var g,h=(f=arguments[4])!=null?f:"<unknown callsite>";h==="<unknown callsite>"&&e.type!=="test_env"&&c("FBLogger")(p.fbLoggerProject).info("Unknown callsite for runInTransaction, action source %s",e.source);e.type==="maw_ui_bridge"&&(h=h+":"+e.events.map(function(a){a=a.tag;return a}).join(","));try{g=await K(a,b,d,e,h)}catch(a){if(a instanceof k)throw c("FBLogger")(p.fbLoggerProject).blameToPreviousFrame().mustfixThrow("ReStore transaction took too long to execute: %s",h);throw a}return g}async function K(a,e,f,g,i){f===void 0&&(f="background");var k,l,n,o,q,r=s==null?void 0:s.startTracking(z,f);b("cr:1088")&&(k=Date.now());r==null?void 0:r.addAnnotations({string:{currentlyExecutingModuleAndLineNo:B,moduleAndLineNo:i}});async function t(){r==null?void 0:r.mark("execute_start");b("cr:1088")&&(l=Date.now());var e={ref:void 0},f=new Map(),m=u.createTransaction("readwrite",i),s;b("cr:1088")==null?void 0:b("cr:1088").trackingStoredProceduresForNewTransaction(g);b("cr:1088")==null?void 0:b("cr:1088").recordModuleName(i);try{var t=F(m,f,{qplFlow:r});(h||(h=c("ExecutionEnvironment"))).isInBrowser?s=await Promise.race([a(t),M(e,r,i)]):s=await a(t);e.ref!=null&&c("clearTimeout")(e.ref);r==null?void 0:r.mark("execute_end");r==null?void 0:r.mark("flush_start");await m.flush({qplFlow:r});r==null?void 0:r.mark("flush_end");b("cr:1088")&&(n=Date.now())}catch(a){e.ref!=null&&c("clearTimeout")(e.ref);m.close();r==null?void 0:r.fail(a);c("FBLogger")(p.fbLoggerProject).catching(a).mustfix("Transaction failed: %s",i);b("cr:1088")==null?void 0:b("cr:1088").recordRestoreTransaction({broadcast:o,complete:n,flush:q,queue:k,start:l},{changedKeys:f});throw a}finally{b("cr:1088")==null?void 0:b("cr:1088").stopTrackingStoredProcedures()}b("cr:1088")&&(q=Date.now());r==null?void 0:r.mark("broadcast_start");var v=new WeakMap();t=new Map();for(e of f){m=e[0];var y=e[1];m=JSON.parse(m);var z=m[0];m[1];m=t.get(z);m==null&&(m=[],t.set(z,m));var A=y[0];y=y[1];y=x.beforeNotify({newValue:y,prevValue:A,tableName:z});A=y.newValue;z=y.prevValue;m.push([z,A])}var B=t.entries();await (j||(j=d("PromiseOrValue"))).loop(function(a){if(a.done)return{action:"break",value:void 0};a=a.value;var b=a[0];a=a[1];var c=a.values();return(j||(j=d("PromiseOrValue"))).map(j.loop(function(a){if(a.done)return{action:"break",value:void 0};a=a.value;var e=a[0];a=a[1];return(j||(j=d("PromiseOrValue"))).map(w.notifyTableAndIndexSubscribers(b,e,a,v),function(){return{action:"continue",value:c.next()}})},c.next()),function(){return{action:"continue",value:B.next()}})},B.next());w.notifyTableV2(t,"notifyTableV2");w.notifyTableV2(t,"notifyInMemoryTable");w.notifyCommit();if(b("cr:1088")){o=Date.now();y={broadcast:o,complete:n,flush:q,queue:k,start:l};b("cr:1088").recordRestoreTransaction(y,{changedKeys:f})}r==null?void 0:r.mark("broadcast_end");r==null?void 0:r.mark("post_commit_start");c("setImmediate")(function(){r==null?void 0:r.mark("post_commit_end"),r==null?void 0:r.end()});return s}await c("ReStoreTransactionDelay")(f);t=H(t,f,e,i);r==null?void 0:r.mark("enqueued");r==null?void 0:r.addAnnotations({string:{actionSourceSource:g.source,actionSourceType:g.type},string_array:{actionSourceEvents:(f=g.events)==null?void 0:f.map(function(a){return a.tag}),actionSourceTaskNames:g.taskNames}});c("promiseDone")(I(i),function(){},function(a){G==null?void 0:G(a)});if(!(h||(h=c("ExecutionEnvironment"))).isInBrowser)return t;var v=c("setTimeout")(function(){var a;c("FBLogger")("messenger_web").mustfix("Transaction not resolved after %s ms. Source: %s; currently processing: %s. Native ops: %s. Executed SP: %s, isInWorker: %s",m,i,B,(a=c("JSONStringifyBigIntSafe")(b("cr:6665")==null?void 0:b("cr:6665").getCurrentlyExecutingNativeOps()))!=null?a:"<devtools not running>",(a=b("cr:1088")==null?void 0:(a=b("cr:1088").getStoredProcedureCallLog())==null?void 0:a.sp.map(function(a){return a.spName}).join(","))!=null?a:"<devtools not running>",(h||(h=c("ExecutionEnvironment"))).isInWorker)},m);return t.finally(function(){return c("clearTimeout")(v)})}(h||(h=c("ExecutionEnvironment"))).isInBrowser&&(n!=null&&n.onEventReceive("notifyInMemoryTable",function(a){c("promiseDone")(async function(){for(var b of a){var c=b[0],d=b[1];e.shouldApplySync("notifyInMemoryTable",c)&&await D(c,d)}w.notifyCommit()}())}));var L=Object.keys(q.tableNames).reduce(function(a,b){return babelHelpers.extends({},a,(a={},a[b]=new(d("ReStoreTable").ReStoreTable)(q.tableNames[b],x,C,y,w),a))},{});return{clearCacheIfSupported:E,closeDb:function(){var a=u;a instanceof Object&&a.close!==void 0&&a.close()},getCustomMigrationVersion:async function(){var a=await new(d("ReStorePersistedMetadata").ReStorePersistedCustomMigrationVersion)().read(u.createTransaction("readonly"));return a==null?void 0:a.customMigrationVersion},getTableData:function(){return q},isClosed:function(){return u.isClosed()},isPersistenceSupported:function(){var a=u;return a instanceof Object&&a.isPersistenceSupported!==void 0&&a.isPersistenceSupported instanceof Function?a.isPersistenceSupported():Promise.resolve(!0)},persistence:e,persistenceTypes:e.types,runInTransaction:J,subscribeToCommit:function(a){return w.subscribeToCommit(a)},subscriptionManager:w,table:function(a){return L[a]},tables:L,uniqueId:e.uniqueId};function M(a,e,f){return!p.enableTransactionTimeout?new Promise(function(){var e=1e4;a.ref=c("setTimeout")(function(){var a;c("FBLogger")(p.fbLoggerProject).mustfix("ReStore transaction took too long to execute, check it: %s. Executed SP: %s. isInWorker: %s.",f,b("cr:1088")==null?void 0:(a=b("cr:1088").getStoredProcedureCallLog())==null?void 0:a.sp.map(function(a){return a.spName}).join(","),(h||(h=c("ExecutionEnvironment"))).isInWorker);(i||(i=d("ODS"))).bumpEntityKey(p.odsCategoryID,"messenger.restore.transaction","timeout_"+(f||"").replace(/:/g,"_"),1)},e)}):new Promise(function(b,d){b=5e3;a.ref=c("setTimeout")(function(){e==null?void 0:e.mark("slow_transaction"),d(new k())},b)})}}g.default=a}),98);
__d("ReStoreInstrumentation",["JSONStringifyBigIntSafe"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map();function a(a){h.set(a.uniqueId,{instance:a,persistence:a.persistence,tableNames:a.getTableData().tableNames});return a}function b(){return Array.from(h.entries()).map(function(a){var b=a[0];a=a[1];return{key:b,value:JSON.parse(c("JSONStringifyBigIntSafe")(a.tableNames))}})}g.instrument=a;g.getReStoreTables=b;g.reStoreInstancesMap=h}),98);
__d("LSReStoreWrapper",["LSReStoreQplLogger","MessengerLogHistory","ReStore","ReStoreInstrumentation","gkx","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f,g){e===void 0&&(e=[]);f=d("ReStoreInstrumentation").instrument(c("ReStore")({config:{enableRejectingTransaction:c("gkx")("8566"),enableTransactionTimeout:c("gkx")("2947"),fbLoggerProject:"maw_db",odsCategoryID:3185},customMigration:f,hooks:e,loggers:{logHistory:d("MessengerLogHistory").getInstance("db_init"),transactionQplLogger:d("LSReStoreQplLogger").createQplLogger(c("qpl")._(25306500,"1488")),userFlow:g},persistence:a,schema:b}));return f}g.createLSReStore=a}),98);
__d("MAWLSVaultingHooks",["ReStoreVaulting"],(function(a,b,c,d,e,f,g){"use strict";a={onAfterEntriesNext:function(a){var b=a.tableName;a=a.value;return d("ReStoreVaulting").maybeVaultDbRow(a,b)},onAfterGet:function(a){var b=a.tableName;a=a.value;return d("ReStoreVaulting").maybeVaultDbRow(a,b)},onBeforeAdd:function(a){var b=a.tableName;a=a.value;return d("ReStoreVaulting").maybeUnvaultDbRow(a,b)},onBeforeNotify:function(a){var b=a.newValue,c=a.prevValue;a=a.tableName;return{newValue:d("ReStoreVaulting").maybeVaultDbRow(b,a),prevValue:d("ReStoreVaulting").maybeVaultDbRow(c,a)}},onBeforePut:function(a){var b=a.tableName;a=a.value;return d("ReStoreVaulting").maybeUnvaultDbRow(a,b)},onBeforeUpsert:function(a){var b=a.tableName;a=a.value;return d("ReStoreVaulting").maybeUnvaultDbRow(a,b)}};g["default"]=a}),98);
__d("LSJSInMemoryStorage",["LSPlatformLsInitLog","LSReStoreWrapper","MAWLSVaultingHooks","createLSReStoreEphemeralPersistence"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("LSReStoreWrapper").createLSReStore(d("createLSReStoreEphemeralPersistence").createLSReStoreEphemeralPersistence(),a,[c("MAWLSVaultingHooks")],void 0,d("LSPlatformLsInitLog").lsInitLogger)}g["default"]=a}),98);
__d("LSVoprfWasmPrewarmDeferred",["WAWasmModuleCache","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("LSVoprfWasm").__setRef("LSVoprfWasmPrewarmDeferred");async function a(){var a=await h.load();a=a.locateFile;await d("WAWasmModuleCache").loadWasmModule(a())}g.prewarmAcsVoprfWasmModule=a}),98);
__d("MAWAppVersion",["SiteData"],(function(a,b,c,d,e,f,g){"use strict";function a(){return"302.0."+c("SiteData").client_revision}function b(){return{primary:302,secondary:0,tertiary:c("SiteData").client_revision}}g.getVersionNumber=a;g.getAppVersionParts=b}),98);
__d("MAWBridgeDropAllSecureThreadsHandler",["I64","LSIntEnum","LSMessagingThreadTypeUtil","Promise","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a){var c=d("ReQL").fromTableAscending(a.threads_ranges_v2__generated).filter(function(a){return(i||(i=d("I64"))).equal(a.parentThreadKey,(j||(j=d("LSIntEnum"))).ofNumber(-1))||(i||(i=d("I64"))).equal(a.parentThreadKey,(j||(j=d("LSIntEnum"))).ofNumber(-10))});return d("ReQL").toArrayAsync(c).then(function(c){return c.reduce(function(b,c){return b.then(function(){return a.threads_ranges_v2__generated["delete"](c.parentThreadKey,c.minThreadKey,c.minLastActivityTimestampMs)})},(h||(h=b("Promise"))).resolve())})}function l(a){var c=d("ReQL").fromTableAscending(a.threads).filter(function(a){return d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType)});return d("ReQL").toArrayAsync(c).then(function(c){return c.reduce(function(b,c){return b.then(function(){return a.threads["delete"](c.threadKey)})},(h||(h=b("Promise"))).resolve())})}function a(a){return(h||(h=b("Promise"))).all([k(a),l(a)]).then(function(){return(h||(h=b("Promise"))).resolve()})}g.call=a}),98);
__d("MAWConsoleLogger",["gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=c("gkx")("2656");function a(a,b,c){if(h){var d=c.map(function(a){return"["+a+"]"}).join("");if(a==="count"){console.count(d+" "+String(b));return}for(var e=arguments.length,f=new Array(e>3?e-3:0),g=3;g<e;g++)f[g-3]=arguments[g];if(d){var i;(i=console)[a].apply(i,[d,b].concat(f))}else{var j;(j=console)[a].apply(j,[b].concat(f))}}}g.logToConsole=a}),98);
__d("MAWDeleteOldLogsFromDisk",["Deferred","MAWLogIndexedDb","MAWSaveLogToDisk","MAWTransactionMode","WALogger","justknobx"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to delete old logs: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to delete old logs: ",""]);i=function(){return a};return a}var j=c("justknobx")._("1400"),k=c("justknobx")._("1401"),l=c("justknobx")._("1402"),m=(e=d("MAWLogIndexedDb")).makeLogMsgrTransactor("logs",(f=d("MAWTransactionMode")).READONLY)(function(a){var b=new(c("Deferred"))();a=a();a=a.count();a.onsuccess=function(a){a=a.target.result;b.resolve(a)};a.onerror=function(a){b.reject(a)};return b.getPromise()}),n=e.makeLogMsgrTransactor("logs",f.READONLY)(function(a,b){var d=new(c("Deferred"))();a=a();var e=[];a=a.index("date");a=a.openCursor();a.onsuccess=function(a){a=a.target.result;if(a==null||!b(a.value,e)){d.resolve(e);return}e.push(a.value.id);a.continue()};a.onerror=function(a){d.reject(a)};return d.getPromise()}),o=e.makeLogMsgrTransactor("logs",f.READWRITE)(function(a){var b=new(c("Deferred"))();a=a();a=a.clear();a.onsuccess=function(){return b.resolve()};a.onerror=function(a){return b.reject(a)};d("MAWSaveLogToDisk").clearLogEntryCache();return b.getPromise()}),p=e.makeLogMsgrTransactor("logs",f.READWRITE)(function(a,b){var d=new(c("Deferred"))(),e=a();b.forEach(function(a){return e.delete(a)});e.transaction.oncomplete=function(){return d.resolve()};e.transaction.onerror=function(a){return d.reject(a)};return d.getPromise()});function q(a,b){b=Date.now()-l;return a!=null&&a.date<=b}function r(a){return function(b,c){return c.length<a}}async function a(){try{var a=await m();if(a===0)return;a=a-k;if(a>0){a=await n(r(a));await p(a);return}a=await n(q);a.length>0&&await p(a)}catch(a){d("WALogger").ERROR(i(),a)}}async function b(){try{var a=await m();if(a===0)return;if(a>=j){await o();return}}catch(a){d("WALogger").ERROR(h(),a)}}g.clearLogs=o;g.deleteOldLogs=a;g.deleteOldLogsOnStartup=b}),98);
__d("WAWorkerGlobalScope",[],(function(a,b,c,d,e,f){"use strict";a=function(){if(typeof window!=="undefined")return window;return typeof globalThis!=="undefined"?globalThis:self}();f.workerGlobalScope=a}),66);
__d("MAWEncryptionIndexedDbV2",["BrowserLockManager","EARInitType","ExecutionEnvironment","FBLogger","IndexedDbPolyfills","MAWCurrentUser","MAWIndexedDBDeletion","MAWIndexedDbMetadata","MAWQplProxy","MWEARKeychainV3","Promise","QPLUserFlow","WALogger","WAWorkerGlobalScope","err","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Armadillo Web Remote Presence] MAW RP Initialising EAR"]);j=function(){return a};return a}b("IndexedDbPolyfills");var k="browserEncryptionMetaV2",l="version",m=1,n=6e4,o=null,p=null,q=null;function a(){return o}function e(){return o!=null}var r=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(babelHelpers.wrapNativeSuper(Error));function s(a,e){e===void 0&&(e=0);var f=d("MAWCurrentUser").getID();if(e>m){v(a,"ear_idb_retry_failed_max_reached");return(i||(i=b("Promise"))).reject(new r())}if(o!=null){v(a,"ear_db_exists");return(i||(i=b("Promise"))).resolve()}if(indexedDB==null){v(a,"ear_idb_unavailable");return(i||(i=b("Promise"))).reject(c("err")("IndexedDB API not available"))}v(a,"ear_db_open_start",{bool:{browserLockEnabled:c("BrowserLockManager")!=null}});return new(i||(i=b("Promise")))(function(b,g){var i=function(c){s(a,e+1).then(b)["catch"](function(a){if(a instanceof r)return g(c);g(a)})};try{q=d("MAWIndexedDbMetadata").encryptionDbName(f);var j=indexedDB.open(q),m=d("WAWorkerGlobalScope").workerGlobalScope.setTimeout(function(){g(c("err")("IndexedDB initialisation timeout in %s flow, isInWorker: %s, openRequest: %s",String(a),(h||(h=c("ExecutionEnvironment"))).isInWorker?"true":"false",j.readyState))},n);j.onupgradeneeded=function(b){d("WAWorkerGlobalScope").workerGlobalScope.clearTimeout(m);v(a,"ear_db_upgrade_start");b=b.target.result;if(!b.objectStoreNames.contains(k)){b=b.createObjectStore(k,{autoIncrement:!0,keyPath:"id"});b.createIndex(l,l,{unique:!0})}v(a,"ear_db_upgrade_end")};j.onblocked=function(){v(a,"ear_db_open_blocked"),d("WAWorkerGlobalScope").workerGlobalScope.setTimeout(function(){g(c("err")("EAR Open timed out while blocked"))},2e3)};j.onsuccess=function(e){d("WAWorkerGlobalScope").workerGlobalScope.clearTimeout(m);var f=e.target.result;if(!f.objectStoreNames.contains(k)){e=j.result.objectStoreNames.contains(k);c("FBLogger")("messenger_web").warn("Missing encryption meta table. Is store present: %s",e);d("WAWorkerGlobalScope").workerGlobalScope.clearTimeout(m);return t(f,"missing_encryption_meta_table").then(function(){i(c("err")("Malformed encryption DB"))})["catch"](function(b){v(a,"ear_idb_retry_failed_delete_failed");return g(c("err")("Failed to delete malformed encryption DB: "+b.message))})}f.onversionchange=function(){f.close(),c("FBLogger")("messenger_web").info("EAR onversionchange triggered"),d("WAWorkerGlobalScope").workerGlobalScope.clearTimeout(m),p==null?void 0:p()};v(a,"ear_db_open_end");o=f;d("MWEARKeychainV3").setNamespaceSourceDbAndMarkAsReady("global_ear",o);b()};j.onerror=function(){d("WAWorkerGlobalScope").workerGlobalScope.clearTimeout(m);if(j.error.name==="UnknownError"){v(a,"ear_db_open_error_unknown_error");return i(j.error)}v(a,"ear_db_open_error");g(j.error)}}catch(b){v(a,"ear_db_error"),g(b)}})}function f(a){p=p==null?a:p}function t(a,b){a===void 0&&(a=o);c("FBLogger")("messenger_web").warn("EAR DB deletion triggered: %s",b);a!=null&&a.close();return d("MAWIndexedDBDeletion").deleteDB(q,"ear")}function u(a){switch(a){case c("EARInitType").EB_INIT:return c("qpl")._(521477507,"1406");case c("EARInitType").MAW_INIT:return c("qpl")._(25310776,"6155");case c("EARInitType").MAW_RP_INIT:d("WALogger").DEV(j());return c("qpl")._(25310776,"6155");case c("EARInitType").LS_INIT:return c("qpl")._(25305590,"1127");case c("EARInitType").MAW_IN_UI_INIT:return null}}function v(a,b,e){a=u(a);if(a==null)return;(h||(h=c("ExecutionEnvironment"))).isInWorker?d("MAWQplProxy").sendQplPointThroughBridge(a,"worker_"+b,{annotations:e}):(c("QPLUserFlow").addPoint(a,b),e!=null&&c("QPLUserFlow").addAnnotations(a,e))}g.storeName=k;g.ENCRYPTION_MAW_STORES_INDEX=l;g.getEncryptionDB=a;g.isEncryptionDBInited=e;g.makeEncryptionDB=s;g.maybeSetEncryptionDbOnVersionChange=f;g.deleteEncryptionDB_UNSAFE=t}),98);
__d("MAWMainThreadLogger",["CurrentMessengerUser","FBLogger","MAWAppVersion","MAWConsoleLogger","MAWDeleteOldLogsFromDisk","MAWLeakDetection","MAWLoggerUtils","MAWLoggingSwitches","MAWSaveLogToDisk","WAJids","WATagsLogger","err","getErrorSafe","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h=!1;function a(){h=!1}function b(){h||(h=!0,d("WATagsLogger").initializeWaLogger(p))}var i=function(){return c("FBLogger")("messenger_web")};function j(a,b){a=k(a);a!=null&&d("MAWLoggerUtils").logToHistory("log",a,b,!1)}function k(a){if(!d("CurrentMessengerUser").isEmployee()&&!d("CurrentMessengerUser").isTestUser())return;a=d("WAJids").maybeSanitizeLogLineText(a);a=d("MAWLeakDetection").maybeReplaceVaultedString(a);return a}function e(a,b){a=d("WAJids").maybeSanitizeLogLineText(a);a=d("MAWLeakDetection").maybeReplaceVaultedString(a);d("MAWLoggerUtils").logToHistory("log",a,b,!1)}function l(a,b){a=d("WAJids").maybeSanitizeLogLineText(a);a=d("MAWLeakDetection").maybeReplaceVaultedString(a);d("MAWLoggerUtils").logToHistory("log",a,b,!1)}function m(a,b){a=d("WAJids").maybeSanitizeLogLineText(a);a=d("MAWLeakDetection").maybeReplaceVaultedString(a);i().tags(b.map(function(a){return String(a)})).warn(a)}function f(a,b,d,e,f,g){d=c("err")(d);d.stack=e;c("promiseDone")(o(a,b,d,f,g))}async function n(a,b){a=d("MAWLeakDetection").maybeReplaceVaultedString(d("WAJids").maybeSanitizeLogLineText(a));var c=d("MAWLoggingSwitches").removeLoggingFromBridge?d("MAWSaveLogToDisk").getLastNEntries(b):Promise.resolve([]);b=b===0?[]:[].concat((await c).map(function(a){return a.args}));return{logs:[].concat(b),sanitizedMessage:a}}async function o(a,b,e,f,g){var h;a=d("MAWLeakDetection").maybeReplaceVaultedString(d("WAJids").maybeSanitizeLogLineText(a));h=(h=e)!=null?h:c("err")(a);f=(a=f)!=null?a:e==null?2:0;e=(a=g)!=null?a:0;g=await n(h.message,e);a=g.logs;e=g.sanitizedMessage;g=c("getErrorSafe")(h);try{h.message=e}catch(a){g=c("err")(e,h.fileName,h.lineNumber)}f!==0&&(g.framesToPop=f);(h=i())==null?void 0:(f=h.addMetadata("MESSENGER_E2EE_WEB","APP_VERSION",d("MAWAppVersion").getVersionNumber()).tags(b.map(function(a){return String(a)})).catching(g)).mustfix.apply(f,[e].concat(a))}var p={count:function(a,b){d("MAWConsoleLogger").logToConsole("count",a,b)},debug:function(a,b){d("MAWConsoleLogger").logToConsole("log",a,b)},devConsole:function(a,b,c){for(var e=arguments.length,f=new Array(e>3?e-3:0),g=3;g<e;g++)f[g-3]=arguments[g];switch(a){case"COUNT":d("MAWConsoleLogger").logToConsole.apply(void 0,["count",b,c].concat(f));break;case"DEV":d("MAWConsoleLogger").logToConsole.apply(void 0,["log",b,c].concat(f));break;case"DEV_XMPP":d("MAWConsoleLogger").logToConsole.apply(void 0,["log",b,c].concat(f));break;case"LOG":d("MAWConsoleLogger").logToConsole.apply(void 0,["info",b,c].concat(f));break;case"WARN":d("MAWConsoleLogger").logToConsole.apply(void 0,["warn",b,c].concat(f));break;case"ERROR":d("MAWConsoleLogger").logToConsole.apply(void 0,["error",b,c].concat(f));break;case"CATCHING":d("MAWConsoleLogger").logToConsole.apply(void 0,["error",b,c].concat(f));break}},error:function(a,b,e){c("promiseDone")(o(a,b,e)),d("MAWConsoleLogger").logToConsole("error",a,b)},info:function(a,b){l(a,b),d("MAWConsoleLogger").logToConsole("info",a,b)},logRestricted:function(a,b){j(a,b),d("MAWConsoleLogger").logToConsole("log",a,b)},warn:function(a,b){m(a,b),d("MAWConsoleLogger").logToConsole("warn",a,b)}};function q(){return!d("MAWLoggingSwitches").removeLoggingFromBridge?Promise.resolve([]):d("MAWSaveLogToDisk").getEntries()}async function r(){if(!d("MAWLoggingSwitches").removeLoggingFromBridge)return;await d("MAWDeleteOldLogsFromDisk").clearLogs()}function s(a){return new Date(typeof a==="string"?parseInt(a,10):a).toISOString().replace("T"," ").replace("Z","")}function t(a){return a.map(function(a){try{var b=s(a.date);return[b,a.level,a.category,a.event,a.args].join(" | ")}catch(a){return[s(Date.now()),"error","LOGGER","Error formatting log: "+((a==null?void 0:a.message)||"")].join(" | ")}}).filter(Boolean).join("\n")}g.__testClearLoggerSetup=a;g.setupMainWaLogger=b;g.logRestricted=j;g.count=e;g.info=l;g.warn=m;g.logError=f;g.getEntries=q;g.clearEntries=r;g.formatEntries=t}),98);
__d("MAWVaultMaterialsStorage",["FBLogger","MAWVaultMaterials","Promise","WebAsyncStorage"],(function(a,b,c,d,e,f,g){"use strict";var h,i="mw_exchange_vm";function j(){var a=d("MAWVaultMaterials").generateNewVaultMaterials(),e="newly-generated";return new(h||(h=b("Promise")))(function(b){c("WebAsyncStorage").getOrSetItem(i,a,function(f,g){if(f!=null){var h=c("FBLogger")("messenger_web");if(f instanceof Error)throw h.catching(f).mustfixThrow("Failed to store Vaulting Materials. %s",f.toString());else h.mustfix("Failed to store Vaulting Materials.")}g!==null&&(a=g,e="storage");b(d("MAWVaultMaterials").initializeVaultMaterials(a,e))})})}function a(){return d("MAWVaultMaterials").hasVaultBeenSetup()?(h||(h=b("Promise"))).resolve(d("MAWVaultMaterials").getVaultMaterials()):j()}g.setupVaultMaterials=a}),98);
__d("MWConditionallySetupEBStateDB",["EBMainThreadEBDBApiDeferred","ExecutionEnvironment","MAWCurrentUser","MAWIndexedDbMetadata","MessengerWebInitData","WAHex","WormGlobalConfig","cr:6693","cr:8233","gkx","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h;async function a(a){a===void 0&&(a=!1);if(b("cr:6693")!=null&&(h||(h=c("ExecutionEnvironment"))).isInBrowser){d("WormGlobalConfig").setWormGlobalConfig({handleNotFoundErrorExperiment:function(){return c("gkx")("11548")},handleUnknownErrorExperiment:function(){return c("gkx")("11549")},treatMalformedEncryptedEntityAsDecryptionError:function(){return c("gkx")("12682")}});b("cr:8233")==null?void 0:b("cr:8233").setupMainWaLogger();void d("EBMainThreadEBDBApiDeferred").initEBDB(d("MAWIndexedDbMetadata").ebdbName(d("MAWCurrentUser").getID()),c("qpl")._(1056840657,"2716"),d("WAHex").parseHex(c("MessengerWebInitData").accountKeyV2));a=await b("cr:6693").makeEBStateDB({flushEBSMtoEBDB:d("EBMainThreadEBDBApiDeferred").flushEBSMtoEBDB,rehydrateEBSMFromEBDB:d("EBMainThreadEBDBApiDeferred").rehydrateEBSMFromEBDB},{force:a,getCache:!0,isWorker:!1});return a}}g.conditionallyMakeEBStateDB=a}),98);
__d("MWLSSchemaEphemeral",["EBMainThreadEBDBApiDeferred","FBLogger","LSJSInMemoryStorage","LSMetadata","LSPlatformLsInitLog","LSReStoreWrapper","MAWLSVaultingHooks","MWConditionallySetupEBStateDB","MessengerLogHistory","cr:8624","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=d("MessengerLogHistory").getInstance("db_init");async function a(a){d("LSPlatformLsInitLog").addPoint("init_start");var e;try{a=await d("MWConditionallySetupEBStateDB").conditionallyMakeEBStateDB();a!=null&&(h.debug("Creating EB State DB"),e=d("LSReStoreWrapper").createLSReStore(a,d("LSMetadata").schema,[c("MAWLSVaultingHooks")],void 0,d("LSPlatformLsInitLog").lsInitLogger),await (b("cr:8624")==null?void 0:b("cr:8624")(e)),c("gkx")("12229")&&void d("EBMainThreadEBDBApiDeferred").migrateEBSMtoWORM(e),h.debug("EB State DB inited"))}catch(a){c("FBLogger")("messenger_web_clients").catching(a).mustfix("EBSM failed")}e==null&&(h.debug("Creating EDB"),e=c("LSJSInMemoryStorage")(d("LSMetadata").schema),h.debug("EDB inited"));d("LSPlatformLsInitLog").addPoint("init_end");return e}g.createDB=a}),98);
__d("MWSetupEBStateDB",["EARInitType","FBLogger","LSJSEBInMemoryStorage","MAWEncryptedBackupsPersistedDB","MWEncryptedBackupsFirstRestoreUpsellTime","MWSetupDBEncryption","QPLUserFlow","WebSession","gkx","qpl"],(function(a,b,c,d,e,f,g){"use strict";async function a(a,b){var e=b.force,f=b.getCache;b=b.isWorker;var g=d("MWEncryptedBackupsFirstRestoreUpsellTime").getFirstRestoreUpsellTime();c("QPLUserFlow").start(c("qpl")._(521477507,"1406"),{annotations:{bool:{is_worker:b},string:{ebSessionIdentifier:g,sessionTabId:d("WebSession").getId()}}});var h;g=await d("MWSetupDBEncryption").init(c("EARInitType").EB_INIT);if(g.success){e=d("MAWEncryptedBackupsPersistedDB").makeEBIDB(e,b,f).catch(function(a){c("QPLUserFlow").endFailure(c("qpl")._(521477507,"1406"),"Initialisation failed. Idb is null");c("FBLogger")("labyrinth_web").catching(a).warn("[labyrinth_web] EB State IDB initialization failed. Falling back to In memory ReStore db");return null});h=c("gkx")("11709")&&b?d("LSJSEBInMemoryStorage").makeReStoreWorkerPersistence(e,!1):d("LSJSEBInMemoryStorage").makeReStorePersistence(e,a,!1);c("QPLUserFlow").endSuccess(c("qpl")._(521477507,"1406"))}else{c("QPLUserFlow").endFailure(c("qpl")._(521477507,"1406"),g.error.toString(),{annotations:{string:{errorDescription:((f=g.payload)==null?void 0:f.message)||""}}});c("FBLogger")("labyrinth_web").warn("[labyrinth_web] Encryption DB init failed. Falling back to In memory ReStore db")}return h}g.makeEBStateDB=a}),98);
__d("ReStoreLocalStorageQuotaExceed",["FBLogger","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h="Failed to execute 'setItem' on 'Storage'",i="ReStoreLocalStorageQuotaExceed";function j(){try{var a=window.localStorage,b=[],d=[];if(a!=null&&a.length!==0)for(var e in a){b.length===0&&d.length===0&&(e.includes("falco_queue_log")&&d.push(e));if(!Object.prototype.hasOwnProperty.call(a,e))continue;var f=((a[e]||"").length+e.length)*2;f/1024>2e3&&b.push(e)}c("FBLogger")("messenger_web").mustfix(h+": QuotaExceeded - trying to clean up %s or %s",b.join(","),d.join(","));return b.length!==0?b:d}catch(a){c("FBLogger")("messenger_web").mustfix("Error getting local storage big values for cleanup.");return[]}}function a(){try{var a=window.localStorage,b=j();b.forEach(function(b){a.removeItem(b)})}catch(a){c("recoverableViolation")("Couldn't remove vals from localStorage","maw_db",a)}}b=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;b=h+": "+b+"; Keys to delete: "+j().join(",");c=a.call(this,b)||this;c.message=b;c.name=i;return c}return b}(babelHelpers.wrapNativeSuper(Error));g.ERROR_NAME=i;g.getLocalStorageValuesToRemoveOnExceed=j;g.clearLocalStorageBigValues=a;g.ReStoreLocalStorageQuotaExceed=b}),98);/*FB_PKG_DELIM*/
__d("BaseCalloutImpl.react",["BaseContextualLayer.react","BaseContextualLayerAnchorRootContext","BasePopoverReflowSheet.react","LayoutAnimationBoundaryContext","react","react-compiler-runtime","useCometDisplayTimingTrackerForInteraction","useMatchViewport"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b=d("react-compiler-runtime").c(18),e=a.anchorRef,f=a.anchorRefOverride,g=a.anchorRootRefContext,h=a.animationContext,l=a.children,m=a.contextualLayerProps,n=a.imperativeRef,o=a.scrollableAreaContext;a=f===void 0?!1:f;f=c("useCometDisplayTimingTrackerForInteraction")("FDSCalloutManager");var p=c("useMatchViewport")("max","width",600)?c("BasePopoverReflowSheet.react"):i.Fragment,q,r;b[0]!==n||b[1]!==o?(q=function(){var a=o.map(k).filter(Boolean),b=function(){var a;return(a=n.current)==null?void 0:a.reposition()};if(a.length>0){a.forEach(function(a){return a.addEventListener("scroll",b,{passive:!0})});return function(){a.forEach(function(a){return a.removeEventListener("scroll",b,{passive:!0})})}}},r=[n,o],b[0]=n,b[1]=o,b[2]=q,b[3]=r):(q=b[2],r=b[3]);j(q,r);if(m==null||e==null)return null;b[4]!==p||b[5]!==e||b[6]!==a||b[7]!==l||b[8]!==m||b[9]!==n||b[10]!==f?(q=m!=null?i.jsx(p,{children:i.jsx(c("BaseContextualLayer.react"),{align:m.align,anchorRef:a?e:void 0,contextRef:e,disableAutoAlign:m.disableAutoAlign,disableAutoFlip:m.disableAutoFlip,imperativeRef:n,position:m.position,ref:f,reflowToPosition:p!==i.Fragment,children:l})}):null,b[4]=p,b[5]=e,b[6]=a,b[7]=l,b[8]=m,b[9]=n,b[10]=f,b[11]=q):q=b[11];b[12]!==g||b[13]!==q?(r=i.jsx(c("BaseContextualLayerAnchorRootContext").Provider,{value:g,children:q}),b[12]=g,b[13]=q,b[14]=r):r=b[14];b[15]!==h||b[16]!==r?(p=i.jsx(c("LayoutAnimationBoundaryContext").Provider,{value:h,children:r}),b[15]=h,b[16]=r,b[17]=p):p=b[17];return p}function k(a){return a.getDOMNode()}g["default"]=a}),98);
__d("CometNotificationsBadgeCountFragment_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"environment"}],kind:"Fragment",metadata:null,name:"CometNotificationsBadgeCountFragment_viewer",selections:[{alias:null,args:[{kind:"Variable",name:"environment",variableName:"environment"}],kind:"ScalarField",name:"notifications_unseen_count",storageKey:null}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometNotificationsBadgeCountQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"environment"}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometNotificationsBadgeCountQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometNotificationsBadgeCountFragment_viewer"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometNotificationsBadgeCountQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"environment",variableName:"environment"}],kind:"ScalarField",name:"notifications_unseen_count",storageKey:null}],storageKey:null}]},params:{id:"6243845039071039",metadata:{},name:"CometNotificationsBadgeCountQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("CometNotificationsBadgeCount.react",["fbt","CometNotificationsBadgeCountFragment_viewer.graphql","CometNotificationsBadgeCountQuery.graphql","CometPlaceholder.react","CometRelay","FDSNumberedBadge.react","hero-tracing","react","react-compiler-runtime","setupNotificationsLiveQuery","unrecoverableViolation","updateWidgetServiceWorker","useMaybeZeroNotificationsBadgeCount"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react")),m=k.useEffect;function a(a){var e=d("react-compiler-runtime").c(14),f=d("CometRelay").useLazyLoadQuery(i!==void 0?i:i=b("CometNotificationsBadgeCountQuery.graphql"),{environment:"MAIN_SURFACE"});f=f.viewer;if(f==null)throw c("unrecoverableViolation")("The viewer recieving these notifications cannot be null","comet_feed");f=d("CometRelay").useFragment(j!==void 0?j:j=b("CometNotificationsBadgeCountFragment_viewer.graphql"),f);var g=c("useMaybeZeroNotificationsBadgeCount")(f==null?void 0:f.notifications_unseen_count);f=a.isBadgeHidden;var k=a.overflow,n=a.setBadgeCount,o=d("CometRelay").useRelayEnvironment(),p;e[0]!==o?(a=function(){var a=c("setupNotificationsLiveQuery")(o);return function(){return a.dispose()}},p=[o],e[0]=o,e[1]=a,e[2]=p):(a=e[1],p=e[2]);m(a,p);e[3]!==g||e[4]!==n?(a=function(){n&&n(g),c("updateWidgetServiceWorker")()},p=[g,n],e[3]=g,e[4]=n,e[5]=a,e[6]=p):(a=e[5],p=e[6]);m(a,p);e[7]===Symbol["for"]("react.memo_cache_sentinel")?(a=l.jsx("span",{}),e[7]=a):a=e[7];e[8]!==g||e[9]!==f||e[10]!==k?(p=f!==!0&&g>0?l.jsx(d("hero-tracing").HeroPagelet,{name:"NotificationsBadge",children:function(a,b){return l.jsxs(l.Fragment,{children:[l.jsx(c("FDSNumberedBadge.react"),{accessibilityText:h._(/*BTDS*/"Number of unread notifications"),overflow:k,ref:a,testid:void 0,value:g}),l.jsx(b,{})]})}}):null,e[8]=g,e[9]=f,e[10]=k,e[11]=p):p=e[11];e[12]!==p?(f=l.jsx(c("CometPlaceholder.react"),{fallback:a,children:p}),e[12]=p,e[13]=f):f=e[13];return f}g["default"]=a}),226);
__d("CometRouterUIComponentsDefaultErrorRoot.react",["cr:12338","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");g["default"]=b("cr:12338")}),98);
__d("CometTopNavTabBadge.react",["fbt","FDSNumberedBadge.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useEffect;function a(a){var b=d("react-compiler-runtime").c(12),e=a.testid,f=a.value,g=a.isBadgeHidden,i=a.isTab,l=a.overflow,m=a.setBadgeCount,n;b[0]!==m||b[1]!==f?(a=function(){m==null?void 0:m(f)},n=[f,m],b[0]=m,b[1]=f,b[2]=a,b[3]=n):(a=b[2],n=b[3]);k(a,n);if(g===!0||f===0)return null;a=i===!0?"red":void 0;b[4]!==f?(n=h._(/*BTDS*/"_j{\"*\":\"{number} items\",\"_1\":\"1 item\"}",[h._plural(f,"number")]),b[4]=f,b[5]=n):n=b[5];b[6]!==a||b[7]!==l||b[8]!==n||b[9]!==e||b[10]!==f?(g=j.jsx(c("FDSNumberedBadge.react"),{accessibilityText:n,color:a,overflow:l,testid:void 0,value:f}),b[6]=a,b[7]=l,b[8]=n,b[9]=e,b[10]=f,b[11]=g):g=b[11];return g}g["default"]=a}),226);
__d("FDSCalloutEdgeArrow.svg.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=a.children,d=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","xstyle"]);return j.jsxs("svg",babelHelpers["extends"]({"aria-hidden":!0,className:(h||(h=c("stylex")))(d),height:"12px",viewBox:"0 0 21 12",width:"21px"},a,{children:[a.title!=null&&j.jsx("title",{children:a.title}),b!=null&&j.jsx("defs",{children:b}),j.jsx("path",{d:"M20.685.12c-2.229.424-4.278 1.914-6.181 3.403L5.4 10.94c-2.026 2.291-5.434.62-5.4-2.648V.12h20.684z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;g["default"]=a}),98);
__d("FDSCalloutEdge.react",["BaseContextualLayerContextSizeContext","BaseContextualLayerLayerAdjustmentContext","BaseContextualLayerOrientationContext","BaseRow.react","BaseView.react","CometHideLayerOnEscape.react","FDSCalloutEdgeArrow.svg.react","FocusRegionStrictMode.react","Locale","focusScopeQueries","react","react-compiler-runtime","useOnOutsideClick"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k={arrow:{position:"x10l6tqk",$$css:!0},container:{display:"x78zum5",$$css:!0},content:{backgroundColor:"x1h0vfkc",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",boxShadow:"xofhs1l",paddingTop:"xyamay9",paddingBottom:"x1l90r2v",paddingStart:"x1ye3gou",paddingEnd:"xn6708d",paddingLeft:null,paddingRight:null,$$css:!0}},l={accent:{backgroundColor:"xdk9wry",$$css:!0},"default":{backgroundColor:"x9bbmet",$$css:!0}},m={end:{borderBottomEndRadius:"x5pf9jr",marginBottom:"xieb3on",$$css:!0},middle:{marginBottom:"x12nagc",$$css:!0},start:{borderBottomStartRadius:"xo71vjh",marginBottom:"xieb3on",$$css:!0}},n={end:{borderTopEndRadius:"x13lgxp2",marginTop:"x1sy10c2",$$css:!0},middle:{marginTop:"x1gslohp",$$css:!0},start:{borderTopStartRadius:"x168nmei",marginTop:"x1sy10c2",$$css:!0}},o={end:{bottom:"x7ofzsv",end:"xds687c",left:null,right:null,transform:"xpk2tj9",$$css:!0},middle:{bottom:"x7ofzsv",end:"xds687c",left:null,right:null,$$css:!0},start:{bottom:"x7ofzsv",start:"x17qophe",left:null,right:null,$$css:!0}},p={end:{$$css:!0},middle:{$$css:!0},start:{$$css:!0}},q={end:{bottom:"x7ofzsv",end:"xds687c",left:null,right:null,transform:"xpk2tj9",$$css:!0},middle:{bottom:"x7ofzsv",end:"xds687c",left:null,right:null,$$css:!0},start:{bottom:"x7ofzsv",start:"x17qophe",left:null,right:null,$$css:!0}},r={end:{$$css:!0},middle:{$$css:!0},start:{$$css:!0}},s={end:{end:"xds687c",left:null,right:null,top:"x1nl0pjx",transform:"x19jd1h0",$$css:!0},middle:{end:"xds687c",left:null,right:null,top:"x1nl0pjx",transform:"x1oihik5",$$css:!0},start:{start:"x17qophe",left:null,right:null,top:"x1nl0pjx",transform:"x1oihik5",$$css:!0}},t={end:{transform:"x19jd1h0",$$css:!0},middle:{transform:"x1oihik5",$$css:!0},start:{transform:"x1oihik5",$$css:!0}},u={end:{end:"xds687c",left:null,right:null,top:"x1nl0pjx",transform:"x19jd1h0",$$css:!0},middle:{end:"xds687c",left:null,right:null,top:"x1nl0pjx",transform:"x1oihik5",$$css:!0},start:{start:"x17qophe",left:null,right:null,top:"x1nl0pjx",transform:"x1oihik5",$$css:!0}},v={end:{transform:"x19jd1h0",$$css:!0},middle:{transform:"x1oihik5",$$css:!0},start:{transform:"x1oihik5",$$css:!0}};function w(a){if(a==="start")return"end";return a==="end"?"start":a}function a(a){var b,e=d("react-compiler-runtime").c(41),f,g,h,o,p,q,r,s;e[0]!==a?(g=a.children,q=a.disableAutoFocus,h=a.id,o=a.onClose,p=a.onOutsideClick,r=a.type,s=a.xstyle,f=babelHelpers.objectWithoutPropertiesLoose(a,["children","disableAutoFocus","id","onClose","onOutsideClick","type","xstyle"]),e[0]=a,e[1]=f,e[2]=g,e[3]=h,e[4]=o,e[5]=p,e[6]=q,e[7]=r,e[8]=s):(f=e[1],g=e[2],h=e[3],o=e[4],p=e[5],q=e[6],r=e[7],s=e[8]);a=q===void 0?!1:q;q=r===void 0?"default":r;r=j(c("BaseContextualLayerOrientationContext"));var t=r.align;r=r.position;t=t==="stretch"?"start":t;r=r==="start"?"above":r==="end"?"below":r;var u=j(c("BaseContextualLayerContextSizeContext"));b=(b=j(c("BaseContextualLayerLayerAdjustmentContext")))!=null?b:0;var v;e[9]!==t||e[10]!==b?(v=b!==0?w(t):t,e[9]=t,e[10]=b,e[11]=v):v=e[11];t=v;u=(v=u==null?void 0:u.width)!=null?v:0;e[12]!==t||e[13]!==b||e[14]!==u?(v=z(t,u,b),e[12]=t,e[13]=b,e[14]=u,e[15]=v):v=e[15];b=v;u=c("useOnOutsideClick")(p);p=(v=h)!=null?v:void 0;h=a?void 0:d("focusScopeQueries").tabbableScopeQuery;v=l[q];a=r==="above"&&m[t];var x=r==="below"&&n[t],A;e[16]!==x||e[17]!==v||e[18]!==a||e[19]!==s?(A=[k.content,v,a,x,s],e[16]=x,e[17]=v,e[18]=a,e[19]=s,e[20]=A):A=e[20];e[21]!==g||e[22]!==u||e[23]!==A?(x=i.jsx(c("BaseRow.react"),{ref:u,xstyle:A,children:g}),e[21]=g,e[22]=u,e[23]=A,e[24]=x):x=e[24];e[25]!==t||e[26]!==r||e[27]!==q?(v=i.jsx(y,{align:t,position:r,type:q}),e[25]=t,e[26]=r,e[27]=q,e[28]=v):v=e[28];e[29]!==o||e[30]!==x||e[31]!==v?(a=i.jsxs(c("CometHideLayerOnEscape.react"),{onHide:o,children:[x,v]}),e[29]=o,e[30]=x,e[31]=v,e[32]=a):a=e[32];e[33]!==a||e[34]!==h?(s=i.jsx(d("FocusRegionStrictMode.react").FocusRegion,{autoFocusQuery:h,children:a}),e[33]=a,e[34]=h,e[35]=s):s=e[35];e[36]!==f||e[37]!==b||e[38]!==s||e[39]!==p?(g=i.jsx(c("BaseView.react"),babelHelpers["extends"]({},f,{id:p,role:"dialog",style:b,xstyle:k.container,children:s})),e[36]=f,e[37]=b,e[38]=s,e[39]=p,e[40]=g):g=e[40];return g}var x=c("Locale").isRTL();function y(a){var b=d("react-compiler-runtime").c(8),e=a.align,f=a.position;a=a.type;var g=a==="default"?"var(--popover-background)":"var(--callout-background-color-accent, var(--accent))",h=f==="above"&&a==="default"&&(x?p[e]:o[e]),j=f==="above"&&a==="accent"&&(x?r[e]:q[e]),l=f==="below"&&a==="default"&&(x?t[e]:s[e]);f=f==="below"&&a==="accent"&&(x?v[e]:u[e]);b[0]!==h||b[1]!==j||b[2]!==l||b[3]!==f?(a=[k.arrow,h,j,l,f],b[0]=h,b[1]=j,b[2]=l,b[3]=f,b[4]=a):a=b[4];b[5]!==g||b[6]!==a?(e=i.jsx(c("FDSCalloutEdgeArrow.svg.react"),{fill:g,xstyle:a}),b[5]=g,b[6]=a,b[7]=e):e=b[7];return e}function z(a,b,c){c=c===0?b/2:0;if(c===0)return void 0;if(a==="start")return{transform:"translateX("+(x?-1*c:c)+"px)"};return a==="end"?{transform:"translateX("+(x?c:-1*c)+"px)"}:void 0}g["default"]=a}),98);
__d("FDSCalloutInsetArrow.svg.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=a.children,d=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","xstyle"]);return j.jsxs("svg",babelHelpers["extends"]({"aria-hidden":!0,className:(h||(h=c("stylex")))(d),height:"12px",viewBox:"0 0 21 12",width:"21px"},a,{children:[a.title!=null&&j.jsx("title",{children:a.title}),b!=null&&j.jsx("defs",{children:b}),j.jsx("path",{d:"M20.685.12c-2.229.424-4.278 1.914-6.181 3.403L5.4 10.94c-2.026 2.291-5.434.62-5.4-2.648V.12h20.684z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;g["default"]=a}),98);
__d("FDSCalloutInset.react",["BaseContextualLayerContextSizeContext","BaseContextualLayerLayerAdjustmentContext","BaseContextualLayerOrientationContext","BaseRow.react","BaseView.react","CometHideLayerOnEscape.react","FDSCalloutInsetArrow.svg.react","FocusRegionStrictMode.react","Locale","focusScopeQueries","react","react-compiler-runtime","useOnOutsideClick"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k={arrow:{position:"x10l6tqk",$$css:!0},container:{display:"x78zum5",$$css:!0},content:{backgroundColor:"x1h0vfkc",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",boxShadow:"xofhs1l",paddingTop:"xyamay9",paddingBottom:"x1l90r2v",paddingStart:"x1ye3gou",paddingEnd:"xn6708d",paddingLeft:null,paddingRight:null,$$css:!0}},l={accent:{backgroundColor:"xdk9wry",$$css:!0},"default":{backgroundColor:"x9bbmet",$$css:!0}},m={above:{marginBottom:"x1yztbdb",$$css:!0},below:{marginTop:"xw7yly9",$$css:!0},end:{marginStart:"x1d52u69",$$css:!0}},n={above:{bottom:"x1wa3icf",$$css:!0},below:{top:"x1jzctok",transform:"x1oihik5",$$css:!0},end:{$$css:!0}},o={above:{bottom:"x1wa3icf",$$css:!0},below:{top:"x1jzctok",transform:"x1oihik5",$$css:!0},end:{$$css:!0}};function a(a){var b,e=d("react-compiler-runtime").c(38),f,g,h,n,o,q,s,t;e[0]!==a?(g=a.children,q=a.disableAutoFocus,h=a.id,n=a.onClose,o=a.onOutsideClick,s=a.type,t=a.xstyle,f=babelHelpers.objectWithoutPropertiesLoose(a,["children","disableAutoFocus","id","onClose","onOutsideClick","type","xstyle"]),e[0]=a,e[1]=f,e[2]=g,e[3]=h,e[4]=n,e[5]=o,e[6]=q,e[7]=s,e[8]=t):(f=e[1],g=e[2],h=e[3],n=e[4],o=e[5],q=e[6],s=e[7],t=e[8]);a=q===void 0?!1:q;q=s===void 0?"default":s;s=j(c("BaseContextualLayerOrientationContext"));var u=s.align;s=s.position;u=u==="stretch"?"start":u;s=s==="start"?"above":s==="end"?"below":s;var v=j(c("BaseContextualLayerContextSizeContext"));b=(b=j(c("BaseContextualLayerLayerAdjustmentContext")))!=null?b:0;v=(v=v==null?void 0:v.width)!=null?v:0;var w;e[9]!==u||e[10]!==b||e[11]!==s||e[12]!==v?(w=r(u,s,v,b),e[9]=u,e[10]=b,e[11]=s,e[12]=v,e[13]=w):w=e[13];u=w;b=u[0];v=u[1];w=c("useOnOutsideClick")(o);o=(u=h)!=null?u:void 0;h=a?void 0:d("focusScopeQueries").tabbableScopeQuery;u=l[q];a=m[s];var x;e[14]!==u||e[15]!==a||e[16]!==t?(x=[k.content,u,a,t],e[14]=u,e[15]=a,e[16]=t,e[17]=x):x=e[17];e[18]!==g||e[19]!==w||e[20]!==x?(u=i.jsx(c("BaseRow.react"),{ref:w,xstyle:x,children:g}),e[18]=g,e[19]=w,e[20]=x,e[21]=u):u=e[21];e[22]!==v||e[23]!==s||e[24]!==q?(a=i.jsx(p,{arrowStyles:v,position:s,type:q}),e[22]=v,e[23]=s,e[24]=q,e[25]=a):a=e[25];e[26]!==n||e[27]!==u||e[28]!==a?(t=i.jsxs(c("CometHideLayerOnEscape.react"),{onHide:n,children:[u,a]}),e[26]=n,e[27]=u,e[28]=a,e[29]=t):t=e[29];e[30]!==t||e[31]!==h?(g=i.jsx(d("FocusRegionStrictMode.react").FocusRegion,{autoFocusQuery:h,children:t}),e[30]=t,e[31]=h,e[32]=g):g=e[32];e[33]!==f||e[34]!==b||e[35]!==g||e[36]!==o?(w=i.jsx(c("BaseView.react"),babelHelpers["extends"]({},f,{id:o,role:"dialog",style:b,xstyle:k.container,children:g})),e[33]=f,e[34]=b,e[35]=g,e[36]=o,e[37]=w):w=e[37];return w}function p(a){var b=d("react-compiler-runtime").c(7),e=a.arrowStyles,f=a.position;a=a.type;var g=a==="default"?"var(--popover-background)":"var(--callout-background-color-accent, var(--accent))",h=n[f];a=a==="accent"&&o[f];b[0]!==h||b[1]!==a?(f=[k.arrow,h,a],b[0]=h,b[1]=a,b[2]=f):f=b[2];b[3]!==e||b[4]!==g||b[5]!==f?(h=i.jsx(c("FDSCalloutInsetArrow.svg.react"),{fill:g,style:e,xstyle:f}),b[3]=e,b[4]=g,b[5]=f,b[6]=h):h=b[6];return h}var q=c("Locale").isRTL();function r(a,b,c,d){var e=Math.max(c/2-8,16)+Math.abs(d),f=c/2-8<16;c=24-c/2;if(b==="above")if(a==="start"){var g;b=q?"right":"left";return[f?{transform:"translateX("+(q?c:-c)+"px)"}:void 0,(g={},g[b]="min(calc(100% - 32px), "+e+"px)",g)]}else if(a==="end"){b=q?"left":"right";return[f?{transform:"translateX("+(q?-c:c)+"px)"}:void 0,(g={},g[b]="min(calc(100% - 32px), "+e+"px)",g)]}else{var h;b=q?"left":"right";g=(q?-d:d)-8;return[void 0,(h={},h[b]="calc(50% + "+g+"px)",h)]}else if(a==="start"){b=q?"right":"left";return[f?{transform:"translateX("+(q?c:-c)+"px)"}:void 0,(g={},g[b]="min(calc(100% - 32px), "+e+"px)",g)]}else if(a==="end"){h=q?"left":"right";return[f?{transform:"translateX("+(q?-c:c)+"px)"}:void 0,(b={},b[h]="min(calc(100% - 32px), "+e+"px)",b)]}else{g=q?"left":"right";a=(q?-d:d)-8;return[void 0,(f={},f[g]="calc(50% + "+a+"px)",f)]}}g["default"]=a}),98);
__d("FDSCallout.react",["fbt","ix","BaseContextualLayerOrientationContext","BasePopoverReflowSheetContext","BaseRow.react","BaseRowItem.react","BaseView.react","CometColumn.react","CometColumnItem.react","CometErrorBoundary.react","CometHideLayerOnEscape.react","FDSCalloutEdge.react","FDSCalloutInset.react","FDSIcon.react","FDSTextPairing.react","FocusRegionStrictMode.react","fbicon","focusScopeQueries","react","react-compiler-runtime","unrecoverableViolation","useOnOutsideClick","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react"));b=j;var l=b.useContext;b.useMemo;var m={container:{display:"x78zum5",$$css:!0},content:{backgroundColor:"x1h0vfkc",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",boxShadow:"xofhs1l",paddingTop:"xyamay9",paddingBottom:"x1l90r2v",paddingStart:"x1ye3gou",paddingEnd:"xn6708d",paddingLeft:null,paddingRight:null,$$css:!0},crossoutButton:{marginEnd:"xcud41i",marginTop:"x9otpla",$$css:!0},fitContent:{width:"xeq5yr9",$$css:!0},item:{paddingTop:"x1yrsyyn",paddingBottom:"x10b6aqq",paddingStart:"x16hj40l",paddingEnd:"xsyo7zv",paddingLeft:null,paddingRight:null,$$css:!0}},n={accent:{backgroundColor:"xdk9wry",$$css:!0},"default":{backgroundColor:"x9bbmet",$$css:!0}},o={above:{marginBottom:"x12nagc",$$css:!0},below:{marginTop:"x1gslohp",$$css:!0},end:{marginStart:"xsgj6o6",$$css:!0},start:{$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(66),e=a.arrowStyle,f=a.calloutID,g=a.content,j=a.contentID,q=a.disableAutoFocus,r=a.onClose,s=a.onHide,t=a.onOutsideClick,u=a.onShow,v=a.titleID,w=a.type,x=a.xstyle,y=a.addOn,z=a["aria-label"],A=a.hasCloseButton;a=a.title;e=e===void 0?"none":e;q=q===void 0?!1:q;w=w===void 0?"default":w;A=A===void 0?!0:A;var B=l(c("BaseContextualLayerOrientationContext"));B=B.position;var C=c("useOnOutsideClick")(t),D=l(c("BasePopoverReflowSheetContext"));D=D.isReflowSheet;var E;b[0]!==s||b[1]!==u?(E={onHidden:s,onVisible:u},b[0]=s,b[1]=u,b[2]=E):E=b[2];s=c("useVisibilityObserver")(E);u=w==="default"?"primary":"white";if(B==="end"&&(e==="inset"||e==="edge"))throw c("unrecoverableViolation")('"end" position with arrow is not supported yet',"comet_ui");b[3]!==z||b[4]!==j||b[5]!==a||b[6]!==v?(E=a!=null?{"aria-describedby":j,"aria-labelledby":v}:{"aria-describedby":j,"aria-label":z},b[3]=z,b[4]=j,b[5]=a,b[6]=v,b[7]=E):E=b[7];z=E;E=z;b[8]!==u||b[9]!==g||b[10]!==j||b[11]!==a||b[12]!==v?(z=k.jsx(c("FDSTextPairing.react"),{body:g,bodyColor:u,bodyId:j,headline:a,headlineColor:u,headlineId:v,isSemanticHeading:!0,level:3}),b[8]=u,b[9]=g,b[10]=j,b[11]=a,b[12]=v,b[13]=z):z=b[13];b[14]!==z||b[15]!==s?(u=k.jsx(c("BaseRowItem.react"),{expanding:!0,ref:s,verticalAlign:"center",xstyle:m.item,children:z}),b[14]=z,b[15]=s,b[16]=u):u=b[16];b[17]!==A||b[18]!==r||b[19]!==w?(g=A&&k.jsx(c("BaseRowItem.react"),{xstyle:[m.crossoutButton,m.item],children:k.jsx(c("FDSIcon.react"),{"aria-label":h._(/*BTDS*/"Close"),color:w==="default"?"secondary":"white",focusable:!0,icon:d("fbicon")._(i("478232"),16),onPress:r,size:16})}),b[17]=A,b[18]=r,b[19]=w,b[20]=g):g=b[20];b[21]!==g||b[22]!==u?(j=k.jsx(c("CometColumnItem.react"),{children:k.jsxs(c("BaseRow.react"),{children:[u,g]})}),b[21]=g,b[22]=u,b[23]=j):j=b[23];b[24]!==y?(a=y!=null&&k.jsx(c("CometColumnItem.react"),{paddingTop:12,children:k.jsx(c("BaseRow.react"),{children:k.jsx(c("BaseRowItem.react"),{expanding:!0,verticalAlign:"center",xstyle:m.item,children:y})})}),b[24]=y,b[25]=a):a=b[25];b[26]!==j||b[27]!==a?(v=k.jsxs(c("CometColumn.react"),{children:[j,a]}),b[26]=j,b[27]=a,b[28]=v):v=b[28];z=v;if(!D&&e==="inset"){b[29]!==E||b[30]!==f||b[31]!==z||b[32]!==q||b[33]!==r||b[34]!==t||b[35]!==w||b[36]!==x?(s=k.jsx(c("FDSCalloutInset.react"),babelHelpers["extends"]({},E,{disableAutoFocus:q,id:f,onClose:r,onOutsideClick:t,type:w,xstyle:x,children:z})),b[29]=E,b[30]=f,b[31]=z,b[32]=q,b[33]=r,b[34]=t,b[35]=w,b[36]=x,b[37]=s):s=b[37];return s}if(!D&&e==="edge"){b[38]!==E||b[39]!==f||b[40]!==z||b[41]!==q||b[42]!==r||b[43]!==t||b[44]!==w||b[45]!==x?(A=k.jsx(c("FDSCalloutEdge.react"),babelHelpers["extends"]({},E,{disableAutoFocus:q,id:f,onClose:r,onOutsideClick:t,type:w,xstyle:x,children:z})),b[38]=E,b[39]=f,b[40]=z,b[41]=q,b[42]=r,b[43]=t,b[44]=w,b[45]=x,b[46]=A):A=b[46];return A}u=(g=f)!=null?g:void 0;y=q?void 0:d("focusScopeQueries").tabbableScopeQuery;j=n[w];a=e==="none"&&o[B];v=D&&m.fitContent;b[47]!==j||b[48]!==a||b[49]!==v||b[50]!==x?(s=[m.content,j,a,x,v],b[47]=j,b[48]=a,b[49]=v,b[50]=x,b[51]=s):s=b[51];b[52]!==z||b[53]!==C||b[54]!==s?(t=k.jsx(c("BaseRow.react"),{ref:C,xstyle:s,children:z}),b[52]=z,b[53]=C,b[54]=s,b[55]=t):t=b[55];b[56]!==r||b[57]!==t?(A=k.jsx(c("CometHideLayerOnEscape.react"),{onHide:r,children:t}),b[56]=r,b[57]=t,b[58]=A):A=b[58];b[59]!==y||b[60]!==A?(f=k.jsx(d("FocusRegionStrictMode.react").FocusRegion,{autoFocusQuery:y,children:A}),b[59]=y,b[60]=A,b[61]=f):f=b[61];b[62]!==E||b[63]!==u||b[64]!==f?(g=k.jsx(c("CometErrorBoundary.react"),{fallback:p,children:k.jsx(c("BaseView.react"),babelHelpers["extends"]({},E,{id:u,role:"dialog",xstyle:m.container,children:f}))}),b[62]=E,b[63]=u,b[64]=f,b[65]=g):g=b[65];return g}function p(){return k.jsx("div",{})}p.displayName=p.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("FDSCalloutImpl.react",["BaseCalloutImpl.react","FDSCallout.react","FDSCalloutContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext;function a(a){var b=d("react-compiler-runtime").c(23),e=a.calloutID,f=a.calloutProps,g=a.contentID,h=a.titleID,k=j(c("FDSCalloutContext"));if(k==null||f==null)return null;var l,m,n;b[0]!==f?(m=f.disableOutsideClick,n=f.onClose,l=babelHelpers.objectWithoutPropertiesLoose(f,["disableOutsideClick","onClose"]),b[0]=f,b[1]=l,b[2]=m,b[3]=n):(l=b[1],m=b[2],n=b[3]);b[4]!==k||b[5]!==e||b[6]!==n?(f=function(){k.removeCallout(e),n==null?void 0:n()},b[4]=k,b[5]=e,b[6]=n,b[7]=f):f=b[7];var o;b[8]!==k||b[9]!==e||b[10]!==m||b[11]!==n?(o=function(){m!==!0&&(k.removeCallout(e),n==null?void 0:n())},b[8]=k,b[9]=e,b[10]=m,b[11]=n,b[12]=o):o=b[12];var p;b[13]!==e||b[14]!==l||b[15]!==g||b[16]!==f||b[17]!==o||b[18]!==h?(p=i.jsx(c("FDSCallout.react"),babelHelpers["extends"]({},l,{calloutID:e,contentID:g,onClose:f,onOutsideClick:o,titleID:h})),b[13]=e,b[14]=l,b[15]=g,b[16]=f,b[17]=o,b[18]=h,b[19]=p):p=b[19];b[20]!==a||b[21]!==p?(l=i.jsx(c("BaseCalloutImpl.react"),babelHelpers["extends"]({},a,{children:p})),b[20]=a,b[21]=p,b[22]=l):l=b[22];return l}g["default"]=a}),98);
__d("GlobalVideoPortsManager",["addToMap","emptyFunction","gkx","removeFromMap"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var d=a.get(b);d!=null&&(d.portablePlaceContainer=null);return c("removeFromMap")(a,b)}a=c("emptyFunction");function i(a){return a.unlinkedAtTimestampMs!==null}var j=1e4;b=function(){function a(a){var b=this;this.$1=function(c){var d=function(a){return c(b.$2(a))};a(d)}}var b=a.prototype;b.addOrUpdatePlace=function(a){var b=this,d=a.coreVideoPlayerMetaData,e=a.fullscreenController,f=a.implementations,g=a.injectCoreVideoStatesRef,j=a.isFullscreen,k=a.portablePlaceContainer,l=a.portablePlaceID,m=a.portablePlaceMetaData,n=a.portableVideoID,o=a.renderComponents,p=a.renderPlaceholder,q=a.trackingDataEncrypted,r=a.trackingNodes,s=a.viewportMarginsForViewability;this.$1(function(a){var t,u=b.getPortableVideoState(a,n),v=(t=a.places.get(l))!=null?t:null;t=v!=null&&!i(v)?v.sequenceNumber:a.placesSequenceNumberNext;var w=t===a.placesSequenceNumberNext?a.placesSequenceNumberNext+1:a.placesSequenceNumberNext,x=m||{},y=a.places;if(n!=null){var z=b.getPlacesBorrowingThisVideo(y,n);z.forEach(function(a){i(a)&&a.portablePlaceID!==(v==null?void 0:v.portablePlaceID)&&(y=h(y,a.portablePlaceID))})}y=c("addToMap")(y,l,babelHelpers["extends"]({},v,{coreVideoPlayerMetaData:d,currentVideoID:n,fullscreenController:e,implementations:f,injectCoreVideoStatesRef:g,isFullscreen:j,portablePlaceContainer:k,portablePlaceID:l,portablePlaceMetaData:x,renderComponents:o,renderPlaceholder:(z=p)!=null?z:null,sequenceNumber:t,trackingDataEncrypted:q,trackingNodes:r,unlinkedAtTimestampMs:null,viewportMarginsForViewability:s}));x=v!==null&&n===null?v.currentVideoID:null;z=a.videos;if(x!==null){t=b.getPlacesBorrowingThisVideo(y,x);t=0===t.length;t&&(z=c("removeFromMap")(a.videos,x))}if(n!==null){t=b.updatePreviousPlaceMetaDataInfoForVideo({existingVideoState:u,places:a.places,setPreferredPlaceForVideo:!1,updatedPlaces:y,videoID:n});x=t.nextPreviousPlaceMetaData;z=c("addToMap")(z,n,u?babelHelpers["extends"]({},u,{portableVideoID:n,previousPlaceMetaData:x}):{portableVideoID:n,preferredPlaceID:null,previousPlaceMetaData:x})}return y===a.places&&w===a.placesSequenceNumberNext&&z===a.videos?a:babelHelpers["extends"]({},a,{places:y,placesSequenceNumberNext:w,videos:z})})};b.removePlace=function(a){var b=this,d=a.portablePlaceID,e=Date.now();this.$1(function(a){var f;f=(f=a.places.get(d))!=null?f:null;var g=f!==null?f.currentVideoID:null;if(f===null)return a;var i=a.places,j=g!==null?b.skipUnlinkedPlaces(b.getPlacesBorrowingThisVideo(i,g)).filter(function(a){return a.portablePlaceID!==d}):[];g!==null&&j.length===0?i=c("addToMap")(i,d,babelHelpers["extends"]({},f,{unlinkedAtTimestampMs:e})):i=h(i,d);j=a.videos;if(g!==null){f=b.getPlacesBorrowingThisVideo(i,g);f=0===f.length;if(f)j=c("removeFromMap")(j,g);else{f=b.getPortableVideoState(a,g);var k=b.updatePreviousPlaceMetaDataInfoForVideo({existingVideoState:f,places:a.places,setPreferredPlaceForVideo:!1,updatedPlaces:i,videoID:g}),l=k.nextPreviousPlaceMetaData;k=k.shouldUpdatePreviousPlaceMetaDataForVideo;f!=null&&k&&(j=c("addToMap")(j,g,babelHelpers["extends"]({},f,{portableVideoID:g,previousPlaceMetaData:l})))}}return i===a.places&&j===a.videos?a:babelHelpers["extends"]({},a,{places:i,videos:j})})};b.setPreferredPlaceForVideo=function(a){var b=this,d=a.portablePlaceID,e=a.portableVideoID;this.$1(function(a){var f=b.getPortableVideoState(a,e),g=d!=null?a.places.get(d):null,h=b.updatePreviousPlaceMetaDataInfoForVideo({existingPlaceStateForSetPreferredPlaceForVideo:g,existingVideoState:f,places:a.places,preferredPlaceID:d,setPreferredPlaceForVideo:!0,updatedPlaces:a.places,videoID:e});h=h.nextPreviousPlaceMetaData;f=f!=null?c("addToMap")(a.videos,e,babelHelpers["extends"]({},f,{preferredPlaceID:g!=null&&d!=null?d:null,previousPlaceMetaData:h})):a.videos;return f===a.videos?a:babelHelpers["extends"]({},a,{videos:f})})};b.getPlacesBorrowingThisVideo=function(a,b){var c=[];a.forEach(function(a){a.currentVideoID===b&&c.push(a)});return c};b.skipUnlinkedPlaces=function(a){return a.filter(function(a){return!i(a)})};b.selectCurrentPlaceFromThesePlaces=function(a,b){var c;a=a.slice().sort(function(a,b){return a.sequenceNumber-b.sequenceNumber});c=(c=a.find(function(a){return a.portablePlaceID===b}))!=null?c:null;a=a.length>0?a[a.length-1]:null;return(c=(c=c)!=null?c:a)!=null?c:null};b.getCurrentPlaceStateForVideo=function(a,b){var c=this.getPortableVideoState(a,b);if(c!=null&&b!=null){a=this.selectCurrentPlaceFromThesePlaces(this.skipUnlinkedPlaces(this.getPlacesBorrowingThisVideo(a.places,b)),c.preferredPlaceID);return(b=a)!=null?b:null}else return null};b.getPortableVideoState=function(a,b){if(b!=null){a=a.videos.get(b);return(b=a)!=null?b:null}return null};b.updatePreviousPlaceMetaDataInfoForVideo=function(a){var b=this,c=a.existingPlaceStateForSetPreferredPlaceForVideo,d=a.existingVideoState,e=a.places,f=a.preferredPlaceID,g=a.setPreferredPlaceForVideo,h=a.updatedPlaces,i=a.videoID;a=function(a,c){return b.selectCurrentPlaceFromThesePlaces(b.skipUnlinkedPlaces(b.getPlacesBorrowingThisVideo(a,i)),(a=c)!=null?a:null)};var j=a(e,d==null?void 0:d.preferredPlaceID);g?g=c!=null?a(e,f):null:g=a(h,d==null?void 0:d.preferredPlaceID);e=j!=null&&(j==null?void 0:j.portablePlaceID)!==((c=g)==null?void 0:c.portablePlaceID);return{nextPreviousPlaceMetaData:e&&j!=null?j.portablePlaceMetaData:(f=d==null?void 0:d.previousPlaceMetaData)!=null?f:null,shouldUpdatePreviousPlaceMetaDataForVideo:e}};b.collectGarbage=function(){this.$1(function(a){return a})};b.$2=function(a){var b=Date.now(),d=new Set(),e=a.places;a.places.forEach(function(a){a.unlinkedAtTimestampMs!==null&&b-a.unlinkedAtTimestampMs>=j?e=h(e,a.portablePlaceID):a.currentVideoID!==null&&d.add(a.currentVideoID)});var f=a.videos;a.videos.forEach(function(a){d.has(a.portableVideoID)||(f=c("removeFromMap")(f,a.portableVideoID))});return e===a.places&&f===a.videos?a:babelHelpers["extends"]({},a,{places:e,videos:f})};return a}();g.isUnlinkedGlobalVideoPortsPlace=i;g.UNLINKED_PLACE_TIMEOUT_MS=j;g.GlobalVideoPortsManager=b}),98);
__d("GlobalVideoPortsPortalerErrorBoundary.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={errorRaw:null},c.suppressReactDefaultErrorLoggingIUnderstandThisWillMakeBugsHarderToFindAndFix=!0,b)||babelHelpers.assertThisInitialized(c)}b.getDerivedStateFromError=function(a){return{errorRaw:a}};var c=b.prototype;c.componentDidCatch=function(a,b){b=this.props.onError;b!=null&&b(a)};c.render=function(){var a=this.props,b=a.children;a=a.fallback;var c=this.state.errorRaw;return c!=null?typeof a==="function"?a(b):a:b};return b}(a.PureComponent);g["default"]=b}),98);
__d("everySet",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){var d=a.entries(),e=d.next();while(!e.done){var f=e.value;if(!b.call(c,f[1],f[0],a))return!1;e=d.next()}return!0}f["default"]=a}),66);
__d("equalsSet",["everySet"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return a.size!==b.size?!1:c("everySet")(a,function(a){return b.has(a)})}g["default"]=a}),98);
__d("GlobalVideoPortsPortaler.react",["CoreVideoPlayerFitParentContainer.react","GlobalVideoPortsPortalerErrorBoundary.react","GlobalVideoPortsRenderers.react","ReactDOM","equalsSet","react","react-compiler-runtime","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useRef,m=b.useState;function n(a,b,e,f,g){var h=d("react-compiler-runtime").c(6),i=l(null),j;h[0]!==b||h[1]!==e||h[2]!==f||h[3]!==g||h[4]!==a?(j=function(){var d,h=i.current;d=new Set((d=a.map(o))!=null?d:[]);if(h==null||!c("equalsSet")(h,d)){i.current=d;h=b.current;d=e.current;h!=null&&f(h);d!=null&&g(d)}},h[0]=b,h[1]=e,h[2]=f,h[3]=g,h[4]=a,h[5]=j):j=h[5];k(j)}function o(a){return a.portablePlaceID}function a(a){var b=a.globalVideoPortsManager,e=a.globalVideoPortsState,f=a.thisVideoID;a=m(function(){return d("CoreVideoPlayerFitParentContainer.react").createFitParentContainerDiv({debugRole:null})});var g=a[0],i=l(null),k=(h||(h=c("useUnsafeRef_DEPRECATED")))(null),o=(a=e.videos.get(f))!=null?a:null,p=b.getPlacesBorrowingThisVideo(e.places,f);a=p.length<=0;e=a?null:b.selectCurrentPlaceFromThesePlaces(p,o?o.preferredPlaceID:null);var q=a?null:b.selectCurrentPlaceFromThesePlaces(b.skipUnlinkedPlaces(p),o?o.preferredPlaceID:null);b=function(a){k.current=a,p.forEach(function(b){b=b.injectCoreVideoStatesRef.current;b&&b(i.current,a)})};var r=function(){return null},s=function(a){i.current=a,p.forEach(function(a){a=a.injectCoreVideoStatesRef.current;a&&a(i.current,k.current)})};n(p,k,i,b,s);return a?null:j.jsxs(j.Fragment,{children:[d("ReactDOM").createPortal(e?j.jsx(c("GlobalVideoPortsPortalerErrorBoundary.react"),{description:"GlobalVideoPortsPortaler",fallback:r,onError:s,children:j.jsx(d("GlobalVideoPortsRenderers.react").GlobalVideoPortsPlayerRenderer,{coreVideoPlayerMetaData:e.coreVideoPlayerMetaData,currentPlaceID:e.portablePlaceID,currentVideoID:f,fullscreenController:e.fullscreenController,implementations:e.implementations,isFullscreen:e.isFullscreen,onCoreVideoStatesChanged:b,previousPlaceMetaData:(a=o==null?void 0:o.previousPlaceMetaData)!=null?a:null,trackingDataEncrypted:e.trackingDataEncrypted,trackingNodes:e.trackingNodes,viewportMarginsForViewability:e.viewportMarginsForViewability})}):null,g),p.map(function(a){var b;return d("ReactDOM").createPortal(a.portablePlaceID===(q==null?void 0:q.portablePlaceID)?j.jsx(d("CoreVideoPlayerFitParentContainer.react").CoreVideoPlayerFitParentDOMContainer,{debugRole:null,domElement:g}):j.jsx(d("GlobalVideoPortsRenderers.react").GlobalVideoPortsPlaceholderRenderer,{currentPlaceID:(b=q==null?void 0:q.portablePlaceID)!=null?b:null,currentVideoID:f,previousPlaceMetaData:(b=o==null?void 0:o.previousPlaceMetaData)!=null?b:null,renderPlaceholder:a.renderPlaceholder,thisPlaceID:a.portablePlaceID,videoPixelsAspectRatio:(b=a.coreVideoPlayerMetaData.videoPixelsAspectRatio)!=null?b:null}),a.portablePlaceContainer)})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("GlobalVideoPortsImpl.react",["CometErrorBoundary.react","GlobalVideoPortsContexts","GlobalVideoPortsManager","GlobalVideoPortsPortaler.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b=d("react-compiler-runtime").c(3),e=a.setGlobalVideoPortsManager,f;b[0]!==e?(a=function(){var a=k;e(a)},f=[e],b[0]=e,b[1]=a,b[2]=f):(a=b[1],f=b[2]);j(a,f);var g=[],h=d("GlobalVideoPortsContexts").useGlobalVideoPortsManager(),l=d("GlobalVideoPortsContexts").useGlobalVideoPortsState();h&&l&&l.videos.forEach(function(a,b){g.push(i.jsx(c("CometErrorBoundary.react"),{children:i.jsx(c("GlobalVideoPortsPortaler.react"),{globalVideoPortsManager:h,globalVideoPortsState:l,thisVideoID:b})},b))});return i.jsx(i.Fragment,{children:g})}function k(a){return new(d("GlobalVideoPortsManager").GlobalVideoPortsManager)(a)}g["default"]=a}),98);
__d("LSDatascriptEvaluatorDeferredForDisplay",["requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferredForDisplay")("LSDatascriptEvaluator").__setRef("LSDatascriptEvaluatorDeferredForDisplay");function a(){return h.load()}g["default"]=a}),98);
__d("LSPlatformClientDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";a=c("requireDeferred")("LSPlatformClient").__setRef("LSPlatformClientDeferred");b=a;g["default"]=b}),98);
__d("LSPlatformClientSingleton",[],(function(a,b,c,d,e,f){"use strict";var g={contents:void 0};function a(a){g.contents=a}f.saveInstance=a}),66);
__d("LSPlatformClientInstances",["ExecutionEnvironment","FBLogger","LSLocalize","LSPlatformArmadilloUtils","LSPlatformClientSingleton","LSPlatformLsInitLog","LSSuspense","MAWLoggerUtils","MAWMIC","MessengerLogHistory","PromiseAnnotate","cr:19622","getErrorSafe","maybeSetupMAWMainThreadLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b("LSLocalize");d("MAWLoggerUtils").initMessengerWebLogging();var k=d("MessengerLogHistory").getInstance("client_init"),l=(j||(j=c("LSSuspense"))).makeCollection(),m=!1;function a(a,e,f){d("MAWMIC").startMAWMICFlow();m||(k.debug("[Occamadillo] Beginning hardcoded init sync"),m=!0,d("maybeSetupMAWMainThreadLogger").maybeSetupMAWMainThreadLogger());d("LSPlatformArmadilloUtils").reportInitStart();var g=function(a){a=c("getErrorSafe")(a);k.debug("Initializing LSPlatformClient failed");d("LSPlatformLsInitLog").fail("client_setup_failure",a);d("MAWMIC").fail("client_setup_failure",a);c("FBLogger")("messenger_web").catching(a).warn("[LS] LSPlatformClient initialization failure");throw a};return(j||(j=c("LSSuspense"))).getFromCollection(l,a,function(){return(h||(h=d("PromiseAnnotate"))).setDisplayName(async function(){d("LSPlatformLsInitLog").addAnnotations({bool:{canUseDOM:(i||(i=c("ExecutionEnvironment"))).canUseDOM,fromReact:f==null?void 0:f.fromReact},string:{configAppId:a.appId,configPlatformName:a.platformName}});k.debug("Messenger loading UI suspending");try{var h=b("cr:19622")!=null?await b("cr:19622").maybeEvaluateInitSyncEagerly(a):!1;if(!(i||(i=c("ExecutionEnvironment"))).isInBrowser)return await a.getDb();h=e(a,{didEvaluateInitSyncEagerly:h}).then(function(a){d("LSPlatformLsInitLog").addPoint("start_client");return a.start().then(function(){k.debug("Initializing LSPlatformClient success");d("LSPlatformClientSingleton").saveInstance(a);d("LSPlatformArmadilloUtils").reportInitEnd();return a.db})});return await h}catch(a){g(a)}finally{k.debug("Messenger loading UI unsuspending")}}(),"InitLSPlatformClient")})}e={getOrInit:a};g.default=e}),98);
__d("LSPlatformClientProviderAddons.react",["CometPlaceholder.react","cr:6495","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){var a=d("react-compiler-runtime").c(1),e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx(c("CometPlaceholder.react"),{fallback:null,name:"LSPlatformClientProviderAddons",children:b("cr:6495")!=null&&i.jsx(b("cr:6495"),{})}),a[0]=e):e=a[0];return e}g["default"]=a}),98);
__d("MAWCondSetup.react",["cr:3921","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");f=c("gkx")("20836")?a.Fragment:(e=b("cr:3921"))!=null?e:a.Fragment;d=f;g["default"]=d}),98);
__d("MAWCondWrapper.react",["MAWCondSetup.react","MAWSetupWrapperOnce.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3);a=a.children;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx(c("MAWCondSetup.react"),{}),b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("MAWSetupWrapperOnce.react"),{setupComponent:e,children:a}),b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),98);
__d("LSPlatformClientProvider.react",["CometDOMOnlyBoundary.react","CometPlaceholder.react","LSPlatformClientInstances","LSPlatformClientProviderAddons.react","LSPlatformErrorsCatcher.react","LSSuspense","MAWCondWrapper.react","ReStoreProvider.react","gkx","qex","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");function l(a,b){var e=d("react-compiler-runtime").c(3);if(e[0]!==a||e[1]!==b){var f=(h||(h=c("LSSuspense"))).getOrSuspend(a);f=c("LSPlatformClientInstances").getOrInit(f,b,{fromReact:!0});e[0]=a;e[1]=b;e[2]=f}else f=e[2];return f}function m(a){var b=d("react-compiler-runtime").c(3),c=a.children,e=a.config;a=a.loadLSPlatformClient;e=l(e,a);b[0]!==c||b[1]!==e?(a=e!=null?k.jsx((i||(i=d("ReStoreProvider.react"))).ReStoreProvider,{db:e,children:c}):c,b[0]=c,b[1]=e,b[2]=a):a=b[2];return a}function a(a){var b=d("react-compiler-runtime").c(16),e=a.children,f=a.config,g=a.errorFallback,h=a.loadLSPlatformClient;a=a.placeholder;var i;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=k.jsx(c("LSPlatformClientProviderAddons.react"),{}),b[0]=i):i=b[0];var j;b[1]!==e||b[2]!==a?(j=k.jsx(c("CometPlaceholder.react"),{fallback:a,name:"LSPlatformClientProvider.UISuspense",children:e}),b[1]=e,b[2]=a,b[3]=j):j=b[3];b[4]!==f||b[5]!==h||b[6]!==j?(e=k.jsxs(m,{config:f,loadLSPlatformClient:h,children:[i,j]}),b[4]=f,b[5]=h,b[6]=j,b[7]=e):e=b[7];b[8]!==a||b[9]!==e?(i=k.jsx(c("MAWCondWrapper.react"),{children:k.jsx(c("CometPlaceholder.react"),{fallback:a,name:"LSPlatformClientProvider.ClientProvider",children:e})}),b[8]=a,b[9]=e,b[10]=i):i=b[10];b[11]!==g||b[12]!==i?(f=k.jsx(c("LSPlatformErrorsCatcher.react"),{fallback:g,children:i}),b[11]=g,b[12]=i,b[13]=f):f=b[13];h=f;b[14]!==h?(j=c("gkx")("12254")&&!c("qex")._("3809")?k.jsx(c("CometDOMOnlyBoundary.react"),{children:h}):h,b[14]=h,b[15]=j):j=b[15];return j}g["default"]=a}),98);
__d("LSPlatformClientProviderWithDeferredLoadingStrategy.react",["LSPlatformClientDeferred","LSPlatformClientProvider.react","LSPlatformLsInitLog","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");async function j(a,b){d("LSPlatformLsInitLog").addPoint("load_ls_platform_client");var e=await c("LSPlatformClientDeferred").load();d("LSPlatformLsInitLog").addPoint("load_ls_platform_client_loaded");return e.make(a,b)}function a(a){var b=d("react-compiler-runtime").c(5),e=a.children,f=a.config,g=a.errorFallback;a=a.placeholder;var h;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==a?(h=i.jsx(c("LSPlatformClientProvider.react"),{config:f,errorFallback:g,loadLSPlatformClient:j,placeholder:a,children:e}),b[0]=e,b[1]=f,b[2]=g,b[3]=a,b[4]=h):h=b[4];return h}g.default=a}),98);
__d("LSPlatformCometTransportDeferred",["CurrentMessengerUser","Promise","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("LSDedicatedMqttChannel").__setRef("LSPlatformCometTransportDeferred"),j=c("requireDeferred")("LSPlatformDGWTransport").__setRef("LSPlatformCometTransportDeferred"),k=c("requireDeferred")("LSPlatformMqttRealtimeTransport").__setRef("LSPlatformCometTransportDeferred");function a(){return(h||(h=b("Promise"))).all([k.load(),j.load(),i.load()]).then(function(a){var b=a[0],c=a[1].LSPlatformDGWTransport,e=a[2];return{dgw:c,mqtt:function(a,c){return b(a,c,{getInstance:e.getInstance(d("CurrentMessengerUser").isLoggedInNow),shutdownAndClear:e.shutdownAndClear})}}})}g["default"]=a}),98);
__d("LSPlatformGraphQLLightspeedRequestQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"deviceId"},{defaultValue:null,kind:"LocalArgument",name:"requestId"},{defaultValue:null,kind:"LocalArgument",name:"requestPayload"},{defaultValue:null,kind:"LocalArgument",name:"requestType"}],b=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"device_id",variableName:"deviceId"},{kind:"Variable",name:"request_id",variableName:"requestId"},{kind:"Variable",name:"request_payload",variableName:"requestPayload"},{kind:"Variable",name:"request_type",variableName:"requestType"}],concreteType:"LightspeedWebResponse",kind:"LinkedField",name:"lightspeed_web_request",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"payload",storageKey:null},{alias:null,args:null,concreteType:"LightspeedWebRequestDependency",kind:"LinkedField",name:"dependencies",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"experiments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"target",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"LSPlatformGraphQLLightspeedRequestQuery",selections:b,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"LSPlatformGraphQLLightspeedRequestQuery",selections:b},params:{id:"9944623912245126",metadata:{},name:"LSPlatformGraphQLLightspeedRequestQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("LSPlatformGraphQLLightspeedRequestQuery",["LSPlatformGraphQLLightspeedRequestQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h!==void 0?h:h=b("LSPlatformGraphQLLightspeedRequestQuery.graphql");g.query=a}),98);
__d("LSPlatformGraphQLLightspeedRequest",["CometRelay","LSPlatformGraphQLLightspeedRequestQuery","XPlatRelayEnvironment"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){return d("CometRelay").fetchQuery(d("XPlatRelayEnvironment").getRelayEnvironment(),d("LSPlatformGraphQLLightspeedRequestQuery").query,{deviceId:a,requestId:b,requestPayload:c,requestType:e}).toPromise().then(function(a){a=a==null?void 0:(a=a.viewer)==null?void 0:a.lightspeed_web_request;if(a!=null)return babelHelpers["extends"]({dependencies:void 0},a)})}g["default"]=a}),98);
__d("LSPlatformMessengerConfig",["LSDatabaseSingleton","LSDatascriptEvaluatorMaybeDeferred","LSPlatformCometTransportDeferred","LSPlatformGraphQLLightspeedRequest","LSPlatformMessengerSyncParams","LSSuspense","LSVersion","ServerAppID","cr:19623","cr:3239","getMWLSRegion","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;h=(h=b("cr:3239"))!=null?h:c("LSPlatformGraphQLLightspeedRequest");function a(){return(j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton}function e(){return c("LSPlatformCometTransportDeferred")().then(function(a){return function(b,d){return 3===b?a.dgw(c("LSVersion"),d):a.mqtt(c("LSVersion"),d)}})}function f(){return c("LSDatascriptEvaluatorMaybeDeferred")()}b={appId:c("ServerAppID").app_id,eagerEvaluatorForInitSync:b("cr:19623"),executeGraphQLLightSpeedRequest:c("gkx")("3889")?h:c("LSPlatformGraphQLLightspeedRequest"),getDb:a,getEval:f,platformName:"Messenger",realtimeUnderylingTransport:e,region:c("getMWLSRegion")(),schemaVersion:c("LSVersion"),sendHardcodedInitSync:!0,syncParams:c("LSPlatformMessengerSyncParams")};h=(i||(i=c("LSSuspense"))).makeWithValue(b);g.config=b;g.configEagerlyLoaded=h}),98);
__d("LSPlatformCometClientStartEagerly",["LSPlatformClientInstances","LSPlatformLsInitLog","LSPlatformMessengerConfig","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("LSPlatformClient").__setRef("LSPlatformCometClientStartEagerly");async function i(a,b){d("LSPlatformLsInitLog").addPoint("load_ls_platform_client");var c=await h.load();d("LSPlatformLsInitLog").addPoint("load_ls_platform_client_loaded");return c.make(a,b)}function a(){try{c("LSPlatformClientInstances").getOrInit(d("LSPlatformMessengerConfig").config,i)}catch(a){return}}g.start=a}),98);
__d("LSPlatformEvaluateInitSyncEagerly",["ExecutionEnvironment","LSClearEpochBeforeResumeSync","LSDatabaseProviderType","LSPlatformDeviceId","LSPlatformHardcodedInitSync","LSPlatformLsInitLog","cr:3411","qex","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=async function(a,e){d("LSPlatformLsInitLog").addPoint("ds_eval_registration");e=await e();var f;try{f=b("cr:3411")!=null?b("cr:3411").registerEval(e)()(a):e()(a)}catch(b){c("recoverableViolation")("fail to register datascriptEvaluator","ls_web_init",{error:b}),f=e()(a)}d("LSPlatformLsInitLog").addPoint("ds_eval_registration_end");return f};async function a(a){if(!(h||(h=c("ExecutionEnvironment"))).canUseDOM&&!c("qex")._("3809"))return!1;if(!a.sendHardcodedInitSync)return!1;var b=a.eagerEvaluatorForInitSync;if(b==null)return!1;var e=await a.getDb();if(d("LSDatabaseProviderType").isProviderPersisted(e))return!1;d("LSPlatformLsInitLog").addPoint("evaluate_init_sync_start");var f=d("LSPlatformDeviceId").getDeviceIdForProviderType("ephemeral");b=await i(e,b);await d("LSClearEpochBeforeResumeSync").call(e);await d("LSPlatformHardcodedInitSync").sendHardcodedInitSync(a,b,e,f);d("LSPlatformLsInitLog").addPoint("evaluate_init_sync_end");return!0}g.getDatascriptEvaluator=i;g.maybeEvaluateInitSyncEagerly=a}),98);
__d("LSPlatformLogTooManyPendingTasksForS337085.react",["FBLogger","MWPBumpEntityKey","ReQL","clearTimeout","gkx","justknobx","promiseDone","react","react-compiler-runtime","setTimeout","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=b.useEffect,k=b.useRef,l=c("justknobx")._("1134"),m=c("justknobx")._("1135"),n=c("gkx")("24156");function a(){var a=d("react-compiler-runtime").c(4),b=(h||(h=c("useReStore")))(),e=k(null),f=k(!1),g;a[0]!==b.tables.pending_tasks?(g=function(){var a=b.tables.pending_tasks.subscribe(function(){c("promiseDone")(d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(b.tables.pending_tasks).take(l)),function(a){var b=a.length;if(b===l){if(e.current!=null)return;e.current=c("setTimeout")(function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_tasks","tasks_table_above_threshold"),f.current=!0,n&&c("FBLogger")("lsplatform_tasks","tasks_table_above_threshold").warn("pending tasks table is above threshold. It has %s tasks after %s ms",b,m)},m)}else c("clearTimeout")(e.current),f.current&&n&&c("FBLogger")("lsplatform_tasks","tasks_table_cleared").warn("pending tasks table is now cleared"),f.current=!1})});return function(){a()}},a[0]=b.tables.pending_tasks,a[1]=g):g=a[1];var i;a[2]!==b?(i=[b],a[2]=b,a[3]=i):i=a[3];j(g,i);return null}g["default"]=a}),98);
__d("MWChatBadgeCountQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"suppress_xac_groups"}],b=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"message_threads",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"suppress_xac_groups",variableName:"suppress_xac_groups"}],kind:"ScalarField",name:"unseen_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"recent_unread_count_with_e2ee",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_loading_client_threads",storageKey:null}]}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatBadgeCountQuery",selections:b,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatBadgeCountQuery",selections:b},params:{id:"9683287188398096",metadata:{},name:"MWChatBadgeCountQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("useMWJewelStopLoadingLogger",["QPLEvent","interaction-tracing","qpl","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useEffect,k=c("qpl")._(30616158,"2565");function a(a,b,e){var f=d("react-compiler-runtime").c(5),g,h;f[0]!==b||f[1]!==a||f[2]!==e?(g=function(){e||c("interaction-tracing").InteractionTracingCore.getPendingInteractions().forEach(function(c){var e=c.getTrace();if(((e=e==null?void 0:e.completed)!=null?e:0)>0)return;c.getQPLEventMarkerId()===(i||(i=d("QPLEvent"))).getMarkerId(k)&&(c.addAnnotationInt("badgeCount",a),c.addAnnotationInt("badgeUnreadCount",b),a===0&&c.forceCompleteTrace())})},h=[e,a,b],f[0]=b,f[1]=a,f[2]=e,f[3]=g,f[4]=h):(g=f[3],h=f[4]);j(g,h)}g["default"]=a}),98);
__d("MWChatBadgeCount.react",["fbt","CometHeroHoldTrigger.react","CometPlaceholder.react","CometRelay","FDSNumberedBadge.react","HeroInteractionIgnoreWithDiv.react","MWChatBadgeCountQuery.graphql","MWChatBadgeCountUpdates.react","cr:2290","hero-tracing","react","react-compiler-runtime","useMWJewelStopLoadingLogger"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));f=j;var l=f.useEffect,m=f.useRef;function a(){return null}var n=(f=b("cr:2290"))!=null?f:a;function o(a){var e,f=d("react-compiler-runtime").c(12),g=a.overflow,j=a.setBadgeCount;a=d("CometRelay").useLazyLoadQuery(i!==void 0?i:i=b("MWChatBadgeCountQuery.graphql"),{suppress_xac_groups:!1},{fetchPolicy:"store-or-network"});e=((e=a.viewer)==null?void 0:(e=e.message_threads)==null?void 0:e.is_loading_client_threads)!==!1;a=(a=a.viewer)==null?void 0:a.message_threads;var n=a!=null&&a.unseen_count!=null&&a.unseen_count>0?Math.min(d("MWChatBadgeCountUpdates.react").minSyncedThreads,a.unseen_count):0;a=a!=null&&a.recent_unread_count_with_e2ee!=null&&a.recent_unread_count_with_e2ee>0?Math.min(d("MWChatBadgeCountUpdates.react").minSyncedThreads,a.recent_unread_count_with_e2ee):0;var o=m(null),p,q;f[0]!==n||f[1]!==j?(p=function(){j&&o.current!==n&&(o.current=n,j(n))},q=[n,j],f[0]=n,f[1]=j,f[2]=p,f[3]=q):(p=f[2],q=f[3]);l(p,q);c("useMWJewelStopLoadingLogger")(n,a,e);f[4]!==n||f[5]!==g?(p=n>0?k.jsx(c("FDSNumberedBadge.react"),{accessibilityText:h._(/*BTDS*/"{count} Unread Chats",[h._param("count",n)]),overflow:g,testid:void 0,value:n,vcIgnore:!0}):null,f[4]=n,f[5]=g,f[6]=p):p=f[6];f[7]!==e?(q=k.jsx(c("CometHeroHoldTrigger.react"),{description:"MessengerBadgeLoadingHold",hold:e}),f[7]=e,f[8]=q):q=f[8];f[9]!==p||f[10]!==q?(a=k.jsxs(k.Fragment,{children:[p,q]}),f[9]=p,f[10]=q,f[11]=a):a=f[11];return a}function e(a){var b=d("react-compiler-runtime").c(7),e=a.overflow;a=a.setBadgeCount;var f=n(),g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=k.jsx("span",{}),b[0]=g):g=b[0];b[1]!==e||b[2]!==a?(g=k.jsx(c("CometPlaceholder.react"),{fallback:g,name:"MWChatBadgeCount",children:k.jsx(o,{overflow:e,setBadgeCount:a})}),b[1]=e,b[2]=a,b[3]=g):g=b[3];b[4]!==f||b[5]!==g?(e=k.jsx(c("HeroInteractionIgnoreWithDiv.react"),{children:k.jsx(d("hero-tracing").HeroInteraction,{alwaysMarkMutationRootAsVisualChange:!0,interactionDesc:"MSGR_JEWEL_BADGE",interactionUUID:f,pageletName:"MessengerJewelBadge",children:g})}),b[4]=f,b[5]=g,b[6]=e):e=b[6];return e}g["default"]=e}),226);
__d("MWChatBadgeUpdaterImpl.react",["CometErrorBoundary.react","ExecutionEnvironment","FBLogger","cr:4562","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function k(a){var b=c("FBLogger")("messenger_web_entrypoints");a!=null&&(b=b.catching(a));b.debug("Error loading MWChatBadgeCountUpdater")}function a(){var a=d("react-compiler-runtime").c(1),e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=(h||(h=c("ExecutionEnvironment"))).canUseDOM?j.jsx(c("CometErrorBoundary.react"),{onError:k,children:b("cr:4562")&&j.jsx(b("cr:4562"),{})}):null,a[0]=e):e=a[0];return e}g["default"]=a}),98);
__d("MWChatHeadError.react",["fbt","CometHeroFailTrigger.react","CometHeroInteractionWithDiv.react","FDSCautionTriangleFilled24Icon","MWChatInteraction","MWXIcon.react","MWXPressable.react","MWXTooltip.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={compose:{alignItems:"x6s0dn4",backgroundColor:"xcrg951",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",display:"x78zum5",height:"xsdox4t",justifyContent:"xl56j7k",position:"x1n2onr6",width:"x1useyqa",$$css:!0},dropShadow:{boxShadow:"x1qeybcx",":hover_boxShadow":"x19xcq9t",$$css:!0}},l=h._(/*BTDS*/"Something went wrong while loading chat");function a(a){var b=d("react-compiler-runtime").c(7),e=a.contextRef;a=a.onPress;var f,g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=d("MWChatInteraction").get(d("MWChatInteraction").MW_CHATHEADS_LOAD),g=j.jsx(c("CometHeroFailTrigger.react"),{description:"Error while loading chatheads",fail:!0}),b[0]=f,b[1]=g):(f=b[0],g=b[1]);var h=a==null,i;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(i=j.jsx(c("MWXIcon.react"),{icon:c("FDSCautionTriangleFilled24Icon")}),b[2]=i):i=b[2];b[3]!==e||b[4]!==a||b[5]!==h?(f=j.jsxs(c("CometHeroInteractionWithDiv.react"),{interactionDesc:"Comet initial load to chatheads VC",interactionUUID:f,children:[g,j.jsx(c("MWXTooltip.react"),{align:"end",position:"above",tooltip:l,children:j.jsx(c("MWXPressable.react"),{"aria-label":l,disabled:h,display:"inline",onPress:a,ref:e,xstyle:m,children:i})})]}),b[3]=e,b[4]=a,b[5]=h,b[6]=f):f=b[6];return f}function m(a){return[k.compose,k.dropShadow]}g["default"]=a}),226);
__d("MWChatDisabled.react",["MWChatHeadError.react","react","react-compiler-runtime","useShouldShowMessagingEntrypointInCometRoot"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(4),e=a.contextRef;a=a.onPress;var f=c("useShouldShowMessagingEntrypointInCometRoot")("CHAT"),g;b[0]!==e||b[1]!==a||b[2]!==f?(g=f?i.jsx("div",babelHelpers["extends"]({className:"x1ey2m1c xds687c xixxii4"},{children:i.jsx("div",babelHelpers["extends"]({className:"x191j7n5 x92rtbv x10l6tqk"},{children:i.jsx(c("MWChatHeadError.react"),{contextRef:e,onPress:a})}))})):null,b[0]=e,b[1]=a,b[2]=f,b[3]=g):g=b[3];return g}g["default"]=a}),98);
__d("MWV2Chat.react",["CometErrorBoundary.react","FBLogger","JSResourceForInteraction","LSDatabaseAfterInitSyncSingleton","LSDatabaseSingleton","LSPlatformClientProviderWithDeferredLoadingStrategy.react","LSPlatformMessengerConfig","MWChatDisabled.react","MWChatInteraction","MWXLazyPopoverTrigger.react","cr:11569","gkx","react","react-compiler-runtime","shouldHideChatOnAppsSubdomain"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));e=h;var k=e.useEffect,l=e.useLayoutEffect;function m(a){var b=c("FBLogger")("messenger_web");a!=null&&(b=b.catching(a));b.warn("Error loading MWV2Chat")}var n=c("JSResourceForInteraction")("MWChatErrorStatePopover.react").__setRef("MWV2Chat.react"),o=function(a){return j.jsx(c("MWXLazyPopoverTrigger.react"),{align:"end",popoverProps:{error:a},popoverResource:n,position:"above",visibleOnLoad:!0,children:function(a,b){return j.jsx(c("MWChatDisabled.react"),{contextRef:a,onPress:b})}})},p=!c("gkx")("22788")||c("shouldHideChatOnAppsSubdomain")();function a(){var a=d("react-compiler-runtime").c(3),e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=[],a[0]=e):e=a[0];l(r,e);a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=[],a[1]=e):e=a[1];k(q,e);a[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx(c("CometErrorBoundary.react"),{fallback:o,onError:m,children:p?j.jsx(c("MWChatDisabled.react"),{}):b("cr:11569")&&j.jsx(c("LSPlatformClientProviderWithDeferredLoadingStrategy.react"),{config:d("LSPlatformMessengerConfig").configEagerlyLoaded,errorFallback:o,children:j.jsx(b("cr:11569"),{})})}),a[2]=e):e=a[2];return e}function q(){(p||b("cr:11569")==null)&&d("LSDatabaseAfterInitSyncSingleton").resolveInitSync((i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton)}function r(){d("MWChatInteraction").addAutoChatTabMarkerPoint("mwv2_chat_rendered")}g["default"]=a}),98);
__d("SearchCometGlobalTypeaheadInputStrategy.react",["CometTypeaheadInputRoundedStrategy.react","SearchCometTypeaheadEventEmitterContext","cr:2012305","react","react-compiler-runtime","useMergeRefs","useRefEffect","useSearchCometEventEmitterContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useEffect,k=e.useRef;function a(a){var e=d("react-compiler-runtime").c(14),f,g,h;e[0]!==a?(h=a.ref,f=a.onChange,g=babelHelpers.objectWithoutPropertiesLoose(a,["ref","onChange"]),e[0]=a,e[1]=f,e[2]=g,e[3]=h):(f=e[1],g=e[2],h=e[3]);a=(a=c("useSearchCometEventEmitterContext")(c("SearchCometTypeaheadEventEmitterContext")))!=null?a:{};var l=a.subscribeToGlobalTypeaheadFocus,m;e[4]!==f||e[5]!==l?(a=function(a){return l==null?void 0:l(function(){if(a==null)return;a.value="";a.focus();f("")})},m=[f,l],e[4]=f,e[5]=l,e[6]=a,e[7]=m):(a=e[6],m=e[7]);a=c("useRefEffect")(a,m);var n=k(null),o=k(!1),p;e[8]===Symbol["for"]("react.memo_cache_sentinel")?(m=function(){var a=n.current;if(b("cr:2012305")!=null&&a!=null&&o.current===!1){b("cr:2012305").trackTypingPerf(a,"top_tab_serp_typeahead");o.current=!0;return function(){b("cr:2012305").unregisterTypingPerf(a),o.current=!1}}},p=[],e[8]=m,e[9]=p):(m=e[8],p=e[9]);j(m,p);m=c("useMergeRefs")(a,n);p=c("useMergeRefs")(m,h);e[10]!==p||e[11]!==f||e[12]!==g?(a=i.jsx(c("CometTypeaheadInputRoundedStrategy.react"),babelHelpers["extends"]({},g,{onChange:f,ref:p})),e[10]=p,e[11]=f,e[12]=g,e[13]=a):a=e[13];return a}g["default"]=a}),98);
__d("useCometInternalTypeaheadHeroTracing",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(a,b){var c=a?a.getInteractionUUID():null,d=a?a.getVCTrackerRef():null,e=c!=null&&a!=null&&!a.isResolved();return i(function(){var f=function(c,d){a&&d!=null&&a.setEventStartTime(d.timeStamp),b(c,d)};return{interactionUUID:c,onTracedChange:f,shouldHoldHeroTracing:e,vcTrackerRef:d}},[c,b,e,a,d])}g["default"]=a}),98);
__d("SearchCometGlobalTypeaheadLayoutContextualStrategy.react",["CometHeroHoldTrigger.react","CometHeroInteractionWithDiv.react","CometTypeaheadInternalLayoutInlineStrategy.react","react","react-compiler-runtime","useBaseTypeaheadLayoutContextualStrategyStateContext","useCometInternalTypeaheadFetch","useCometInternalTypeaheadHeroTracing","useCometInternalTypeaheadState","useCometTypeaheadInputRefs","useCometTypeaheadInternalLayoutContextualStrategyHandlers","useCometTypeaheadLayoutContextualStrategyARIAProps","useSearchCometGlobalTypeaheadStyles"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(74),e,f,g,h,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B;b[0]!==a?(y=a.extraLayoutProps,f=a.helperText,g=a.label,h=a.onAbandonTypeahead_DO_NOT_USE,j=a.onBlur,k=a.onChange,l=a.onClick,m=a.onDownArrow,n=a.onEnter,o=a.onEscape,p=a.onHighlightEntry,r=a.onOutsideClick,s=a.onPressEntry,u=a.onShiftTab,v=a.onTab,w=a.onUpArrow,z=a.traceProvider,q=a.onLeftArrow,t=a.onRightArrow,A=a.viewRole,e=a.inputRef,B=a.xstyles,x=babelHelpers.objectWithoutPropertiesLoose(a,["extraLayoutProps","helperText","label","onAbandonTypeahead_DO_NOT_USE","onBlur","onChange","onClick","onDownArrow","onEnter","onEscape","onHighlightEntry","onOutsideClick","onPressEntry","onShiftTab","onTab","onUpArrow","traceProvider","onLeftArrow","onRightArrow","viewRole","inputRef","xstyles"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=j,b[6]=k,b[7]=l,b[8]=m,b[9]=n,b[10]=o,b[11]=p,b[12]=q,b[13]=r,b[14]=s,b[15]=t,b[16]=u,b[17]=v,b[18]=w,b[19]=x,b[20]=y,b[21]=z,b[22]=A,b[23]=B):(e=b[1],f=b[2],g=b[3],h=b[4],j=b[5],k=b[6],l=b[7],m=b[8],n=b[9],o=b[10],p=b[11],q=b[12],r=b[13],s=b[14],t=b[15],u=b[16],v=b[17],w=b[18],x=b[19],y=b[20],z=b[21],A=b[22],B=b[23]);b[24]!==y?(a=y===void 0?{}:y,b[24]=y,b[25]=a):a=b[25];y=a;a=y.afterViewContent;y=y.beforeViewContent;var C=c("useBaseTypeaheadLayoutContextualStrategyStateContext")();C=C.isOpened;var D=c("useCometInternalTypeaheadState")(),E=D.activeEntries,F=D.highlightedEntry;D=D.secondaryActionHighlighted;var G=c("useCometInternalTypeaheadFetch")();G=G.isLoading;e=c("useCometTypeaheadInputRefs")(e);var H=e.composedRef;e=e.inputRef;var I=c("useSearchCometGlobalTypeaheadStyles")();B=(B=B)!=null?B:I;I=c("useCometInternalTypeaheadHeroTracing")(z,k);z=I.interactionUUID;k=I.onTracedChange;var J=I.shouldHoldHeroTracing;I=I.vcTrackerRef;var K;b[26]!==h||b[27]!==j||b[28]!==l||b[29]!==m||b[30]!==n||b[31]!==o||b[32]!==p||b[33]!==q||b[34]!==r||b[35]!==s||b[36]!==t||b[37]!==u||b[38]!==v||b[39]!==k||b[40]!==w?(K={onAbandonTypeahead_DO_NOT_USE:h,onBlur:j,onChange:k,onClick:l,onDownArrow:m,onEnter:n,onEscape:o,onHighlightEntry:p,onLeftArrow:q,onOutsideClick:r,onPressEntry:s,onRightArrow:t,onShiftTab:u,onTab:v,onUpArrow:w},b[26]=h,b[27]=j,b[28]=l,b[29]=m,b[30]=n,b[31]=o,b[32]=p,b[33]=q,b[34]=r,b[35]=s,b[36]=t,b[37]=u,b[38]=v,b[39]=k,b[40]=w,b[41]=K):K=b[41];b[42]!==e||b[43]!==K?(h={handlers:K,inputRef:e},b[42]=e,b[43]=K,b[44]=h):h=b[44];j=c("useCometTypeaheadInternalLayoutContextualStrategyHandlers")(h);b[45]!==E||b[46]!==f||b[47]!==F||b[48]!==C||b[49]!==g||b[50]!==D||b[51]!==A?(l={activeEntries:E,helperText:f,highlightedEntry:F,inputLabel:g,isOpened:C,secondaryActionHighlighted:D,viewRole:A},b[45]=E,b[46]=f,b[47]=F,b[48]=C,b[49]=g,b[50]=D,b[51]=A,b[52]=l):l=b[52];m=c("useCometTypeaheadLayoutContextualStrategyARIAProps")(l);b[53]!==J?(n=i.jsx(c("CometHeroHoldTrigger.react"),{description:"SearchInternalTypeahead",hold:J}),b[53]=J,b[54]=n):n=b[54];b[55]!==a||b[56]!==m||b[57]!==y||b[58]!==G||b[59]!==C?(o={afterViewContent:a,ariaProps:m,beforeViewContent:y,helperTextComponent:null,isLoading:G,isOpened:C},b[55]=a,b[56]=m,b[57]=y,b[58]=G,b[59]=C,b[60]=o):o=b[60];b[61]!==H||b[62]!==j||b[63]!==g||b[64]!==x||b[65]!==o||b[66]!==A||b[67]!==B?(p=i.jsx(c("CometTypeaheadInternalLayoutInlineStrategy.react"),babelHelpers["extends"]({},x,j,{extraLayoutProps:o,inputRef:H,label:g,viewRole:A,xstyles:B})),b[61]=H,b[62]=j,b[63]=g,b[64]=x,b[65]=o,b[66]=A,b[67]=B,b[68]=p):p=b[68];b[69]!==z||b[70]!==n||b[71]!==p||b[72]!==I?(q=i.jsxs(c("CometHeroInteractionWithDiv.react"),{interactionDesc:"Search_Typeahead",interactionUUID:z,ref:I,children:[n,p]}),b[69]=z,b[70]=n,b[71]=p,b[72]=I,b[73]=q):q=b[73];return q}g["default"]=a}),98);
__d("SearchCometInterestsDeepDiveExperiments",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("24247")}g.hasTypeaheadRedirection=a}),98);
__d("useSearchCometGlobalTypeaheadURLBuilderForKeywordEntry",["Base64","ConstUriUtils","SearchCometInterestsDeepDiveExperiments","SearchCometInterestsDeepDiveUtil","XCometSearchResultsControllerRouteBuilder","react-compiler-runtime","searchCometTypeaheadGetHighConfidenceResult","searchCometTypeaheadGetStsDisambiguation","useSearchCometHashtagRouteUrlBuilder","useSearchCometResultsEntryPointSurface","useSearchCometResultsURLBuilder"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("react-compiler-runtime").c(5),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={routeBuilder:c("XCometSearchResultsControllerRouteBuilder")},a[0]=b):b=a[0];var e=c("useSearchCometResultsURLBuilder")(b),f=c("useSearchCometHashtagRouteUrlBuilder")(),g=c("useSearchCometResultsEntryPointSurface")();a[1]!==f||a[2]!==g||a[3]!==e?(b=function(a){var b=a.entry,h=a.queryString;a=a.typeaheadSessionID;var i=b.label.toLowerCase(),j=b.metaData;j=j==null?void 0:j.markers;var k=d("SearchCometInterestsDeepDiveUtil").getHashtagTag(i);if(d("SearchCometInterestsDeepDiveExperiments").hasTypeaheadRedirection()&&k!=null&&!j.has("see_all"))return f({entryPointAction:"SEARCH_BOX",exploreEntryPoint:h===""?3:4,hashtag:k,typeaheadSessionID:a});else{h=b.rawData;k=(k=c("searchCometTypeaheadGetStsDisambiguation")(b))!=null?k:void 0;if(b.subtype==="keyword"&&j.has("disambiguation")){h=(j=(j=h.structuredInfo)==null?void 0:(h=j.disambiguation_result)==null?void 0:h.disambiguation_info_list[0])!=null?j:{};j=h.link_url;if(j!=null){h=d("ConstUriUtils").getUri(j);if(h!=null){j=new Map();g!=null&&j.set("__eps__",g);k!==void 0&&j.set("__stsd__",c("Base64").encode(JSON.stringify(k)));var l=new Map();for(j of j){var m=j[0],n=j[1];l.set(m,n)}m=h.addQueryParams(l);if(m!=null)return m.toString()}}}return e({entryPointAction:"SEARCH_BOX",highConfidenceResult:c("searchCometTypeaheadGetHighConfidenceResult")(b),query:i,stsDisambiguation:k,typeaheadSessionID:a})}},a[1]=f,a[2]=g,a[3]=e,a[4]=b):b=a[4];return b}g["default"]=a}),98);
__d("useSearchCometGlobalTypeaheadKeywordViewItemLinkProps",["react","react-compiler-runtime","useCometRouterDispatcher","useSearchCometGlobalTypeaheadURLBuilderForKeywordEntry"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect;b.useMemo;function a(a){var b=d("react-compiler-runtime").c(10),e=a.entry;a=a.queryString;var f=c("useCometRouterDispatcher")(),g=c("useSearchCometGlobalTypeaheadURLBuilderForKeywordEntry")(),h;b[0]!==g||b[1]!==e||b[2]!==a?(h=g({entry:e,queryString:a}),b[0]=g,b[1]=e,b[2]=a,b[3]=h):h=b[3];g=h;var j=g;b[4]!==f||b[5]!==j?(e=function(){f!=null&&f.preloadRouteCode(j)},a=[f,j],b[4]=f,b[5]=j,b[6]=e,b[7]=a):(e=b[6],a=b[7]);i(e,a);b[8]!==j?(h={preloadCodeOnMount:!0,preventLocalNavigation:!0,url:j},b[8]=j,b[9]=h):h=b[9];g=h;return g}g["default"]=a}),98);
__d("useSearchCometGlobalTypeaheadViewStrategy",["fbt","CometSearchTypeaheadBaseViewRecentEmptyState.react","react","searchCometTypeaheadSTSMappings","useSearchCometGlobalTypeaheadKeywordViewItemLinkProps","useSearchCometTypeaheadViewListStrategy"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useMemo,l={view:{backgroundColor:"x1jx94hy",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",maxHeight:"x1iofjn4",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}};function a(a){a=a.onHeaderActionPress;var b=k(function(){return[l.view]},[]),d=k(function(){return j.jsx(c("CometSearchTypeaheadBaseViewRecentEmptyState.react"),{})},[]);return c("useSearchCometTypeaheadViewListStrategy")({additionalEntryMappings:c("searchCometTypeaheadSTSMappings"),emptyStateContent:d,getLinkProps:c("useSearchCometGlobalTypeaheadKeywordViewItemLinkProps"),isScrollable:!0,onHeaderActionPress:a,seeAllLabelBuilder:m,xstyle:b})}function m(a){return h._(/*BTDS*/"Search for {=m1}",[h._implicitParam("=m1",j.jsx("strong",{children:h._(/*BTDS*/"{query}",[h._param("query",a)])}))])}m.displayName=m.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("useSearchCometTypeaheadBootstrapValidationQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9090103631095876"}),null);
__d("useSearchCometTypeaheadBootstrapValidationQuery.graphql",["useSearchCometTypeaheadBootstrapValidationQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"params",variableName:"input"}],concreteType:"SearchClientCachePolicyCheckResult",kind:"LinkedField",name:"search_client_cache_policy_check",plural:!1,selections:[{alias:null,args:null,concreteType:"SearchClientCachePolicyDecision",kind:"LinkedField",name:"policy_decision",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"cache_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ids_to_remove",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"force_cache_refresh",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useSearchCometTypeaheadBootstrapValidationQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useSearchCometTypeaheadBootstrapValidationQuery",selections:c},params:{id:b("useSearchCometTypeaheadBootstrapValidationQuery_facebookRelayOperation"),metadata:{},name:"useSearchCometTypeaheadBootstrapValidationQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useSearchCometTypeaheadBootstrapValidation",["CometRelay","CometRelayErrorHandling","filterNulls","react","react-compiler-runtime","recoverableViolation","useSearchCometTypeaheadBootstrapValidationQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useMemo;function a(a){var e=d("react-compiler-runtime").c(3),f=a.bootstrapDatasource,g=d("CometRelay").useRelayEnvironment();e[0]!==f||e[1]!==g?(a={validate:function(a){a=c("filterNulls")(a.map(k));d("CometRelay").fetchQuery(g,h!==void 0?h:h=b("useSearchCometTypeaheadBootstrapValidationQuery.graphql"),{input:{cache_types:["KEYWORD_BOOTSTRAP"],shown_suggestions:a}}).subscribe({error:j,next:function(a){a=a.search_client_cache_policy_check;for(a of(a=a==null?void 0:a.policy_decision)!=null?a:[]){var b=a.cache_type,c=a.force_cache_refresh,d=a.ids_to_remove;if(b==="KEYWORD_BOOTSTRAP"){for(b of d)f.removeEntriesByEntID(b);c===!0&&(f.clear(),f.bootstrap())}}}})}},e[0]=f,e[1]=g,e[2]=a):a=e[2];e=a;return e}function j(a){d("CometRelayErrorHandling").markErrorAsHandled(a)}function k(a){if(a.subtype!=="bootstrap")return null;a=(a=a.rawData.structuredInfo)!=null?a:{};a=a.direct_nav_result;if(a==null)return null;var b=a.ent_id;a=a.title;if(b==null||a==null){c("recoverableViolation")("Unexpected missing ent_id or title on direct_nav_result","search");return null}return{id:b,keyword:a}}g["default"]=a}),98);
__d("withSearchCometGlobalTypeaheadCleanStateOnEntrySelection",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;function a(a){function b(b){var c=d("react-compiler-runtime").c(15),e,f,g,h,j;c[0]!==b?(e=b.inputRef,f=b.onChange,g=b.onPressEntry,j=b.shouldQueryStringUpdateFromSelectedEntryOnClick,h=babelHelpers.objectWithoutPropertiesLoose(b,["inputRef","onChange","onPressEntry","shouldQueryStringUpdateFromSelectedEntryOnClick"]),c[0]=b,c[1]=e,c[2]=f,c[3]=g,c[4]=h,c[5]=j):(e=c[1],f=c[2],g=c[3],h=c[4],j=c[5]);b=j===void 0?!1:j;c[6]!==f||c[7]!==g?(j=function(b,c){var a=b.metaData,d=b.subtype;a=a.markers;d=d==="recent"&&a.has("entity")||a.has("direct_nav");f(d?"":b.label);g==null?void 0:g(b,c)},c[6]=f,c[7]=g,c[8]=j):j=c[8];j=j;var k;c[9]!==e||c[10]!==j||c[11]!==f||c[12]!==h||c[13]!==b?(k=i.jsx(a,babelHelpers["extends"]({},h,{inputRef:e,onChange:f,onPressEntry:j,shouldQueryStringUpdateFromSelectedEntryOnClick:b})),c[9]=e,c[10]=j,c[11]=f,c[12]=h,c[13]=b,c[14]=k):k=c[14];return k}return b}g["default"]=a}),98);
__d("withSearchCometGlobalTypeaheadFocusKeyboardShortcut",["cometGetKeyCommandConfig","react","react-compiler-runtime","useBaseTypeaheadLayoutContextualStrategyStateContext","useCometTypeaheadInputRefs","useGlobalKeyCommands"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;b.useMemo;function a(a){function b(b){var e=d("react-compiler-runtime").c(13),f,g;e[0]!==b?(f=b.inputRef,g=babelHelpers.objectWithoutPropertiesLoose(b,["inputRef"]),e[0]=b,e[1]=f,e[2]=g):(f=e[1],g=e[2]);b=c("useCometTypeaheadInputRefs")(f);f=b.composedRef;var h=b.inputRef;b=c("useBaseTypeaheadLayoutContextualStrategyStateContext")();var j=b.dispatchIsOpened;e[3]!==j||e[4]!==h?(b=function(){h.current!=null&&(h.current.focus(),j(!0))},e[3]=j,e[4]=h,e[5]=b):b=e[5];b=b;var k;e[6]!==b?(k=d("cometGetKeyCommandConfig").getCometKeyCommandConfig("global","search",b),e[6]=b,e[7]=k):k=e[7];e[8]!==k?(b=[k],e[8]=k,e[9]=b):b=e[9];k=b;b=k;c("useGlobalKeyCommands")(b);e[10]!==f||e[11]!==g?(k=i.jsx(a,babelHelpers["extends"]({},g,{inputRef:f})),e[10]=f,e[11]=g,e[12]=k):k=e[12];return k}return b}g["default"]=a}),98);
__d("withSearchCometTypeaheadTraceEndReasonDecorator",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;function a(a){function b(b){var c=d("react-compiler-runtime").c(13),e,f,g,h;c[0]!==b?(e=b.inputRef,f=b.onPressEntry,h=b.traceProvider,g=babelHelpers.objectWithoutPropertiesLoose(b,["inputRef","onPressEntry","traceProvider"]),c[0]=b,c[1]=e,c[2]=f,c[3]=g,c[4]=h):(e=c[1],f=c[2],g=c[3],h=c[4]);c[5]!==f||c[6]!==h?(b=function(a,b){h&&h.setEndReason("successful_user_action"),f==null?void 0:f(a,b)},c[5]=f,c[6]=h,c[7]=b):b=c[7];b=b;var j;c[8]!==e||c[9]!==b||c[10]!==g||c[11]!==h?(j=i.jsx(a,babelHelpers["extends"]({},g,{inputRef:e,onPressEntry:b,traceProvider:h})),c[8]=e,c[9]=b,c[10]=g,c[11]=h,c[12]=j):j=c[12];return j}return b}g["default"]=a}),98);
__d("SearchCometGlobalTypeahead.react",["fbt","BaseTypeahead.react","CometErrorBoundary.react","CometTypeaheadErrorFallback.react","FBLogger","SearchCometGlobalTypeaheadInputStrategy.react","SearchCometGlobalTypeaheadLayoutContextualStrategy.react","SearchCometInterestsDeepDiveExperiments","SearchCometInterestsDeepDiveUtil","SearchCometTypeaheadLoggingContextProvider","XCometSearchResultsControllerRouteBuilder","emptyFunction","qex","react","react-compiler-runtime","requireDeferred","searchCometGlobalTypeahead.config","unrecoverableViolation","useCometSearchTypeaheadTraceProvider","useCometTypeaheadNavigate","useCometTypeaheadStateQueryString","useSearchCometGlobalTypeaheadCompositeDataSource","useSearchCometGlobalTypeaheadNullStateDataSource","useSearchCometGlobalTypeaheadURLBuilderForKeywordEntry","useSearchCometGlobalTypeaheadViewStrategy","useSearchCometHashtagRouteUrlBuilder","useSearchCometResultsURLBuilder","useSearchCometTypeaheadBootstrapValidation","useSearchCometTypeaheadLoggingProvider","useSearchCometTypeaheadRecentDataSourceContextDecorator","useStable","withSearchCometGlobalTypeaheadCleanStateOnEntrySelection","withSearchCometGlobalTypeaheadFocusKeyboardShortcut","withSearchCometTypeaheadBaseNavigationDecorator","withSearchCometTypeaheadSERPWarmCallDecorator","withSearchCometTypeaheadTraceEndReasonDecorator"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.useContext,l=b.useEffect;b.useMemo;var m=b.useRef,n=c("requireDeferred")("ODS").__setRef("SearchCometGlobalTypeahead.react"),o=(e=c("qex")._("7"))!=null?e:!1;function a(a){var b=d("react-compiler-runtime").c(73),e,f,g,i,t,u,v,w,x,y;b[0]!==a?(y=a.autoOpen,e=a.inputXStyle,g=a.onClose,i=a.onEscape,t=a.onFocus,u=a.onHeaderActionPress,v=a.onPressEntry,w=a.onSelectFreeformQuery,f=a.queryString,x=babelHelpers.objectWithoutPropertiesLoose(a,["autoOpen","inputXStyle","onClose","onEscape","onFocus","onHeaderActionPress","onPressEntry","onSelectFreeformQuery","queryString"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=i,b[5]=t,b[6]=u,b[7]=v,b[8]=w,b[9]=x,b[10]=y):(e=b[1],f=b[2],g=b[3],i=b[4],t=b[5],u=b[6],v=b[7],w=b[8],x=b[9],y=b[10]);a=y===void 0?!1:y;y=c("useCometTypeaheadStateQueryString")(f);var z=y[0];f=y[1];var A=c("useSearchCometGlobalTypeaheadURLBuilderForKeywordEntry")();b[11]===Symbol["for"]("react.memo_cache_sentinel")?(y={routeBuilder:c("XCometSearchResultsControllerRouteBuilder")},b[11]=y):y=b[11];var B=c("useSearchCometResultsURLBuilder")(y),C=c("useSearchCometHashtagRouteUrlBuilder")();b[12]===Symbol["for"]("react.memo_cache_sentinel")?(y={tapPoint:"tap_search_bar"},b[12]=y):y=b[12];var D=c("useCometTypeaheadNavigate")(y),E=m(!1);y=c("useSearchCometGlobalTypeaheadNullStateDataSource")();var F;b[13]!==y?(F={config:c("searchCometGlobalTypeahead.config"),recentDataSource:y},b[13]=y,b[14]=F):F=b[14];var G=c("useSearchCometGlobalTypeaheadCompositeDataSource")(F);b[15]!==G?(y=G.getBootstrapKeywordsDataSource(),b[15]=G,b[16]=y):y=b[16];F=y;if(F==null)throw c("unrecoverableViolation")("Bootstrap datasource is missing","search");b[17]!==F?(y={bootstrapDatasource:F},b[17]=F,b[18]=y):y=b[18];F=c("useSearchCometTypeaheadBootstrapValidation")(y);var H=F.validate;b[19]!==H?(y=function(a){a=a.shownEntries;H(a)},b[19]=H,b[20]=y):y=b[20];var I=y;F=k(d("SearchCometTypeaheadLoggingContextProvider").CometLoggingProviderContext);y=F.logger;var J=F.onSessionStart,K=F.setSessionEndCallback;F=F.traceProvider;var L;L=y;F=F;var M;b[21]!==I?(M={context:"search_global",onSessionEnd:I},b[21]=I,b[22]=M):M=b[22];M=c("useSearchCometTypeaheadLoggingProvider")(M);c("useCometSearchTypeaheadTraceProvider")(y||M);l(function(){K(I)},[K,I]);if(L==null){L=M;n.onReady(r);throw c("FBLogger")("search").mustfix("Typeahead used without logger in context")}if(F==null)throw c("FBLogger")("search").mustfix("Typeahead used without traceProvider in context");y=c("useSearchCometTypeaheadRecentDataSourceContextDecorator")(G,!1);b[23]===Symbol["for"]("react.memo_cache_sentinel")?(M={decorate:c("withSearchCometGlobalTypeaheadFocusKeyboardShortcut")},b[23]=M):M=b[23];b[24]!==y?(M=[y,M].filter(Boolean),b[24]=y,b[25]=M):M=b[25];y=M;M=y;var N;b[26]!==G?(y=function(){G.bootstrap()},N=[G],b[26]=G,b[27]=y,b[28]=N):(y=b[27],N=b[28]);l(y,N);b[29]!==t||b[30]!==J?(y=function(){E.current=!0,J(),t&&t()},b[29]=t,b[30]=J,b[31]=y):y=b[31];N=y;b[32]!==L||b[33]!==D||b[34]!==v||b[35]!==z||b[36]!==A?(y=function(a,b){var c;if(b===!0)return;b=a.metaData;b=b==null?void 0:b.markers;var d=b!=null&&b.has("entity");b=b!=null&&b.has("direct_nav");c=A({entry:a,queryString:z,typeaheadSessionID:(c=L)==null?void 0:c.getSessionID()});c=s(a,c,d,b);D(c);v==null?void 0:v(a)},b[32]=L,b[33]=D,b[34]=v,b[35]=z,b[36]=A,b[37]=y):y=b[37];L;y=y;var O;b[38]!==C||b[39]!==L||b[40]!==D||b[41]!==w||b[42]!==z||b[43]!==B?(O=function(a){var b=d("SearchCometInterestsDeepDiveUtil").getHashtagTag(a);if(d("SearchCometInterestsDeepDiveExperiments").hasTypeaheadRedirection()&&b!=null){b=C({entryPointAction:"SEARCH_BOX",exploreEntryPoint:z===""?3:4,hashtag:b,typeaheadSessionID:(b=L)==null?void 0:b.getSessionID()})}else{var c;b=B({entryPointAction:"SEARCH_BOX",query:a,typeaheadSessionID:(c=L)==null?void 0:c.getSessionID()})}D(b);w==null?void 0:w(a)},b[38]=C,b[39]=L,b[40]=D,b[41]=w,b[42]=z,b[43]=B,b[44]=O):O=b[44];L;O=O;var P;b[45]!==G||b[46]!==g?(P=function(){G.clearQueryCache(),g&&g()},b[45]=G,b[46]=g,b[47]=P):P=b[47];P=P;var Q=c("useStable")(q),R;b[48]===Symbol["for"]("react.memo_cache_sentinel")?(R=h._(/*BTDS*/"Search Facebook"),b[48]=R):R=b[48];R=R;var S=z==="";S=S?"grid":"listbox";var T;b[49]===Symbol["for"]("react.memo_cache_sentinel")?(T={bypassCacheRenderLimitCheck:o},b[49]=T):T=b[49];var U=x.inputEndContent,V;b[50]!==e?(V={hideIconOnFocus:!0,size:"large",xstyle:e},b[50]=e,b[51]=V):V=b[51];e=x.inputStartContent;var W;b[52]===Symbol["for"]("react.memo_cache_sentinel")?(W=h._(/*BTDS*/"Search Facebook"),b[52]=W):W=b[52];var X=L,Y;b[53]!==u?(Y={onHeaderActionPress:u},b[53]=u,b[54]=Y):Y=b[54];u=c("useSearchCometGlobalTypeaheadViewStrategy")(Y);b[55]!==Q||b[56]!==a||b[57]!==G||b[58]!==P||b[59]!==N||b[60]!==y||b[61]!==O||b[62]!==L||b[63]!==i||b[64]!==x||b[65]!==z||b[66]!==f||b[67]!==M||b[68]!==V||b[69]!==u||b[70]!==F||b[71]!==S?(Y=j.jsx(c("CometErrorBoundary.react"),{fallback:p,children:j.jsx(Q,babelHelpers["extends"]({},x,{autoOpen:a,dataSource:G,dataSourceFetchConfigParams:T,decorators:M,inputEndContent:U,inputExtraProps:V,inputStartContent:e,inputStrategyRenderer:c("SearchCometGlobalTypeaheadInputStrategy.react"),label:W,layoutStrategyRenderer:c("SearchCometGlobalTypeaheadLayoutContextualStrategy.react"),loggingProvider:X,onChange:f,onClose:P,onEscape:i,onFocus:N,onPressEntry:y,onSelectFreeformQuery:O,placeholder:R,queryString:z,testid:void 0,traceProvider:F,viewRole:S,viewStrategyRenderer:u}))}),b[55]=Q,b[56]=a,b[57]=G,b[58]=P,b[59]=N,b[60]=y,b[61]=O,b[62]=L,b[63]=i,b[64]=x,b[65]=z,b[66]=f,b[67]=M,b[68]=V,b[69]=u,b[70]=F,b[71]=S,b[72]=Y):Y=b[72];return Y}function p(){return j.jsx(c("CometTypeaheadErrorFallback.react"),{})}p.displayName=p.name+" [from "+f.id+"]";function q(){var a;return((a=c("withSearchCometTypeaheadSERPWarmCallDecorator"))!=null?a:c("emptyFunction").thatReturnsArgument)(c("withSearchCometTypeaheadTraceEndReasonDecorator")(c("withSearchCometGlobalTypeaheadCleanStateOnEntrySelection")(c("withSearchCometTypeaheadBaseNavigationDecorator")(c("BaseTypeahead.react")))))}function r(a){a.bumpEntityKey(354,"typeahead.missing_logger_context","focused")}function s(a,b,c,d){var e=a.rawData,f;if(e!=null&&a.subtype==="recent"&&c){f=e==null?void 0:(c=e.profile)==null?void 0:c.url}if(e!=null&&(a.subtype==="keyword"||a.subtype==="bootstrap"||a.subtype==="recent")&&d){f=e==null?void 0:(c=e.structuredInfo)==null?void 0:(a=c.direct_nav_result)==null?void 0:a.link_url}return(d=f)!=null?d:b}g["default"]=a}),226);/*FB_PKG_DELIM*/
__d("I64MigrationHelper",["I64","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return c("nullthrows")((h||(h=d("I64"))).cast(a))}g.cast=a}),98);
__d("LSClientSchemaType",[],(function(a,b,c,d,e,f){"use strict";a="maw";f.MAW_SCHEMA_NAME=a}),66);
__d("LSConstants",[],(function(a,b,c,d,e,f){"use strict";a="ls";f.LS_SCHEMA_NAME=a}),66);
__d("LSDbV1.upgrade",[],(function(a,b,c,d,e,f){"use strict";a={};f.afterUpgrade=a}),66);
__d("ReStoreDefaultValuesMetadata",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b={c:"string",t:"string"};for(var d in b){if(!Object.prototype.hasOwnProperty.call(a,d)||a[d]==null){c("FBLogger")("messenger_web").warn('Malformed default values data, missing key "%s"',d);return null}var e=a[d],f=b[d];e=typeof e;if(e!==f){c("FBLogger")("messenger_web").warn('Malformed default values data, key "%s" has type "%s" but expected "%s"',d,e,f);return null}}if(typeof a.c!=="string"||typeof a.t!=="string")return null;e=[];f=a.t;try{e=JSON.parse(a.c);for(d of e)if(typeof d!=="string")return null}catch(a){return null}return{columns:e,tableName:f}}function b(a){return{c:JSON.stringify(a.columns),t:a.tableName}}d="_db_defaults_meta";g.tryParseDefaultValuesData=a;g.defaultValuesColumnToValue=b;g.defaultValuesTableName=d}),98);
__d("ReStoreDefaultValueMigration",["LSPlatformLsInitLog","ReStoreDefaultValuesMetadata","ReStoreUtils"],(function(a,b,c,d,e,f,g){"use strict";async function h(a,b){var c={};b=await d("ReStoreUtils").collectIterator(b[d("ReStoreDefaultValuesMetadata").defaultValuesTableName].entries(a));for(a of b){b=a[0];var e=a[1];if(b!=null){var f;b=d("ReStoreDefaultValuesMetadata").tryParseDefaultValuesData(e);if(b==null)continue;e=b.columns;b=b.tableName;c[b]=(f=c[b])!=null?f:new Set();for(f of e)c[b].add(f)}}return c}async function i(a,b,c,d){a=await h(a,b);b={};for(c in c.tableNames){var e=d[c];if(e!=null)for(var f in e){var g;g=(g=a[c])==null?void 0:g.has(f);if(!g){b[c]=(g=b[c])!=null?g:{};b[c][f]=e[f]}}}return b}async function j(a,b,c){for(b in b){var e=Object.keys(c[b]||{});e={columns:e,tableName:b};await a[d("ReStoreDefaultValuesMetadata").defaultValuesTableName].put(d("ReStoreDefaultValuesMetadata").defaultValuesColumnToValue(e))}}async function a(a,b,c,e){var f=new WeakMap();d("LSPlatformLsInitLog").addPoint("default_values_update_start");var g=function(a,b){d("LSPlatformLsInitLog").addPoint("default_values_update_end_failure",{string:{default_values_update_failure_point:b,default_values_update_failure_reason:String(a)}})};try{b=await i(f,a,b,e);try{if(c===!1)for(c in b){var h=a[c].entries(f),k=await h.next();while(!k.done){var l=babelHelpers.extends({},k.value[1]);l=d("ReStoreUtils").appendDefaultValues(l,c,e);await a[c].put(l);k=await h.next()}}await j(a,b,e);d("LSPlatformLsInitLog").addPoint("default_values_update_end")}catch(a){g(a,"setDefaultValues")}}catch(a){g(a,"findDefaultValuesToUpdate")}}g.runMigrationForTableDefaultValuesIfNeeded=a}),98);
__d("ReStoreIndexMetadata",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=typeof a==="string"?a:null;if(a==null)return null;try{a=JSON.parse(a);for(var b of a)if(typeof b!=="string")return null;return a}catch(a){return null}}function a(a){var b={indexName:"string",keyIds:"string","predicate?":"string",tableName:"string"};for(var d in b){var e=d.endsWith("?");if(e)e=a[d.slice(0,-1)];else{if(!Object.prototype.hasOwnProperty.call(a,d)||a[d]==null){c("FBLogger")("messenger_web").warn('Malformed index data, missing key "%s"',d);return null}e=a[d]}var f=b[d],g=typeof e;if(e!=null&&g!==f){c("FBLogger")("messenger_web").warn('Malformed index data, key "%s" has type "%s" but expected "%s"',d,g,f);return null}}e=h(a.keyIds);if(e==null){c("FBLogger")("messenger_web").warn('Malformed index data, key IDs "%s" are invalid',typeof a.keyIds==="string"?a.keyIds:"<"+typeof a.keyIds+">");return null}return typeof a.indexName!=="string"||typeof a.tableName!=="string"||typeof a.predicate!=="string"&&a.predicate!=null?null:babelHelpers["extends"]({data:e,indexName:a.indexName,tableName:a.tableName},a.predicate==null?{}:{predicate:a.predicate})}function b(a,b){if(a[0]==null)return!0;if(a[0].length!==b[0].length)return!0;for(var c=0;c<a[0].length;c++)if(a[0][c]!==b[0][c])return!0;return a[1]!==b[1]?!0:!1}function d(a){return babelHelpers["extends"]({indexName:a.indexName,keyIds:JSON.stringify(a.data),tableName:a.tableName},a.predicate==null?{}:{predicate:a.predicate})}e="_db_indices_meta";g.tryParseIndexData=a;g.indicesDiffer=b;g.indexDataToValue=d;g.indicesTableName=e}),98);
__d("ReStoreIndicesMigration",["LSPlatformLsInitLog","ReStoreCommonUtils","ReStoreIndexMetadata","ReStoreOperationLock","ReStoreUtils"],(function(a,b,c,d,e,f,g){"use strict";async function h(a,b){var c={};b=await d("ReStoreUtils").collectIterator(b[d("ReStoreIndexMetadata").indicesTableName].entries(a));for(a of b){b=a[0];var e=a[1];if(b!=null){var f;e=d("ReStoreIndexMetadata").tryParseIndexData(e);if(e==null)continue;var g=e.indexName,h=e.tableName;c[h]=(f=c[h])!=null?f:{};c[h][g]=babelHelpers.extends({index:e.data,key:b},e.predicate==null?{}:{predicate:e.predicate})}}return c}async function i(a,b,c){a=await h(a,b);b={};for(var e in c.tableNames){var f=c.tableNames[e];for(var g in f.indexes){var i,j;i=[f.indexes[g],(i=f.indexPredicates)==null?void 0:(i=i[g])==null?void 0:i.toString()];j=(j=a[e])==null?void 0:j[g];if(d("ReStoreIndexMetadata").indicesDiffer([j==null?void 0:j.index,j==null?void 0:j.predicate],i)){b[e]=(j=b[e])!=null?j:{};b[e][g]=i}}}j={};for(i in c.tableNames)if(i in a){g=a[i];for(f in g){var k;e=g[f];k=(k=c.tableNames[i])==null?void 0:(k=k.indexes)==null?void 0:k[f];if(k==null){j[i]=(k=j[i])!=null?k:{};j[i][f]=e}}}return{toRemove:j,toUpdate:b}}async function j(a,b){for(var c in b){var e=b[c];for(var f in e){var g=e[f],h=g[0];g=g[1];h=babelHelpers.extends({data:h,indexName:f,tableName:c},g==null?{}:{predicate:g});await a[d("ReStoreIndexMetadata").indicesTableName].put(d("ReStoreIndexMetadata").indexDataToValue(h))}}}async function k(a,b){for(var c in b){var e=b[c];for(var f in e){var g,h=e[f].key;await (g=a[d("ReStoreIndexMetadata").indicesTableName]).delete.apply(g,h)}}}function l(a,b,c,e,f){return new(d("ReStoreOperationLock").ReStoreOperationLock)().chainPromiseOrValue(function(g){return d("ReStoreCommonUtils").gen(d("ReStoreUtils").rebuildIndicesLocked(a.changedKeys,a.clearCache,a.storeTx,new WeakMap(),a.hooksManager,c,e,b,f,g))})}function a(a,b,c,e){var f=new WeakMap();d("LSPlatformLsInitLog").addPoint("index_migration_start");var g=function(a,b){d("LSPlatformLsInitLog").addPoint("index_migration_end_failure",{string:{index_migration_failure_point:b,index_migration_failure_reason:String(a)}})};return i(f,a.transaction,b).then(async function(f){var g=f.toRemove;f=f.toUpdate;var h=Array.from(new Set([].concat(Object.keys(f),Object.keys(g))));d("LSPlatformLsInitLog").addAnnotations({int:{index_migration_rebuild_tables_count:h.length}});if(e===!1)for(h of h)if(b.tableNames[h]!=null){var i;i=Array.from(new Set([].concat(Object.keys((i=f[h])!=null?i:{}),Object.keys((i=g[h])!=null?i:{}))));await l(a,h,b,c,i)}await j(a.transaction,f);await k(a.transaction,g);d("LSPlatformLsInitLog").addPoint("index_migration_end")},function(a){return g(a,"findIndicesToUpdateOrRemove")}).catch(function(a){return g(a,"rebuildIndices")})}g.runMigrationForIndicesIfNeeded=a}),98);
__d("ReStoreMigrateUtil",["$InternalEnum","ReQL"],(function(a,b,c,d,e,f,g){"use strict";f=b("$InternalEnum").Mirrored(["UPDATE_METADATA","UPGRADE_COMPLETE","NO_UPGRADE_NEEDED"]);function a(a,b){b="V"+b;return b in a?b:null}function h(a,b){return i.apply(this,arguments)}function i(){i=babelHelpers.wrapAsyncGenerator(function*(a,b){a=a.iterator(new WeakMap());var c=[],d=(yield babelHelpers.awaitAsyncGenerator(a.next()));while(!d.done){var e=d.value;e[0];e=e[1];c.push(e);c.length===b&&(yield c,c=[]);d=(yield babelHelpers.awaitAsyncGenerator(a.next()))}c.length&&(yield c)});return i.apply(this,arguments)}async function c(a,b,c){var e=!0,f=!1,g;try{for(var i=babelHelpers.asyncIterator(h(d("ReQL").fromTableAscending(a),100)),j,j;j=await i.next(),e=j.done,j=await j.value,!e;e=!0){j=j;await Promise.all(j.map(function(c){return b(c).then(a.put)}));c==null?void 0:c()}}catch(a){f=!0,g=a}finally{try{!e&&i.return!=null&&await i.return()}finally{if(f)throw g}}}function e(a,b){function c(b){if(b==null)return void 0;var c={};for(var d in b)c[a+"_"+d]=b[d];return c}return{bool:c(b.bool),int:c(b.int),string:c(b.string)}}g.ReStoreMigrateResult=f;g.getVersionFromNumber=a;g.fetchReQLBatch=h;g.upgradeTableEntries=c;g.prefixAnnotations=e}),98);
__d("ReStoreHashMigration",["JSONStringifyBigIntSafe","ReStoreDefaultValueMigration","ReStoreIndicesMigration","ReStoreMigrateUtil","ReStorePersistedMetadata"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=Object.values(a.tableNames).map(function(a){return babelHelpers.extends({},a,{indexPredicates:Object.entries((a=a.indexPredicates)!=null?a:{}).map(function(a){var b=a[0];a=a[1];return[b,a.toString()]})})});return c("JSONStringifyBigIntSafe")(a)}async function b(a,b,c,e){var f,g,h,i=e.loggers,j=i.logHistory;i=i.userFlow;var k=e.storeTx,l=e.transaction,m=d("ReStorePersistedMetadata").ReStorePersistedDefaultValuesVersion.hash(c),n=d("ReStorePersistedMetadata").ReStorePersistedSchemaVersion.hash(b);i==null?void 0:i.addAnnotations(d("ReStoreMigrateUtil").prefixAnnotations(a,{int:{defaultValuesVersion:m,schemaVersion:n}}));var o=new(d("ReStorePersistedMetadata").ReStorePersistedSchemaVersion)(a),p=new(d("ReStorePersistedMetadata").ReStorePersistedDefaultValuesVersion)(a);f=(f=await o.read(k))==null?void 0:f.schemaVersion;g=(g=await p.read(k))==null?void 0:g.defaultValuesVersion;j==null?void 0:j.debug("storeSchemaVersion: "+((h=f)!=null?h:"null"));j==null?void 0:j.debug("storeDefaultValuesVersion: "+((h=g)!=null?h:"null"));f!=null&&(i==null?void 0:i.addAnnotations(d("ReStoreMigrateUtil").prefixAnnotations(a,{int:{storeDefaultValuesVersion:g,storeSchemaVersion:f}})));if(f===n&&g===m)return d("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED;h=f==null;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(l,b,h,c);j==null?void 0:j.debug("migration default values finished");await d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(e,b,c,h);j==null?void 0:j.debug("migration indices finished");o.write(k,{schemaVersion:n});p.write(k,{defaultValuesVersion:m});j==null?void 0:j.debug("version is written");j==null?void 0:j.debug("migration hash end");i==null?void 0:i.addPoint("migration_hash_end");if(h)return d("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA;else return d("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE}g.serializeTableData=a;g.runHashMigration=b}),98);
__d("ReStorePersistedMetadata",["JSONStringifyBigIntSafe","ReStoreCommonUtils","ReStoreHashMigration","ReStorePersistenceIds","hashString"],(function(a,b,c,d,e,f,g){"use strict";var h="_db_schema_meta";a=function(){function a(a){this.$1=d("ReStorePersistenceIds").castPersistenceId(a)}var b=a.prototype;b.read=async function(a){a=await d("ReStoreCommonUtils").gen(a.table(h).readData(new WeakMap(),this.$1));return a};b.write=function(a,b){a.table(h).writeData(new WeakMap(),this.$1,b)};b.getId=function(){return this.$1};return a}();b=function(a){babelHelpers.inheritsLoose(b,a);function b(b){return a.call(this,b+"_schema_version")||this}b.hash=function(a){return c("hashString")(d("ReStoreHashMigration").serializeTableData(a))};return b}(a);e=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,"custom_migration_value_version")||this}return b}(a);f=function(a){babelHelpers.inheritsLoose(b,a);function b(b){return a.call(this,b+"_default_value_version")||this}b.hash=function(a){return c("hashString")(c("JSONStringifyBigIntSafe")(a))};return b}(a);g.schemaMetadataTableName=h;g.ReStorePersistedMetadata=a;g.ReStorePersistedSchemaVersion=b;g.ReStorePersistedCustomMigrationVersion=e;g.ReStorePersistedDefaultValuesVersion=f}),98);
__d("ReStoreMetadata",["ReStoreDefaultValuesMetadata","ReStoreIndexMetadata","ReStorePersistedMetadata"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return!0}function a(a){var b=a.reduce(function(a,b){return function(c){return c[b]!=null&&a(c)}},h);b.toString=function(){return"dynamic predicate on ["+a.join(",")+"]"};return b}function b(a){return function(b){var c={},d={};for(b of b)for(var e of b){var f;e.id!=null&&(c[e.id]=e.name);d[e.name]={autoIncrement:(f=e.auto_increment)!=null?f:!1,cascadeUpdates:(f=a[e.name])!=null?f:[],indexes:(f=Object.fromEntries(Object.entries((f=e.indexes)!=null?f:{}).map(function(a){var b=a[0];a=a[1].columns;return[b,a]})))!=null?f:{},indexPredicates:Object.fromEntries(Object.entries((f=e.indexes)!=null?f:{}).filter(function(a){a[0];a=a[1];return a.predicate}).map(function(a){var b=a[0];a=a[1];return[b,a.predicate]})),name:e.name,primaryKeyIds:e.primary_key}}return{tableIds:c,tableNames:d}}}e=(c={},c[d("ReStoreDefaultValuesMetadata").defaultValuesTableName]={autoIncrement:!1,cascadeUpdates:[],indexes:{},name:d("ReStoreDefaultValuesMetadata").defaultValuesTableName,primaryKeyIds:["t"]},c[d("ReStoreIndexMetadata").indicesTableName]={autoIncrement:!1,cascadeUpdates:[],indexes:{},name:d("ReStoreIndexMetadata").indicesTableName,primaryKeyIds:["tableName","indexName"]},c[d("ReStorePersistedMetadata").schemaMetadataTableName]={autoIncrement:!1,cascadeUpdates:[],indexes:{},name:d("ReStorePersistedMetadata").schemaMetadataTableName,primaryKeyIds:[]},c);g.createPredicate=a;g.getBuildTableData=b;g.RESTORE_METADATA_TABLES=e}),98);
__d("ReStoreVersionedSchemaProviderUtil",["ReStoreMetadata"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c={tableIds:{},tableNames:d("ReStoreMetadata").RESTORE_METADATA_TABLES},e={};for(var f of Object.keys(a)){var g=a[f],h={},i={};for(var j in g.indexes)h[j]=g.indexes[j].fields,g.indexes[j].ignoreNulls.length>0&&(i[j]=d("ReStoreMetadata").createPredicate(g.indexes[j].ignoreNulls));c.tableNames[f]={autoIncrement:g.autoIncrement,cascadeUpdates:(j=b==null?void 0:b[f])!=null?j:[],indexes:h,indexPredicates:i,name:f,primaryKeyIds:g.primaryKey.fields};g.id!=null&&(c.tableIds[g.id]=f);Object.keys(g.defaults).length>0&&(e[f]=g.defaults)}return{defaults:e,tableData:c}}g.getTableData=a}),98);
__d("LSDbV1",["I64MigrationHelper","LSDbV1.upgrade","ReStoreDefaultValueMigration","ReStoreIndicesMigration","ReStoreVersionedSchemaProviderUtil"],(function(a,b,c,d,aa,ba,ca){"use strict";b=Object.freeze({_user_info:{autoIncrement:!1,defaults:{},id:4,indexes:{},primaryKey:{fields:["id"],ignoreNulls:[]}},acs_request_context:{autoIncrement:!1,defaults:{},id:310,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},ad_context:{autoIncrement:!1,defaults:{},id:160,indexes:{},primaryKey:{fields:["adId"],ignoreNulls:[]}},admin_message_ctas:{autoIncrement:!1,defaults:{showAdChoiceIcon:!1,timestampMs:(a=d("I64MigrationHelper")).cast([0,0])},id:27,indexes:{ctaId:{fields:["ctaId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","ctaId"],ignoreNulls:[]}},ai_bot_feedback_submission_status:{autoIncrement:!1,defaults:{},id:315,indexes:{},primaryKey:{fields:["botResponseId"],ignoreNulls:[]}},ai_bot_search_metadata:{autoIncrement:!1,defaults:{contactViewerRelationship:a.cast([0,0]),displayName:"",score:0},id:298,indexes:{},primaryKey:{fields:["botId"],ignoreNulls:[]}},anonymous_task_context:{autoIncrement:!1,defaults:{failureCount:a.cast([0,0])},id:311,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},attachment_conversion:{autoIncrement:!1,defaults:{},id:164,indexes:{},primaryKey:{fields:["attachmentFbid"],ignoreNulls:[]}},attachment_ctas:{autoIncrement:!1,defaults:{},id:19,indexes:{fk_attachments:{fields:["threadKey","messageId","attachmentFbid","ctaId"],ignoreNulls:[]}},primaryKey:{fields:["ctaId"],ignoreNulls:[]}},attachment_items:{autoIncrement:!1,defaults:{attachmentIndex:a.cast([0,0])},id:18,indexes:{fk_attachments:{fields:["threadKey","messageId","attachmentFbid","attachmentIndex"],ignoreNulls:[]}},primaryKey:{fields:["attachmentFbid","attachmentIndex"],ignoreNulls:[]}},attachments:{autoIncrement:!1,defaults:{attachmentIndex:a.cast([0,0]),attachmentType:a.cast([0,0]),authorityLevel:a.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}},attachments_ranges_v2__generated:{autoIncrement:!1,defaults:{hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1,mediaGroup:a.cast([0,0])},id:17,indexes:{},primaryKey:{fields:["threadKey","mediaGroup","minTimestampMs"],ignoreNulls:[]}},audio_channel_events:{autoIncrement:!1,defaults:{},id:238,indexes:{},primaryKey:{fields:["eventId","roomId"],ignoreNulls:[]}},available_reactions:{autoIncrement:!1,defaults:{},id:188,indexes:{},primaryKey:{fields:["emojiIdx"],ignoreNulls:[]}},avatar_settings:{autoIncrement:!1,defaults:{enableAvatarHotlike:!1},id:209,indexes:{},primaryKey:{fields:["threadId"],ignoreNulls:[]}},bot_profile_info_v2:{autoIncrement:!1,defaults:{hasEmbodiment:!1},id:299,indexes:{},primaryKey:{fields:["botId"],ignoreNulls:[]}},bots:{autoIncrement:!1,defaults:{},id:230,indexes:{},primaryKey:{fields:["threadKey","botId"],ignoreNulls:[]}},business_comm_items:{autoIncrement:!1,defaults:{},id:234,indexes:{},primaryKey:{fields:["threadKey","entId"],ignoreNulls:[]}},business_support_case_details:{autoIncrement:!1,defaults:{},id:222,indexes:{},primaryKey:{fields:["threadId"],ignoreNulls:[]}},business_support_notification_settings:{autoIncrement:!1,defaults:{},id:236,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},business_thread_info:{autoIncrement:!1,defaults:{},id:260,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},business_thread_suggestions:{autoIncrement:!1,defaults:{},id:290,indexes:{},primaryKey:{fields:["threadKey","suggestionType"],ignoreNulls:[]}},client_accounts:{autoIncrement:!0,defaults:{},id:272,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},client_message_translation_info:{autoIncrement:!1,defaults:{},id:324,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},client_messages:{autoIncrement:!0,defaults:{disabledActionsReason:a.cast([0,0]),isForwarded:!1,isHidden:!1,isReadonly:!1,isReplyOnly:!1,isTombstoned:!1,messageContentSubtype:a.cast([0,0]),messageContentType:a.cast([0,0]),messageCreationType:a.cast([0,0]),messageEphemeralityType:a.cast([0,0]),messageSource:a.cast([0,0]),replyMessageTextSize:a.cast([0,0]),replyStatus:a.cast([0,0]),replyVicinityStatus:a.cast([0,0]),sendStatus:a.cast([0,0]),shouldHideInSnippet:!1,shouldPersist:!1,textSize:a.cast([0,0])},id:273,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},client_participants:{autoIncrement:!0,defaults:{capabilities1:a.cast([0,0]),capabilities2:a.cast([0,0]),isPending:!1,readActionTsMs:a.cast([0,0])},id:274,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},client_thread_proactive_warning_settings:{autoIncrement:!1,defaults:{},id:241,indexes:{},primaryKey:{fields:["threadPk"],ignoreNulls:[]}},client_threads:{autoIncrement:!0,defaults:{capabilities1:a.cast([0,0]),capabilities2:a.cast([0,0]),groupMemberAddMode:a.cast([0,0]),isAdminSnippet:!1,isHidden:!1,isHotlikeSnippet:!1,isPending:!1,isShadowThread:!1,isTombstoned:!1,pinnedMessagesCount:a.cast([0,0])},id:276,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},client_web_pinned_messages:{autoIncrement:!1,defaults:{},id:328,indexes:{pinnedMessageDisplayOrder:{fields:["threadKey","pinnedTimestampMs","offlineThreadingId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","offlineThreadingId","pinnedTimestampMs"],ignoreNulls:[]}},client_xmas:{autoIncrement:!0,defaults:{},id:314,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},cm_category_list:{autoIncrement:!1,defaults:{},id:182,indexes:{},primaryKey:{fields:["communityId","categoryId"],ignoreNulls:[]}},cm_channel_events:{autoIncrement:!1,defaults:{},id:201,indexes:{eventsInThread:{fields:["threadId","eventId"],ignoreNulls:[]}},primaryKey:{fields:["eventId","threadId"],ignoreNulls:[]}},cm_channel_list:{autoIncrement:!1,defaults:{},id:167,indexes:{threadIdCommunityId:{fields:["threadId","communityId"],ignoreNulls:[]}},primaryKey:{fields:["communityId","threadId"],ignoreNulls:[]}},cm_community_list:{autoIncrement:!1,defaults:{},id:166,indexes:{},primaryKey:{fields:["communityId"],ignoreNulls:[]}},cm_search_nullstate_metadata:{autoIncrement:!1,defaults:{score:0},id:289,indexes:{},primaryKey:{fields:["threadKey","scoreType"],ignoreNulls:[]}},community_chat_admin_assist_command_sequences:{autoIncrement:!1,defaults:{},id:291,indexes:{},primaryKey:{fields:["commandSequenceId"],ignoreNulls:[]}},community_chat_message_seen_count:{autoIncrement:!1,defaults:{},id:221,indexes:{},primaryKey:{fields:["threadKey","messageId"],ignoreNulls:[]}},community_chat_poll_options:{autoIncrement:!1,defaults:{sortKeyCreationTimestamp:a.cast([0,0]),sortKeyVotingTimestamp:a.cast([0,0]),voteCount:a.cast([0,0])},id:224,indexes:{},primaryKey:{fields:["pollId","optionId"],ignoreNulls:[]}},community_chat_poll_votes:{autoIncrement:!1,defaults:{},id:225,indexes:{},primaryKey:{fields:["pollId","optionId","contactId"],ignoreNulls:[]}},community_chat_poll_votes_ranges_v2__generated:{autoIncrement:!1,defaults:{},id:244,indexes:{},primaryKey:{fields:["pollId","optionId","minTimestampMs"],ignoreNulls:[]}},community_chat_polls:{autoIncrement:!1,defaults:{pollType:a.cast([0,0])},id:223,indexes:{},primaryKey:{fields:["pollId"],ignoreNulls:[]}},community_direct_invites_presets:{autoIncrement:!1,defaults:{fallbackUrl:"",pictureUrlExpirationTimestampMs1:a.cast([0,0]),pictureUrlExpirationTimestampMs2:a.cast([0,0]),presetTypeV2:"ALL_MEMBERS"},id:199,indexes:{},primaryKey:{fields:["communityId","presetType","source"],ignoreNulls:[]}},community_events:{autoIncrement:!1,defaults:{},id:202,indexes:{},primaryKey:{fields:["eventId","communityId"],ignoreNulls:[]}},community_folders:{autoIncrement:!1,defaults:{capabilities:a.cast([0,0]),capabilities2:a.cast([0,0]),capabilities3:a.cast([0,0]),inviteStatus:a.cast([0,0]),notificationMutedUntil:a.cast([0,0])},id:162,indexes:{byFbGroupId:{fields:["fbGroupId","folderId"],ignoreNulls:[]}},primaryKey:{fields:["folderId"],ignoreNulls:[]}},community_members:{autoIncrement:!1,defaults:{adminActions:a.cast([0,0]),channelBadges:a.cast([0,0]),contactCapabilities:a.cast([0,0]),requestId:"",source:a.cast([0,0]),threadRoles:a.cast([0,0])},id:170,indexes:{communityContact:{fields:["communityId","contactId","requestId","source","name"],ignoreNulls:[]},communitySource:{fields:["communityId","source","requestId","contactId","name"],ignoreNulls:[]}},primaryKey:{fields:["communityId","contactId","source","requestId"],ignoreNulls:[]}},community_members_ranges_v2__generated:{autoIncrement:!1,defaults:{},id:189,indexes:{},primaryKey:{fields:["communityId","isAdmin","minName","source","requestId"],ignoreNulls:[]}},community_messaging_aggregated_copresence_counts_for_chat:{autoIncrement:!1,defaults:{},id:204,indexes:{},primaryKey:{fields:["threadId"],ignoreNulls:[]}},community_messaging_aggregated_user_presence_counts_for_community:{autoIncrement:!1,defaults:{},id:203,indexes:{},primaryKey:{fields:["folderId"],ignoreNulls:[]}},community_rules:{autoIncrement:!1,defaults:{},id:254,indexes:{},primaryKey:{fields:["communityId","ruleId"],ignoreNulls:[]}},community_surface_ranges:{autoIncrement:!1,defaults:{},id:253,indexes:{},primaryKey:{fields:["surfaceType","communityKey"],ignoreNulls:[]}},community_thread_sync_info:{autoIncrement:!1,defaults:{},id:294,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},connectivity_status:{autoIncrement:!0,defaults:{},id:114,indexes:{},primaryKey:{fields:["statusId"],ignoreNulls:[]}},contact_upload_settings:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0])},id:74,indexes:{},primaryKey:{fields:["userid"],ignoreNulls:[]}},contacts:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),blockedByViewerStatus:a.cast([0,0]),canViewerMessage:!0,capabilities2:a.cast([0,0]),contactReachabilityStatusType:a.cast([0,0]),contactType:a.cast([0,0]),contactTypeExact:a.cast([0,0]),gender:a.cast([0,0]),isEmployee:!1,isMemorialized:!1,isMessengerUser:!1,optimisticBlockedByViewerStatus:a.cast([0,0]),optimisticBlockedByViewerStatusTimestampMs:a.cast([0,0]),rank:0,restrictionType:a.cast([0,0]),waConnectStatus:a.cast([0,0])},id:7,indexes:{blockedByViewerStatusId:{fields:["blockedByViewerStatus","id"],ignoreNulls:[]}},primaryKey:{fields:["id"],ignoreNulls:[]}},contextual_profile_v1:{autoIncrement:!1,defaults:{},id:216,indexes:{associatedEntityIdAndOwner:{fields:["associatedEntityId","ownerId"],ignoreNulls:[]}},primaryKey:{fields:["ownerId","associatedEntityId"],ignoreNulls:[]}},cowatch_sessions:{autoIncrement:!1,defaults:{},id:80,indexes:{},primaryKey:{fields:["cowatchSessionId"],ignoreNulls:[]}},ctas:{autoIncrement:!1,defaults:{},id:15,indexes:{},primaryKey:{fields:["ctaId"],ignoreNulls:[]}},custom_thread_commands:{autoIncrement:!1,defaults:{isOpenPersistentMenu:!1},id:296,indexes:{commandId:{fields:["commandId"],ignoreNulls:[]},rank:{fields:["threadKey","rank"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","commandId"],ignoreNulls:[]}},cutover_threads:{autoIncrement:!1,defaults:{isMigrated:!1,showOpenMessageHistory:!1},id:193,indexes:{},primaryKey:{fields:["openThreadId"],ignoreNulls:[]}},data_trace_addon:{autoIncrement:!0,defaults:{timestampMs:a.cast([0,0])},id:154,indexes:{traceIdAddonId:{fields:["traceId","addonId"],ignoreNulls:[]}},primaryKey:{fields:["addonId"],ignoreNulls:[]}},data_trace_meta:{autoIncrement:!1,defaults:{foregroundTimestampMs:a.cast([0,0]),initTimestampMs:a.cast([0,0]),shouldFlush:!1,traceType:a.cast([0,0])},id:153,indexes:{shouldFlushInitTimestampMsTraceId:{fields:["shouldFlush","initTimestampMs","traceId"],ignoreNulls:[]}},primaryKey:{fields:["traceId"],ignoreNulls:[]}},device_metadata:{autoIncrement:!0,defaults:{},id:185,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},discoverable_chat_participants:{autoIncrement:!1,defaults:{source:a.cast([0,0])},id:248,indexes:{},primaryKey:{fields:["threadId","contactId","source"],ignoreNulls:[]}},discoverable_chat_participants_ranges_v2__generated:{autoIncrement:!1,defaults:{},id:249,indexes:{},primaryKey:{fields:["threadId","source","minName"],ignoreNulls:[]}},discoverable_chats_personal_inbox_info:{autoIncrement:!1,defaults:{},id:326,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},e2ee_composer_draft_link_preview:{autoIncrement:!1,defaults:{},id:329,indexes:{},primaryKey:{fields:["draftId"],ignoreNulls:[]}},e2ee_dummy_table_for_sync:{autoIncrement:!1,defaults:{},id:171,indexes:{},primaryKey:{fields:["placeholder"],ignoreNulls:[]}},edit_message_history:{autoIncrement:!0,defaults:{sendStatus:a.cast([0,0])},id:322,indexes:{originalMsgPkEditTs:{fields:["originalMessagePk","serverAdjustedEditTsMs"],ignoreNulls:[]}},primaryKey:{fields:["pk"],ignoreNulls:[]}},emoji_sets:{autoIncrement:!1,defaults:{},id:151,indexes:{},primaryKey:{fields:["categoryIdx","emojiIdx","type_"],ignoreNulls:[]}},encrypted_backup_restore_task_payload_context:{autoIncrement:!1,defaults:{},id:190,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},encrypted_backups:{autoIncrement:!0,defaults:{authorityLevel:a.cast([0,0]),hasOtcEligibleDevices:!1},id:172,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},encrypted_backups_client_restore_status:{autoIncrement:!1,defaults:{},id:231,indexes:{},primaryKey:{fields:["threadId"],ignoreNulls:[]}},encrypted_backups_debug_metadata:{autoIncrement:!1,defaults:{},id:206,indexes:{},primaryKey:{fields:["backupId"],ignoreNulls:[]}},encrypted_backups_debug_metadata_v2:{autoIncrement:!1,defaults:{},id:217,indexes:{},primaryKey:{fields:["backupId"],ignoreNulls:[]}},encrypted_backups_dyi_backup_restore_status:{autoIncrement:!0,defaults:{},id:208,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},encrypted_backups_epoch_debug_metadata:{autoIncrement:!1,defaults:{},id:207,indexes:{},primaryKey:{fields:["epochId"],ignoreNulls:[]}},encrypted_backups_epoch_debug_metadata_v2:{autoIncrement:!1,defaults:{},id:218,indexes:{},primaryKey:{fields:["epochId"],ignoreNulls:[]}},encrypted_backups_message_backup_status:{autoIncrement:!1,defaults:{},id:213,indexes:{},primaryKey:{fields:["messagePk"],ignoreNulls:[]}},encrypted_backups_metadata:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0])},id:196,indexes:{},primaryKey:{fields:["backupId"],ignoreNulls:[]}},encrypted_backups_otc_devices:{autoIncrement:!1,defaults:{},id:261,indexes:{},primaryKey:{fields:["deviceId"],ignoreNulls:[]}},encrypted_backups_otc_notification_sending_status:{autoIncrement:!0,defaults:{},id:285,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},encrypted_backups_status_trigger:{autoIncrement:!0,defaults:{},id:195,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},encrypted_backups_virtual_devices:{autoIncrement:!0,defaults:{removalStatus:a.cast([0,1]),requiresHsmMigration:!1,virtualDeviceType:a.cast([0,1])},id:184,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},epd_cookie_settings:{autoIncrement:!1,defaults:{},id:163,indexes:{},primaryKey:{fields:[],ignoreNulls:[]}},experiences_shared_state:{autoIncrement:!1,defaults:{},id:282,indexes:{},primaryKey:{fields:["stateKey"],ignoreNulls:[]}},fb_events:{autoIncrement:!1,defaults:{},id:200,indexes:{},primaryKey:{fields:["eventId"],ignoreNulls:[]}},fb_transport_contacts:{autoIncrement:!0,defaults:{},id:240,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},feature_limits:{autoIncrement:!1,defaults:{},id:150,indexes:{},primaryKey:{fields:["type_"],ignoreNulls:[]}},filtered_messages_ranges_v2__generated:{autoIncrement:!1,defaults:{},id:211,indexes:{},primaryKey:{fields:["threadKey","mailboxType","minTimestampMs","minMessageId","messageRangeFilter"],ignoreNulls:[]}},filtered_threads_ranges_v3__generated:{autoIncrement:!1,defaults:{folderName:"inbox",hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1,maxLastActivityTimestampMs:a.cast([0,0]),maxThreadKey:a.cast([0,0]),minLastActivityTimestampMs:a.cast([0,0]),minThreadKey:a.cast([0,0]),secondaryThreadRangeFilter:a.cast([0,0]),threadRangeFilterValue:""},id:247,indexes:{},primaryKey:{fields:["parentThreadKey","minThreadKey","minLastActivityTimestampMs","threadRangeFilter","folderName","secondaryThreadRangeFilter","threadRangeFilterValue"],ignoreNulls:[]}},focus_mode_ctas:{autoIncrement:!1,defaults:{},id:30,indexes:{},primaryKey:{fields:["threadKey","messageId","ctaId"],ignoreNulls:[]}},folder_metadata:{autoIncrement:!1,defaults:{},id:35,indexes:{},primaryKey:{fields:["parentThreadKey"],ignoreNulls:[]}},forward_content:{autoIncrement:!1,defaults:{},id:129,indexes:{},primaryKey:{fields:["value","type_"],ignoreNulls:[]}},gdpr_settings:{autoIncrement:!1,defaults:{},id:75,indexes:{},primaryKey:{fields:["userid"],ignoreNulls:[]}},gradient_colors:{autoIncrement:!1,defaults:{},id:117,indexes:{},primaryKey:{fields:["themeFbid","gradientIndex"],ignoreNulls:[]}},group_invitations_pending:{autoIncrement:!1,defaults:{communityJoinRequestStatus:a.cast([0,0]),communityParticipationControlRequestStatus:a.cast([0,0]),communityParticipationControlSetting:a.cast([0,0])},id:235,indexes:{},primaryKey:{fields:["linkHash"],ignoreNulls:[]}},group_invites:{autoIncrement:!1,defaults:{},id:197,indexes:{},primaryKey:{fields:["threadKey","inviterId","inviteeId"],ignoreNulls:[]}},group_membership_approval_requests:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0])},id:26,indexes:{},primaryKey:{fields:["threadKey","contactId"],ignoreNulls:[]}},horizon_contact_info:{autoIncrement:!1,defaults:{},id:323,indexes:{},primaryKey:{fields:["contactId"],ignoreNulls:[]}},ig_contact_info:{autoIncrement:!1,defaults:{e2eeEligibility:a.cast([0,0])},id:176,indexes:{},primaryKey:{fields:["contactId"],ignoreNulls:[]}},ig_thread_info:{autoIncrement:!1,defaults:{igDmSettingsMode:a.cast([0,0]),igDmSettingsTtlSec:a.cast([-1,4294967295])},id:194,indexes:{igThreadID:{fields:["igThreadId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},ig_thread_labels:{autoIncrement:!1,defaults:{labelTimestampMs:a.cast([0,0])},id:318,indexes:{},primaryKey:{fields:["threadKey","labelType"],ignoreNulls:[]}},igd_xma_receiver_fetch:{autoIncrement:!1,defaults:{},id:316,indexes:{},primaryKey:{fields:["messageId"],ignoreNulls:[]}},in_thread_banner:{autoIncrement:!1,defaults:{},id:118,indexes:{},primaryKey:{fields:["threadKey","bannerId"],ignoreNulls:[]}},in_thread_banner_ctas:{autoIncrement:!1,defaults:{},id:119,indexes:{},primaryKey:{fields:["bannerId","ctaId"],ignoreNulls:[]}},in_thread_banner_overflow_menu:{autoIncrement:!1,defaults:{},id:120,indexes:{},primaryKey:{fields:["threadKey","bannerId"],ignoreNulls:[]}},inbox_threads_ranges:{autoIncrement:!1,defaults:{hasMoreBefore:!1,isLoadingBefore:!1,minLastActivityTimestampMs:a.cast([0,0]),minThreadKey:a.cast([0,0])},id:198,indexes:{},primaryKey:{fields:["syncGroup"],ignoreNulls:[]}},inbox_view_state:{autoIncrement:!1,defaults:{value:""},id:277,indexes:{},primaryKey:{fields:["interface_","configName"],ignoreNulls:[]}},inbox_view_state_v2:{autoIncrement:!1,defaults:{value:""},id:281,indexes:{},primaryKey:{fields:["configName"],ignoreNulls:[]}},lightspeed_task_context:{autoIncrement:!1,defaults:{requiresAuthentication:!1},id:306,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},linked_groups:{autoIncrement:!1,defaults:{},id:130,indexes:{threadKey:{fields:["threadKey"],ignoreNulls:[]}},primaryKey:{fields:["id"],ignoreNulls:[]}},live_location_sharers:{autoIncrement:!1,defaults:{},id:149,indexes:{},primaryKey:{fields:["threadKey","userId"],ignoreNulls:[]}},local_message_persistence_store:{autoIncrement:!0,defaults:{},id:301,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},local_message_persistence_store_deleted_messages:{autoIncrement:!0,defaults:{},id:303,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},local_message_persistence_store_supplemental:{autoIncrement:!0,defaults:{},id:302,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},local_message_persistence_store_tag_index:{autoIncrement:!0,defaults:{},id:304,indexes:{offlineThreadingId:{fields:["offlineThreadingId","threadId"],ignoreNulls:[]}},primaryKey:{fields:["pk"],ignoreNulls:[]}},m_suggestions:{autoIncrement:!1,defaults:{},id:21,indexes:{},primaryKey:{fields:["threadKey","timestampMs","suggestionId"],ignoreNulls:[]}},mailbox_metadata:{autoIncrement:!1,defaults:{},id:25,indexes:{},primaryKey:{fields:["id"],ignoreNulls:[]}},mailbox_task_completion_api_tasks:{autoIncrement:!1,defaults:{},id:233,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},mailbox_task_completion_notification_context:{autoIncrement:!1,defaults:{},id:232,indexes:{},primaryKey:{fields:["notificationScopeKey"],ignoreNulls:[]}},media_send_jobs:{autoIncrement:!1,defaults:{},id:51,indexes:{},primaryKey:{fields:["offlineAttachmentId"],ignoreNulls:[]}},media_staging:{autoIncrement:!1,defaults:{progress:0},id:161,indexes:{},primaryKey:{fields:["offlineAttachmentId"],ignoreNulls:[]}},message_requests:{autoIncrement:!1,defaults:{},id:34,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},message_search_queries:{autoIncrement:!1,defaults:{},id:70,indexes:{},primaryKey:{fields:["type_","query","threadKeyV2"],ignoreNulls:[]}},message_search_results:{autoIncrement:!1,defaults:{},id:69,indexes:{},primaryKey:{fields:["type_","query","threadKey","globalIndex"],ignoreNulls:[]}},messages:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),displayedContentTypes:a.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageRenderingType:a.cast([0,0]),primarySortKey:a.cast([0,0]),quickReplyType:a.cast([0,0]),replyAttachmentType:a.cast([0,0]),replyStatus:a.cast([0,0]),secondarySortKey:a.cast([0,0]),sendStatus:a.cast([0,0]),sendStatusV2:a.cast([0,0]),textHasLinks:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:a.cast([0,0]),viewFlags:a.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}},messages_optimistic_context:{autoIncrement:!1,defaults:{},id:31,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},messages_ranges_v2__generated:{autoIncrement:!1,defaults:{hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1},id:13,indexes:{},primaryKey:{fields:["threadKey","minTimestampMs","minMessageId"],ignoreNulls:[]}},messages_status:{autoIncrement:!1,defaults:{timestampMs:a.cast([0,0])},id:33,indexes:{},primaryKey:{fields:["messageId","threadKey","timestampMs","threadKeyFromParticipants","contactId","type_"],ignoreNulls:[]}},messaging_privacy_settings:{autoIncrement:!1,defaults:{e2eeXmaPreviewsDisabled:!1,readReceiptsDisabled:a.cast([0,0])},id:288,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},messaging_settings:{autoIncrement:!1,defaults:{},id:83,indexes:{},primaryKey:{fields:["id"],ignoreNulls:[]}},mi_act_mapping_table:{autoIncrement:!1,defaults:{},id:173,indexes:{chat_id:{fields:["clientThreadPk"],ignoreNulls:[]},fk_threads:{fields:["serverThreadKey"],ignoreNulls:[]},jid:{fields:["jid"],ignoreNulls:[]}},primaryKey:{fields:["serverThreadKey","clientThreadPk","jid"],ignoreNulls:[]}},msg_pinned_messages_v2:{autoIncrement:!1,defaults:{},id:205,indexes:{pinnedMessageDisplayOrder:{fields:["threadKey","pinnedTimestampMs","messageId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","pinnedTimestampMs"],ignoreNulls:[]}},msgr_quiet_time:{autoIncrement:!1,defaults:{},id:317,indexes:{quietTimeId:{fields:["quietTimeId"],ignoreNulls:[]}},primaryKey:{fields:["quietTimeId"],ignoreNulls:[]}},mwb_safety_interventions:{autoIncrement:!1,defaults:{},id:327,indexes:{},primaryKey:{fields:["interventionId","interventionEntId"],ignoreNulls:[]}},network_requests:{autoIncrement:!1,defaults:{},id:3,indexes:{},primaryKey:{fields:["taskQueueName","syncDatabaseId"],ignoreNulls:[]}},new_payment_credential_option:{autoIncrement:!1,defaults:{},id:90,indexes:{},primaryKey:{fields:["credentialType"],ignoreNulls:[]}},notification_settings:{autoIncrement:!1,defaults:{includeInSwitchAccountBadges:!1,mutePageAccountMessageReminder:!1},id:175,indexes:{},primaryKey:{fields:["id"],ignoreNulls:[]}},occamadillo_most_recent_message_per_thread:{autoIncrement:!1,defaults:{},id:292,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},offline_queue_thread_status:{autoIncrement:!1,defaults:{},id:295,indexes:{},primaryKey:{fields:["threadJid"],ignoreNulls:[]}},ohai_gateway_key_configs:{autoIncrement:!1,defaults:{},id:313,indexes:{},primaryKey:{fields:["keyId"],ignoreNulls:[]}},p2m_charge:{autoIncrement:!1,defaults:{},id:97,indexes:{},primaryKey:{fields:["orderId"],ignoreNulls:[]}},p2m_invoice:{autoIncrement:!1,defaults:{},id:94,indexes:{},primaryKey:{fields:["orderId"],ignoreNulls:[]}},p2m_invoice_attachment:{autoIncrement:!1,defaults:{},id:95,indexes:{},primaryKey:{fields:["orderId","productItemId"],ignoreNulls:[]}},p2p_request_v2:{autoIncrement:!1,defaults:{},id:100,indexes:{optimistic:{fields:["optimisticTransactionId"],ignoreNulls:[]}},primaryKey:{fields:["timestampMs","transactionId"],ignoreNulls:[]}},p2p_transfer_v2:{autoIncrement:!1,defaults:{},id:101,indexes:{optimistic:{fields:["optimisticTransactionId"],ignoreNulls:[]}},primaryKey:{fields:["timestampMs","transactionId"],ignoreNulls:[]}},pake_messages:{autoIncrement:!1,defaults:{},id:258,indexes:{},primaryKey:{fields:["sessionId"],ignoreNulls:[]}},participant_list_queries:{autoIncrement:!1,defaults:{},id:219,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},participant_search_queries:{autoIncrement:!1,defaults:{},id:214,indexes:{},primaryKey:{fields:["query","threadKey"],ignoreNulls:[]}},participants:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),deliveredWatermarkTimestampMs:a.cast([0,0]),groupParticipantJoinState:a.cast([0,0]),readActionTimestampMs:a.cast([0,0]),readWatermarkTimestampMs:a.cast([0,0]),threadRoles:a.cast([0,0])},id:14,indexes:{contactIdThreadKey:{fields:["contactId","threadKey"],ignoreNulls:[]},threadKeyDeliveredWatermarkTimestampMs:{fields:["threadKey","deliveredWatermarkTimestampMs","contactId"],ignoreNulls:[]},threadKeyReadWatermarkTimestampMs:{fields:["threadKey","readWatermarkTimestampMs","contactId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","contactId"],ignoreNulls:[]}},payment_auth_request_results:{autoIncrement:!1,defaults:{},id:108,indexes:{},primaryKey:{fields:["requestId"],ignoreNulls:[]}},payment_client_auth_token:{autoIncrement:!1,defaults:{},id:107,indexes:{},primaryKey:{fields:["userId","deviceId","appId"],ignoreNulls:[]}},payment_method:{autoIncrement:!1,defaults:{},id:89,indexes:{},primaryKey:{fields:["paymentMethodId"],ignoreNulls:[]}},payment_p2p_risk_verification:{autoIncrement:!1,defaults:{},id:98,indexes:{},primaryKey:{fields:["requestId","transactionId"],ignoreNulls:[]}},payment_pin_verification_results:{autoIncrement:!1,defaults:{},id:113,indexes:{},primaryKey:{fields:["requestId"],ignoreNulls:[]}},payment_price_list_item:{autoIncrement:!1,defaults:{},id:96,indexes:{},primaryKey:{fields:["orderId","id"],ignoreNulls:[]}},payment_server_request_results:{autoIncrement:!1,defaults:{},id:109,indexes:{},primaryKey:{fields:["requestId"],ignoreNulls:[]}},payment_transaction_v2:{autoIncrement:!1,defaults:{},id:99,indexes:{optimistic:{fields:["optimisticTransactionId"],ignoreNulls:[]}},primaryKey:{fields:["timestampMs","transactionId"],ignoreNulls:[]}},payment_type_bank_v2:{autoIncrement:!1,defaults:{},id:88,indexes:{},primaryKey:{fields:["paymentMethodId"],ignoreNulls:[]}},payment_type_card:{autoIncrement:!1,defaults:{},id:86,indexes:{},primaryKey:{fields:["paymentCredentialId"],ignoreNulls:[]}},payment_type_paypal:{autoIncrement:!1,defaults:{},id:85,indexes:{},primaryKey:{fields:["paymentCredentialId"],ignoreNulls:[]}},payment_user_auth:{autoIncrement:!1,defaults:{},id:106,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},payments_eligibility:{autoIncrement:!1,defaults:{},id:92,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},payments_ofac_blacklisted_countries:{autoIncrement:!1,defaults:{},id:93,indexes:{},primaryKey:{fields:["isoCountryCode"],ignoreNulls:[]}},payments_transaction_details_core:{autoIncrement:!1,defaults:{},id:103,indexes:{},primaryKey:{fields:["transactionId"],ignoreNulls:[]}},payments_transaction_details_ctas:{autoIncrement:!1,defaults:{},id:104,indexes:{},primaryKey:{fields:["transactionId","ctaId"],ignoreNulls:[]}},payments_transaction_details_rows:{autoIncrement:!1,defaults:{},id:105,indexes:{},primaryKey:{fields:["transactionId","rowOrder"],ignoreNulls:[]}},paypal_funding_options:{autoIncrement:!1,defaults:{},id:91,indexes:{},primaryKey:{fields:["optionId"],ignoreNulls:[]}},pending_backups_context_v2:{autoIncrement:!0,defaults:{isInstamadillo:!1},id:177,indexes:{fk_pending_tasks:{fields:["pendingBackupTaskId"],ignoreNulls:[]}},primaryKey:{fields:["pk"],ignoreNulls:[]}},pending_fire_and_forget_tasks:{autoIncrement:!0,defaults:{enqueueTimestampMs:a.cast([0,0]),priority:a.cast([0,0])},id:5,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},pending_protobuf_backups_context:{autoIncrement:!0,defaults:{},id:305,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},pending_tasks:{autoIncrement:!0,defaults:{enqueueTimestampMs:a.cast([0,0]),failureCount:a.cast([0,0]),firstExecutedTimestampMs:a.cast([0,0]),minTimeToSyncTimestampMs:a.cast([0,0]),pluginType:a.cast([0,0]),priority:a.cast([0,0]),taskDispatchPriority:a.cast([0,0])},id:2,indexes:{queueNameTaskId:{fields:["queueName","taskId"],ignoreNulls:[]}},primaryKey:{fields:["taskId"],ignoreNulls:[]}},persistent_menu_ctas:{autoIncrement:!1,defaults:{ctaType:"fallback"},id:251,indexes:{},primaryKey:{fields:["threadKey","ctaId"],ignoreNulls:[]}},persistent_menu_items:{autoIncrement:!1,defaults:{},id:77,indexes:{},primaryKey:{fields:["threadKey","ctaId"],ignoreNulls:[]}},pinned_messages_v2:{autoIncrement:!1,defaults:{},id:155,indexes:{},primaryKey:{fields:["threadKey","messageId"],ignoreNulls:[]}},pinned_threads:{autoIncrement:!1,defaults:{},id:82,indexes:{pinnedTimestamp:{fields:["pinnedTimestamp","threadKey"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},poll_options_v2:{autoIncrement:!1,defaults:{sortKeyCreationTimestamp:a.cast([0,0]),sortKeyVotingTimestamp:a.cast([0,0]),voteCount:a.cast([0,0])},id:39,indexes:{},primaryKey:{fields:["pollId","optionId"],ignoreNulls:[]}},poll_votes_v2:{autoIncrement:!1,defaults:{},id:40,indexes:{},primaryKey:{fields:["pollId","optionId","contactId"],ignoreNulls:[]}},polls:{autoIncrement:!1,defaults:{pollType:a.cast([0,0])},id:38,indexes:{},primaryKey:{fields:["pollId"],ignoreNulls:[]}},presence_settings:{autoIncrement:!1,defaults:{hasConvertedToViewSideSettings:!1,isActiveStatusViewable:!1,isActiveStatusViewableOnFb:!1,isActiveStatusViewableOnMessenger:!1},id:187,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},presence_states:{autoIncrement:!1,defaults:{},id:186,indexes:{statusContactId:{fields:["status","contactId"],ignoreNulls:[]}},primaryKey:{fields:["contactId"],ignoreNulls:[]}},profile_sheet_information:{autoIncrement:!1,defaults:{},id:256,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},quick_reply_ctas:{autoIncrement:!1,defaults:{},id:20,indexes:{},primaryKey:{fields:["threadKey","messageId","ctaId"],ignoreNulls:[]}},ranking_requests:{autoIncrement:!1,defaults:{},id:135,indexes:{},primaryKey:{fields:["scoreType"],ignoreNulls:[]}},ranking_scores:{autoIncrement:!1,defaults:{score:0,scoreIndex:a.cast([0,0])},id:134,indexes:{scoreTypeContactId:{fields:["scoreType","contactId"],ignoreNulls:[]}},primaryKey:{fields:["contactId","scoreType"],ignoreNulls:[]}},reachability_settings:{autoIncrement:!1,defaults:{},id:148,indexes:{},primaryKey:{fields:["audience"],ignoreNulls:[]}},reaction_v2_types:{autoIncrement:!1,defaults:{},id:229,indexes:{},primaryKey:{fields:["reactionFbid"],ignoreNulls:[]}},reactions:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),reactionCreationTimestampMs:a.cast([0,0]),timestampMs:a.cast([0,0]),transportKey:"FBBroker"},id:8,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","actorId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","actorId"],ignoreNulls:[]}},reactions_v2:{autoIncrement:!1,defaults:{lastUpdatedTimestampMs:a.cast([0,0]),viewerReactionTimestampMs:a.cast([0,0])},id:226,indexes:{optimistic:{fields:["threadKey","messageId","reactionFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","reactionFbid","messageTimestamp"],ignoreNulls:[]}},reactions_v2_details:{autoIncrement:!1,defaults:{},id:239,indexes:{},primaryKey:{fields:["threadId","messageId","reactorId","reactionFbid"],ignoreNulls:[]}},reactions_v2_details_ranges_v2__generated:{autoIncrement:!1,defaults:{},id:243,indexes:{},primaryKey:{fields:["threadId","messageId","reactionFbid","minTimestampMs"],ignoreNulls:[]}},reactions_v2_details_users:{autoIncrement:!1,defaults:{},id:227,indexes:{},primaryKey:{fields:["reactorId","reactionFbid"],ignoreNulls:[]}},reactions_v2_details_users_ranges_v2__generated:{autoIncrement:!1,defaults:{},id:228,indexes:{},primaryKey:{fields:["reactorId","reactionFbid","minTimestampMs"],ignoreNulls:[]}},roll_call_contributions_v2:{autoIncrement:!1,defaults:{contributionSource:a.cast([0,0]),contributorId:a.cast([0,0])},id:255,indexes:{optimistic:{fields:["rollCallContributionId","rollCallId","messageId","messageTimestampMs"],ignoreNulls:[]}},primaryKey:{fields:["rollCallContributionId","rollCallId","messageId","messageTimestampMs","threadKey"],ignoreNulls:[]}},roll_calls:{autoIncrement:!1,defaults:{canViewWithoutContributing:!1,isBlurred:!1,viewerCanEditPrompt:!1,viewerHasContributed:!1},id:250,indexes:{},primaryKey:{fields:["rollCallId","threadKey"],ignoreNulls:[]}},room_participants:{autoIncrement:!1,defaults:{},id:64,indexes:{optimistic:{fields:["roomId","participantId"],ignoreNulls:[]}},primaryKey:{fields:["roomId","participantId","type_"],ignoreNulls:[]}},rooms:{autoIncrement:!1,defaults:{notificationMutedUntilMs:a.cast([0,0])},id:63,indexes:{optimistic:{fields:["optimisticClientToken"],ignoreNulls:[]}},primaryKey:{fields:["roomId"],ignoreNulls:[]}},rtc_call_events:{autoIncrement:!0,defaults:{isProcessed:!1},id:245,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},rtc_multiway_call_initiation_conference_names:{autoIncrement:!1,defaults:{},id:24,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},rtc_ongoing_calls_on_threads_v2:{autoIncrement:!1,defaults:{},id:23,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},rtc_rooms_on_threads:{autoIncrement:!1,defaults:{},id:181,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},rtc_signals:{autoIncrement:!1,defaults:{},id:22,indexes:{},primaryKey:{fields:["timestampMs","type_"],ignoreNulls:[]}},saved_messages:{autoIncrement:!1,defaults:{},id:165,indexes:{},primaryKey:{fields:["threadKey","messageId"],ignoreNulls:[]}},screen_time:{autoIncrement:!0,defaults:{},id:321,indexes:{},primaryKey:{fields:["recordId"],ignoreNulls:[]}},search_queries:{autoIncrement:!1,defaults:{surfaceType:a.cast([0,1])},id:67,indexes:{},primaryKey:{fields:["query","surfaceType"],ignoreNulls:[]}},secure_acs_blinded_tokens:{autoIncrement:!0,defaults:{},id:308,indexes:{},primaryKey:{fields:["tokenId"],ignoreNulls:[]}},secure_acs_configurations:{autoIncrement:!1,defaults:{},id:307,indexes:{},primaryKey:{fields:["configId"],ignoreNulls:[]}},secure_acs_tokens:{autoIncrement:!1,defaults:{},id:309,indexes:{},primaryKey:{fields:["tokenId"],ignoreNulls:[]}},secure_encrypted_backups_client_state:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),encryptionVersion:a.cast([0,0]),revisionVersion:a.cast([0,0])},id:168,indexes:{},primaryKey:{fields:["backupId"],ignoreNulls:[]}},secure_encrypted_backups_device_supported_versions:{autoIncrement:!1,defaults:{},id:192,indexes:{fk_secure_encrypted_backups_device_supported_versions_device_id:{fields:["deviceId","supportedVersion"],ignoreNulls:[]}},primaryKey:{fields:["deviceId","supportedVersion"],ignoreNulls:[]}},secure_encrypted_backups_devices:{autoIncrement:!1,defaults:{},id:191,indexes:{},primaryKey:{fields:["deviceId"],ignoreNulls:[]}},secure_encrypted_backups_epochs:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0])},id:169,indexes:{fk_secure_encrypted_backups_client_state:{fields:["backupId","epochId"],ignoreNulls:[]}},primaryKey:{fields:["epochId"],ignoreNulls:[]}},secure_encrypted_backups_generated_recovery_code:{autoIncrement:!1,defaults:{virtualDeviceType:a.cast([0,1])},id:174,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},secure_encrypted_backups_message_thread_id_context:{autoIncrement:!1,defaults:{},id:180,indexes:{fk_pending_tasks:{fields:["taskId"],ignoreNulls:[]}},primaryKey:{fields:["taskId","listId"],ignoreNulls:[]}},secure_encrypted_backups_recovery_code_status:{autoIncrement:!1,defaults:{},id:178,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},secure_get_secrets_context:{autoIncrement:!1,defaults:{},id:259,indexes:{},primaryKey:{fields:["deviceRegistrationId"],ignoreNulls:[]}},secure_recovery_code_data:{autoIncrement:!1,defaults:{},id:179,indexes:{fk_pending_tasks:{fields:["taskId"],ignoreNulls:[]}},primaryKey:{fields:["taskId"],ignoreNulls:[]}},self_profile:{autoIncrement:!1,defaults:{},id:81,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},server_search_results:{autoIncrement:!1,defaults:{},id:65,indexes:{},primaryKey:{fields:["query","resultId","globalIndex"],ignoreNulls:[]}},server_search_sections:{autoIncrement:!1,defaults:{},id:66,indexes:{},primaryKey:{fields:["query","globalIndex"],ignoreNulls:[]}},shared_album_contributions:{autoIncrement:!1,defaults:{creationTimestampMs:a.cast([0,0]),creatorId:a.cast([0,0])},id:280,indexes:{},primaryKey:{fields:["sharedAlbumId","sharedAlbumContributionId","threadKey","messageId"],ignoreNulls:[]}},shared_albums:{autoIncrement:!1,defaults:{contributionCount:a.cast([0,0]),lastActivityTimestampMs:a.cast([0,0])},id:279,indexes:{},primaryKey:{fields:["sharedAlbumId","threadKey"],ignoreNulls:[]}},shared_albums_multimedia_upload_jobs:{autoIncrement:!1,defaults:{},id:283,indexes:{},primaryKey:{fields:["offlineThreadingId"],ignoreNulls:[]}},shared_albums_multimedia_upload_subjobs_status:{autoIncrement:!1,defaults:{},id:284,indexes:{},primaryKey:{fields:["offlineThreadingId","jobId"],ignoreNulls:[]}},status:{autoIncrement:!1,defaults:{},id:62,indexes:{optimistic:{fields:["optimisticClientId"],ignoreNulls:[]}},primaryKey:{fields:["statusId"],ignoreNulls:[]}},sticker_pack_details:{autoIncrement:!1,defaults:{},id:127,indexes:{},primaryKey:{fields:["packId"],ignoreNulls:[]}},sticker_packs:{autoIncrement:!1,defaults:{},id:122,indexes:{},primaryKey:{fields:["packId"],ignoreNulls:[]}},sticker_search_featured_tags:{autoIncrement:!1,defaults:{},id:125,indexes:{},primaryKey:{fields:["tagIndex"],ignoreNulls:[]}},sticker_search_queries:{autoIncrement:!1,defaults:{},id:124,indexes:{},primaryKey:{fields:["query"],ignoreNulls:[]}},sticker_search_results:{autoIncrement:!1,defaults:{},id:123,indexes:{},primaryKey:{fields:["resultIndex","query","type_"],ignoreNulls:[]}},sticker_store_pack_indices:{autoIncrement:!1,defaults:{},id:128,indexes:{},primaryKey:{fields:["packId"],ignoreNulls:[]}},sticker_to_collection:{autoIncrement:!1,defaults:{},id:126,indexes:{},primaryKey:{fields:["stickerId","collectionId"],ignoreNulls:[]}},stickers:{autoIncrement:!1,defaults:{},id:121,indexes:{stickerPackId:{fields:["stickerPackId","stickerId"],ignoreNulls:[]}},primaryKey:{fields:["stickerId"],ignoreNulls:[]}},stories:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0])},id:54,indexes:{optimistic:{fields:["optimisticClientId"],ignoreNulls:[]}},primaryKey:{fields:["storyId"],ignoreNulls:[]}},story_ad_card:{autoIncrement:!1,defaults:{},id:58,indexes:{},primaryKey:{fields:["adPosition","clientToken","cardId"],ignoreNulls:[]}},story_ad_ctas:{autoIncrement:!1,defaults:{},id:59,indexes:{},primaryKey:{fields:["ctaId"],ignoreNulls:[]}},story_ad_unit:{autoIncrement:!1,defaults:{shouldShowAdChoice:!1},id:57,indexes:{},primaryKey:{fields:["adPosition","clientToken"],ignoreNulls:[]}},story_buckets:{autoIncrement:!1,defaults:{pageNum:a.cast([0,0]),readState:a.cast([0,0])},id:53,indexes:{optimistic:{fields:["ownerId","bucketType"],ignoreNulls:[]}},primaryKey:{fields:["bucketId"],ignoreNulls:[]}},story_buckets_paginated_queries:{autoIncrement:!1,defaults:{},id:61,indexes:{},primaryKey:{fields:["queryId"],ignoreNulls:[]}},story_overlays:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0])},id:60,indexes:{},primaryKey:{fields:["storyId","storyOverlayId"],ignoreNulls:[]}},story_reactions:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0])},id:56,indexes:{optimistic:{fields:["optimisticClientId"],ignoreNulls:[]}},primaryKey:{fields:["reactionId"],ignoreNulls:[]}},story_viewers:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),interactionType:a.cast([0,1])},id:55,indexes:{},primaryKey:{fields:["storyId","viewerContactId","interactionType"],ignoreNulls:[]}},supervision_edge:{autoIncrement:!1,defaults:{},id:319,indexes:{},primaryKey:{fields:["edgeId"],ignoreNulls:[]}},supervision_metadata:{autoIncrement:!1,defaults:{},id:320,indexes:{},primaryKey:{fields:["supervisionMetadataId"],ignoreNulls:[]}},support_translations:{autoIncrement:!1,defaults:{},id:300,indexes:{},primaryKey:{fields:["messageId","targetLocale"],ignoreNulls:[]}},sync_group_threads_ranges:{autoIncrement:!1,defaults:{hasMoreBefore:!1,isLoadingBefore:!1,minLastActivityTimestampMs:a.cast([0,0]),minThreadKey:a.cast([0,0])},id:220,indexes:{},primaryKey:{fields:["syncGroup","parentThreadKey"],ignoreNulls:[]}},sync_groups:{autoIncrement:!1,defaults:{canIgnoreTimestamp:!1,lastSyncCompletedTimestampMs:a.cast([0,0]),lastSyncRequestTimestampMs:a.cast([0,0]),minTimeToSyncTimestampMs:a.cast([0,0]),priority:a.cast([0,0]),sendSyncParams:!1,syncChannel:a.cast([0,1]),syncStatus:a.cast([0,0])},id:1,indexes:{},primaryKey:{fields:["groupId"],ignoreNulls:[]}},taken_down_threads:{autoIncrement:!1,defaults:{},id:212,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},third_party_id_store:{autoIncrement:!1,defaults:{},id:242,indexes:{},primaryKey:{fields:["platform"],ignoreNulls:[]}},thread_bans:{autoIncrement:!1,defaults:{},id:297,indexes:{},primaryKey:{fields:["threadKey","contactId"],ignoreNulls:[]}},thread_creation_status:{autoIncrement:!1,defaults:{},id:278,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},thread_label_mappings:{autoIncrement:!1,defaults:{sortKey:a.cast([0,0])},id:237,indexes:{},primaryKey:{fields:["threadKey","labelId"],ignoreNulls:[]}},thread_labels:{autoIncrement:!1,defaults:{},id:215,indexes:{},primaryKey:{fields:["labelId"],ignoreNulls:[]}},thread_limits:{autoIncrement:!1,defaults:{},id:287,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},thread_nullstate:{autoIncrement:!1,defaults:{ctaType:a.cast([0,0]),privacyTextCtaType:a.cast([0,0])},id:28,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},thread_nullstate_ctas:{autoIncrement:!1,defaults:{},id:29,indexes:{threadKeyCtaId:{fields:["threadKey","ctaId"],ignoreNulls:[]}},primaryKey:{fields:["ctaId"],ignoreNulls:[]}},thread_point_query_ttrc:{autoIncrement:!1,defaults:{},id:286,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},thread_proactive_warning_settings:{autoIncrement:!1,defaults:{},id:183,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},thread_seen_heads_queries:{autoIncrement:!1,defaults:{},id:325,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},thread_themes:{autoIncrement:!1,defaults:{backgroundUrl:"",iconUrl:"",iconUrlFallback:"",isDeprecated:!1},id:116,indexes:{},primaryKey:{fields:["fbid"],ignoreNulls:[]}},threads:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),capabilities:a.cast([0,0]),capabilities2:a.cast([0,0]),capabilities3:a.cast([0,0]),capabilities4:a.cast([0,0]),disableComposerInput:!1,hasPersistentMenu:!1,isAdminSnippet:!1,isCustomThreadPicture:!1,isDisappearingMode:!1,isHidden:!1,isReadReceiptsDisabled:!1,lastActivityTimestampMs:a.cast([0,0]),lastReadWatermarkTimestampMs:a.cast([0,0]),muteCallsExpireTimeMs:a.cast([0,0]),muteExpireTimeMs:a.cast([0,0]),muteMentionExpireTimeMs:a.cast([0,0]),ongoingCallState:a.cast([0,0]),readReceiptsDisabledV2:a.cast([0,0]),removeWatermarkTimestampMs:a.cast([0,0]),snippetHasEmoji:!1,threadInvitesEnabled:a.cast([0,0]),threadInvitesEnabledV2:a.cast([0,0]),unreadDisappearingMessageCount:a.cast([0,0]),unsendLimitMs:a.cast([0,0])},id:9,indexes:{clientThreadKey:{fields:["clientThreadKey","threadKey"],ignoreNulls:["clientThreadKey"]},lastActivityTimestampMs:{fields:["lastActivityTimestampMs","threadKey"],ignoreNulls:[]},parentThreadKeyLastActivityTimestampMs:{fields:["parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},secondaryParentThreadKeyLastActivityTimestampMs:{fields:["secondaryParentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:["secondaryParentThreadKey"]},syncGroupParentThreadKeyLastActivityTimestampMs:{fields:["syncGroup","parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},threadTypeLastActivityTimestampMs:{fields:["threadType","lastActivityTimestampMs","threadKey"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},threads_optimistic_context:{autoIncrement:!1,defaults:{},id:32,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},threads_optimistic_metadata:{autoIncrement:!1,defaults:{},id:312,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},threads_ranges_v2__generated:{autoIncrement:!1,defaults:{hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1,maxLastActivityTimestampMs:a.cast([0,0]),maxThreadKey:a.cast([0,0]),minLastActivityTimestampMs:a.cast([0,0]),minThreadKey:a.cast([0,0])},id:10,indexes:{},primaryKey:{fields:["parentThreadKey","minThreadKey","minLastActivityTimestampMs"],ignoreNulls:[]}},transaction_history:{autoIncrement:!1,defaults:{timestampMs:a.cast([0,0])},id:102,indexes:{},primaryKey:{fields:["transactionId"],ignoreNulls:[]}},typing_indicator:{autoIncrement:!1,defaults:{},id:52,indexes:{},primaryKey:{fields:["threadKey","senderId"],ignoreNulls:[]}},universal_search_recent_searches:{autoIncrement:!1,defaults:{lastAccessedTimestampMs:a.cast([0,0])},id:68,indexes:{},primaryKey:{fields:["resultId"],ignoreNulls:[]}},user_visible_errors:{autoIncrement:!0,defaults:{},id:6,indexes:{},primaryKey:{fields:["errorId"],ignoreNulls:[]}},user_visible_network_connectivity_error:{autoIncrement:!0,defaults:{},id:115,indexes:{},primaryKey:{fields:["statusId"],ignoreNulls:[]}},value_model_features:{autoIncrement:!1,defaults:{},id:137,indexes:{},primaryKey:{fields:["feature"],ignoreNulls:[]}},value_model_output:{autoIncrement:!1,defaults:{},id:138,indexes:{},primaryKey:{fields:["product","contactId"],ignoreNulls:[]}},value_model_rules:{autoIncrement:!1,defaults:{},id:136,indexes:{},primaryKey:{fields:["product","ruleIndex"],ignoreNulls:[]}},video_chat_links_attempted_joiners:{autoIncrement:!1,defaults:{},id:79,indexes:{},primaryKey:{fields:["userId","url"],ignoreNulls:[]}},video_chat_links_joining:{autoIncrement:!1,defaults:{canAnonymousUsersJoin:!1},id:78,indexes:{optimistic:{fields:["optimisticClientToken"],ignoreNulls:[]}},primaryKey:{fields:["url","optimisticClientToken"],ignoreNulls:[]}},work_contact_info:{autoIncrement:!1,defaults:{},id:210,indexes:{},primaryKey:{fields:["id"],ignoreNulls:[]}},work_genai:{autoIncrement:!1,defaults:{},id:293,indexes:{},primaryKey:{fields:["threadKey","messageId"],ignoreNulls:[]}},workroom_creation_requests:{autoIncrement:!1,defaults:{},id:252,indexes:{},primaryKey:{fields:["creationId"],ignoreNulls:[]}},workroom_invites:{autoIncrement:!1,defaults:{},id:257,indexes:{},primaryKey:{fields:["inviteId"],ignoreNulls:[]}},workrooms_co_presence_states:{autoIncrement:!1,defaults:{},id:246,indexes:{userCoPresence:{fields:["userId","coPresenceObjectId"],ignoreNulls:[]}},primaryKey:{fields:["userId"],ignoreNulls:[]}}});var e=Object.freeze(babelHelpers.extends({},b,{e2ee_composer_draft_link_preview:{autoIncrement:!1,defaults:{},id:329,indexes:{},primaryKey:{fields:["draftId"],ignoreNulls:[]}}})),f=Object.freeze(babelHelpers.extends({},e,{occamadillo_most_recent_message_per_thread:{autoIncrement:!1,defaults:{},id:292,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),g=Object.freeze(babelHelpers.extends({},f,{occamadillo_most_recent_message_per_thread:{autoIncrement:!1,defaults:{},id:292,indexes:{fetchTimestamp:{fields:["fetchTimestampMs"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),h=Object.freeze(babelHelpers.extends({},g,{messages_optimistic_context:{autoIncrement:!1,defaults:{},id:31,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}}})),i=Object.freeze(babelHelpers.extends({},h,{auto_restore_opt_out:{autoIncrement:!1,defaults:{},id:330,indexes:{},primaryKey:{fields:["optOutKey"],ignoreNulls:[]}}})),j=Object.freeze(babelHelpers.extends({},i,{messages_optimistic_context:{autoIncrement:!1,defaults:{transportKey:"FBBroker"},id:31,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}}})),k=Object.freeze(babelHelpers.extends({},j,{messenger_fts_threads:{autoIncrement:!1,defaults:{nextMessageTimestamp:a.cast([-1,4294967295]),status:a.cast([0,0])},id:331,indexes:{},primaryKey:{fields:["threadId"],ignoreNulls:[]}},messenger_fts_threads_queries:{autoIncrement:!1,defaults:{sessionId:""},id:332,indexes:{},primaryKey:{fields:["queryId"],ignoreNulls:[]}}})),l=Object.freeze(babelHelpers.extends({},k,{messenger_fts_threads:{autoIncrement:!1,defaults:{nextMessageTimestamp:a.cast([-1,4294967295]),status:a.cast([0,0]),threadType:a.cast([0,0])},id:331,indexes:{},primaryKey:{fields:["threadId"],ignoreNulls:[]}}})),m=Object.freeze(babelHelpers.extends({},l,{filtered_threads_ranges_v3__generated:{autoIncrement:!1,defaults:{folderName:"inbox",hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1,maxLastActivityTimestampMs:a.cast([0,0]),maxThreadKey:a.cast([0,0]),minLastActivityTimestampMs:a.cast([0,0]),minThreadKey:a.cast([0,0]),secondaryThreadRangeFilter:a.cast([0,0]),syncGroup:a.cast([0,1]),threadRangeFilterValue:""},id:247,indexes:{},primaryKey:{fields:["parentThreadKey","minThreadKey","minLastActivityTimestampMs","threadRangeFilter","folderName","secondaryThreadRangeFilter","threadRangeFilterValue"],ignoreNulls:[]}}})),n=Object.freeze(babelHelpers.extends({},m,{messages_optimistic_context:{autoIncrement:!1,defaults:{transportKey:"FBBroker"},id:31,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}}})),o=Object.freeze(babelHelpers.extends({},n,{attachments:{autoIncrement:!1,defaults:{attachmentIndex:a.cast([0,0]),attachmentType:a.cast([0,0]),authorityLevel:a.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}}})),p=Object.freeze(babelHelpers.extends({},o,{media_receiver_fetch_transport_mappings:{autoIncrement:!1,defaults:{},id:333,indexes:{},primaryKey:{fields:["receiverFetchId"],ignoreNulls:[]}}})),q=Object.freeze(babelHelpers.extends({},p,{threads:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),capabilities:a.cast([0,0]),capabilities2:a.cast([0,0]),capabilities3:a.cast([0,0]),capabilities4:a.cast([0,0]),disableComposerInput:!1,hasPersistentMenu:!1,isAdminSnippet:!1,isCustomThreadPicture:!1,isDisappearingMode:!1,isHidden:!1,isReadReceiptsDisabled:!1,lastActivityTimestampMs:a.cast([0,0]),lastReadWatermarkTimestampMs:a.cast([0,0]),muteCallsExpireTimeMs:a.cast([0,0]),muteExpireTimeMs:a.cast([0,0]),muteMentionExpireTimeMs:a.cast([0,0]),ongoingCallState:a.cast([0,0]),readReceiptsDisabledV2:a.cast([0,0]),removeWatermarkTimestampMs:a.cast([0,0]),snippetHasEmoji:!1,threadInvitesEnabled:a.cast([0,0]),threadInvitesEnabledV2:a.cast([0,0]),unreadDisappearingMessageCount:a.cast([0,0]),unsendLimitMs:a.cast([0,0])},id:9,indexes:{clientThreadKey:{fields:["clientThreadKey","threadKey"],ignoreNulls:["clientThreadKey"]},lastActivityTimestampMs:{fields:["lastActivityTimestampMs","threadKey"],ignoreNulls:[]},parentThreadKeyLastActivityTimestampMs:{fields:["parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},secondaryParentThreadKeyLastActivityTimestampMs:{fields:["secondaryParentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:["secondaryParentThreadKey"]},syncGroupParentThreadKeyLastActivityTimestampMs:{fields:["syncGroup","parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},threadTypeLastActivityTimestampMs:{fields:["threadType","lastActivityTimestampMs","threadKey"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),r=Object.freeze(babelHelpers.extends({},q,{attachments:{autoIncrement:!1,defaults:{attachmentIndex:a.cast([0,0]),attachmentType:a.cast([0,0]),authorityLevel:a.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}}})),s=Object.freeze(babelHelpers.extends({},r,{attachment_items:{autoIncrement:!1,defaults:{attachmentIndex:a.cast([0,0])},id:18,indexes:{fk_attachments:{fields:["threadKey","messageId","attachmentFbid","attachmentIndex"],ignoreNulls:[]}},primaryKey:{fields:["attachmentFbid","attachmentIndex"],ignoreNulls:[]}},attachments:{autoIncrement:!1,defaults:{attachmentIndex:a.cast([0,0]),attachmentType:a.cast([0,0]),authorityLevel:a.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}}})),t=Object.freeze(babelHelpers.extends({},s,{client_thread_proactive_warning_settings:{autoIncrement:!1,defaults:{},id:241,indexes:{},primaryKey:{fields:["threadPk"],ignoreNulls:[]}}})),u=Object.freeze(babelHelpers.extends({},t,{pake_messages:{autoIncrement:!1,defaults:{},id:258,indexes:{},primaryKey:{fields:["sessionId"],ignoreNulls:[]}}})),v=Object.freeze(babelHelpers.extends({},u,{threads:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),capabilities:a.cast([0,0]),capabilities2:a.cast([0,0]),capabilities3:a.cast([0,0]),capabilities4:a.cast([0,0]),disableComposerInput:!1,hasPersistentMenu:!1,isAdminSnippet:!1,isCustomThreadPicture:!1,isDisappearingMode:!1,isHidden:!1,isReadReceiptsDisabled:!1,lastActivityTimestampMs:a.cast([0,0]),lastReadWatermarkTimestampMs:a.cast([0,0]),muteCallsExpireTimeMs:a.cast([0,0]),muteExpireTimeMs:a.cast([0,0]),muteMentionExpireTimeMs:a.cast([0,0]),ongoingCallState:a.cast([0,0]),readReceiptsDisabledV2:a.cast([0,0]),removeWatermarkTimestampMs:a.cast([0,0]),snippetHasEmoji:!1,threadInvitesEnabled:a.cast([0,0]),threadInvitesEnabledV2:a.cast([0,0]),unreadDisappearingMessageCount:a.cast([0,0]),unsendLimitMs:a.cast([0,0])},id:9,indexes:{clientThreadKey:{fields:["clientThreadKey","threadKey"],ignoreNulls:["clientThreadKey"]},lastActivityTimestampMs:{fields:["lastActivityTimestampMs","threadKey"],ignoreNulls:[]},parentThreadKeyLastActivityTimestampMs:{fields:["parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},secondaryParentThreadKeyLastActivityTimestampMs:{fields:["secondaryParentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:["secondaryParentThreadKey"]},syncGroupParentThreadKeyLastActivityTimestampMs:{fields:["syncGroup","parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},threadTypeLastActivityTimestampMs:{fields:["threadType","lastActivityTimestampMs","threadKey"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),w=Object.freeze(babelHelpers.extends({},v,{contacts:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),blockedByViewerStatus:a.cast([0,0]),canViewerMessage:!0,capabilities2:a.cast([0,0]),contactReachabilityStatusType:a.cast([0,0]),contactType:a.cast([0,0]),contactTypeExact:a.cast([0,0]),gender:a.cast([0,0]),isEmployee:!1,isMemorialized:!1,isMessengerUser:!1,optimisticBlockedByViewerStatus:a.cast([0,0]),optimisticBlockedByViewerStatusTimestampMs:a.cast([0,0]),rank:0,restrictionType:a.cast([0,0]),waConnectStatus:a.cast([0,0])},id:7,indexes:{blockedByViewerStatusId:{fields:["blockedByViewerStatus","id"],ignoreNulls:[]}},primaryKey:{fields:["id"],ignoreNulls:[]}}})),x=Object.freeze(babelHelpers.extends({},w,{encrypted_backups_otc_devices:{autoIncrement:!1,defaults:{},id:261,indexes:{},primaryKey:{fields:["deviceId"],ignoreNulls:[]}}})),y=Object.freeze(babelHelpers.extends({},x,{business_thread_info:{autoIncrement:!1,defaults:{},id:260,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),z=Object.freeze(babelHelpers.extends({},y,{messages:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),displayedContentTypes:a.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageRenderingType:a.cast([0,0]),primarySortKey:a.cast([0,0]),quickReplyType:a.cast([0,0]),replyAttachmentType:a.cast([0,0]),replyStatus:a.cast([0,0]),secondarySortKey:a.cast([0,0]),sendStatus:a.cast([0,0]),sendStatusV2:a.cast([0,0]),textHasLinks:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:a.cast([0,0]),viewFlags:a.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}}})),A=Object.freeze(babelHelpers.extends({},z,{account_synced_fields:{autoIncrement:!1,defaults:{},id:334,indexes:{},primaryKey:{fields:["accountId","syncedField"],ignoreNulls:[]}}})),B=Object.freeze(babelHelpers.extends({},A,{attachments:{autoIncrement:!1,defaults:{attachmentIndex:a.cast([0,0]),attachmentType:a.cast([0,0]),authorityLevel:a.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}}})),C=Object.freeze(babelHelpers.extends({},B,{encrypted_backup_user_preferences:{autoIncrement:!0,defaults:{},id:335,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}}})),D=Object.freeze(babelHelpers.extends({},C,{support_translation_feedback:{autoIncrement:!1,defaults:{},id:336,indexes:{},primaryKey:{fields:["messageId","targetLocale"],ignoreNulls:[]}}})),E=Object.freeze(babelHelpers.extends({},D,{support_translations:{autoIncrement:!1,defaults:{},id:300,indexes:{},primaryKey:{fields:["messageId","targetLocale"],ignoreNulls:[]}}})),F=Object.freeze(babelHelpers.extends({},E,{ig_thread_info:{autoIncrement:!1,defaults:{igDmSettingsMode:a.cast([0,0]),igDmSettingsTtlSec:a.cast([-1,4294967295])},id:194,indexes:{igThreadID:{fields:["igThreadId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),G=Object.freeze(babelHelpers.extends({},F,{e2ee_composer_draft_link_preview:{autoIncrement:!1,defaults:{},id:329,indexes:{},primaryKey:{fields:["draftId"],ignoreNulls:[]}}})),H=Object.freeze(babelHelpers.extends({},G,{attachments:{autoIncrement:!1,defaults:{attachmentIndex:a.cast([0,0]),attachmentType:a.cast([0,0]),authorityLevel:a.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}}})),I=Object.freeze(babelHelpers.extends({},H,{threads:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),capabilities:a.cast([0,0]),capabilities2:a.cast([0,0]),capabilities3:a.cast([0,0]),capabilities4:a.cast([0,0]),disableComposerInput:!1,hasPersistentMenu:!1,isAdminSnippet:!1,isCustomThreadPicture:!1,isDisappearingMode:!1,isHidden:!1,isReadReceiptsDisabled:!1,lastActivityTimestampMs:a.cast([0,0]),lastReadWatermarkTimestampMs:a.cast([0,0]),muteCallsExpireTimeMs:a.cast([0,0]),muteExpireTimeMs:a.cast([0,0]),muteMentionExpireTimeMs:a.cast([0,0]),ongoingCallState:a.cast([0,0]),readReceiptsDisabledV2:a.cast([0,0]),removeWatermarkTimestampMs:a.cast([0,0]),snippetHasEmoji:!1,threadInvitesEnabled:a.cast([0,0]),threadInvitesEnabledV2:a.cast([0,0]),typingIndicatorDisabled:a.cast([0,0]),unreadDisappearingMessageCount:a.cast([0,0]),unsendLimitMs:a.cast([0,0])},id:9,indexes:{clientThreadKey:{fields:["clientThreadKey","threadKey"],ignoreNulls:["clientThreadKey"]},lastActivityTimestampMs:{fields:["lastActivityTimestampMs","threadKey"],ignoreNulls:[]},parentThreadKeyLastActivityTimestampMs:{fields:["parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},secondaryParentThreadKeyLastActivityTimestampMs:{fields:["secondaryParentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:["secondaryParentThreadKey"]},syncGroupParentThreadKeyLastActivityTimestampMs:{fields:["syncGroup","parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},threadTypeLastActivityTimestampMs:{fields:["threadType","lastActivityTimestampMs","threadKey"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),J=Object.freeze(babelHelpers.extends({},I,{messages:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),displayedContentTypes:a.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageRenderingType:a.cast([0,0]),primarySortKey:a.cast([0,0]),quickReplyType:a.cast([0,0]),replyAttachmentType:a.cast([0,0]),replyStatus:a.cast([0,0]),secondarySortKey:a.cast([0,0]),sendStatus:a.cast([0,0]),sendStatusV2:a.cast([0,0]),textHasLinks:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:a.cast([0,0]),viewFlags:a.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderAuthority:{fields:["threadKey","authorityLevel","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}}})),K=Object.freeze(babelHelpers.extends({},J,{admin_message_ctas:{autoIncrement:!1,defaults:{showAdChoiceIcon:!1,timestampMs:a.cast([0,0])},id:27,indexes:{ctaId:{fields:["ctaId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","ctaId"],ignoreNulls:[]}}})),L=Object.freeze(babelHelpers.extends({},K,{messages:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),displayedContentTypes:a.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,isVideoQuickSend:!1,messageRenderingType:a.cast([0,0]),primarySortKey:a.cast([0,0]),quickReplyType:a.cast([0,0]),replyAttachmentType:a.cast([0,0]),replyStatus:a.cast([0,0]),secondarySortKey:a.cast([0,0]),sendStatus:a.cast([0,0]),sendStatusV2:a.cast([0,0]),textHasLinks:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:a.cast([0,0]),viewFlags:a.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderAuthority:{fields:["threadKey","authorityLevel","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}}})),M=Object.freeze(babelHelpers.extends({},L,{messages:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),displayedContentTypes:a.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageRenderingType:a.cast([0,0]),primarySortKey:a.cast([0,0]),quickReplyType:a.cast([0,0]),replyAttachmentType:a.cast([0,0]),replyStatus:a.cast([0,0]),secondarySortKey:a.cast([0,0]),sendStatus:a.cast([0,0]),sendStatusV2:a.cast([0,0]),textHasLinks:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:a.cast([0,0]),viewFlags:a.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderAuthority:{fields:["threadKey","authorityLevel","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}}})),N=Object.freeze(babelHelpers.extends({},M,{threads:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),capabilities:a.cast([0,0]),capabilities2:a.cast([0,0]),capabilities3:a.cast([0,0]),capabilities4:a.cast([0,0]),capabilities5:a.cast([0,0]),disableComposerInput:!1,hasPersistentMenu:!1,isAdminSnippet:!1,isCustomThreadPicture:!1,isDisappearingMode:!1,isHidden:!1,isReadReceiptsDisabled:!1,lastActivityTimestampMs:a.cast([0,0]),lastReadWatermarkTimestampMs:a.cast([0,0]),muteCallsExpireTimeMs:a.cast([0,0]),muteExpireTimeMs:a.cast([0,0]),muteMentionExpireTimeMs:a.cast([0,0]),ongoingCallState:a.cast([0,0]),readReceiptsDisabledV2:a.cast([0,0]),removeWatermarkTimestampMs:a.cast([0,0]),snippetHasEmoji:!1,threadInvitesEnabled:a.cast([0,0]),threadInvitesEnabledV2:a.cast([0,0]),typingIndicatorDisabled:a.cast([0,0]),unreadDisappearingMessageCount:a.cast([0,0]),unsendLimitMs:a.cast([0,0])},id:9,indexes:{clientThreadKey:{fields:["clientThreadKey","threadKey"],ignoreNulls:["clientThreadKey"]},lastActivityTimestampMs:{fields:["lastActivityTimestampMs","threadKey"],ignoreNulls:[]},parentThreadKeyLastActivityTimestampMs:{fields:["parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},secondaryParentThreadKeyLastActivityTimestampMs:{fields:["secondaryParentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:["secondaryParentThreadKey"]},syncGroupParentThreadKeyLastActivityTimestampMs:{fields:["syncGroup","parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},threadTypeLastActivityTimestampMs:{fields:["threadType","lastActivityTimestampMs","threadKey"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),O=Object.freeze(babelHelpers.extends({},N,{attachments:{autoIncrement:!1,defaults:{attachmentIndex:a.cast([0,0]),attachmentType:a.cast([0,0]),authorityLevel:a.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}}})),P=Object.freeze(babelHelpers.extends({},O,{messaging_privacy_settings:{autoIncrement:!1,defaults:{e2eeHdMediaEnabled:!1,e2eeXmaPreviewsDisabled:!1,readReceiptsDisabled:a.cast([0,0])},id:288,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}}})),Q=Object.freeze(babelHelpers.extends({},P,{media_staging:{autoIncrement:!1,defaults:{progress:0},id:161,indexes:{},primaryKey:{fields:["offlineAttachmentId"],ignoreNulls:[]}}})),R=Object.freeze(babelHelpers.extends({},Q,{messages:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),displayedContentTypes:a.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageRenderingType:a.cast([0,0]),primarySortKey:a.cast([0,0]),quickReplyType:a.cast([0,0]),replyAttachmentType:a.cast([0,0]),replyStatus:a.cast([0,0]),secondarySortKey:a.cast([0,0]),sendStatus:a.cast([0,0]),sendStatusV2:a.cast([0,0]),textHasLinks:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:a.cast([0,0]),viewFlags:a.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderAuthority:{fields:["threadKey","authorityLevel","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderOfflineThreadingId:{fields:["threadKey","primarySortKey","offlineThreadingId","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}}})),S=Object.freeze(babelHelpers.extends({},R,{messages:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),displayedContentTypes:a.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageRenderingType:a.cast([0,0]),primarySortKey:a.cast([0,0]),quickReplyType:a.cast([0,0]),replyAttachmentType:a.cast([0,0]),replyStatus:a.cast([0,0]),secondarySortKey:a.cast([0,0]),sendStatus:a.cast([0,0]),sendStatusV2:a.cast([0,0]),textHasLinks:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:a.cast([0,0]),viewFlags:a.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderAuthority:{fields:["threadKey","authorityLevel","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderOfflineThreadingId:{fields:["threadKey","primarySortKey","offlineThreadingId","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}}})),T=Object.freeze(babelHelpers.extends({},S,{community_folders:{autoIncrement:!1,defaults:{capabilities:a.cast([0,0]),capabilities2:a.cast([0,0]),capabilities3:a.cast([0,0]),inviteStatus:a.cast([0,0]),notificationMutedUntil:a.cast([0,0])},id:162,indexes:{byFbGroupId:{fields:["fbGroupId","folderId"],ignoreNulls:[]}},primaryKey:{fields:["folderId"],ignoreNulls:[]}}})),U=Object.freeze(babelHelpers.extends({},T,{messages:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),displayedContentTypes:a.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageRenderingType:a.cast([0,0]),primarySortKey:a.cast([0,0]),quickReplyType:a.cast([0,0]),replyAttachmentType:a.cast([0,0]),replyStatus:a.cast([0,0]),secondarySortKey:a.cast([0,0]),sendStatus:a.cast([0,0]),sendStatusV2:a.cast([0,0]),textHasLinks:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:a.cast([0,0]),viewFlags:a.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderAuthority:{fields:["threadKey","authorityLevel","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderOfflineThreadingId:{fields:["threadKey","primarySortKey","offlineThreadingId","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]},timestampMs:{fields:["timestampMs","messageId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}}})),V=Object.freeze(babelHelpers.extends({},U,{ctx_ad_context:{autoIncrement:!1,defaults:{},id:337,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),W=Object.freeze(babelHelpers.extends({},V,{server_search_results:{autoIncrement:!1,defaults:{},id:65,indexes:{},primaryKey:{fields:["query","resultId","globalIndex"],ignoreNulls:[]}}})),X=Object.freeze(babelHelpers.extends({},W,{horizon_groups_key_mapping:{autoIncrement:!1,defaults:{},id:338,indexes:{},primaryKey:{fields:["threadKey","groupKey"],ignoreNulls:[]}}})),Y=Object.freeze(babelHelpers.extends({},X,{ctx_ad_context:{autoIncrement:!1,defaults:{},id:337,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),Z=Object.freeze(babelHelpers.extends({},Y,{rtc_ongoing_calls_on_threads_v2:{autoIncrement:!1,defaults:{},id:23,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},threads:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),capabilities:a.cast([0,0]),capabilities2:a.cast([0,0]),capabilities3:a.cast([0,0]),capabilities4:a.cast([0,0]),capabilities5:a.cast([0,0]),disableComposerInput:!1,hasPersistentMenu:!1,isAdminSnippet:!1,isCustomThreadPicture:!1,isDisappearingMode:!1,isHidden:!1,isReadReceiptsDisabled:!1,lastActivityTimestampMs:a.cast([0,0]),lastReadWatermarkTimestampMs:a.cast([0,0]),muteCallsExpireTimeMs:a.cast([0,0]),muteExpireTimeMs:a.cast([0,0]),muteMentionExpireTimeMs:a.cast([0,0]),ongoingCallState:a.cast([0,0]),readReceiptsDisabledV2:a.cast([0,0]),removeWatermarkTimestampMs:a.cast([0,0]),snippetHasEmoji:!1,threadInvitesEnabled:a.cast([0,0]),threadInvitesEnabledV2:a.cast([0,0]),typingIndicatorDisabled:a.cast([0,0]),unreadDisappearingMessageCount:a.cast([0,0]),unsendLimitMs:a.cast([0,0])},id:9,indexes:{clientThreadKey:{fields:["clientThreadKey","threadKey"],ignoreNulls:["clientThreadKey"]},lastActivityTimestampMs:{fields:["lastActivityTimestampMs","threadKey"],ignoreNulls:[]},parentThreadKeyLastActivityTimestampMs:{fields:["parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},secondaryParentThreadKeyLastActivityTimestampMs:{fields:["secondaryParentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:["secondaryParentThreadKey"]},syncGroupParentThreadKeyLastActivityTimestampMs:{fields:["syncGroup","parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},threadTypeLastActivityTimestampMs:{fields:["threadType","lastActivityTimestampMs","threadKey"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),$=Object.freeze(babelHelpers.extends({},Z,{horizon_party_members:{autoIncrement:!1,defaults:{},id:339,indexes:{},primaryKey:{fields:["partyKey","userId"],ignoreNulls:[]}}})),da=Object.freeze(babelHelpers.extends({},$,{thread_theme_search_queries:{autoIncrement:!1,defaults:{},id:340,indexes:{},primaryKey:{fields:["query"],ignoreNulls:[]}},thread_theme_search_results:{autoIncrement:!1,defaults:{},id:341,indexes:{},primaryKey:{fields:["resultIndex","query"],ignoreNulls:[]}}})),ea=Object.freeze(babelHelpers.extends({},da,{client_media_status:{autoIncrement:!1,defaults:{},id:342,indexes:{},primaryKey:{fields:["id"],ignoreNulls:[]}}})),fa=Object.freeze(babelHelpers.extends({},ea,{secure_encrypted_backups_epochs:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0])},id:169,indexes:{fk_secure_encrypted_backups_client_state:{fields:["backupId","epochId"],ignoreNulls:[]}},primaryKey:{fields:["epochId"],ignoreNulls:[]}}})),ga=Object.freeze(babelHelpers.extends({},fa,{contacts:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),blockedByViewerStatus:a.cast([0,0]),canViewerMessage:!0,capabilities2:a.cast([0,0]),contactReachabilityStatusType:a.cast([0,0]),contactType:a.cast([0,0]),contactTypeExact:a.cast([0,0]),friendshipStatus:a.cast([0,5]),gender:a.cast([0,0]),isEmployee:!1,isMemorialized:!1,isMessengerUser:!1,optimisticBlockedByViewerStatus:a.cast([0,0]),optimisticBlockedByViewerStatusTimestampMs:a.cast([0,0]),rank:0,restrictionType:a.cast([0,0]),waConnectStatus:a.cast([0,0])},id:7,indexes:{blockedByViewerStatusId:{fields:["blockedByViewerStatus","id"],ignoreNulls:[]}},primaryKey:{fields:["id"],ignoreNulls:[]}}})),ha=Object.freeze(babelHelpers.extends({},ga,{attachments:{autoIncrement:!1,defaults:{attachmentIndex:a.cast([0,0]),attachmentType:a.cast([0,0]),authorityLevel:a.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}}}));c=Object.freeze({afterUpgrade:d("LSDbV1.upgrade").afterUpgrade,revision:54,tables:ha,upgrade:{1:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(e),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},2:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(f),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},3:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(g),c=b.defaults;b=b.tableData;await d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1)},4:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(h),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},5:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(i),c=b.defaults;b=b.tableData;await d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1);await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},6:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(j),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},7:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(k),c=b.defaults;b=b.tableData;await d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1);await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},8:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(l),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},9:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(m),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},10:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(n),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},11:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(o),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},12:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(p),c=b.defaults;b=b.tableData;await d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1);await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},13:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(q),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},14:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(r),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},15:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(s),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},16:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(t),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},17:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(u),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},18:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(v),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},19:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(w),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},20:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(x),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},21:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(y),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},22:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(z),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},23:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(A),c=b.defaults;b=b.tableData;await d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1);await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},24:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(B),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},25:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(C),c=b.defaults;b=b.tableData;await d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1);await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},26:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(D),c=b.defaults;b=b.tableData;await d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1);await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},27:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(E),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},28:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(F),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},29:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(G),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},30:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(H),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},31:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(I),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},32:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(J),c=b.defaults;b=b.tableData;await d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1)},33:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(K),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},34:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(L),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},35:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(M),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},36:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(N),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},37:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(O),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},38:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(P),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},39:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(Q),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},40:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(R),c=b.defaults;b=b.tableData;await d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1)},41:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(S),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},42:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(T),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},43:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(U),c=b.defaults;b=b.tableData;await d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1)},44:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(V),c=b.defaults;b=b.tableData;await d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1);await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},45:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(W),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},46:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(X),c=b.defaults;b=b.tableData;await d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1);await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},47:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(Y),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},48:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(Z),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},49:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData($),c=b.defaults;b=b.tableData;await d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1);await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},50:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(da),c=b.defaults;b=b.tableData;await d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1);await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},51:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(ea),c=b.defaults;b=b.tableData;await d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1);await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},52:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(fa),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},53:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(ga),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)},54:async function(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(ha),c=b.defaults;b=b.tableData;await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)}}});ca.LSDbV1=c}),98);
__d("ReStoreDbVersion",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a}function b(a){return a}function d(a,b){if(b in a)return a[b];throw c("FBLogger")("restore_db_migrations").mustfixThrow("Cannot find version: %s",b)}g.cast=a;g.uncast=b;g.castVersion=d}),98);
__d("LSDb",["LSDbV1","ReStoreDbVersion","justknobx"],(function(a,b,c,d,e,f,g){"use strict";a=Object.freeze({V1:d("ReStoreDbVersion").cast("V1")});e={targetVersion:d("ReStoreDbVersion").castVersion(a,"V"+((b=c("justknobx")._("2392"))!=null?b:0)),versions:{V1:d("LSDbV1").LSDbV1},legacyVersions:{},versionOrder:["V1"]};g.LSDbVersion=a;g.Versions=e}),98);
__d("LSDbForeignKeys",[],(function(a,b,c,d,e,f){"use strict";a={attachments:[{indexName:"fk_attachments",tableName:"attachment_items"},{indexName:"fk_attachments",tableName:"attachment_ctas"}],community_chat_poll_options:[{tableName:"community_chat_poll_votes"}],community_chat_polls:[{tableName:"community_chat_poll_options"},{tableName:"community_chat_poll_votes"}],data_trace_meta:[{indexName:"traceIdAddonId",tableName:"data_trace_addon"}],messages:[{indexName:"fk_messages",tableName:"attachments"},{indexName:"fk_messages",tableName:"reactions"}],pending_tasks:[{tableName:"encrypted_backup_restore_task_payload_context"},{indexName:"fk_pending_tasks",tableName:"pending_backups_context_v2"},{indexName:"fk_pending_tasks",tableName:"secure_recovery_code_data"},{indexName:"fk_pending_tasks",tableName:"secure_encrypted_backups_message_thread_id_context"},{tableName:"messages_optimistic_context"}],rooms:[{tableName:"room_participants"}],secure_encrypted_backups_client_state:[{indexName:"fk_secure_encrypted_backups_client_state",tableName:"secure_encrypted_backups_epochs"}],secure_encrypted_backups_devices:[{indexName:"fk_secure_encrypted_backups_device_supported_versions_device_id",tableName:"secure_encrypted_backups_device_supported_versions"}],threads:[{indexName:"threadKeyCtaId",tableName:"thread_nullstate_ctas"},{tableName:"messages"},{tableName:"attachments"},{tableName:"thread_nullstate"},{tableName:"messages_ranges_v2__generated"},{tableName:"attachments_ranges_v2__generated"},{tableName:"participants"},{indexName:"fk_threads",tableName:"mi_act_mapping_table"},{tableName:"group_invites"}]};b=a;f["default"]=b}),66);
__d("MAWDbVersionList",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a}b={V21:21,V22:22,V23:23,V24:24,V25:25,V26:26,V27:27,V28:28,V29:29,V30:30,V31:31,V32:32,V33:33,V34:34,V35:35,V36:36,V37:37,V38:38,V39:39,V40:40,V41:41,V42:42,V43:43,V44:44,V45:45,V46:46,V47:47,V48:48,V49:49,V50:50,V51:51,V52:52,V53:53,V54:54,V55:55,V56:56,V57:57,V58:58,V59:59,V60:60,V61:61,V62:62,V63:63,V64:64,V65:65,V66:66,V67:67,V68:68,V69:69,V70:70,V71:71,V72:72,V73:73,V74:74,V75:75,V76:76,V77:77,V78:78,V79:79,V80:80,V81:81,V82:82,V83:83,V84:84,V85:85,V86:86,V87:87,V88:88,V89:89,V90:90,V91:91,V92:92,V93:93,V94:94,V95:95,V96:96,V97:97,V98:98,V99:99,V100:100,V101:101,V102:102,V103:103,V104:104,V105:105,V106:106,V107:107,V108:108,V109:109,V110:110,V111:111,V112:112,V113:113,V114:114,V115:115,V116:116,V117:117,V118:118,V119:119,V120:120,V121:121,V122:122,V123:123,V124:124,V125:125};f.toVersion=a;f.VERSION=b}),66);
__d("MAWDbSchema",["MAWDbVersionList"],(function(a,b,c,d,e,f,g){"use strict";a=[{autoIncrement:!0,indexes:{externalId:{columns:["externalId"]}},name:"e2ee_appData",primaryKey:["appDataId"]},{autoIncrement:!1,indexes:{},name:"e2ee_appMeta",primaryKey:["key"]},{autoIncrement:!1,indexes:{},name:"e2ee_tasks",primaryKey:["taskName"]},{autoIncrement:!1,indexes:{},name:"e2ee_personalSenderKeyStatuses",primaryKey:["groupJid"]},{autoIncrement:!0,indexes:{altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},thread:{columns:["thread"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]},{autoIncrement:!0,indexes:{externalId:{columns:["externalId"],unique:!1},msgId:{columns:["msgId"],unique:!1},thread:{columns:["thread"],unique:!1}},name:"e2ee_unrenderedMessages",primaryKey:["rowId"]},{autoIncrement:!0,indexes:{externalIdWithType:{columns:["externalIdWithType"],unique:!1}},name:"e2ee_pendingStanzas",primaryKey:["rowId"]},{autoIncrement:!1,indexes:{threadId:{columns:["threadId"],unique:!1},userJid:{columns:["userJid"],unique:!1}},name:"e2ee_participants",primaryKey:["id"]},{autoIncrement:!1,indexes:{},name:"e2ee_receipts",primaryKey:["msgId"]},{autoIncrement:!0,indexes:{"*msgIds":{columns:["msgIds"],multiEntry_DO_NOT_USE:!0},hashedPlaintextHash:{columns:["hashedPlaintextHash"]}},name:"e2ee_media",primaryKey:["mediaId"]},{autoIncrement:!0,indexes:{externalId:{columns:["externalId"],unique:!1},reactionId:{columns:["reactionId"],unique:!1},reactToExternalId:{columns:["reactToExternalId"],unique:!1},reactToMsgId:{columns:["reactToMsgId"],unique:!1},threadJid:{columns:["threadJid"],unique:!1}},name:"e2ee_reactions",primaryKey:["rowId"]},{autoIncrement:!0,indexes:{hashedPlaintextHash:{columns:["hashedPlaintextHash"]}},name:"e2ee_chunk",primaryKey:["chunkId"]},{autoIncrement:!0,indexes:{jid:{columns:["jid"]},threadOrder:{columns:["threadOrder"],unique:!1}},name:"e2ee_threads",primaryKey:["chatId"]},{autoIncrement:!1,indexes:{},name:"e2ee_existingUsers",primaryKey:["id"]},{autoIncrement:!1,indexes:{},name:"e2ee_pendingReceipts",primaryKey:["id"]},{autoIncrement:!0,indexes:{version:{columns:["version"]}},name:"e2ee_browserEncryptionMeta",primaryKey:["id"]},{autoIncrement:!1,indexes:{},name:"e2ee_ftsBackloggedMessages",primaryKey:["rowId"]},{autoIncrement:!1,indexes:{},name:"e2ee_ftsEncryptionMeta",primaryKey:["key"]},{autoIncrement:!0,indexes:{"*prefixes":{columns:["prefixes"],multiEntry_DO_NOT_USE:!0,unique:!1},chatId:{columns:["chatId"],unique:!1},id:{columns:["id"],unique:!1}},name:"e2ee_ftsIndexV3",primaryKey:["ftsRowId"]},{autoIncrement:!1,indexes:{threadId:{columns:["threadId"],unique:!1}},name:"e2ee_groupInfo",primaryKey:["groupJid"]}];b=[{autoIncrement:!0,indexes:{altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},thread:{columns:["thread"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}];c=[{autoIncrement:!0,indexes:{altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},revokedExternalId:{columns:["revokedExternalId"],unique:!1},thread:{columns:["thread"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}];e=[{autoIncrement:!0,indexes:{},name:"e2ee_isDualSend",primaryKey:["rowId"]}];f=[{autoIncrement:!1,indexes:{},name:"e2ee_historySyncQRCodeSecretKey",primaryKey:["key"]}];var h=[{autoIncrement:!0,indexes:{externalId:{columns:["externalId"],unique:!1},messageDeleteForMeTs:{columns:["messageDeleteForMeTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},thread:{columns:["thread"],unique:!1}},name:"e2ee_unrenderedMessages",primaryKey:["rowId"]}],i=[{autoIncrement:!0,indexes:{altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},revokedExternalId:{columns:["revokedExternalId"],unique:!1},thread:{columns:["thread"],unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]},{autoIncrement:!0,indexes:{externalId:{columns:["externalId"],unique:!1},messageDeleteForMeTs:{columns:["messageDeleteForMeTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},thread:{columns:["thread"],unique:!1},threadJid:{columns:["threadJid"],unique:!1}},name:"e2ee_unrenderedMessages",primaryKey:["rowId"]}],j=[{autoIncrement:!1,indexes:{inviterJid:{columns:["inviterJid"],unique:!1}},name:"e2ee_groupInvites",primaryKey:["invitedParticipantId"]}],k=[{autoIncrement:!0,indexes:{deleteTs:{columns:["deleteTs"],unique:!1},externalIdWithType:{columns:["externalIdWithType"],unique:!1}},name:"e2ee_pendingStanzas",primaryKey:["rowId"]}],l=[{autoIncrement:!0,indexes:{"*msgIds":{columns:["msgIds"],multiEntry_DO_NOT_USE:!0},fbid:{columns:["fbid"]},hashedPlaintextHash:{columns:["hashedPlaintextHash"]},objectId:{columns:["objectId"]}},name:"e2ee_media",primaryKey:["mediaId"]}],m=[{autoIncrement:!0,indexes:{},name:"e2ee_dualSendMedia",primaryKey:["id"]}],n=[{autoIncrement:!0,indexes:{associatedMessageId:{columns:["associatedMessageId"],unique:!1},defaultPreviewMediaId:{columns:["defaultPreviewMediaId"],unique:!1},faviconMediaId:{columns:["faviconMediaId"],unique:!1},headerMediaId:{columns:["headerMediaId"],unique:!1},targetExpiringAtSec:{columns:["targetExpiringAtSec"],unique:!1}},name:"e2ee_xma",primaryKey:["xmaId"]}],o=[{autoIncrement:!1,indexes:{},name:"e2ee_historySyncQRCodeData",primaryKey:["rowId"]}],p=[{autoIncrement:!0,indexes:{associatedMessageId:{columns:["associatedMessageId"],unique:!1},defaultPreviewMediaId:{columns:["defaultPreviewMediaId"],unique:!1},externalId:{columns:["externalId"],unique:!1},faviconMediaId:{columns:["faviconMediaId"],unique:!1},headerMediaId:{columns:["headerMediaId"],unique:!1},targetExpiringAtSec:{columns:["targetExpiringAtSec"],unique:!1}},name:"e2ee_xma",primaryKey:["xmaId"]}],q=[{autoIncrement:!0,indexes:{},name:"e2ee_dyiBatch",primaryKey:["batchId"]}],r=[{autoIncrement:!1,indexes:{correspondingOpenThreadKey:{columns:["correspondingOpenThreadKey"],unique:!1},threadId:{columns:["threadId"],unique:!1}},name:"e2ee_groupInfo",primaryKey:["groupJid"]}],s=[{autoIncrement:!1,indexes:{},name:"e2ee_groupInvites",primaryKey:["invitedParticipantId","inviterJid"],removed:!0}],t=[{autoIncrement:!1,indexes:{inviterJid:{columns:["inviterJid"],unique:!1}},name:"e2ee_groupInvites",primaryKey:["invitedParticipantId","inviterJid"]}],u=[{autoIncrement:!0,indexes:{"[thread+sortOrderMs]":{columns:["thread","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},revokedExternalId:{columns:["revokedExternalId"],unique:!1},thread:{columns:["thread"],unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]},{autoIncrement:!0,indexes:{"[thread+sortOrderMs]":{columns:["thread","sortOrderMs"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteForMeTs:{columns:["messageDeleteForMeTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},thread:{columns:["thread"],unique:!1},threadJid:{columns:["threadJid"],unique:!1}},name:"e2ee_unrenderedMessages",primaryKey:["rowId"]}],v=[{autoIncrement:!1,indexes:{"[modelId+modelType+actionState]":{columns:["modelId","modelType","actionState"],unique:!1},action:{columns:["action"],unique:!1},actionState:{columns:["actionState"],unique:!1},collection:{columns:["collection"],unique:!1},indexMac:{columns:["indexMac"],unique:!1}},name:"e2ee_syncActions",primaryKey:["index"]}],w=[{autoIncrement:!1,indexes:{},name:"e2ee_missingKeys",primaryKey:["keyHex"]}],x=[{autoIncrement:!0,indexes:{action:{columns:["action"],unique:!1},collection:{columns:["collection"],unique:!1},index:{columns:["index"],unique:!1}},name:"e2ee_pendingMutations",primaryKey:["id"]}],y=[{autoIncrement:!0,indexes:{collection:{columns:["collection"]}},name:"e2ee_collectionVersions",primaryKey:["id"]}],z=[{autoIncrement:!0,indexes:{keyEpoch:{columns:["keyEpoch"],unique:!1},keyId:{columns:["keyId"]}},name:"e2ee_syncKeys",primaryKey:["id"]}],A=[],B=[{autoIncrement:!1,indexes:{externalId:{columns:["externalId"],unique:!1},lastRetryTs:{columns:["lastRetryTs"],unique:!1},traceId:{columns:["traceId"],unique:!1}},name:"e2ee_uploadRetryStatus",primaryKey:["externalId","lastRetryTs"]}],C=[{autoIncrement:!0,indexes:{jid:{columns:["jid"],unique:!1},stanzaId:{columns:["stanzaId"],unique:!1},type:{columns:["type"],unique:!1}},name:"e2ee_stanzaQueue",primaryKey:["stanzaQueueId"]}],D=[{autoIncrement:!0,indexes:{},name:"e2ee_deviceChangeAlerts",primaryKey:["deviceChangeAlertsId"]}],E=[{autoIncrement:!1,indexes:{},name:"e2ee_retroactiveBackupsState",primaryKey:["threadId"]}],F=[{autoIncrement:!0,indexes:{deduplicationKey:{columns:["deduplicationKey"],predicate:function(a){return a.deduplicationKey!=null}},jid:{columns:["jid"]},threadOrder:{columns:["threadOrder"],unique:!1}},name:"e2ee_threads",primaryKey:["chatId"]}],G=[{autoIncrement:!0,indexes:{mediaId:{columns:["mediaId"],unique:!1},msgId:{columns:["msgId"],unique:!1},objectId:{columns:["objectId"]}},name:"e2ee_mediaBackup",primaryKey:["mediaBackupId"]}],H=[{autoIncrement:!0,indexes:{authoritativeThreadKey:{columns:["authoritativeThreadKey"]},deduplicationKey:{columns:["deduplicationKey"],predicate:function(a){return a.deduplicationKey!=null}},jid:{columns:["jid"]},threadOrder:{columns:["threadOrder"],unique:!1}},name:"e2ee_threads",primaryKey:["chatId"]}],I=[{autoIncrement:!0,indexes:{"[jid+type]":{columns:["jid","type"],unique:!1},jid:{columns:["jid"],unique:!1},stanzaId:{columns:["stanzaId"],unique:!1},type:{columns:["type"],unique:!1}},name:"e2ee_stanzaQueue",primaryKey:["stanzaQueueId"]}],J=[{autoIncrement:!0,indexes:{originalMsgExternalId:{columns:["originalMsgExternalId"],unique:!1},threadJid:{columns:["threadJid"],unique:!1}},name:"e2ee_editMsgHistory",primaryKey:["editMsgHistoryId"]}],K=[{autoIncrement:!1,indexes:{},name:"e2ee_ftsBackloggedMessages",primaryKey:["rowId"],removed:!0},{autoIncrement:!1,indexes:{},name:"e2ee_ftsEncryptionMeta",primaryKey:["key"],removed:!0},{autoIncrement:!0,indexes:{},name:"e2ee_ftsIndexV3",primaryKey:["ftsRowId"],removed:!0}],L=[{autoIncrement:!0,indexes:{"*msgIds":{columns:["msgIds"],multiEntry_DO_NOT_USE:!0},fbid:{columns:["fbid"],unique:!1},hashedPlaintextHash:{columns:["hashedPlaintextHash"]},objectId:{columns:["objectId"],unique:!1}},name:"e2ee_media",primaryKey:["mediaId"]}],M=[{autoIncrement:!0,indexes:{},name:"e2ee_ebRestoreQueue",primaryKey:["queueId"]},{autoIncrement:!0,indexes:{},name:"e2ee_ebUploadQueue",primaryKey:["queueId"]}],N=[{autoIncrement:!0,indexes:{"[uploadStatus+uploadTsSec]":{columns:["uploadStatus","uploadTsSec"],unique:!1},uploadStatus:{columns:["uploadStatus"],unique:!1},uploadTsSec:{columns:["uploadTsSec"],unique:!1}},name:"e2ee_ebRestoreQueue",primaryKey:["queueId"]},{autoIncrement:!0,indexes:{"[uploadStatus+uploadTsSec]":{columns:["uploadStatus","uploadTsSec"],unique:!1},uploadStatus:{columns:["uploadStatus"],unique:!1},uploadTsSec:{columns:["uploadTsSec"],unique:!1}},name:"e2ee_ebUploadQueue",primaryKey:["queueId"]}],O=[{autoIncrement:!0,indexes:{"[thread+serverTs]":{columns:["thread","serverTs"],unique:!1},"[thread+sortOrderMs]":{columns:["thread","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},revokedExternalId:{columns:["revokedExternalId"],unique:!1},thread:{columns:["thread"],unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],P=[],Q=[{autoIncrement:!0,indexes:{},name:"e2ee_danglingQueue",primaryKey:["queueId"]}],R=[{autoIncrement:!0,indexes:{dbVersion:{columns:["dbVersion"],unique:!1}},name:"e2ee_staleQueue",primaryKey:["staleQueueId"]}],S=[{autoIncrement:!0,indexes:{"[offlineThreadingId+backupActionType]":{columns:["offlineThreadingId","backupActionType"],unique:!1},"[uploadStatus+uploadTsSec]":{columns:["uploadStatus","uploadTsSec"],unique:!1},backupActionType:{columns:["backupActionType"],unique:!1},msgIdKey:{columns:["msgIdKey"],unique:!1},offlineThreadingId:{columns:["offlineThreadingId"],unique:!1},uploadStatus:{columns:["uploadStatus"],unique:!1},uploadTsSec:{columns:["uploadTsSec"],unique:!1}},name:"e2ee_ebUploadQueue",primaryKey:["queueId"]}],T=[{autoIncrement:!1,indexes:{},name:"e2ee_ftsBackloggedMessages",primaryKey:["rowId"]},{autoIncrement:!1,indexes:{},name:"e2ee_ftsEncryptionMeta",primaryKey:["key"]},{autoIncrement:!0,indexes:{"*prefixes":{columns:["prefixes"],multiEntry_DO_NOT_USE:!0,unique:!1},chatId:{columns:["chatId"],unique:!1},id:{columns:["id"],unique:!1}},name:"e2ee_ftsIndexV3",primaryKey:["ftsRowId"]}],U=[{autoIncrement:!1,indexes:{"[threadJid+userJid]":{columns:["threadJid","userJid"],unique:!1},threadId:{columns:["threadId"],unique:!1},userJid:{columns:["userJid"],unique:!1}},name:"e2ee_participants",primaryKey:["id"]}],V=[{autoIncrement:!0,indexes:{},name:"e2ee_pendingMessageStanzaQueue",primaryKey:["pendingMessageStanzaQueueId"]}],W=[{autoIncrement:!0,indexes:{author:{columns:["author"],unique:!1},chat:{columns:["chat"],unique:!1},externalId:{columns:["externalId"],unique:!1}},name:"e2ee_deletedMessages",primaryKey:["rowId"]}],X=[{autoIncrement:!0,indexes:{threadJid:{columns:["threadJid"],unique:!1}},name:"e2ee_ebMsgRanges",primaryKey:["rangeId"]}],Y=[{autoIncrement:!1,indexes:{inviterJid:{columns:["inviterJid"],unique:!1},threadJid:{columns:["threadJid","inviteeJid"],unique:!1}},name:"e2ee_groupInvites",primaryKey:["invitedParticipantId","inviterJid"]}],Z=[{autoIncrement:!1,indexes:{waMsgId:{columns:["waMsgId"]}},name:"e2ee_receipts",primaryKey:["msgId"]}],$=[{autoIncrement:!0,indexes:{"[jid+priority]":{columns:["jid","priority"],unique:!1},"[jid+type]":{columns:["jid","type"],unique:!1},jid:{columns:["jid"],unique:!1},priority:{columns:["priority"],unique:!1},stanzaId:{columns:["stanzaId"],unique:!1},type:{columns:["type"],unique:!1}},name:"e2ee_stanzaQueue",primaryKey:["stanzaQueueId"]}],aa=[{autoIncrement:!0,indexes:{"[thread+serverTs]":{columns:["thread","serverTs"],unique:!1},"[thread+sortOrderMs]":{columns:["thread","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},revokedExternalId:{columns:["revokedExternalId"],unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],ba=[{autoIncrement:!0,indexes:{"[thread+serverTs]":{columns:["thread","serverTs"],predicate:function(a){return a.serverTs!=null},unique:!1},"[thread+sortOrderMs]":{columns:["thread","sortOrderMs"],unique:!1},"[threadJid+sortOrderMs]":{columns:["threadJid","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],predicate:function(a){return a.altIndex!=null},unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],predicate:function(a){return a.messageDeleteTs!=null},unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],predicate:function(a){return a.messageExpirationTs!=null},unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],predicate:function(a){return a.quoteExternalId!=null},unique:!1},revokedExternalId:{columns:["revokedExternalId"],predicate:function(a){return a.revokedExternalId!=null},unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],predicate:function(a){return a.unsendMsgContentDeleteTs!=null},unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],ca=[{autoIncrement:!1,dexieOnly_primaryKeyUnique:!0,indexes:{ts:{columns:["ts"],unique:!1}},name:"e2ee_sentBytesCache",primaryKey:["waMsgId"]}],da=[{autoIncrement:!0,indexes:{"[thread+serverTs]":{columns:["thread","serverTs"],predicate:function(a){return a.serverTs!=null},unique:!1},"[threadJid+sortOrderMs]":{columns:["threadJid","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],predicate:function(a){return a.altIndex!=null},unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],predicate:function(a){return a.messageDeleteTs!=null},unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],predicate:function(a){return a.messageExpirationTs!=null},unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],predicate:function(a){return a.quoteExternalId!=null},unique:!1},revokedExternalId:{columns:["revokedExternalId"],predicate:function(a){return a.revokedExternalId!=null},unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],predicate:function(a){return a.unsendMsgContentDeleteTs!=null},unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],ea=[{autoIncrement:!0,indexes:{"[originalMsgExternalId+threadJid]":{columns:["originalMsgExternalId","threadJid"],unique:!1}},name:"e2ee_editMsgHistory",primaryKey:["editMsgHistoryId"]}],fa=[{autoIncrement:!0,indexes:{deviceJid:{columns:["deviceJid"],unique:!1},displayOrder:{columns:["isArchived","ts"],unique:!1},isConfirmedActionTs:{columns:["isConfirmed","action","ts"],unique:!1},isNotifiedTs:{columns:["isNotified","ts"],unique:!1}},name:"e2ee_deviceChangeAlerts",primaryKey:["deviceChangeAlertsId"]},{autoIncrement:!1,indexes:{threadId:{columns:["threadId"],unique:!1}},name:"e2ee_groupInfo",primaryKey:["groupJid"]}],ga=[{autoIncrement:!0,indexes:{"[uploadStatus+uploadTsSec]":{columns:["uploadStatus","uploadTsSec"],unique:!1},backupActionType:{columns:["backupActionType"],unique:!1},msgIdKey:{columns:["msgIdKey"],unique:!1},uploadStatus:{columns:["uploadStatus"],unique:!1},uploadTsSec:{columns:["uploadTsSec"],unique:!1}},name:"e2ee_ebUploadQueue",primaryKey:["queueId"]}],ha=[{autoIncrement:!1,indexes:{},name:"e2ee_ephemeralSettings",primaryKey:["userJid"]}],ia=[{autoIncrement:!1,indexes:{ebClientRequired:{columns:["ebClientRequired","timestampMs"],unique:!1},restorable:{columns:["restorable","timestampMs"],unique:!1}},name:"e2ee_ebMessageRestoreTasks",primaryKey:["messageId"]}],ja=[{autoIncrement:!1,indexes:{},name:"e2ee_igMessageAuxiliaryInfo",primaryKey:["messageId"]}],ka=[{autoIncrement:!1,indexes:{plaintextHash:{columns:["plaintextHash"],unique:!1}},name:"e2ee_mediaKeys",primaryKey:["ciphertextHash"]}],la=[{autoIncrement:!0,indexes:{"[jid+priority]":{columns:["jid","priority"],unique:!1},jid:{columns:["jid"],unique:!1},priority:{columns:["priority"],unique:!1}},name:"e2ee_stanzaQueue",primaryKey:["stanzaQueueId"]}],ma=[{autoIncrement:!1,indexes:{"[threadJid+userJid]":{columns:["threadJid","userJid"],unique:!1},userJid:{columns:["userJid"],unique:!1}},name:"e2ee_participants",primaryKey:["id"]}],na=[{autoIncrement:!1,indexes:{},name:"e2ee_groupInfo",primaryKey:["groupJid"]}],oa=[{autoIncrement:!0,indexes:{},name:"e2ee_ebRestoreQueue",primaryKey:["queueId"]}],pa=[{autoIncrement:!1,indexes:{},name:"e2ee_ftsPurgeBacklog",primaryKey:["externalId"]},{autoIncrement:!1,indexes:{},name:"e2ee_ftsPurgeThreadBacklog",primaryKey:["chatJid"]}],qa=[{autoIncrement:!0,indexes:{"[threadJid+sortOrderMs]":{columns:["threadJid","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],predicate:function(a){return a.altIndex!=null},unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],predicate:function(a){return a.messageDeleteTs!=null},unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],predicate:function(a){return a.messageExpirationTs!=null},unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],predicate:function(a){return a.quoteExternalId!=null},unique:!1},revokedExternalId:{columns:["revokedExternalId"],predicate:function(a){return a.revokedExternalId!=null},unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],predicate:function(a){return a.unsendMsgContentDeleteTs!=null},unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],ra=[{autoIncrement:!0,indexes:{"*prefixes":{columns:["prefixes"],multiEntry_DO_NOT_USE:!0,unique:!1},chatId:{columns:["chatId"],unique:!1},id:{columns:["id"],unique:!1}},name:"e2ee_ftsIndexV3",primaryKey:["ftsRowId"],removed:!0}],sa=[{autoIncrement:!0,indexes:{fbid:{columns:["fbid"],unique:!1},hashedPlaintextHash:{columns:["hashedPlaintextHash"]},objectId:{columns:["objectId"],unique:!1}},name:"e2ee_media",primaryKey:["mediaId"]}],ta=[{autoIncrement:!1,indexes:{},name:"e2ee_retroactiveBackupsState",primaryKey:["threadId"],removed:!0}],ua=[{autoIncrement:!1,indexes:{},name:"e2ee_uploadRetryStatus",primaryKey:[],removed:!0}],va=[{autoIncrement:!1,indexes:{},name:"e2ee_receiverFetchInfo",primaryKey:["receiverFetchId"]}],wa=[{autoIncrement:!0,indexes:{"[threadJid+ts]":{columns:["threadJid","ts"],unique:!1},externalId:{columns:["externalId"],unique:!1},reactionId:{columns:["reactionId"],unique:!1},reactToExternalId:{columns:["reactToExternalId"],unique:!1},reactToMsgId:{columns:["reactToMsgId"],unique:!1},threadJid:{columns:["threadJid"],unique:!1},ts:{columns:["ts"],unique:!1}},name:"e2ee_reactions",primaryKey:["rowId"]}],xa=[{autoIncrement:!0,indexes:{"*msgIds":{columns:["msgIds"],multiEntry_DO_NOT_USE:!0},fbid:{columns:["fbid"],unique:!1},hashedPlaintextHash:{columns:["hashedPlaintextHash"]},objectId:{columns:["objectId"],unique:!1}},name:"e2ee_media",primaryKey:["mediaId"]}],ya=[{autoIncrement:!0,indexes:{"[threadJid+sortOrderMs]":{columns:["threadJid","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],predicate:function(a){return a.altIndex!=null},unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],predicate:function(a){return a.messageDeleteTs!=null},unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],predicate:function(a){return a.messageExpirationTs!=null},unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExpirationTs:{columns:["quoteExpirationTs"],predicate:function(a){return a.quoteExpirationTs!=null},unique:!1},quoteExternalId:{columns:["quoteExternalId"],predicate:function(a){return a.quoteExternalId!=null},unique:!1},revokedExternalId:{columns:["revokedExternalId"],predicate:function(a){return a.revokedExternalId!=null},unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],predicate:function(a){return a.unsendMsgContentDeleteTs!=null},unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],za=[{autoIncrement:!0,indexes:{"[threadJid+sortOrderMs]":{columns:["threadJid","sortOrderMs"],unique:!1},ack:{columns:["ack"],unique:!1},altIndex:{columns:["altIndex"],predicate:function(a){return a.altIndex!=null},unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],predicate:function(a){return a.messageDeleteTs!=null},unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],predicate:function(a){return a.messageExpirationTs!=null},unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExpirationTs:{columns:["quoteExpirationTs"],predicate:function(a){return a.quoteExpirationTs!=null},unique:!1},quoteExternalId:{columns:["quoteExternalId"],predicate:function(a){return a.quoteExternalId!=null},unique:!1},revokedExternalId:{columns:["revokedExternalId"],predicate:function(a){return a.revokedExternalId!=null},unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],predicate:function(a){return a.unsendMsgContentDeleteTs!=null},unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],Aa=[{autoIncrement:!0,indexes:{"[threadJid+sortOrderMs]":{columns:["threadJid","sortOrderMs"],unique:!1},ack:{columns:["ack"],unique:!1},altIndex:{columns:["altIndex"],predicate:function(a){return a.altIndex!=null},unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],predicate:function(a){return a.messageDeleteTs!=null},unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],predicate:function(a){return a.messageExpirationTs!=null},unique:!1},msgId:{columns:["msgId"],unique:!1},protocolMsgId:{columns:["protocolMsgId"],unique:!0},quoteExpirationTs:{columns:["quoteExpirationTs"],predicate:function(a){return a.quoteExpirationTs!=null},unique:!1},quoteExternalId:{columns:["quoteExternalId"],predicate:function(a){return a.quoteExternalId!=null},unique:!1},revokedExternalId:{columns:["revokedExternalId"],predicate:function(a){return a.revokedExternalId!=null},unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],predicate:function(a){return a.unsendMsgContentDeleteTs!=null},unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],Ba=[{autoIncrement:!0,indexes:{version:{columns:["version"],unique:!0}},name:"e2ee_encryptionMetaV3",primaryKey:["id"]}],Ca=[{autoIncrement:!0,indexes:{"[threadJid+sortOrderMs]":{columns:["threadJid","sortOrderMs"],unique:!1},ack:{columns:["ack"],unique:!1},altIndex:{columns:["altIndex"],predicate:function(a){return a.altIndex!=null},unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],predicate:function(a){return a.messageDeleteTs!=null},unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],predicate:function(a){return a.messageExpirationTs!=null},unique:!1},msgId:{columns:["msgId"],unique:!1},protocolMsgId:{columns:["protocolMsgId"],unique:!0},quoteExpirationTs:{columns:["quoteExpirationTs"],predicate:function(a){return a.quoteExpirationTs!=null},unique:!1},quoteExternalId:{columns:["quoteExternalId"],predicate:function(a){return a.quoteExternalId!=null},unique:!1},revokedExternalId:{columns:["revokedExternalId"],predicate:function(a){return a.revokedExternalId!=null},unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],predicate:function(a){return a.unsendMsgContentDeleteTs!=null},unique:!1}},name:"e2ee_messages_deduped",primaryKey:["rowId"]}],Da=[{autoIncrement:!1,indexes:{},name:"e2ee_poll",primaryKey:["chatJid","pollStanzaId"]}],Ea=[{autoIncrement:!0,indexes:{"[threadJid+pollStanzaId+sortOrderMs]":{columns:["threadJid","pollStanzaId","sortOrderMs"],predicate:function(a){return a.pollStanzaId!=null},unique:!1},"[threadJid+sortOrderMs]":{columns:["threadJid","sortOrderMs"],unique:!1},ack:{columns:["ack"],unique:!1},altIndex:{columns:["altIndex"],predicate:function(a){return a.altIndex!=null},unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],predicate:function(a){return a.messageDeleteTs!=null},unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],predicate:function(a){return a.messageExpirationTs!=null},unique:!1},msgId:{columns:["msgId"],unique:!1},protocolMsgId:{columns:["protocolMsgId"],unique:!0},quoteExpirationTs:{columns:["quoteExpirationTs"],predicate:function(a){return a.quoteExpirationTs!=null},unique:!1},quoteExternalId:{columns:["quoteExternalId"],predicate:function(a){return a.quoteExternalId!=null},unique:!1},revokedExternalId:{columns:["revokedExternalId"],predicate:function(a){return a.revokedExternalId!=null},unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],predicate:function(a){return a.unsendMsgContentDeleteTs!=null},unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],Fa=[{autoIncrement:!0,indexes:{"[threadJid+collapsibleId+sortOrderMs]":{columns:["threadJid","collapsibleId","sortOrderMs"],unique:!1},"[threadJid+pollStanzaId+sortOrderMs]":{columns:["threadJid","pollStanzaId","sortOrderMs"],predicate:function(a){return a.pollStanzaId!=null},unique:!1},"[threadJid+sortOrderMs]":{columns:["threadJid","sortOrderMs"],unique:!1},ack:{columns:["ack"],unique:!1},altIndex:{columns:["altIndex"],predicate:function(a){return a.altIndex!=null},unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],predicate:function(a){return a.messageDeleteTs!=null},unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],predicate:function(a){return a.messageExpirationTs!=null},unique:!1},msgId:{columns:["msgId"],unique:!1},protocolMsgId:{columns:["protocolMsgId"],unique:!0},quoteExpirationTs:{columns:["quoteExpirationTs"],predicate:function(a){return a.quoteExpirationTs!=null},unique:!1},quoteExternalId:{columns:["quoteExternalId"],predicate:function(a){return a.quoteExternalId!=null},unique:!1},revokedExternalId:{columns:["revokedExternalId"],predicate:function(a){return a.revokedExternalId!=null},unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],predicate:function(a){return a.unsendMsgContentDeleteTs!=null},unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}];a=new Map([[(d=d("MAWDbVersionList")).VERSION.V21,a],[d.VERSION.V22,b],[d.VERSION.V23,c],[d.VERSION.V24,e],[d.VERSION.V25,f],[d.VERSION.V30,h],[d.VERSION.V31,i],[d.VERSION.V32,j],[d.VERSION.V33,k],[d.VERSION.V34,l],[d.VERSION.V35,m],[d.VERSION.V36,n],[d.VERSION.V37,o],[d.VERSION.V38,p],[d.VERSION.V39,q],[d.VERSION.V40,r],[d.VERSION.V41,s],[d.VERSION.V42,t],[d.VERSION.V45,u],[d.VERSION.V48,v],[d.VERSION.V49,w],[d.VERSION.V50,x],[d.VERSION.V51,y],[d.VERSION.V52,z],[d.VERSION.V57,A],[d.VERSION.V59,B],[d.VERSION.V61,C],[d.VERSION.V62,D],[d.VERSION.V63,E],[d.VERSION.V64,F],[d.VERSION.V65,G],[d.VERSION.V67,H],[d.VERSION.V69,I],[d.VERSION.V70,J],[d.VERSION.V73,K],[d.VERSION.V74,L],[d.VERSION.V75,M],[d.VERSION.V77,N],[d.VERSION.V78,O],[d.VERSION.V79,P],[d.VERSION.V80,Q],[d.VERSION.V81,R],[d.VERSION.V83,S],[d.VERSION.V84,T],[d.VERSION.V85,U],[d.VERSION.V86,V],[d.VERSION.V88,W],[d.VERSION.V89,X],[d.VERSION.V90,Y],[d.VERSION.V91,Z],[d.VERSION.V92,$],[d.VERSION.V93,aa],[d.VERSION.V94,ba],[d.VERSION.V95,ca],[d.VERSION.V96,da],[d.VERSION.V97,ea],[d.VERSION.V98,fa],[d.VERSION.V99,ga],[d.VERSION.V100,ha],[d.VERSION.V102,ia],[d.VERSION.V103,ja],[d.VERSION.V104,ka],[d.VERSION.V105,la],[d.VERSION.V106,ma],[d.VERSION.V107,na],[d.VERSION.V108,oa],[d.VERSION.V109,pa],[d.VERSION.V110,qa],[d.VERSION.V111,ra],[d.VERSION.V112,sa],[d.VERSION.V113,ta],[d.VERSION.V114,ua],[d.VERSION.V115,va],[d.VERSION.V116,wa],[d.VERSION.V117,xa],[d.VERSION.V118,ya],[d.VERSION.V119,za],[d.VERSION.V120,Aa],[d.VERSION.V121,Ba],[d.VERSION.V122,Ca],[d.VERSION.V123,Da],[d.VERSION.V124,Ea],[d.VERSION.V125,Fa]]);b=["messages","messages_deduped","unrenderedMessages","groupInfo","receipts","pendingReceipts","threads","participants","tasks","personalSenderKeyStatuses","appData","appMeta","chunk","mediaBackup","media","reactions","groupInvites","dyiBatch","syncActions","missingKeys","pendingMutations","collectionVersions","syncKeys","deviceChangeAlerts","xma","editMsgHistory","deletedMessages","ebMsgRanges","receiverFetchInfo","poll"];g.dbSchema=a;g.TABLES_TO_ENCRYPT=b}),98);
__d("MAWGetDbVersion",["MAWDbVersionList","justknobx","objectValues"],(function(a,b,c,d,e,f,g){"use strict";var h=null;function a(){var a;return(a=h)!=null?a:d("MAWDbVersionList").toVersion(c("justknobx")._("1716"))}function b(a){if(!c("justknobx")._("1495"))return;if(a==null){h=null;return h}if(a==="current"){h=null;return h}var b=Math.max.apply(Math,c("objectValues")(d("MAWDbVersionList").VERSION));if(a==="latest"){h=d("MAWDbVersionList").toVersion(b);return h}if(!Number.isInteger(a))return h;if(a<0){h=d("MAWDbVersionList").toVersion(b+a);return h}h=d("MAWDbVersionList").toVersion(a)}g.getArmadilloDbVersion=a;g.setArmadilloDbVersionForTest=b}),98);
__d("MAWDbSchema.restore",["MAWDbSchema","MAWGetDbVersion","objectEntries","sortBy"],(function(a,b,c,d,e,f,g){"use strict";a={e2ee_appData:!0,e2ee_appMeta:!0,e2ee_browserEncryptionMeta:!0,e2ee_chunk:!0,e2ee_collectionVersions:!0,e2ee_deletedMessages:!0,e2ee_deviceChangeAlerts:!0,e2ee_dyiBatch:!0,e2ee_ebMessageRestoreTasks:!0,e2ee_ebMsgRanges:!0,e2ee_ebUploadQueue:!0,e2ee_editMsgHistory:!0,e2ee_encryptionMetaV3:!0,e2ee_ephemeralSettings:!0,e2ee_existingUsers:!0,e2ee_ftsBackloggedMessages:!0,e2ee_ftsEncryptionMeta:!0,e2ee_ftsIndexV3:!0,e2ee_ftsPurgeBacklog:!0,e2ee_ftsPurgeThreadBacklog:!0,e2ee_groupInfo:!0,e2ee_groupInvites:!0,e2ee_historySyncQRCodeData:!0,e2ee_historySyncQRCodeSecretKey:!0,e2ee_igMessageAuxiliaryInfo:!0,e2ee_media:!0,e2ee_mediaBackup:!0,e2ee_messages:!0,e2ee_messages_deduped:!0,e2ee_missingKeys:!0,e2ee_participants:!0,e2ee_pendingMessageStanzaQueue:!0,e2ee_pendingMutations:!0,e2ee_pendingReceipts:!0,e2ee_pendingStanzas:!0,e2ee_poll:!0,e2ee_reactions:!0,e2ee_receiverFetchInfo:!0,e2ee_syncActions:!0,e2ee_syncKeys:!0,e2ee_threads:!0,e2ee_unrenderedMessages:!0,e2ee_xma:!0};function h(a){var b=Object.fromEntries(c("objectEntries")(a.indexes).filter(function(a){a=a[1];return a.multiEntry_DO_NOT_USE!==!0}).map(function(b){var c=b[0];b=b[1];return[c,{columns:[].concat(b.columns,b.unique!==!1?[]:a.primaryKey),predicate:b.predicate}]}));b={auto_increment:a.autoIncrement===!0,indexes:b,name:a.name,primary_key:a.primaryKey};return b}var i=c("sortBy")(Array.from(d("MAWDbSchema").dbSchema.entries()),function(a){a=a[0];return a}).map(function(a){var b=a[0];a=a[1];return{schema:a,version:b}});b=function(a){return Array.from(i.filter(function(b){return b.version<=a&&b.schema!=null}).reduce(function(a,b){(b=b.schema)==null?void 0:b.forEach(function(b){if(b.removed===!0){a["delete"](b.name);return}a.set(b.name,h(b))});return a},new Map()).values())};e=b(d("MAWGetDbVersion").getArmadilloDbVersion());g.msgrDbStores=a;g.getSchemaForVersion=b;g.clientSchema=e}),98);
__d("LSDbSchema",["MAWDbSchema.restore"],(function(a,b,c,d,e,f){"use strict";a=importNamespace("MAWDbSchema.restore").clientSchema;f.clientSchema=a}),66);
__d("ReStoreVersionedSchemaProvider",["FBLogger","ReStoreDefaultValueMigration","ReStoreIndicesMigration","ReStoreMigrateUtil","ReStorePersistedMetadata","ReStoreVersionedSchemaProviderUtil"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c){this.defaults={};this.$1="";this.$1=a;this.$2=b;a=b.versions[b.targetVersion];b=d("ReStoreVersionedSchemaProviderUtil").getTableData(a.tables,c);a=b.defaults;c=b.tableData;this.tableNames=c.tableNames;this.tableIds=c.tableIds;this.defaults=a}var b=a.prototype;b.$3=async function(a,b){var c,e;(c=b.loggers.logHistory)==null?void 0:c.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] Migrating from scratch...");(c=b.loggers.userFlow)==null?void 0:c.addPoint(this.$1+"_migration_versioned_from_scratch");c={tableIds:this.tableIds,tableNames:this.tableNames};await d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(b.transaction,c,a,this.defaults);(e=b.loggers.logHistory)==null?void 0:e.debug("migration default values finished");await d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(b,c,this.defaults,a);(e=b.loggers.logHistory)==null?void 0:e.debug("migration indices finished");return a?d("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA:d("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE};b.$4=function(a){var b=this,d=this.$2.versionOrder.indexOf(a);if(d===-1)throw c("FBLogger")("ReStoreVersionedSchemaProvider").mustfixThrow("[%s][ReStoreVersionedSchemaProvider] Cannot resolve version %s",this.$1,a);return Promise.all(this.$2.versionOrder.slice(d,this.$2.versionOrder.indexOf(this.$2.targetVersion)+1).map(async function(a){if(a in b.$2.versions)return{meta:b.$2.versions[a],version:a};else if(a in b.$2.legacyVersions)return{meta:await b.$2.legacyVersions[a].load(),version:a};else throw c("FBLogger")("ReStoreVersionedSchemaProvider").mustfixThrow("[%s][ReStoreVersionedSchemaProvider] Cannot find version %s in either versions or legacyVersions",b.$1,a)}))};b.$5=async function(a,b,e){var f,g=this.$2.targetVersion,h=this.$2.versions[g].revision;(f=e.loggers)==null?void 0:(f=f.logHistory)==null?void 0:f.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] currentVersion: "+a+"R"+b+", targetVersion: "+g+"R"+h);if(g===a&&h===b){(f=e.loggers)==null?void 0:(f=f.logHistory)==null?void 0:f.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] DB already up to date, skipping migration");return d("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED}(f=e.loggers.logHistory)==null?void 0:f.debug("migration versioned incremental");(f=e.loggers.userFlow)==null?void 0:f.addPoint(this.$1+"_migration_versioned_incremental");f=await this.$4(a);if(f.length===0||b>h){c("FBLogger")("ReStoreVersionedSchemaProvider","migrate").mustfix("[%s][ReStoreVersionedSchemaProvider][DANGEROUS] Backward migration required from %sR%s to %sR%s, running #migrateFromScratch",this.$1,a,""+b,g,""+h);return this.$3(!1,e)}for(g of f){h=g.meta;f=g.version;for(var i=f===a?b+1:0;i<=h.revision;i++){var j;(j=e.loggers)==null?void 0:(j=j.logHistory)==null?void 0:j.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] Migrating to "+f+"R"+i);(j=e.loggers.userFlow)==null?void 0:j.addPoint(this.$1+"_migration_versioned_"+f+"{$revision}_start");await (h.upgrade[i]==null?void 0:h.upgrade[i](e));await (h.afterUpgrade[i]==null?void 0:h.afterUpgrade[i](e.transaction));(j=e.loggers.userFlow)==null?void 0:j.addPoint(this.$1+"_migration_versioned_"+f+"{$revision}_end")}}return d("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE};b.$6=function(a,b,c,e,f){var g;(g=f.loggers.userFlow)==null?void 0:g.addPoint(this.$1+"_migration_versioned_hash_start");if(b===c&&a===e){(g=f.loggers.userFlow)==null?void 0:g.addAnnotations(d("ReStoreMigrateUtil").prefixAnnotations(this.$1,{string:{fromHashSchemaProvider:"no_changes"}}));(b=f.loggers)==null?void 0:(c=b.logHistory)==null?void 0:c.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] Migrating from Hash schema provider, no changes are detected");return Promise.resolve(d("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA)}else{(a=f.loggers.userFlow)==null?void 0:a.addAnnotations(d("ReStoreMigrateUtil").prefixAnnotations(this.$1,{string:{fromHashSchemaProvider:"changes"}}));(e=f.loggers)==null?void 0:(g=e.logHistory)==null?void 0:g.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] Migrating from Hash schema provider, changed detected, calling #migrateFromScratch");return this.$3(!1,f)}};b.migrate=async function(a){var b,c,e;(b=a.loggers.logHistory)==null?void 0:b.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] Start migration");(b=a.loggers.userFlow)==null?void 0:b.addPoint(this.$1+"_migration_versioned_start");b=d("ReStorePersistedMetadata").ReStorePersistedDefaultValuesVersion.hash(this.defaults);var f=d("ReStorePersistedMetadata").ReStorePersistedSchemaVersion.hash({tableIds:this.tableIds,tableNames:this.tableNames}),g=new(d("ReStorePersistedMetadata").ReStorePersistedSchemaVersion)(this.$1),h=new(d("ReStorePersistedMetadata").ReStorePersistedDefaultValuesVersion)(this.$1),i=await g.read(a.storeTx);c=(c=await h.read(a.storeTx))==null?void 0:c.defaultValuesVersion;var j=this.$2.versions[this.$2.targetVersion];(e=a.loggers.userFlow)==null?void 0:e.addAnnotations(d("ReStoreMigrateUtil").prefixAnnotations(this.$1,{int:{defaultValuesVersion:b,schemaVersion:f,storeDefaultValuesVersion:c,storeRevision:i==null?void 0:i.revision,storeSchemaVersion:i==null?void 0:i.schemaVersion,targetRevision:j.revision},string:{schemaProviderType:"versioned",storeVersion:i==null?void 0:i.version,targetVersion:this.$2.targetVersion}}));(e=a.loggers.logHistory)==null?void 0:e.debug("storeSchemaVersion: "+((e=i==null?void 0:i.schemaVersion)!=null?e:"null"));(e=a.loggers.logHistory)==null?void 0:e.debug("storeDefaultValuesVersion: "+((e=c)!=null?e:"null"));e=await (i!=null&&i.revision!=null&&i.version!=null?this.$5(i.version,i.revision,a):(i==null?void 0:i.schemaVersion)!=null?this.$6(c,i.schemaVersion,f,b,a):this.$3(!0,a));if(e!==d("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED){g.write(a.storeTx,{revision:j.revision,schemaVersion:f,version:this.$2.targetVersion});h.write(a.storeTx,{defaultValuesVersion:b});(c=a.loggers.logHistory)==null?void 0:c.debug("version is written")}(i=a.loggers.logHistory)==null?void 0:i.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] End Migration. Result: "+e+", SchemaVersion: "+f+", Version: "+this.$2.targetVersion+", Revision: "+j.revision);(g=a.loggers.userFlow)==null?void 0:g.addPoint(this.$1+"_migration_versioned_end");return e};return a}();g.default=a}),98);
__d("LSVersionedSchemaProvider",["LSConstants","LSDb","LSDbForeignKeys","ReStoreVersionedSchemaProvider"],(function(a,b,c,d,e,f,g){"use strict";a=new(c("ReStoreVersionedSchemaProvider"))(d("LSConstants").LS_SCHEMA_NAME,d("LSDb").Versions,c("LSDbForeignKeys"));g.schemaProvider=a}),98);
__d("ReStoreHashSchemaProvider",["ReStoreHashMigration","ReStoreMetadata","ReStoreMigrateUtil"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c){var e=b.tableIds;b=b.tableNames;c===void 0&&(c={});this.$1=a;this.tableNames=babelHelpers.extends({},b,d("ReStoreMetadata").RESTORE_METADATA_TABLES);this.tableIds=e;this.defaults=(a=c)!=null?a:{}}var b=a.prototype;b.migrate=async function(a){var b,c;(b=a.loggers.logHistory)==null?void 0:b.debug("["+this.$1+"][ReStoreHashSchemaProvider] Start migration");(b=a.loggers.userFlow)==null?void 0:b.addAnnotations(d("ReStoreMigrateUtil").prefixAnnotations(this.$1,{string:{schemaProviderType:"hash"}}));(b=a.loggers.userFlow)==null?void 0:b.addPoint(this.$1+"_migration_hash_start");b=await d("ReStoreHashMigration").runHashMigration(this.$1,{tableIds:this.tableIds,tableNames:this.tableNames},this.defaults,a);(c=a.loggers.logHistory)==null?void 0:c.debug("["+this.$1+"][ReStoreHashSchemaProvider] End migration. Result: "+b);(c=a.loggers.userFlow)==null?void 0:c.addPoint(this.$1+"_migration_hash_end");return b};return a}();g.default=a}),98);
__d("ReStoreSchemaProvider",["ReStoreMigrateUtil"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return{defaults:babelHelpers.extends({},a.defaults,b.defaults),migrate:async function(c){var e=await a.migrate(c);c=await b.migrate(c);if(e===d("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE||c===d("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE)return d("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE;else if(e===d("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA||c===d("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA)return d("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA;else return d("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED},tableIds:babelHelpers.extends({},a.tableIds,b.tableIds),tableNames:babelHelpers.extends({},a.tableNames,b.tableNames)}}g.mergeSchemaProviders=a}),98);
__d("LSMetadata",["LSClientSchemaType","LSDbSchema","LSVersionedSchemaProvider","ReStoreHashSchemaProvider","ReStoreMetadata","ReStoreSchemaProvider"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("ReStoreSchemaProvider").mergeSchemaProviders(a,h)}var h=new(c("ReStoreHashSchemaProvider"))(d("LSClientSchemaType").MAW_SCHEMA_NAME,d("ReStoreMetadata").getBuildTableData({})([d("LSDbSchema").clientSchema]));b=a(d("LSVersionedSchemaProvider").schemaProvider);g.buildSchema=a;g.schema=b}),98);/*FB_PKG_DELIM*/
__d("CometToastDeferred",["deferredLoadComponent","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";a=c("deferredLoadComponent")(c("requireDeferred")("CometToast.react").__setRef("CometToastDeferred"));b=a;g["default"]=b}),98);
__d("EBFormatUtils",["I64","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){if(a!=null)return(h||(h=d("I64"))).min(a,h.of_float(d("WATimeUtils").millisTime()));switch(b){case"before":return(h||(h=d("I64"))).of_float(d("WATimeUtils").millisTime());case"after":return(h||(h=d("I64"))).zero;default:b;return(h||(h=d("I64"))).max_int}}function b(a,b){switch(b){case"before":return[a,0];case"after":return[0,a];default:b;return[Math.ceil(a/2),Math.ceil(a/2)]}}g.adjustTs=a;g.adjustCount=b}),98);
__d("EntMessageReplyType",[],(function(a,b,c,d,e,f){a=Object.freeze({REGULAR:0,BUMP:1});f["default"]=a}),66);
__d("LSContactReachabilityStatusType",[],(function(a,b,c,d,e,f){a=Object.freeze({REACHABLE:0,UNREACHABLE_USER_TYPE:1,UNREACHABLE_ADULT_TYPE:2,REACHABLE_INVITE_BANNER:3,UNREACHABLE_INVITE_BLOCK:4,UNREACHABLE_INTEROP_THIRD_PARTY_USER:5,UNREACHABLE_INTEROP_USER_OPT_OUT:6,UNREACHABLE_INTEROP_THIRD_PARTY_APP_NOT_SUPPORTED:7,UNREACHABLE_INTEROP_USER_REMOVED_THIRD_PARTY_APP:8,UNREACHABLE_NULL_INTEROP_USER:9,UNREACHABLE_MR_LIMIT_BLOCK:10,UNREACHABLE_RS_UPSELL_ELIGIBLE:11,REACHABLE_INVITE_MODEL_TEXT_ONLY:12,REACHABLE_INVITE_MODEL_TEXT_ONLY_AND_BANNER:13,UNREACHABLE_INVITE_MODEL_BLOCK_COMPOSER:14,AP_PLUS_MESSAGING_REACHABLE_TEXT_ONLY_AND_BANNER:15,AP_PLUS_MESSAGING_UNREACHABLE_BLOCK_COMPOSER:16,AP_PLUS_MESSAGING_UNREACHABLE_REQUEST_LIMIT_REACHED:17});f["default"]=a}),66);
__d("LSContactTypeExact",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,FB_USER:1,MESSENGER_ONLY:2,DEACTIVATED_ALLOWED_ON_MESSENGER:3,MESSENGER_KID:4,FB_PAGE:5,FB_PAGE_PERSONA:6,IG_USER:7,MESSENGER_CALL_GUEST:8,WHATSAPP:9,GUEST_USER:10,IG_BUSINESS_USER:11,IG_CREATOR_USER:12,FB_SINGLE_OWNER_ADDITIONAL_PROFILE:13,PROXY_OCULUS_USER:14,WORK_VC_ENDPOINT:15,GENERATIVE_AI_BOT:16,COMMUNITY_CHAT:17,INTEROP_3P_USER:18,FB_ONLY_NOT_ALLOWED_ON_MESSENGER:19,MESSENGER_ONLY_NOT_ALLOWED_ON_FB:20,ADDITIONAL_PROFILE_PLUS:21,MESSENGER_SPECTRA:22,GROUP_ANONYMOUS_PROFILE:50,USER_FOR_SUPPORT:51});f["default"]=a}),66);
__d("LSContactUtils",["I64","LSContactBitOffset","LSContactBlockedByViewerStatus","LSContactReachabilityStatusType","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return!(h||(h=d("I64"))).equal(a.blockedByViewerStatus,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))}function b(a){return(a=d("LSContactBitOffset").has(66,a))!=null?a:!1}function e(a){a=j(a);return a!==c("LSContactReachabilityStatusType").REACHABLE&&a!==c("LSContactReachabilityStatusType").REACHABLE_INVITE_BANNER&&a!==c("LSContactReachabilityStatusType").REACHABLE_INVITE_MODEL_TEXT_ONLY}function j(a){if(a==null)return c("LSContactReachabilityStatusType").REACHABLE;a=a.contactReachabilityStatusType;return a==null?c("LSContactReachabilityStatusType").REACHABLE:(i||(i=d("LSIntEnum"))).toNumber(a)}g.isContactBlocked=a;g.isContactRestricted=b;g.isContactUnreachable=e;g.getUserReachability=j}),98);
__d("LSOnSendMessageFailure.nop",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;function a(a,c,d,e){return(g||(g=b("Promise"))).resolve()}a.__nop_name__="LSOnSendMessageFailure";f["default"]=a}),66);
__d("LSMarkOptimisticMessageFailed",["LSOnSendMessageFailure.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return a[2]===!0?d[0]=c.i64.cast([0,5]):d[0]=c.i64.cast([0,4]),a[2]===!0?d[1]=c.i64.cast([0,5]):d[1]=c.i64.cast([0,4]),a[2]===!0?d[2]=c.i64.cast([0,5]):d[2]=c.i64.cast([0,4]),c.nativeOperation(b("LSOnSendMessageFailure.nop"),a[0],a[1])},function(b){return c.forEach(c.filter(c.db.table(12).fetch([[[a[0]]],"optimistic"]),function(b){return b.offlineThreadingId===a[0]&&c.i64.eq(b.authorityLevel,c.i64.cast([0,20]))}),function(a){var b=a.update;a.item;return b({sendStatus:d[0],sendStatusV2:d[1]})})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxMarkOptimisticMessageFailedStoredProcedure";a.__tables__=["messages"];e.exports=a}),null);
__d("LSMarkOptimisticMessageFailedStoredProcedure",["LSMarkOptimisticMessageFailed","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSMarkOptimisticMessageFailed"),e.optimisticMid,e.errorMessage,e.isRetryable);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSMarkThreadRead",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(9).fetch([[[a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[1])&&b.i64.gt(a[0],c.lastReadWatermarkTimestampMs)}),function(b){var c=b.update;b.item;return c({lastReadWatermarkTimestampMs:a[0]})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxMarkThreadReadStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSMediaUrlUtils",["I64","ServerTime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){if((h||(h=d("I64"))).gt(a,(h||(h=d("I64"))).zero)){var b=(h||(h=d("I64"))).of_float(d("ServerTime").getMillis()/1e3);return h.lt(a,b)}return!1}function i(a){if((h||(h=d("I64"))).gt(a,(h||(h=d("I64"))).zero)){var b=(h||(h=d("I64"))).of_float(d("ServerTime").getMillis());return h.lt(a,b)}return!1}function b(a,b){return a!=null&&b!=null&&!i(b)}g.isTimestampExpired=a;g.isTimestampExpiredForMillis=i;g.hasValidReceiverFetchPreviewUrl=b}),98);
__d("LSMediaUrlAttachment",["I64","LSMediaUrlUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=a.previewUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?a.previewUrlFallback:a.previewUrl}function b(a){var b=a.previewUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?a.previewUrlFallback:a.previewUrlLarge}function c(a){var b=a.playableUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?a.playableUrlFallback:a.playableUrl}function e(a){var b=a.imageUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?a.imageUrlFallback:a.imageUrl}function f(a){var b=a.faviconUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?a.faviconUrlFallback:a.faviconUrl}function i(a){try{var b=a.listItemContactUrlExpirationTimestampList1;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired((h||(h=d("I64"))).of_string(b))?a.listItemContactUrlFallbackList1:a.listItemContactUrlList1}catch(b){return a.listItemContactUrlList1}}function j(a){try{var b=a.listItemContactUrlExpirationTimestampList2;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired((h||(h=d("I64"))).of_string(b))?a.listItemContactUrlFallbackList2:a.listItemContactUrlList2}catch(b){return a.listItemContactUrlList2}}function k(a){try{var b=a.listItemContactUrlExpirationTimestampList3;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired((h||(h=d("I64"))).of_string(b))?a.listItemContactUrlFallbackList3:a.listItemContactUrlList3}catch(b){return a.listItemContactUrlList3}}function l(a){var b=a.headerImageUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?a.headerImageUrlFallback:a.headerImageUrl}function m(a){try{var b=a.listItemProfilePictureUrlExpirationTimestamp1;if(b!=null&&d("LSMediaUrlUtils").isTimestampExpired((h||(h=d("I64"))).of_string(b)))return a.listItemProfilePictureUrlFallback1;else return a.listItemProfilePictureUrl1}catch(b){return a.listItemProfilePictureUrl1}}function n(a){try{var b=a.listItemProfilePictureUrlExpirationTimestamp2;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired((h||(h=d("I64"))).of_string(b))?a.listItemProfilePictureUrlFallback2:a.listItemProfilePictureUrl2}catch(b){return a.listItemProfilePictureUrl2}}function o(a){try{var b=a.listItemProfilePictureUrlExpirationTimestamp3;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired((h||(h=d("I64"))).of_string(b))?a.listItemProfilePictureUrlFallback3:a.listItemProfilePictureUrl3}catch(b){return a.listItemProfilePictureUrl3}}g.previewUrl=a;g.previewUrlLarge=b;g.playableUrl=c;g.imageUrl=e;g.faviconUrl=f;g.listItemContactUrlList1=i;g.listItemContactUrlList2=j;g.listItemContactUrlList3=k;g.headerImageUrl=l;g.listItemProfilePictureUrl1=m;g.listItemProfilePictureUrl2=n;g.listItemProfilePictureUrl3=o}),98);
__d("LSMessageReplySourceType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,MESSAGE:1,STORY:2,FORWARD:3,FB_STORY_SHARE:4,IG_STORY_SHARE:5,LIGHTWEIGHT_STATUS:6,LIGHTWEIGHT_STATUS_REACTION:7,FB_FEED_POST:13,HIGHLIGHTS_TAB_POST_REPLY:14,HIGHLIGHTS_TAB_LOCAL_EVENT_REPLY:15,SHARED_ALBUM:16,AVATAR_DETAIL:17,NOTE_REPLY_ARMADILLO:18,HIGHLIGHTS_TAB_CARDS_FOR_MOM:19,HIGHLIGHTS_TAB_CARDS_FOR_BIRTHDAY:20,NOTE_MENTION:21,AI_PERSONA_NOTE_REPLY:26});f["default"]=a}),66);
__d("LSMessageSearchType",[],(function(a,b,c,d,e,f){a=Object.freeze({THREAD:1,MESSAGE:2});f["default"]=a}),66);
__d("LSOptimisticMarkThreadReadV2",["LSIssueNewTask","LSMarkThreadRead"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(d){return c.storedProcedure(b("LSMarkThreadRead"),a[1],a[0])},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[6]=b.syncGroup,c.i64.neq(d[6],void 0)?d[5]=d[6]:d[5]=c.i64.cast([0,1]),d[0]=d[5])})},function(e){return d[2]=new c.Map(),d[2].set("thread_id",a[0]),d[2].set("last_read_watermark_ts",a[1]),d[2].set("sync_group",d[0]),d[3]=d[2].get("thread_id"),d[4]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[3]),c.i64.cast([0,21]),d[4],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxOptimisticMarkThreadReadV2StoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSRestrictionType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,DATA_PRIVACY:1,ENCRYPTED_THREAD:2});f["default"]=a}),66);
__d("LSWhatsAppConnectStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({WHATSAPP_NOT_ADDRESSABLE:0,WHATSAPP_ADDRESSABLE:1,WHATSAPP_DUAL_SEND_ELIGIBLE:2,WHATSAPP_DUAL_SEND_WEB_ELIGIBLE:3,WHATSAPP_DUAL_SEND_XAPP_ELIGIBLE:4,WHATSAPP_DST_ELIGIBLE:5,WHATSAPP_GDST_ELIGIBLE:9,WHATSAPP_DST_GDST_ELIGIBLE:13,WHATSAPP_DSI_ELIGIBLE:17,WHATSAPP_DST_DSI_ELIGIBLE:21,WHATSAPP_GDST_DSI_ELIGIBLE:25,WHATSAPP_DST_GDST_DSI_ELIGIBLE:29,WHATSAPP_DST_REAL_TEXT_SHADOW_ELIGIBLE:33});f["default"]=a}),66);
__d("MAWClientMediaStatusUtils",["I64","LSIntEnum","MAWMediaDownloadStatus"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){switch(a){case c("MAWMediaDownloadStatus").DOWNLOADING:return(h||(h=d("LSIntEnum"))).ofNumber(0);case c("MAWMediaDownloadStatus").SUCCESS:return(h||(h=d("LSIntEnum"))).ofNumber(1);case c("MAWMediaDownloadStatus").NOT_MANUAL_RETRYABLE_FAILURE:return(h||(h=d("LSIntEnum"))).ofNumber(2);case c("MAWMediaDownloadStatus").MANUAL_RETRYABLE_FAILURE:return(h||(h=d("LSIntEnum"))).ofNumber(3);case c("MAWMediaDownloadStatus").MISSING_FILE:return(h||(h=d("LSIntEnum"))).ofNumber(4);case c("MAWMediaDownloadStatus").RETRYING:return(h||(h=d("LSIntEnum"))).ofNumber(5)}}function j(a){switch(a){case 0:return c("MAWMediaDownloadStatus").DOWNLOADING;case 1:return c("MAWMediaDownloadStatus").SUCCESS;case 2:return c("MAWMediaDownloadStatus").NOT_MANUAL_RETRYABLE_FAILURE;case 3:return c("MAWMediaDownloadStatus").MANUAL_RETRYABLE_FAILURE;case 4:return c("MAWMediaDownloadStatus").MISSING_FILE;case 5:return c("MAWMediaDownloadStatus").RETRYING}}function b(a){if(a==null)return"UNKNOWN";switch(a){case c("MAWMediaDownloadStatus").DOWNLOADING:return"DOWNLOADING";case c("MAWMediaDownloadStatus").SUCCESS:return"SUCCESS";case c("MAWMediaDownloadStatus").NOT_MANUAL_RETRYABLE_FAILURE:return"NOT_MANUAL_RETRYABLE_FAILURE";case c("MAWMediaDownloadStatus").MANUAL_RETRYABLE_FAILURE:return"MANUAL_RETRYABLE_FAILURE";case c("MAWMediaDownloadStatus").MISSING_FILE:return"MISSING_FILE";case c("MAWMediaDownloadStatus").RETRYING:return"RETRYING"}}function k(a){return{mainMediaStatus:j((h||(h=d("LSIntEnum"))).unwrapIntEnum(a.mainMediaStatus)),mainMediaStatusDetails:a.mainMediaStatusDetails,previewMediaStatus:a.previewMediaStatus?j((h||(h=d("LSIntEnum"))).unwrapIntEnum(a.previewMediaStatus)):null,previewMediaStatusDetails:a.previewMediaStatusDetails,validationResult:l(a)}}function l(a){var b;return a.audioAvgBitsPerSecond==null&&a.audioNumberOfChannels==null&&a.audioSamplingRate==null&&a.audioStreamType==null&&a.validateMimeType==null&&a.videoAvgBitsPerSecond==null&&a.videoCalculatedFps==null&&a.videoDuration==null&&a.videoHeight==null&&a.videoNominalFps==null&&a.videoStreamType==null&&a.videoWidth==null?void 0:{audioAvgBitsPerSecond:a.audioAvgBitsPerSecond!=null?(i||(i=d("I64"))).to_int32(a.audioAvgBitsPerSecond):void 0,audioNumberOfChannels:a.audioNumberOfChannels!=null?(i||(i=d("I64"))).to_int32(a.audioNumberOfChannels):void 0,audioSamplingRate:a.audioSamplingRate!=null?(i||(i=d("I64"))).to_int32(a.audioSamplingRate):void 0,audioStreamType:(b=a.audioStreamType)!=null?b:void 0,validatedMimeType:(b=a.validateMimeType)!=null?b:void 0,videoAvgBitsPerSecond:a.videoAvgBitsPerSecond!=null?(i||(i=d("I64"))).to_int32(a.videoAvgBitsPerSecond):void 0,videoCalculatedFps:a.videoCalculatedFps!=null?(i||(i=d("I64"))).to_int32(a.videoCalculatedFps):void 0,videoDuration:a.videoDuration!=null?(i||(i=d("I64"))).to_int32(a.videoDuration):void 0,videoHeight:a.videoHeight!=null?(i||(i=d("I64"))).to_int32(a.videoHeight):void 0,videoNominalFps:a.videoNominalFps!=null?(i||(i=d("I64"))).to_int32(a.videoNominalFps):void 0,videoStreamType:(b=a.videoStreamType)!=null?b:void 0,videoWidth:a.videoWidth!=null?(i||(i=d("I64"))).to_int32(a.videoWidth):void 0}}function e(a){var b;return{audioAvgBitsPerSecond:(a==null?void 0:a.audioAvgBitsPerSecond)!=null?(i||(i=d("I64"))).of_int32(a.audioAvgBitsPerSecond):void 0,audioNumberOfChannels:(a==null?void 0:a.audioNumberOfChannels)!=null?(i||(i=d("I64"))).of_int32(a.audioNumberOfChannels):void 0,audioSamplingRate:(a==null?void 0:a.audioSamplingRate)!=null?(i||(i=d("I64"))).of_int32(a.audioSamplingRate):void 0,audioStreamType:(b=a==null?void 0:a.audioStreamType)!=null?b:void 0,validateMimeType:(b=a==null?void 0:a.validatedMimeType)!=null?b:void 0,videoAvgBitsPerSecond:(a==null?void 0:a.videoAvgBitsPerSecond)!=null?(i||(i=d("I64"))).of_int32(a.videoAvgBitsPerSecond):void 0,videoCalculatedFps:(a==null?void 0:a.videoCalculatedFps)!=null?(i||(i=d("I64"))).of_int32(a.videoCalculatedFps):void 0,videoDuration:(a==null?void 0:a.videoDuration)!=null?(i||(i=d("I64"))).of_int32(a.videoDuration):void 0,videoHeight:(a==null?void 0:a.videoHeight)!=null?(i||(i=d("I64"))).of_int32(a.videoHeight):void 0,videoNominalFps:(a==null?void 0:a.videoNominalFps)!=null?(i||(i=d("I64"))).of_int32(a.videoNominalFps):void 0,videoStreamType:(b=a==null?void 0:a.videoStreamType)!=null?b:void 0,videoWidth:(a==null?void 0:a.videoWidth)!=null?(i||(i=d("I64"))).of_int32(a.videoWidth):void 0}}function f(a){var b=a.clientMediaStatus,c=a.mediaDownloadRetryCount,e=a.mediaDownloadStatusState,f=a.preloadedMediaStatus,g=a.statusKey;a=f!=null?f:b==null?void 0:b.find(function(a){a=a.id;return a===g});f=a!=null;b=f&&a!=null?k(a):e==null?void 0:e[g];e=f?b!=null:(e=e==null?void 0:e.hasOwnProperty(g))!=null?e:!1;f=f?(i||(i=d("I64"))).to_int32((f=a==null?void 0:a.downloadRetryCount)!=null?f:(i||(i=d("I64"))).zero):(a=c==null?void 0:c[g])!=null?a:0;return{hasStatus:e,retryCount:f,statusData:b}}g.getClientMediaStatusType=a;g.getMAWMediaDownloadStatus=j;g.mediaDownloadStatusEnumToString=b;g.getMAWMediaStatus=k;g.getMAWValidationResults=l;g.getValidationResults=e;g.getStatusDataFromLsdbOrContext=f}),98);
__d("MessageSendsClientFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1271");b=d("FalcoLoggerInternal").create("message_sends_client",a);e=b;g["default"]=e}),98);
__d("MWLogSend",["ErrorGuard","FBLogger","I64","LSMessagingThreadTypeUtil","LSPlatformLsInitLog","MessageSendsClientFalcoEvent","MultipleTabsLogger","ReQL","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=[];function k(a){return function(){while(j.length>0)(i||(i=c("ErrorGuard"))).applyWithGuard(n,null,[a,j.shift(),!0])}}var l=!1;function m(a,b){j.push(b),l||(d("LSPlatformLsInitLog").onCompleteOrFail(k(a)),l=!0)}function n(a,b,e){b._mentionedJids;var f=b.actor,g=b.additionalTags,i=b.attachmentFbids,j=b.attachmentType,k=b.backend,l=b.ephemeralDurationInSec,n=b.hasReply,o=b.igdTargetType,p=b.initatingSource,q=b.isInstamadilloTTLC,r=b.messagingThreadId,s=b.msgTtl,t=b.offlineThreadingId,u=b.sendType,v=b.source,w=b.threadKey,x=b.threadType;c("promiseDone")(async function(){await Promise.all([d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.participants).getKeyRange(w).filter(function(a){return!(h||(h=d("I64"))).equal(a.contactId,f)})),d("MultipleTabsLogger").hasMultipleTabs()]).then(function(y){var z=y[0];y=y[1];if(z==null){var A=d("LSPlatformLsInitLog").isPending();if(A&&e!==!0){m(a,b);return}e===!0&&c("FBLogger")("meteora").warn("LS_INIT completed but participants table is still empty.")}var B=z.map(function(a){return(h||(h=d("I64"))).to_string(a.contactId)});A=d("LSMessagingThreadTypeUtil").isOneToOne(x)&&(z==null?void 0:z.length)===0;A&&B.push((h||(h=d("I64"))).to_string(f));var C=r!=null?r:(h||(h=d("I64"))).to_string(w),D=s!=null?(h||(h=d("I64"))).to_string((h||(h=d("I64"))).of_float(s)):void 0,E=[y===!0?19:null,l!=null?15:null,q===!0?37:null].filter(Boolean);(C==null||C===""||(h||(h=d("I64"))).le(w,(h||(h=d("I64"))).zero))&&(b.waGroupJid!=null?c("FBLogger")("mw_log_send").mustfix("Thread FBID is null and recovered by chatJid in send flow - ThreadKey %s, messagingThreadId %s, send type %s",(h||(h=d("I64"))).to_string(w),r,u):c("FBLogger")("mw_log_send").mustfix("Thread FBID is null in send flow - ThreadKey %s, messagingThreadId %s, send type %s",(h||(h=d("I64"))).to_string(w),r,u));c("MessageSendsClientFalcoEvent").log(function(){return{additional_tags:g,backend:k,event_type:u,feature_tags:E,group_thread_subtype:void 0,igd_action:void 0,igd_target_type:o,igd_verb:void 0,initiating_app_id:void 0,initiating_source:p,is_reply:n,message_attachment_fbids:i.map(String),message_id:void 0,message_type:j,messaging_thread_fbid:C,messaging_thread_type:(h||(h=d("I64"))).to_int32(x),msg_ttl:D,nav_chain:void 0,nonce:void 0,offline_threading_id:t,recipient_fbids:B,send_attribution:h.to_int32(v),send_attribution_raw:void 0,view_mode:void 0,wa_group_jid:b.waGroupJid}})})}())}g.log=n}),98);
__d("MAWCommonSetupBridge",["BrowserLockManager","CurrentAppID","CurrentUser","I64","LSDatabaseSingleton","LSIntEnum","LSMessagingThreadAttributionType","MAWBridge","MAWChatJid","MAWCrossWorkerPortal","MAWCurrentUser","MAWDbMedia","MAWEBSwitch","MAWInit","MAWJobActionsV2","MAWMIC","MAWReportSendMessageSuccessResult","MAWThreadCutover","MAWThreadUtils","MWLogSend","ODS","Promise","QPLEvent","QPLUserFlow","WACrossWorkerPortal","WADevToolMessageChannel","WADevToolsBridge","WAExceededStorageQuota","WAJids","cr:2691","err","gkx","justknobx","pageID","performanceAbsoluteNow","promiseDone","requireDeferred","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o=c("requireDeferred")("MAWMainThreadLogger").__setRef("MAWCommonSetupBridge"),p=new Set([25312111,25311870]),q=new Map();e=new Map([[(a=d("MAWDbMedia")).MEDIA_TYPE.IMAGE,8],[a.MEDIA_TYPE.VIDEO,10],[a.MEDIA_TYPE.GIF,6],[a.MEDIA_TYPE.STICKER,4],[a.MEDIA_TYPE.PTT,11],[a.MEDIA_TYPE.DOCUMENT_FILE,9]]);var r=new Set([25312150,25313100,1056840931,25299294]),s=function(){return(n||(n=c("performanceAbsoluteNow")))()-Date.now()},t=s();function u(a,b,e){return(i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(f){return d("MAWThreadCutover").isCutoverSecureThreadFromChatJid(f,a).then(function(a){c("QPLUserFlow").addAnnotations(b,{bool:{is_cutover:a}},{instanceKey:e})})})}var v=/[^a-zA-Z0-9._-]/g,w=/[.]+/g,x=/[\s_.-]+/g;function y(a){return a.replace(x,".").replace(v,"").replace(w,".")}var z={handleMessageSendResult:function(a){a.success&&d("MAWReportSendMessageSuccessResult").reportSendMessageSuccessResult(a.report)},log:function(a){var b=a.logLevel,c=a.logString,e=a.tags;a=e.length>0;var f=""+(d("CurrentAppID").getAppID()||"unknown");switch(b){case"count":(j||(j=d("ODS"))).bumpEntityKey(3185,y("e2ee."+(a?e.join("."):c)),y("count."+(a?c+"."+f:f)),1);o.onReadyImmediately(function(a){a=a.count;return a(c,e)});return;case"log":o.onReadyImmediately(function(a){a=a.info;return a(c,e)});return;case"warn":o.onReadyImmediately(function(a){a=a.warn;return a(c,e)});return;case"logRestricted":o.onReadyImmediately(function(a){a=a.logRestricted;return a(c,e)});return;case"debug":break;case"error":break;default:break}},logError:function(a){var b=a.entriesToReport,c=a.framesToPop,d=a.logString,e=a.message,f=a.stack,g=a.tags;o.onReadyImmediately(function(a){a=a.logError;return a(d,g,e,f,c,b)})},odsBumpEntityKey:function(a){var b=a.amount,c=a.entity;a=a.key;(j||(j=d("ODS"))).bumpEntityKey(3185,c,a+"."+(d("CurrentAppID").getAppID()||"unknown"),b)},onJobFinished:function(a){a.type==="createGroup"&&a.originalArgs.key!=null&&d("MAWJobActionsV2").recentFinishedJobsCache.set(a.originalArgs.key,a.result);switch(a.type){case"sendAppData":var b=a.originalArgs,e=a.result;(b=b.args.contents.actions)==null?void 0:b.forEach(function(a){a=a.messageAction;if(a==null||a.type!=="delete_for_me"||e.type!=="not_sent")return;q.set(e.appDataExternalId,{chatJid:a.protocolMsgId.chat,externalId:a.protocolMsgId.externalId,type:"deleteMsgForMe"})});break}if(a.type==="sendWrittenAppData"){b=a.originalArgs.appDataExternalId;var f=q.get(b);q["delete"](b);if(f!=null&&f.type==="deleteMsgForMe"&&a.result.type==="success"){var g=f.chatJid,h=f.externalId,j=d("MAWThreadUtils").getLSThreadTypeFromJid(g);c("promiseDone")((i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(a){c("promiseDone")(d("MAWChatJid").toThreadKey(a.tables,g,"MAWCommonSetupBridge::sendWrittenAppData").then(function(b){d("MWLogSend").log(a,{actor:(k||(k=d("I64"))).of_string(d("MAWCurrentUser").getID()),attachmentFbids:[],attachmentType:25,backend:1,hasReply:!1,messagingThreadId:k.to_string(b),offlineThreadingId:h,sendType:3,source:(l||(l=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").UNKNOWN),threadKey:b,threadType:j})}))}))}}},qplEvent:function(a){var e=a.action,f=a.annotations,g=a.debugInfo,i=a.error,j=a.event,k=a.instanceKey,l=a.performanceAndDateSkew,n=a.timeoutInMs;a=a.timestamp;if(!c("CurrentUser").isEmployee()&&p.has((m||(m=d("QPLEvent"))).getMarkerId(j)))return;var o=k||0;k=f==null?void 0:(k=f.string)==null?void 0:k.jid;k=k!=null?d("WAJids").validateChatJid(k):void 0;k=r.has((m||(m=d("QPLEvent"))).getMarkerId(j))&&k!=null?u(k,j,o):(h||(h=b("Promise"))).resolve();var q=a!=null&&l!=null&&c("gkx")("8334")?a+l-t+s():a;switch(e.type){case"start":c("QPLUserFlow").start(j,{annotations:babelHelpers["extends"]({},f||{},{bool:babelHelpers["extends"]({},(f==null?void 0:f.bool)||{},{is_eb_enabled:c("MAWEBSwitch").isEnabled(),is_pdb:c("gkx")("8483"),isArmadilloPublicLaunchUser:c("gkx")("23405"),isDev:0,isGifSearchEnbled:!0,isLockApiSupported:c("BrowserLockManager")!=null,isRestoreDBEnabled:c("gkx")("23906"),isTlcPublicUser:d("MAWCurrentUser").isTlcPublicUser(),useSharedWorker:d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()})}),instanceKey:o,timeoutInMs:n,timestamp:q});break;case"success":c("QPLUserFlow").addAnnotations(j,{bool:{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0}},{instanceKey:o});k["finally"](function(){c("QPLUserFlow").endSuccess(j,{annotations:f,instanceKey:o,timestamp:q})});break;case"cancel":c("QPLUserFlow").addAnnotations(j,{bool:{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0}},{instanceKey:o});k["finally"](function(){c("QPLUserFlow").endCancel(j,{annotations:f,instanceKey:o,timestamp:q})});break;case"point":f&&c("QPLUserFlow").addAnnotations(j,f,{instanceKey:o});(m||(m=d("QPLEvent"))).getMarkerId(j)===1056839232?d("MAWMIC").addPoint(e.name,q):c("QPLUserFlow").addPoint(j,e.name,{instanceKey:o,timestamp:q});break;case"annotations":c("QPLUserFlow").addAnnotations(j,(l=f)!=null?l:{},{instanceKey:o});break;case"failure":c("QPLUserFlow").addAnnotations(j,{bool:{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0},string:{failureReason:e.name}},{instanceKey:o});k["finally"](function(){c("QPLUserFlow").endFailure(j,e.name,{annotations:f,instanceKey:o,timestamp:q})});break;case"error":c("QPLUserFlow").markError(j,e.name,{debugInfo:g,error:i,instanceKey:o});break;default:throw c("err")("Bridge sends unreachable qplEvent action type")}}},A=function(a,b){a.push(b);return a};f=function(a){var e=a.customizeEventHandlers;a=a.worker;d("MAWInit").MAWInit.logPoint("bridge_setup_start");var f=d("MAWBridge").getBridge();f.setHandlers("event",babelHelpers["extends"]({},z,e));e=d("MAWCrossWorkerPortal").getOrCreateCrossWorkerPortal(f,["backend","mps"],A,{bridgeBatcherMaxTokens:Number.MAX_SAFE_INTEGER,portalCacheSize:c("justknobx")._("3092"),useLRUCache:c("gkx")("6949")});e.setPort(a);if(c("gkx")("3282")){var g=d("WADevToolsBridge").getDevToolBridge();a=new MessageChannel();var i=d("WACrossWorkerPortal").attachPortal(g,["backend"],A,c("pageID")),j=d("WACrossWorkerPortal").attachPortal(g,["devtool","mawDbDevTool"],A,c("pageID"));d("WADevToolMessageChannel").onCreateNewChannel(function(a){i.setPort(a.port1)});j.setPort(a.port1);b("cr:2691")==null?void 0:b("cr:2691").connectAddonPort(a.port2);e.addListener(function(a,b){return g.fireAndForget("devtool","bridgeMessage",{direction:b==="outgoing"?"toWorker":"toMain",msg:a,ts:Date.now()},!0)})}d("MAWMIC").addPoint("bridge_setup_done");d("MAWInit").MAWInit.logPoint("bridge_setup_end");return(h||(h=b("Promise"))).resolve(f)};g.MEDIA_TYPE_TO_ATTACHMENT_TYPE=e;g.initBridge=f}),98);
__d("MAWGetAttachmentTypeForSendWrittenMsg",["MAWCommonSetupBridge"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e,f,g,h,i){if(f)return 43;if(a==="revokeMsg")return 26;if(g!=null)return g;if(c)return 3;if(e&&h===!1)return 13;if(i===!0)return 13;f=b!=null?d("MAWCommonSetupBridge").MEDIA_TYPE_TO_ATTACHMENT_TYPE.get(b):null;return(a=f)!=null?a:0}g.getAttachmentTypeForSendWrittenMsg=a}),98);
__d("MAWReportSendMessageSuccessResult",["BrowserLockManager","FBLogger","I64","LSDatabaseSingleton","LSIntEnum","LSMessagingThreadAttributionType","MAWChatJid","MAWCurrentUser","MAWFrontendMediaUtils","MAWGetAttachmentTypeForSendWrittenMsg","MAWThreadUtils","MAWVault","MAWXMAUtils","MWLogSend","MultipleTabsLogger","URLMatcher","WAJids","gkx","justknobx","promiseDone","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;async function k(a,b){try{a=await d("MAWChatJid").toThreadKey(a.tables,b,"MAWCommonSetupBridge::sendWrittenMsg");return a}catch(a){if(c("gkx")("10750")){c("FBLogger")("messenger_e2ee_web_send").warn("MAWCommonSetupBridge::sendWrittenMsg failed to get threadKey. With error: %s",a);return(h||(h=d("I64"))).zero}throw a}}function l(a){var b,e=a.externalId,f=null,g=!1,l=!1;switch(a.messageType){case"editMsg":g=!0;break;case"revokeMsg":e=a.referencedExternalId;break;case"sendMsg":l=a.specialTextSize!=null;break;case"reactionMsg":f=a.reaction!=null?20:27;break;case"bumpMsg":break;case"sendPoll":break;case"fixMe":return;default:a.messageType}var m=null;a.fileType!=null&&(m=d("MAWFrontendMediaUtils").getMediaTypeAndServerMediaTypeFromBlob(a.fileType).mediaType);var n=a.xmaMessageType!=null,o=a.quote!=null||d("MAWXMAUtils").isXMAStoryReply(a.xmaMessageType);b=c("URLMatcher").match(d("MAWVault").unvault((b=a.content)!=null?b:""));b=b!=null&&b.length>0;var p=d("MAWGetAttachmentTypeForSendWrittenMsg").getAttachmentTypeForSendWrittenMsg(a.messageType,m,l,n,g,f,o,b),q=d("MAWThreadUtils").getLSThreadTypeFromJid(a.chatJid);c("promiseDone")((i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(async function(b){var f=(a==null?void 0:a.source)!=null?a.source:(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").UNKNOWN),g=await k(b,a.chatJid),i=d("WAJids").validateGroupJid(a.chatJid);d("MWLogSend").log(b,{actor:(h||(h=d("I64"))).of_string(d("MAWCurrentUser").getID()),attachmentFbids:[],attachmentType:p,backend:1,hasReply:o,initatingSource:a==null?void 0:a.initiatingSource,messagingThreadId:h.to_string(g),msgTtl:(b=a.ephemeralSetting)==null?void 0:b.ephemeralExpirationInSec,offlineThreadingId:e,sendType:1,source:f,threadKey:g,threadType:q,waGroupJid:c("gkx")("10750")&&i!=null?d("WAJids").threadIdForChatJid(i):void 0})}))}function a(a){if(c("justknobx")._("154")&&d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()&&(c("BrowserLockManager")!=null&&!d("MultipleTabsLogger").hasUniqueLock()))return;l(a)}g.reportSendMessageSuccessResultFn=l;g.reportSendMessageSuccessResult=a}),98);
__d("MWRestoreMessagesFromEB",["EBIsEbEnabled","I64","LSAppendDataTraceAddonStoredProcedure","LSDataTraceCheckPoint","LSDataTraceType","LSFactory","LSIntEnum","LSIssueMessageRangeQueryTaskStoredProcedure","LSMEBTaskCreationSource","MAWAsyncEBPendingQueryPromise","MAWEBRestoreTrackingUtils","MAWMainTraceUtils","MWEncryptedBackUpEBNotEnabledError","WAJids","WATagsLogger","cr:9628","err","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web][","] Issuing message range query for thread: "," startSortKey: "," numMessages: ","} "]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Issuing message range query for chatJid: "," skipped. EB not enabled"]);k=function(){return a};return a}function a(a){var b=a.chatJid,e=a.newerNumMessages,f=a.numMessages,g=a.passedTraceId,h=a.sortOrderMs,i=a.source,j=a.storage;if(!c("gkx")("23914"))return null;var m=g!=null?g:d("MAWMainTraceUtils").createTraceId();c("promiseDone")(d("EBIsEbEnabled").isEbEnabledLS(j.tables).then(function(a){if(a)return l(m,j,b,e,f,g,h,i);else{d("WATagsLogger").TAGS(["labyrinth_web","eb_restore"]).WARN(k(),b);d("MAWAsyncEBPendingQueryPromise").rejectPendingQueryIfPresent(m,c("err")(d("MWEncryptedBackUpEBNotEnabledError").EB_NOT_ENABLED));return Promise.resolve()}}));return m}function l(a,e,f,g,i,j,k,l){return b("cr:9628")!=null?b("cr:9628")({chatJid:f,direction:(h||(h=d("I64"))).to_float(g)>0?"after":"before",includeOffset:c("gkx")("5340"),sortOrderMs:(h||(h=d("I64"))).to_string(k),source:l,traceId:a}).then(function(b){!b.success&&c("gkx")("6819")&&d("MAWAsyncEBPendingQueryPromise").rejectPendingQueryIfPresent(a,c("err")(b.error))}):m({chatJid:f,newerNumMessages:g,numMessages:i,passedTraceId:j,sortOrderMs:k,source:l,storage:e,traceId:a})}function m(a){var b=a.chatJid,e=a.newerNumMessages,g=a.numMessages,k=a.passedTraceId,l=a.sortOrderMs,m=a.source,n=a.storage,o=a.traceId;return n.runInTransaction(async function(a){await d("MAWMainTraceUtils").startTraceWithTxn(a,(h||(h=d("I64"))).of_float(Date.now()),o,(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_RESTORE));await c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:i.ofNumber(c("LSDataTraceCheckPoint").LABYRINTH_WEB_ISSUE_MESSAGE_RANGE_QUERY),dataTraceId:o,syncChannel:h.neg_one});d("WATagsLogger").TAGS(["labyrinth_web","eb_restore",o]).LOG(j(),o,b,h.to_string(l),h.to_string(g));d("MAWEBRestoreTrackingUtils").markEBRestorePaginated(m,k,"LS");return c("LSIssueMessageRangeQueryTaskStoredProcedure")(c("LSFactory")(a),{includeOffset:c("gkx")("5340"),isPointQuery:!1,newerNumMessages:e,numMessages:g,source:i.ofNumber((a=m)!=null?a:c("LSMEBTaskCreationSource").UNKNOWN),startSortKey:h.to_string(l),threadId:d("WAJids").threadIdForChatJid(b),traceId:o})},"readwrite",void 0,void 0,f.id+":145")}g.default=a}),98);
__d("MAWEBFetch",["EBFormatUtils","FBLogger","I64","LSMEBTaskCreationSource","MAWAsyncEBPendingQueryPromise","MWEncryptedBackUpEBNotEnabledError","MWRestoreMessagesFromEB","WAResultOrError","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h;b=c("justknobx")._("3177");var i=Math.max(3,b-5);async function a(a){var b=a.chatJid,e=a.count,f=a.db,g=a.direction,i=a.timestampMs;a=a.traceId;e=d("EBFormatUtils").adjustCount(e,g);var k=e[0];e=e[1];b=c("MWRestoreMessagesFromEB")({chatJid:b,newerNumMessages:(h||(h=d("I64"))).of_int32(e),numMessages:h.of_int32(k),passedTraceId:a,sortOrderMs:d("EBFormatUtils").adjustTs(i,g),source:c("LSMEBTaskCreationSource").MESSENGER_MESSAGE_LIST_PAGINATION,storage:f});if(b==null)return d("WAResultOrError").makeResult({hasMoreAfter:!1,hasMoreBefore:!1,isEndOfCurrentFormat:!1,messages:[],restoreType:"none"});e=d("MAWAsyncEBPendingQueryPromise").getWaitForRestorePromiseFromTrace(b);k=await e.then(function(a){return d("WAResultOrError").makeResult(a)}).catch(function(a){if(a&&(a==null?void 0:a.message)===d("MWEncryptedBackUpEBNotEnabledError").EB_NOT_ENABLED)return d("WAResultOrError").makeError(d("MWEncryptedBackUpEBNotEnabledError").EB_NOT_ENABLED);c("FBLogger")("messenger_web").catching(a).mustfix("[EBFetch] Failed to fetch");return d("WAResultOrError").makeError((a=a==null?void 0:a.message)!=null?a:"unknown")});if(k.success===!1)return k;a=k.value;i=a.hasMoreAfter;f=a.hasMoreBefore;b=a.messages;e=a.restoreType;return d("WAResultOrError").makeResult({hasMoreAfter:i,hasMoreBefore:f,isEndOfCurrentFormat:j(g,i,f,b),messages:b,restoreType:e})}function j(a,b,c,d){if(a==="before"&&c===!1)return!1;return a==="after"&&b===!1?!1:d.length<i}g.default=a}),98);
__d("MAWEditMessageContext.react",["emptyFunction","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;e=b.createContext;b.useMemo;var j=b.useState;function a(a){var b=d("react-compiler-runtime").c(5);a=a.children;var c=j(null),e=c[0];c=c[1];b[0]!==e?(c={editMessageData:e,setEditMessageData:c},b[0]=e,b[1]=c):c=b[1];e=c;c=e;b[2]!==a||b[3]!==c?(e=i.jsx(k.Provider,{value:c,children:a}),b[2]=a,b[3]=c,b[4]=e):e=b[4];return e}var k=e({editMessageData:null,setEditMessageData:c("emptyFunction")});g.MAWEditMessageContext=a;g.Context=k}),98);
__d("MAWGetEphemeralSettings",["I64","MAWBridgeSendAndReceive","MAWChatJid","ReQL","WAJids","WALogger","WATimeUtils","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[ephemeral settings in memory]: MAWGetEphemeralSettings api call for chatJid "," returns ",""]);i=function(){return a};return a}var j=c("requireDeferred")("LSDatabaseSingletonLazyWrapper").__setRef("MAWGetEphemeralSettings"),k=c("requireDeferred")("MAWEphemeralSettingsUpdate").__setRef("MAWGetEphemeralSettings");async function a(a,b){if(d("WAJids").switchOnMsgrChatJidType(a,{group:function(){return!1},user:function(){return!0}})){var e=await j.load();e=await e();b=(b=b)!=null?b:await d("MAWChatJid").toThreadKeyMaybe(e.tables,a);if(b!=null){e=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.tables.threads).getKeyRange(b));if(e!=null&&e.disappearingSettingTtl!=null){b={ephemeralExpirationInSec:(h||(h=d("I64"))).to_int32(e.disappearingSettingTtl),ephemeralLastUpdatedOrSetTimestamp:e.disappearingSettingUpdatedTs!=null?d("WATimeUtils").castMilliSecondsToUnixTime((h||(h=d("I64"))).to_float(e.disappearingSettingUpdatedTs)):d("WATimeUtils").unixTime()};return b}return}return d("MAWBridgeSendAndReceive").sendAndReceive("backend","getEphemeralSettings",{threadId:a}).then(function(b){d("WALogger").LOG(i(),a,b);if(b!=null){c("promiseDone")(k.load().then(function(c){return c.updateEphemeralSettingsByChatJid(b.ephemeralExpirationInSec,b.ephemeralLastUpdatedOrSetTimestamp,!1,a,!0)}));return b}return void 0})}}g.getEphemeralSetting=a}),98);
__d("MAWMarkMessageSendAsFailedLSDB",["LSFactory","LSMarkOptimisticMessageFailedStoredProcedure"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d,e,g){return(b=e==null?void 0:e.runInTransaction(async function(b){await c("LSMarkOptimisticMessageFailedStoredProcedure")(c("LSFactory")(b),{errorMessage:d,isRetryable:g,optimisticMid:a})},"readwrite",void 0,void 0,f.id+":29"))!=null?b:Promise.resolve()}g.markMessageSendAsFailed=a}),98);
__d("MAWMessageSendReporterUtils",["WAResultOrError"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(!Array.isArray(a))return a.success===!0?d("WAResultOrError").makeResult([a.value]):a;else{var b=[];for(a of a){if((a==null?void 0:a.success)===!1)return a;(a==null?void 0:a.value)!=null&&b.push(a.value)}return d("WAResultOrError").makeResult(b)}}function b(a){for(var b of a)switch(b.messageType){case"sendMsg":case"editMsg":case"reactionMsg":case"revokeMsg":case"bumpMsg":case"sendPoll":continue;case"fixMe":return!0;default:b.messageType}return a.length===0}g.maybeCombineMultipleSendResults=a;g.getWasOverallOperationANoOp=b}),98);
__d("MAWMessageSendReporterV2",["FBLogger","LSIntEnum","LSMessagingThreadAttributionType","LSMessagingThreadTypeUtil","LSThreadAttributionTypeUtil","MAWMarkMessageSendAsFailedLSDB","MAWMessageSendReporterUtils","MAWMiActGetMappingWithMawTypes","MAWReportSendMessageSuccessResult","MWMsgMediaTypeLogUtils","MWSharedMsgLogUtils","MWSharedS2SBaseAnnotations","ReQL","WAGetSafeQPLError","mergeDeep","promiseDone","qex","sendToSentQPLLogger"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b;a===void 0&&(a="exposure_logging_enabled");switch(a){case"exposure_logging_disabled":return(b=c("qex")._("404"))!=null?b:!1;case"exposure_logging_enabled":return(b=c("qex")._("408"))!=null?b:!1;default:a;return!1}}async function b(a,b,e){var f=a.composerEntrypoint,g=a.extraAnnotations;g=g===void 0?{}:g;var j=a.lsSource,k=a.messageTypeParamsArgs,l=a.s2sInstanceKey,m=a.thread,n=a.externalId,o,p=[],q=await d("MWSharedS2SBaseAnnotations").queryMediaStagingAndGetMessageTypeParams(babelHelpers.extends({},k,{db:e,threadKey:m==null?void 0:m.threadKey}));o=q.messageTypeParams;p=q.mediaStagings;q=d("MWMsgMediaTypeLogUtils").getAttachmentType({hasFile:o.hasFile,hasGif:o.hasGif,hasHotEmoji:o.hasHotEmoji,hasImage:o.hasImage,hasLinks:o.hasLinks,hasShare:o.hasShare,hasSticker:o.hasSticker,hasVideo:o.hasVideo,hasVoiceClip:o.hasVoiceClip,isAttachmentsGrouped:o.isAttachmentsGrouped,numberOfAttachments:o.numberOfAttachments,numberOfGroupedAttachments:o.numberOfGroupedAttachments});l=(l=l)!=null?l:d("sendToSentQPLLogger").markSendToSentStart(void 0,q);q=(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").UNKNOWN);m!=null?(q=d("LSThreadAttributionTypeUtil").getSourceAndResetAttribution(m.threadKey,j),j=await d("MWSharedMsgLogUtils").getSendToSentAnnotations(m,o,(h||(h=d("LSIntEnum"))).unwrapIntEnum(q),f,n)):(o=d("MWSharedS2SBaseAnnotations").getMessageTypeParams(babelHelpers.extends({},k)),j=await d("MWSharedS2SBaseAnnotations").getSendToSentBaseAnnotations(o,c("LSMessagingThreadAttributionType").UNKNOWN,f,n));m=c("mergeDeep")(j,g);d("sendToSentQPLLogger").addSendToSentAnnotations(l,m);try{k=await b(l,o,p,q);if(k==null)return;f=d("MAWMessageSendReporterUtils").maybeCombineMultipleSendResults(k);if(f.success)d("MAWMessageSendReporterUtils").getWasOverallOperationANoOp(f.value)?(d("sendToSentQPLLogger").markSendToSentPoint(l,"no-op"),d("sendToSentQPLLogger").markSendToSentSuccess(l)):(f.value.forEach(d("MAWReportSendMessageSuccessResult").reportSendMessageSuccessResultFn),d("sendToSentQPLLogger").markSendToSentSuccess(l));else{n=f.error.isRetriable===!0;d("sendToSentQPLLogger").addSendToSentAnnotations(l,{bool:{isRetriable:(j=f.error.isRetriable)!=null?j:!1},int:{errorCode:(g=f.error.errorCode)!=null?g:0},string:{details:(m=f.error.details)!=null?m:""}});d("sendToSentQPLLogger").markSendToSentFail(l,"runtime-failure",void 0,f.error);i(a,n,e)}}catch(b){d("sendToSentQPLLogger").markSendToSentFail(l,"runtime-failure",b),i(a,!1,e,b),c("FBLogger")("messenger_web").catching(b).mustfix("MAWMessageSendReporterV2")}}function i(a,b,e,f){if(e==null)return;var g=a.externalId,h=a.thread;if(h==null||g==null)return;c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.tables.mi_act_mapping_table).getKeyRange(h.threadKey)),async function(a){if(a!=null){a=c("MAWMiActGetMappingWithMawTypes")(a,d("LSMessagingThreadTypeUtil").isGroup(h.threadType));a=a.jid;await d("MAWMarkMessageSendAsFailedLSDB").markMessageSendAsFailed(g,a,d("WAGetSafeQPLError").getSafeQPLErrorMessage(f),e,b)}})}g.isMessageSendReporterV2Enabled=a;g.MAWMessageSendReporterV2=b}),98);
__d("MAWMiActOnActThreadReadyWithoutValidator",["FBLogger","I64","MAWLoggerDeferred","MAWMiActGetThreadLifecycleState","MAWMiActOnActThreadReadyInstrumentation","MAWMiActOnActThreadReadyQueue","MAWMiActThreadLifecycleState","emptyFunction","err","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MiActMapping] Enqueue by thread key: ",", threadState: ",", threadKey: "," on act thread ready"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MiActMapping] Executing thread action: ",", threadState: ",", threadKey: "," on act thread ready"]);j=function(){return a};return a}async function k(a,b,e,f,g,k){var l=d("MAWMiActOnActThreadReadyInstrumentation").getOnActThreadReadyInstanceKey(e);d("MAWMiActOnActThreadReadyInstrumentation").startQPL(l,e,b,"onActThreadReady");d("MAWMiActOnActThreadReadyInstrumentation").addPointQPL(l,"get_thread_lifecycle_state_by_thread_key_start");k=k||await d("MAWMiActGetThreadLifecycleState").getThreadLifecycleStateByThreadKey(a,b,e);d("MAWMiActOnActThreadReadyInstrumentation").addPointQPL(l,"get_thread_lifecycle_state_by_thread_key_end");d("MAWMiActOnActThreadReadyInstrumentation").addAnnotationsQPL(l,{string:{threadState:k.type}});switch(k.type){case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.MI_AND_ACT_THREAD_COMPLETE:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_WITH_ACT:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD_WITH_ACT:c("promiseDone")(d("MAWLoggerDeferred").LOG(j(),e,k.type,(h||(h=d("I64"))).to_string(b)));d("MAWMiActOnActThreadReadyInstrumentation").endSuccessQPL(l);return f(b,k.jid);case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.THREAD_KEY_ONLY:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_MISSING_MAPPING_ROW:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_NO_ACT:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_ONLY:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.SERVER_PARTIAL_MI_THREAD:c("promiseDone")(d("MAWLoggerDeferred").LOG(i(),e,k.type,(h||(h=d("I64"))).to_string(b)));return d("MAWMiActOnActThreadReadyQueue").enqueueByThreadKey(b,f,(a=g)!=null?a:c("emptyFunction"),e,k.type,l);case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MAPPING_ROW:d("MAWMiActOnActThreadReadyInstrumentation").endFailureQPL(l,"jid_missing_mi_or_mapping_state");throw c("FBLogger")("messenger_web").mustfixThrow("[MiActMapping] Unhandled onActThreadReady for threadKey:\n        %s, thread action: %s",(h||(h=d("I64"))).to_string(b),e);default:k.type;throw c("FBLogger")("messenger_web").mustfixThrow("[MiActMapping] Unreachable miActThreadState.type: %s",k.type)}}function a(a,b,d){return new Promise(function(e,f){k(a,b,d,function(a,b){e({chatJid:b,serverThreadKey:a});return Promise.resolve()},function(a){return f(c("err")("Timed out waiting for ACT thread to be ready. Thread state: %s",a))}).catch(function(){return f()})})}g.onActThreadReadyWithoutValidator=k;g.waitForACTThreadReadyWithoutValidator=a}),98);
__d("MAWMiActOnActThreadReady",["MAWMIC","MAWMiActGetThreadLifecycleState","MAWMiActOnActThreadReadyWithoutValidator","cr:7542","err","promiseDone","sendToSentQPLLogger"],(function(a,b,c,d,e,f,g){"use strict";async function h(a,c,e,f,g){var h=await d("MAWMiActGetThreadLifecycleState").getThreadLifecycleStateByThreadKey(a,c,e),i=h.type,j=async function(d,g){b("cr:7542")&&await b("cr:7542").load().then(function(b){b=b.validateActThreadReady;return b({chatJid:g,description:e,initialMappingStateType:i,tables:a,threadKey:c})});return f==null?void 0:f(d,g)};return d("MAWMiActOnActThreadReadyWithoutValidator").onActThreadReadyWithoutValidator(a,c,e,j,g,h)}function a(a,b,e,f){return new Promise(function(g,i){h(a,b,e,function(a,b){g({chatJid:b,serverThreadKey:a});return Promise.resolve()},function(a){i(c("err")("Timed out waiting for ACT thread to be ready. Thread state: %s",a)),c("promiseDone")(d("MAWMIC").getState().then(function(a){f!=null&&d("sendToSentQPLLogger").addSendToSentAnnotations(f,{string:{mic_state:a}})}))}).catch(function(){return i()})})}g.onActThreadReady=h;g.waitForACTThreadReady=a}),98);
__d("MAWSendFileMsgTypes",["WAStanzaUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a}function b(a){return d("WAStanzaUtils").toStanzaId(a)}g.toOfflineAttachmentIDFromStanzaId=a;g.toOfflineAttachmentIDFromString=b}),98);
__d("MDSToastUtils",["fbt","CometScreenReaderText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(2),e;b[0]!==a?(e=a==="warning"?j.jsx(c("CometScreenReaderText.react"),{text:h._(/*BTDS*/"Warning:")}):j.jsx(c("CometScreenReaderText.react"),{text:h._(/*BTDS*/"Announcement:")}),b[0]=a,b[1]=e):e=b[1];return e}g.useAnnouncementTitle=a}),226);
__d("MWChatSettingsQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9672376216183311"}),null);
__d("MWChatSettingsQuery.graphql",["MWChatSettingsQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_tabs_turned_off",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chat_sounds_on",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatSettingsQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatSettingsQuery",selections:a},params:{id:b("MWChatSettingsQuery_facebookRelayOperation"),metadata:{},name:"MWChatSettingsQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatSettingsQuery",["CometRelay","CometRelayEnvironment","MWChatSettingsQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a){var b=d("CometRelay").fetchQuery(c("CometRelayEnvironment"),j,{},{fetchPolicy:"store-or-network"}).toPromise().then(function(b){var c;c=b==null?void 0:(c=b.viewer)==null?void 0:c.chat_tabs_turned_off;b=b==null?void 0:(b=b.viewer)==null?void 0:b.chat_sounds_on;a(c,b);return});c("promiseDone")(b)},j=h!==void 0?h:h=b("MWChatSettingsQuery.graphql");a=function(a){i(function(b,c){return a(b)})};e=function(a){i(function(b,c){return a(c!=null&&c)})};g.areChatTabsTurnedOff=a;g.areChatTabsSoundsOn=e}),98);
__d("MWChatThreadId",["FBLogger","I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){switch(a.NAME){case"Group":case"User":case"Page":case"UserSecret":return a.VAL}}function b(a){switch(a.NAME){case"Group":return"g."+a.VAL;case"Page":return"p."+a.VAL;case"User":return"u."+a.VAL;case"UserSecret":throw c("FBLogger")("messenger_web").mustfixThrow("MWChatThreadIdType Not supported")}}function e(a){switch(a.targetType){case"GROUP":return{NAME:"Group",VAL:a.targetID};case"PAGE":return{NAME:"Page",VAL:a.targetID};case"USER":return{NAME:"User",VAL:a.targetID};default:throw c("FBLogger")("messenger_web").mustfixThrow("Invalid id")}}function f(a){return a.NAME==="User"}function j(a){return a.NAME==="UserSecret"}function k(a){if(a==null)return;a=a.split(":");if(a.length!==2)return;var b=a[0];a=a[1];switch(b){case"thread":return{NAME:"Group",VAL:a};case"user":return{NAME:"User",VAL:a};default:return}}function l(a){a=a.NAME;if(a==="Group")return(h||(h=d("LSIntEnum"))).ofNumber(2);return a==="User"||a==="Page"?(h||(h=d("LSIntEnum"))).ofNumber(1):(h||(h=d("LSIntEnum"))).ofNumber(7)}function m(a){return(i||(i=d("I64"))).of_string(a.VAL)}g.getFBID=a;g.serializeFuture=b;g.fromJs=e;g.isUser=f;g.isSecret=j;g.deserializeFromLegacyThreadId=k;g.getMessagingThreadType=l;g.toThreadKey=m}),98);
__d("MWGenAIUtils",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("I64"))).of_string(String(156025504001094));function a(a){return(h||(h=d("I64"))).equal(a,i)}function b(a){a=typeof a==="string"?(h||(h=d("I64"))).of_string(a):a;return(h||(h=d("I64"))).equal(a,i)}g.META_AI_THREAD_KEY=i;g.isMetaAIThread=a;g.isMetaAIContact=b}),98);
__d("MWPContactContext.react",["react","react-compiler-runtime","shallowEqualI64"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useContext;e.useMemo;var k=e.useRef,l=i.createContext({authorName:void 0,contact:void 0,nickname:void 0}),m=i.createContext({authorName:void 0,contact:void 0,nickname:void 0});function a(){return j(l)}function b(){return j(m)}function c(a){var b=d("react-compiler-runtime").c(14),c=a.children,e=a.contact;a=a.nickname;var f;if(a!=null)f=a;else if(e!=null){var g=e.firstName;f=g!=null?g:e.name}else f=void 0;g=f;f=g;b[0]!==f||b[1]!==e||b[2]!==a?(g={authorName:f,contact:e,nickname:a},b[0]=f,b[1]=e,b[2]=a,b[3]=g):g=b[3];g=g;g=g;e=n(e);var h;b[4]!==f||b[5]!==a||b[6]!==e?(h={authorName:f,contact:e,nickname:a},b[4]=f,b[5]=a,b[6]=e,b[7]=h):h=b[7];f=h;a=f;b[8]!==c||b[9]!==a?(e=i.jsx(m.Provider,{value:a,children:c}),b[8]=c,b[9]=a,b[10]=e):e=b[10];b[11]!==g||b[12]!==e?(h=i.jsx(l.Provider,{value:g,children:e}),b[11]=g,b[12]=e,b[13]=h):h=b[13];return h}function n(a){var b=k();a=a?{blockedByViewerStatus:a.blockedByViewerStatus,capabilities:a.capabilities,capabilities2:a.capabilities2,contactTypeExact:a.contactTypeExact,name:a.name,profilePictureFallbackUrl:a.profilePictureFallbackUrl,profilePictureUrl:a.profilePictureUrl,profilePictureUrlExpirationTimestampMs:a.profilePictureUrlExpirationTimestampMs,secondaryName:a.secondaryName}:void 0;d("shallowEqualI64").shallowEqualI64(b.current,a)||(b.current=a);return b.current}g.useMWPContactFullContext=a;g.useMWPContactStableContext=b;g.MWPContactContextProvider=c}),98);
__d("MWGroupBlockingProtectionUtils",["fbt","I64","LSContactBlockedByViewerStatus","LSIntEnum","MWPContactContext.react","ReQL","ReQLSuspense","react-compiler-runtime","recoverableViolation","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k;function l(a){var b=d("react-compiler-runtime").c(8),e=(k||(k=c("useReStore")))(),g;b[0]!==e.tables.threads||b[1]!==a?(g=function(){return d("ReQL").fromTableAscending(e.tables.threads,["threadType"]).getKeyRange(a).map(m)},b[0]=e.tables.threads,b[1]=a,b[2]=g):g=b[2];var h;b[3]!==e||b[4]!==a?(h=[e,a],b[3]=e,b[4]=a,b[5]=h):h=b[5];g=d("ReQLSuspense").useFirst(g,h,f.id+":30");if(g==null)return!1;b[6]!==g?(h=(i||(i=d("I64"))).equal(g,(j||(j=d("LSIntEnum"))).ofNumber(2))||(i||(i=d("I64"))).equal(g,(j||(j=d("LSIntEnum"))).ofNumber(16))||(i||(i=d("I64"))).equal(g,(j||(j=d("LSIntEnum"))).ofNumber(18)),b[6]=g,b[7]=h):h=b[7];return h}function m(a){return a.threadType}function a(a){a=l(a);var b=d("MWPContactContext.react").useMWPContactStableContext();b=b.contact;return a&&b?!(i||(i=d("I64"))).equal(b.blockedByViewerStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED)):!1}function b(a,b){var e=d("react-compiler-runtime").c(4),g=(k||(k=c("useReStore")))(),h,m;e[0]!==g||e[1]!==a?(h=function(){return a!=null?d("ReQL").fromTableAscending(g.tables.contacts).getKeyRange(a):d("ReQL").empty()},m=[g,a],e[0]=g,e[1]=a,e[2]=h,e[3]=m):(h=e[2],m=e[3]);e=d("ReQLSuspense").useFirst(h,m,f.id+":69");h=l(b);return h&&e?!(i||(i=d("I64"))).equal(e.blockedByViewerStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED)):!1}function e(a,b){var e,g=d("react-compiler-runtime").c(8),l=(k||(k=c("useReStore")))(),m=(e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(l.tables.messages).getKeyRange(a)},[l,a],f.id+":92"))==null?void 0:e.senderId;g[0]!==l.tables.contacts||g[1]!==m?(e=function(){return m!=null?d("ReQL").fromTableAscending(l.tables.contacts).getKeyRange(m):d("ReQL").empty()},g[0]=l.tables.contacts,g[1]=m,g[2]=e):e=g[2];var n;g[3]!==l||g[4]!==m?(n=[l,m],g[3]=l,g[4]=m,g[5]=n):n=g[5];e=d("ReQLSuspense").useFirst(e,n,f.id+":96");n=e==null?!1:!(i||(i=d("I64"))).equal(e.blockedByViewerStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED));b=(i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(2))||(i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(16))||(i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(18));if(!(b&&n))return null;n=(b=e==null?void 0:e.firstName)!=null?b:e==null?void 0:e.name;if(n==null){c("recoverableViolation")("Empty first name for blocked contact","messenger_web_wellbeing");return null}g[6]!==n?(b=h._(/*BTDS*/"{blocked contact's name} sent a message.",[h._param("blocked contact's name",n)]).toString(),g[6]=n,g[7]=b):b=g[7];return b}g.useShouldEnableBlockingProtection=l;g.useMWGetSnippetForBlockingProtection=e;g.useMWIsContactBlocked=a;g.useMWIsMessageSentByBlockedContact=b}),226);
__d("MWLSContactTypeExactUtils",["I64","LSContactTypeExact","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").IG_USER))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").IG_BUSINESS_USER)))return!0;else return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").IG_CREATOR_USER))}g.isIgContact=a}),98);
__d("MWPReplyContext.react",["I64","emptyFunction","react","react-compiler-runtime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));b=h;e=b.createContext;b.useCallback;b.useMemo;var k=b.useState,l=c("requireDeferred")("MWPReplyLogging").__setRef("MWPReplyContext.react"),m=e({clearReply:c("emptyFunction"),reply:void 0,setReply:c("emptyFunction")});function n(a){try{return JSON.parse(a)}catch(a){return}}function a(a){var b=d("react-compiler-runtime").c(17),c=a.children,e=a.clearThreadReply,f=a.getRepliesState,g=a.persistRepliesState,h=a.senderId;a=a.threadKey;var o;b[0]!==f||b[1]!==a?(o=f!=null&&a!=null?n(f((i||(i=d("I64"))).to_string(a))):void 0,b[0]=f,b[1]=a,b[2]=o):o=b[2];f=o;a=k(f);var p=a[0],q=a[1];b[3]!==e||b[4]!==p?(o=function(a,b){l.onReady(function(c){c.logClearReply(b,a,p!=null)});q();if(e!=null)return e((i||(i=d("I64"))).to_string(a))},b[3]=e,b[4]=p,b[5]=o):o=b[5];f=o;b[6]!==g||b[7]!==p||b[8]!==h?(a=function(a,b){l.onReady(function(c){c.logSetReply(p,a,b)});q(a);if(g!=null)return g({messageId:a.messageId,offlineThreadingId:a.offlineThreadingId,senderId:h,sendStatusV2:a.sendStatusV2,threadKey:(i||(i=d("I64"))).to_string(b),timestampMs:a.timestampMs})},b[6]=g,b[7]=p,b[8]=h,b[9]=a):a=b[9];o=a;b[10]!==f||b[11]!==p||b[12]!==o?(a={clearReply:f,reply:p,setReply:o},b[10]=f,b[11]=p,b[12]=o,b[13]=a):a=b[13];f=a;o=f;b[14]!==c||b[15]!==o?(a=j.jsx(m.Provider,{value:o,children:c}),b[14]=c,b[15]=o,b[16]=a):a=b[16];return a}g.MWPReplyContext=m;g.MWPReplyContextProvider=a}),98);
__d("MWPVisibleMessageContext.react",["ReQL","ReQLSuspense","emptyFunction","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.createContext,l=e.useContext,m=e.useEffect;e.useMemo;var n=e.useState;e={setVisibleMessage:c("emptyFunction"),visibleMessage:void 0};var o=k(e);function a(a){var b=d("react-compiler-runtime").c(9);a=a.children;var e=n(),g=e[0],i=e[1],k=(h||(h=c("useReStore")))(),l=g==null?void 0:g.messageOtid,p=g==null?void 0:g.messageId,q=(e=d("ReQLSuspense").useFirst(function(){return l!=null?d("ReQL").fromTableAscending(k.tables.messages.index("optimistic")).getKeyRange(l):d("ReQL").empty()},[k,l],f.id+":64"))==null?void 0:e.messageId,r;b[0]!==p||b[1]!==q?(e=function(){q!=null&&p==null&&i(function(a){return a==null?null:babelHelpers["extends"]({},a,{messageId:q})})},r=[i,p,q],b[0]=p,b[1]=q,b[2]=e,b[3]=r):(e=b[2],r=b[3]);m(e,r);b[4]!==g?(e={setVisibleMessage:i,visibleMessage:g},b[4]=g,b[5]=e):e=b[5];r=e;g=r;b[6]!==a||b[7]!==g?(e=j.jsx(o.Provider,{value:g,children:a}),b[6]=a,b[7]=g,b[8]=e):e=b[8];return e}function b(){return l(o)}g.MWPVisibleMessageContext=o;g.MWPVisibleMessageContextProvider=a;g.useMWPVisibleMessageContext=b}),98);
__d("SearchStandardResultType",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({CONTACT:1,NON_CONTACT:2,GROUP:3,XAC_CONTACT:4,XAC_NON_CONTACT:5,XAC_GROUP:6,OTHER:7,SOFT_CONTACT:8,PAGE:9,GAME:10,SMS:11,SMS_GROUP:12,WHATSAPP:13,INTEGRATED_MESSAGE_SEARCH_THREAD:14,IG_BUSINESS:15,COMMUNITY_CHAT:16,REEL:17,PUBLIC_CHAT:18,UNJOINED_COMMUNITIES:19,UNJOINED_SOCIAL_CHANNEL:20,JOINED_SOCIAL_CHANNEL:21,UNJOINED_BROADCAST_CHANNEL:22,JOINED_BROADCAST_CHANNEL:23,UNJOINED_SUBSCRIBER_SOCIAL_CHANNEL:24,JOINED_SUBSCRIBER_SOCIAL_CHANNEL:25,UNJOINED_SUBSCRIBER_BROADCAST_CHANNEL:26,JOINED_SUBSCRIBER_BROADCAST_CHANNEL:27,MOST_ENGAGED_FOLLOWERS:28,MOST_RECENT_FOLLOWERS:29,DIRECT_INVITE_MIX_TYPES:30,BROADCAST_FLOW_CHAT:31,UNJOINED_COMMUNITY_CHAT:32,AI_AGENT:33,COMMUNITIES:34,MEDIA:35,LINKS:36,FILES:37,CONTACT_INVITE:38,UGC_BOT:39,META_AI_SNIPPET:40,META_AI_SNIPPET_PROMPT:41,META_AI_VOICE:42,MARKETPLACE_THREAD:43,PHOTO:44,VIDEO:45,MARKETPLACE_FOLDER:46,META_AI_RENDER_SNIPPET_COMPLETE:47,PHONE_CONTACT_SYNCED:48,PHONE_CONTACT_NOT_SYNCED:49});c=a;f["default"]=c}),66);
__d("MWSearchStandardResultTypeMappings",["I64","LSContactType","LSContactTypeExact","LSContactViewerRelationship","LSIntEnum","LSMessagingThreadTypeUtil"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=a.contactType,e=a.contactViewerRelationship;a=a.contactTypeExact;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").GENERATIVE_AI_BOT)))return 33;if((h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactType").USER))){if((h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").NOT_CONTACT)))return 2;return(h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").SOFT_CONTACT))||(h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").CONTACT_OF_VIEWER))||(h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").FACEBOOK_FRIEND))?1:7}return(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactType").PAGE))?9:7}function j(a){if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(1)))return 1;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(2)))return 2;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(3)))return 3;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(4)))return 9;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(13)))return 16;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(5)))return 14;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(14)))return 18;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(17)))return 34;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(6))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(7)))return 4;return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(8))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(9))?5:7}function k(a){if(d("LSMessagingThreadTypeUtil").isOneToOne(a))return 1;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(153)))return 22;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(152)))return 23;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(150))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(154)))return 21;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(151))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(155)))return 20;return d("LSMessagingThreadTypeUtil").isGroup(a)?3:7}function b(a,b){a=k(a);if(a===7)return j(b);else return a}g.mapContactToSearchStandardResultType=a;g.mapLSSearchTypeToSearchStandardResultType=j;g.mapThreadTypeToSearchStandardResultType=k;g.mapServerSearchResultToSearchStandardResultType=b}),98);
__d("MWV2IsTabFocusedContext.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=e(!1);function a(a){var b=d("react-compiler-runtime").c(3),c=a.children;a=a.isFocused;var e;b[0]!==c||b[1]!==a?(e=i.jsx(k.Provider,{value:a,children:c}),b[0]=c,b[1]=a,b[2]=e):e=b[2];return e}function b(){return j(k)}g.MWV2IsTabFocusedContextProvider=a;g.useIsTabFocused=b}),98);
__d("MWXDeferredPopoverTrigger.react",["cr:4346","cr:7154","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var c=d("react-compiler-runtime").c(4);if(b("cr:4346")!=null){var e;c[0]!==a?(e=i.jsx(b("cr:4346"),babelHelpers["extends"]({},a)),c[0]=a,c[1]=e):e=c[1];return e}if(b("cr:7154")!=null){c[2]!==a?(e=i.jsx(b("cr:7154"),babelHelpers["extends"]({},a)),c[2]=a,c[3]=e):e=c[3];return e}return null}g["default"]=a}),98);
__d("MWXIconGroup",["MWXSvgIcon","SVGIcon","cr:12457","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12457")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXProfilePhoto.react",["FDSProfilePhoto.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(10),e,f;b[0]!==a?(f=a.ref,e=babelHelpers.objectWithoutPropertiesLoose(a,["ref"]),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);var g;if(b[3]!==e){a=e;g=a.isDecorative;a=babelHelpers.objectWithoutPropertiesLoose(a,["isDecorative"]);b[3]=e;b[4]=g;b[5]=a}else g=b[4],a=b[5];b[6]!==g||b[7]!==a||b[8]!==f?(e=i.jsx(c("FDSProfilePhoto.react"),babelHelpers["extends"]({"aria-hidden":g},a,{ref:f})),b[6]=g,b[7]=a,b[8]=f,b[9]=e):e=b[9];return e}g["default"]=a}),98);
__d("MWXToast.react",["MDSToastUtils","cr:1339","cr:3542","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var c=d("react-compiler-runtime").c(28),e=a.actions,f=a.announcementType,g=a.assertive,h=a.body,j=a.icon,k=a.impressionLoggingRef,l=a.onDismiss,m=a.startAddOn,n=a.supressCloseButton,o=a.testid;a=a.title;f=f===void 0?"general":f;g=g===void 0?!1:g;m=m===void 0?null:m;n=n===void 0?!1:n;o=o===void 0?"mw-toast":o;var p;c[0]!==(j==null?void 0:j.mds)?(p=(j==null?void 0:j.mds)!=null?{hiddenAria:!0,source:j==null?void 0:j.mds,type:"icon"}:void 0,c[0]=j==null?void 0:j.mds,c[1]=p):p=c[1];p=p;j=(j=j==null?void 0:j.comet)!=null?j:void 0;if(c[2]!==h||c[3]!==a){var q;q=a!=null&&h!=null?i.jsxs(i.Fragment,{children:[a,i.jsx("br",{}),h]}):(q=(q=a)!=null?q:h)!=null?q:"";c[2]=h;c[3]=a;c[4]=q}else q=c[4];q=q;var r=d("MDSToastUtils").useAnnouncementTitle(f),s;c[5]!==q||c[6]!==r?(s=i.jsxs(i.Fragment,{children:[r,q]}),c[5]=q,c[6]=r,c[7]=s):s=c[7];q=s;c[8]!==j||c[9]!==q||c[10]!==k||c[11]!==l||c[12]!==n||c[13]!==o?(r={icon:j,impressionLoggingRef:k,message:q,onDismiss:l,testid:o,withoutCloseButton:n},c[8]=j,c[9]=q,c[10]=k,c[11]=l,c[12]=n,c[13]=o,c[14]=r):r=c[14];s=r;c[15]!==e||c[16]!==f||c[17]!==g||c[18]!==h||c[19]!==s||c[20]!==k||c[21]!==p||c[22]!==l||c[23]!==m||c[24]!==n||c[25]!==o||c[26]!==a?(j=b("cr:3542")!=null?i.jsx(b("cr:3542"),{actions:e,announcementType:f,assertive:g,body:h,closeButtonAriaHidden:!0,impressionLoggingRef:k,onDismiss:l,startAddOn:m!==null?m:p,testid:void 0,title:a,withCloseButton:!n}):b("cr:1339")!=null?e!=null?i.jsx(b("cr:1339"),babelHelpers["extends"]({},s,{action:babelHelpers["extends"]({},e.primaryCallToAction)})):i.jsx(b("cr:1339"),babelHelpers["extends"]({},s)):null,c[15]=e,c[16]=f,c[17]=g,c[18]=h,c[19]=s,c[20]=k,c[21]=p,c[22]=l,c[23]=m,c[24]=n,c[25]=o,c[26]=a,c[27]=j):j=c[27];return j}g["default"]=a}),98);
__d("ThreadStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,PAUSED:1,PAUSED_AND_UPGRADED_TO_COMMUNITY:2,UPGRADED_TO_COMMUNITY_AND_TO_BE_PAUSED:3});f["default"]=a}),66);
__d("getLSMediaContactProfilePictureUrl",["LSMediaUrlUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.profilePictureUrlExpirationTimestampMs;if(b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)||a.profilePictureUrl===""){return(b=a.profilePictureFallbackUrl)!=null?b:a.profilePictureUrl}else return a.profilePictureUrl}g["default"]=a}),98);
__d("getLSMediaThreadPictureUrl",["LSMediaUrlUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.threadPictureUrl,c=a.threadPictureUrlExpirationTimestampMs;a=a.threadPictureUrlFallback;c=c;return c!=null&&d("LSMediaUrlUtils").isTimestampExpired(c)?a:b}g["default"]=a}),98);
__d("isMWBumpMessage",["EntMessageReplyType","I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return a!=null&&(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("EntMessageReplyType").BUMP))}g["default"]=a}),98);
__d("isReceiverFetchReceivingEnabled",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a)return c("gkx")("6743");else return c("gkx")("6744")}g["default"]=a}),98);
__d("mwPushToast",["ix","BaseToasterStateManager","MWXToast.react","cr:4379","cr:6570","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=c("BaseToasterStateManager").getInstance();function l(a,b){var d=a.announcementType,e=a.assertive,f=a.body,g=a.icon,h=a.impressionLoggingRef,i=a.onDismiss,l=a.startAddOn;l=l===void 0?null:l;var m=a.supressCloseButton;m=m===void 0?!1:m;var n=a.testid;n=a.title;b===void 0&&(b=2750);var o=k.push(j.jsx(c("MWXToast.react"),{announcementType:d,assertive:e,body:f,icon:g,impressionLoggingRef:h,onDismiss:function(){k.expire(o),i==null?void 0:i()},startAddOn:l,supressCloseButton:m,testid:void 0,title:n}),b);return o}function a(a,c){var e,f=a.body,g=a.onDismiss;a=a.title;c===void 0&&(c=2750);var i=b("cr:6570")!==null?j.jsx(b("cr:6570"),{color:"warning",icon:d("fbicon")._(h("502062"),20)}):void 0;e=(e=b("cr:4379"))!=null?e:void 0;return l({announcementType:"warning",assertive:!0,body:f,icon:{comet:i,mds:e},onDismiss:g,title:a},c)}g.mwPushToast=l;g.mwPushErrorToast=a}),98);
__d("useMWFamilyCenterContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");c=b.createContext;var i=b.useContext;e={currentActiveScheduledBreakInterval:null,hasActiveMsgrFamilyCenterEnforcement:!1,isAllowedRoute:!1,shouldHideSidebar:!1,shouldShowDailyTimeLimit:!1,supervisorData:{supervisionStatus:null,supervisor:null,thread:null}};var j=c({familyCenterData:e,setFamilyCenterData:function(){}});function a(){return i(j)}g.emptyFamilyCenterData=e;g.FamilyCenterContext=j;g.useMWFamilyCenterEnforcementsContext=a}),98);
__d("useStringWithSubstitutions",["fbt","CometLruCache","CurrentMessengerUser","Env","FBLogger","I64","Int64Hooks","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSVerifyContactRowExistsStoredProcedure","Promise","ReQL","ReQLSuspense","gkx","justknobx","nullthrows","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n=m||d("react"),o=n.useEffect,p=n.useMemo;n=Boolean((k||(k=c("Env"))).isMessengerDotComOnComet)?"Messenger":c("gkx")("22979")?"Instagram":"Facebook";var q=h._(/*BTDS*/"{Platform Name} User",[h._param("Platform Name",n)]).toString(),r=/(\$?)\$([a-zA-Z_]+)(?:\((.*?)\))?/g,s=/()(@)(?:(\d*?)@msgr)/g,t=d("CometLruCache").create(100);function u(a,e){var f=(l||(l=d("I64"))).to_string(e);if(t.has(f))return(i||(i=b("Promise"))).resolve();t.set(f,!0);return c("LSVerifyContactRowExistsStoredProcedure")(c("LSFactory")(a),{authorityLevel:l.of_int32(c("LSAuthorityLevel").OPTIMISTIC),blockedByViewerStatus:l.of_int32(c("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:l.of_int32(c("LSContactIdType").FBID),contactType:l.of_int32(c("LSContactType").USER),contactViewerRelationship:l.of_int32(c("LSContactViewerRelationship").UNKNOWN),gender:l.of_int32(c("LSContactGender").UNKNOWN),id:e,isBlocked:!1,isMemorialized:!1,isSelf:e===d("CurrentMessengerUser").getID(),workForeignEntityType:l.of_int32(c("LSContactWorkForeignEntityType").UNKNOWN)})}function v(a,b){var c=0,d=a.length-1;while(c<=d){var e=c+d>>1;a[e][0]<b?c=e+1:d=e-1}return d}function w(a,b,c,d){var e=[[-1,0]];a=a.replace(c,function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),f=1;f<b;f++)c[f-1]=arguments[f];var g=c[c.length-2],h=d.apply(void 0,[a].concat(c));if(h.length===a.length)return h;e.push([g,a.length-h.length+e[e.length-1][1]]);return h});if(e.length===1)return{textWithSubstitutions:a,updatedRanges:b};c=[];for(b of b){var f=v(e,b.offset);c.push(babelHelpers["extends"]({},b,{length:b.length-(e[f+1]!=null&&e[f+1][0]<=b.offset+b.length?e[f+1][1]-e[f][1]:0),offset:b.offset-e[f][1]}))}return{textWithSubstitutions:a,updatedRanges:c}}var x={CONTACT_FIRST_NAME:[function(a){return function(b){return d("ReQL").fromTableAscending(a.tables.contacts,["name","firstName","id"]).getKeyRange(b).map(function(a){var b=a.firstName;a=a.name;return(b=b)!=null?b:a})}},function(a){return q},u],CONTACT_FULL_NAME:[function(a){return function(b){return d("ReQL").fromTableAscending(a.tables.contacts,["name"]).getKeyRange(b).map(function(a){a=a.name;return a})}},function(a){return q},u],PARTICIPANT_FIRST_NAME:[function(a){return function(b,c){var e=c.threadKey;return d("ReQL").fromTableAscending(a.tables.contacts,["name","firstName","id"]).getKeyRange(b).map(function(b){var c=b.firstName,g=b.id;b=b.name;g=e==null?null:d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.tables.participants,["nickname"]).getKeyRange(e,g),f.id+":188");return(g=(g=g==null?void 0:g.nickname)!=null?g:c)!=null?g:b})}},function(a){return q},u],PARTICIPANT_FULL_NAME:[function(a){return function(b,c){var e=c.threadKey;return d("ReQL").fromTableAscending(a.tables.contacts,["name","id"]).getKeyRange(b).map(function(b){var c=b.id;b=b.name;c=e==null?null:d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.tables.participants,["nickname"]).getKeyRange(e,c),f.id+":207");return(c=c==null?void 0:c.nickname)!=null?c:b})}},function(a){return q},u]};function y(a,e,g,h,k,m){var n=function(a){return((a=a.entity)==null?void 0:a.__typename)==="Thread"},q=e.filter(n),r=e.filter(function(a){return!n(a)}),s=(j||(j=c("useReStore")))(),t=d("Int64Hooks").useMemoInt64(function(){return{threadKey:g}},[g]),u=p(function(){var b,e=[],f=0;if(a!=null){h.lastIndex=0;while((b=h.exec(a))!==null){b=c("nullthrows")(b);b[0];var g=b[1],i=b[2],j=b[3];g||(function(){var a=(l||(l=d("I64"))).of_string_opt(j);if(a==null||j==="0")m&&c("FBLogger")("messenger_web").mustfix("Invalid user id for substitution key %s: %s",i,j);else{var b=f,g=k[i];g!=null&&(e.push([g[0](s)(a,t).take(1).map(function(a){return[b,a]}),function(b){return g[2](b,a)}]),f++)}})()}}return e},[t,s,a,h,k]),v=d("ReQLSuspense").useArray(function(){return u.length?u.length===1?u[0][0]:d("ReQL").union.apply(void 0,u.map(function(a){return a[0]})):d("ReQL").empty()},[u],f.id+":292"),x=p(function(){return new Map(v)},[v]);o(function(){var a=u.map(function(a,b){a[0];a=a[1];return x.has(b)?null:a}).filter(Boolean);a.length&&c("promiseDone")(s.runInTransaction(function(c){return(i||(i=b("Promise"))).all(a.map(function(a){return a(c)}))},"readwrite",void 0,void 0,f.id+":319"))},[s,u,x]);return p(function(){if(a==null)return null;var b=0,c=w(a,r,h,function(a,c,e,f){var g=k[e];return c||g==null||(l||(l=d("I64"))).of_string_opt(f)==null?a:x.get(b++)||k[e][1](f)}),e=c.textWithSubstitutions;c=c.updatedRanges;return{textWithSubstitutions:e,updatedRanges:[].concat(c,q)}},[a,r,q,h,x,k])}function a(a,b){return(a=y(a,[],b,r,x,!0))==null?void 0:(b=a.textWithSubstitutions)==null?void 0:b.replace==null?void 0:b.replace(/\$\$/g,"$$")}function e(a,b,e,g){var h=p(function(){return{"@":[function(a){return function(b){return e.has((l||(l=d("I64"))).to_string(b))?d("ReQL").fromTableAscending(a.tables.contacts,["name","id"]).getKeyRange(b).map(function(b){var e=b.id;b=b.name;if(c("justknobx")._("1389")){e=g==null?null:d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.tables.participants,["nickname"]).getKeyRange(g,e),f.id+":411");e=(e=e==null?void 0:e.nickname)!=null?e:b;return"@"+e}else return"@"+b}):d("ReQL").empty()}},function(a){return e.has(a)?"@"+q:"@"+a+"@msgr"},u]}},[e]);return y(a,b,void 0,s,h,!1)}g.useStringWithSubstitutions=a;g.useStringWithMentionSubstitutionsAndUpdatedRanges=e}),226);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/BDuAztjQnAL/
 */
__d("CryptoJS",[],(function(a,b,c,d,e,f){!function(a,b){"object"==typeof f?e.exports=f=b():"function"==typeof define&&define.amd?define([],b):a.CryptoJS=b()}(this,function(){var a=a||function(a,b){var c=Object.create||function(){function a(){}return function(b){return a.prototype=b,b=new a,a.prototype=null,b}}(),d={},e=d.lib={},f=e.Base=function(){return{extend:function(a){var b=c(this);return a&&b.mixIn(a),b.hasOwnProperty("init")&&this.init!==b.init||(b.init=function(){b.$super.init.apply(this,arguments)}),b.init.prototype=b,b.$super=this,b},create:function(){var a=this.extend();return a.init.apply(a,arguments),a},init:function(){},mixIn:function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),g=e.WordArray=f.extend({init:function(a,c){a=this.words=a||[],c!=b?this.sigBytes=c:this.sigBytes=4*a.length},toString:function(a){return(a||i).stringify(this)},concat:function(a){var b=this.words,c=a.words,d=this.sigBytes;a=a.sigBytes;if(this.clamp(),d%4)for(var e=0;e<a;e++){var f=c[e>>>2]>>>24-e%4*8&255;b[d+e>>>2]|=f<<24-(d+e)%4*8}else for(var e=0;e<a;e+=4)b[d+e>>>2]=c[e>>>2];return this.sigBytes+=a,this},clamp:function(){var b=this.words,c=this.sigBytes;b[c>>>2]&=4294967295<<32-c%4*8,b.length=a.ceil(c/4)},clone:function(){var a=f.clone.call(this);return a.words=this.words.slice(0),a},random:function(b){for(var c,d=[],e=function(b){var b=b,c=987654321,d=4294967295;return function(){c=36969*(65535&c)+(c>>16)&d,b=18e3*(65535&b)+(b>>16)&d;var e=(c<<16)+b&d;return e/=4294967296,e+=.5,e*(a.random()>.5?1:-1)}},f=0;f<b;f+=4){var i=e(4294967296*(c||a.random()));c=987654071*i(),d.push(4294967296*i()|0)}return new g.init(d,b)}}),h=d.enc={},i=h.Hex={stringify:function(a){for(var b=a.words,a=a.sigBytes,c=[],d=0;d<a;d++){var e=b[d>>>2]>>>24-d%4*8&255;c.push((e>>>4).toString(16)),c.push((15&e).toString(16))}return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d+=2)c[d>>>3]|=parseInt(a.substr(d,2),16)<<24-d%8*4;return new g.init(c,b/2)}},j=h.Latin1={stringify:function(a){for(var b=a.words,a=a.sigBytes,c=[],d=0;d<a;d++){var e=b[d>>>2]>>>24-d%4*8&255;c.push(String.fromCharCode(e))}return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d++)c[d>>>2]|=(255&a.charCodeAt(d))<<24-d%4*8;return new g.init(c,b)}},k=h.Utf8={stringify:function(a){try{return decodeURIComponent(escape(j.stringify(a)))}catch(a){throw new Error("Malformed UTF-8 data")}},parse:function(a){return j.parse(unescape(encodeURIComponent(a)))}},l=e.BufferedBlockAlgorithm=f.extend({reset:function(){this._data=new g.init,this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=k.parse(a)),this._data.concat(a),this._nDataBytes+=a.sigBytes},_process:function(b){var c=this._data,d=c.words,e=c.sigBytes,f=this.blockSize,i=4*f;i=e/i;i=b?a.ceil(i):a.max((0|i)-this._minBufferSize,0);b=i*f;i=a.min(4*b,e);if(b){for(e=0;e<b;e+=f)this._doProcessBlock(d,e);var j=d.splice(0,b);c.sigBytes-=i}return new g.init(j,i)},clone:function(){var a=f.clone.call(this);return a._data=this._data.clone(),a},_minBufferSize:0}),m=(e.Hasher=l.extend({cfg:f.extend(),init:function(a){this.cfg=this.cfg.extend(a),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(a){return this._append(a),this._process(),this},finalize:function(a){a&&this._append(a);a=this._doFinalize();return a},blockSize:16,_createHelper:function(a){return function(b,c){return new a.init(c).finalize(b)}},_createHmacHelper:function(a){return function(b,c){return new m.HMAC.init(a,c).finalize(b)}}}),d.algo={});return d}(Math);return function(){function b(a,b,c){for(var d=[],f=0,g=0;g<b;g++)if(g%4){var h=c[a.charCodeAt(g-1)]<<g%4*2,i=c[a.charCodeAt(g)]>>>6-g%4*2;d[f>>>2]|=(h|i)<<24-f%4*8,f++}return e.create(d,f)}var c=a,d=c.lib,e=d.WordArray;d=c.enc;d.Base64={stringify:function(a){var b=a.words,c=a.sigBytes,d=this._map;a.clamp();for(var a=[],e=0;e<c;e+=3)for(var f=b[e>>>2]>>>24-e%4*8&255,g=b[e+1>>>2]>>>24-(e+1)%4*8&255,h=b[e+2>>>2]>>>24-(e+2)%4*8&255,f=f<<16|g<<8|h,g=0;g<4&&e+.75*g<c;g++)a.push(d.charAt(f>>>6*(3-g)&63));h=d.charAt(64);if(h)for(;a.length%4;)a.push(h);return a.join("")},parse:function(a){var c=a.length,d=this._map,e=this._reverseMap;if(!e){e=this._reverseMap=[];for(var f=0;f<d.length;f++)e[d.charCodeAt(f)]=f}f=d.charAt(64);if(f){d=a.indexOf(f);d!==-1&&(c=d)}return b(a,c,e)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(b){function c(a,b,c,d,e,f,h){a=a+(b&c|~b&d)+e+h;return(a<<f|a>>>32-f)+b}function d(a,b,c,d,e,f,h){a=a+(b&d|c&~d)+e+h;return(a<<f|a>>>32-f)+b}function e(a,b,c,d,e,f,h){a=a+(b^c^d)+e+h;return(a<<f|a>>>32-f)+b}function f(a,b,c,d,e,f,h){a=a+(c^(b|~d))+e+h;return(a<<f|a>>>32-f)+b}var g=a,h=g.lib,i=h.WordArray,j=h.Hasher;h=g.algo;var k=[];!function(){for(var a=0;a<64;a++)k[a]=4294967296*b.abs(b.sin(a+1))|0}();h=h.MD5=j.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(a,b){for(var j=0;j<16;j++){var h=b+j,i=a[h];a[h]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}h=this._hash.words;i=a[b+0];j=a[b+1];var l=a[b+2],m=a[b+3],n=a[b+4],o=a[b+5],p=a[b+6],q=a[b+7],r=a[b+8],s=a[b+9],t=a[b+10],u=a[b+11],v=a[b+12],w=a[b+13],x=a[b+14];a=a[b+15];b=h[0];var y=h[1],z=h[2],A=h[3];b=c(b,y,z,A,i,7,k[0]),A=c(A,b,y,z,j,12,k[1]),z=c(z,A,b,y,l,17,k[2]),y=c(y,z,A,b,m,22,k[3]),b=c(b,y,z,A,n,7,k[4]),A=c(A,b,y,z,o,12,k[5]),z=c(z,A,b,y,p,17,k[6]),y=c(y,z,A,b,q,22,k[7]),b=c(b,y,z,A,r,7,k[8]),A=c(A,b,y,z,s,12,k[9]),z=c(z,A,b,y,t,17,k[10]),y=c(y,z,A,b,u,22,k[11]),b=c(b,y,z,A,v,7,k[12]),A=c(A,b,y,z,w,12,k[13]),z=c(z,A,b,y,x,17,k[14]),y=c(y,z,A,b,a,22,k[15]),b=d(b,y,z,A,j,5,k[16]),A=d(A,b,y,z,p,9,k[17]),z=d(z,A,b,y,u,14,k[18]),y=d(y,z,A,b,i,20,k[19]),b=d(b,y,z,A,o,5,k[20]),A=d(A,b,y,z,t,9,k[21]),z=d(z,A,b,y,a,14,k[22]),y=d(y,z,A,b,n,20,k[23]),b=d(b,y,z,A,s,5,k[24]),A=d(A,b,y,z,x,9,k[25]),z=d(z,A,b,y,m,14,k[26]),y=d(y,z,A,b,r,20,k[27]),b=d(b,y,z,A,w,5,k[28]),A=d(A,b,y,z,l,9,k[29]),z=d(z,A,b,y,q,14,k[30]),y=d(y,z,A,b,v,20,k[31]),b=e(b,y,z,A,o,4,k[32]),A=e(A,b,y,z,r,11,k[33]),z=e(z,A,b,y,u,16,k[34]),y=e(y,z,A,b,x,23,k[35]),b=e(b,y,z,A,j,4,k[36]),A=e(A,b,y,z,n,11,k[37]),z=e(z,A,b,y,q,16,k[38]),y=e(y,z,A,b,t,23,k[39]),b=e(b,y,z,A,w,4,k[40]),A=e(A,b,y,z,i,11,k[41]),z=e(z,A,b,y,m,16,k[42]),y=e(y,z,A,b,p,23,k[43]),b=e(b,y,z,A,s,4,k[44]),A=e(A,b,y,z,v,11,k[45]),z=e(z,A,b,y,a,16,k[46]),y=e(y,z,A,b,l,23,k[47]),b=f(b,y,z,A,i,6,k[48]),A=f(A,b,y,z,q,10,k[49]),z=f(z,A,b,y,x,15,k[50]),y=f(y,z,A,b,o,21,k[51]),b=f(b,y,z,A,v,6,k[52]),A=f(A,b,y,z,m,10,k[53]),z=f(z,A,b,y,t,15,k[54]),y=f(y,z,A,b,j,21,k[55]),b=f(b,y,z,A,r,6,k[56]),A=f(A,b,y,z,a,10,k[57]),z=f(z,A,b,y,p,15,k[58]),y=f(y,z,A,b,w,21,k[59]),b=f(b,y,z,A,n,6,k[60]),A=f(A,b,y,z,u,10,k[61]),z=f(z,A,b,y,l,15,k[62]),y=f(y,z,A,b,s,21,k[63]),h[0]=h[0]+b|0,h[1]=h[1]+y|0,h[2]=h[2]+z|0,h[3]=h[3]+A|0},_doFinalize:function(){var a=this._data,c=a.words,d=8*this._nDataBytes,e=8*a.sigBytes;c[e>>>5]|=128<<24-e%32;var f=b.floor(d/4294967296);d=d;c[(e+64>>>9<<4)+15]=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),c[(e+64>>>9<<4)+14]=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),a.sigBytes=4*(c.length+1),this._process();for(f=this._hash,e=f.words,d=0;d<4;d++){a=e[d];e[d]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}return f},clone:function(){var a=j.clone.call(this);return a._hash=this._hash.clone(),a}});g.MD5=j._createHelper(h),g.HmacMD5=j._createHmacHelper(h)}(Math),function(){var b=a,c=b.lib,d=c.WordArray,e=c.Hasher;c=b.algo;var f=[];c=c.SHA1=e.extend({_doReset:function(){this._hash=new d.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(a,b){for(var c=this._hash.words,d=c[0],e=c[1],g=c[2],h=c[3],i=c[4],j=0;j<80;j++){if(j<16)f[j]=0|a[b+j];else{var k=f[j-3]^f[j-8]^f[j-14]^f[j-16];f[j]=k<<1|k>>>31}k=(d<<5|d>>>27)+i+f[j];k+=j<20?(e&g|~e&h)+1518500249:j<40?(e^g^h)+1859775393:j<60?(e&g|e&h|g&h)-1894007588:(e^g^h)-899497514,i=h,h=g,g=e<<30|e>>>2,e=d,d=k}c[0]=c[0]+d|0,c[1]=c[1]+e|0,c[2]=c[2]+g|0,c[3]=c[3]+h|0,c[4]=c[4]+i|0},_doFinalize:function(){var a=this._data,b=a.words,c=8*this._nDataBytes,d=8*a.sigBytes;return b[d>>>5]|=128<<24-d%32,b[(d+64>>>9<<4)+14]=Math.floor(c/4294967296),b[(d+64>>>9<<4)+15]=c,a.sigBytes=4*b.length,this._process(),this._hash},clone:function(){var a=e.clone.call(this);return a._hash=this._hash.clone(),a}});b.SHA1=e._createHelper(c),b.HmacSHA1=e._createHmacHelper(c)}(),function(b){var c=a,d=c.lib,e=d.WordArray,f=d.Hasher;d=c.algo;var g=[],h=[];!function(){function a(a){for(var c=b.sqrt(a),d=2;d<=c;d++)if(!(a%d))return!1;return!0}function c(a){return 4294967296*(a-(0|a))|0}for(var d=2,e=0;e<64;)a(d)&&(e<8&&(g[e]=c(b.pow(d,.5))),h[e]=c(b.pow(d,1/3)),e++),d++}();var i=[];d=d.SHA256=f.extend({_doReset:function(){this._hash=new e.init(g.slice(0))},_doProcessBlock:function(a,b){for(var c=this._hash.words,d=c[0],e=c[1],f=c[2],j=c[3],g=c[4],k=c[5],l=c[6],m=c[7],n=0;n<64;n++){if(n<16)i[n]=0|a[b+n];else{var o=i[n-15];o=(o<<25|o>>>7)^(o<<14|o>>>18)^o>>>3;var p=i[n-2];p=(p<<15|p>>>17)^(p<<13|p>>>19)^p>>>10;i[n]=o+i[n-7]+p+i[n-16]}o=g&k^~g&l;p=d&e^d&f^e&f;var q=(d<<30|d>>>2)^(d<<19|d>>>13)^(d<<10|d>>>22),r=(g<<26|g>>>6)^(g<<21|g>>>11)^(g<<7|g>>>25);r=m+r+o+h[n]+i[n];o=q+p;m=l,l=k,k=g,g=j+r|0,j=f,f=e,e=d,d=r+o|0}c[0]=c[0]+d|0,c[1]=c[1]+e|0,c[2]=c[2]+f|0,c[3]=c[3]+j|0,c[4]=c[4]+g|0,c[5]=c[5]+k|0,c[6]=c[6]+l|0,c[7]=c[7]+m|0},_doFinalize:function(){var a=this._data,c=a.words,d=8*this._nDataBytes,e=8*a.sigBytes;return c[e>>>5]|=128<<24-e%32,c[(e+64>>>9<<4)+14]=b.floor(d/4294967296),c[(e+64>>>9<<4)+15]=d,a.sigBytes=4*c.length,this._process(),this._hash},clone:function(){var a=f.clone.call(this);return a._hash=this._hash.clone(),a}});c.SHA256=f._createHelper(d),c.HmacSHA256=f._createHmacHelper(d)}(Math),function(){function b(a){return a<<8&4278255360|a>>>8&16711935}var c=a,d=c.lib,e=d.WordArray;d=c.enc;d.Utf16=d.Utf16BE={stringify:function(a){for(var b=a.words,a=a.sigBytes,c=[],d=0;d<a;d+=2){var e=b[d>>>2]>>>16-d%4*8&65535;c.push(String.fromCharCode(e))}return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d++)c[d>>>1]|=a.charCodeAt(d)<<16-d%2*16;return e.create(c,2*b)}};d.Utf16LE={stringify:function(a){for(var c=a.words,a=a.sigBytes,d=[],e=0;e<a;e+=2){var f=b(c[e>>>2]>>>16-e%4*8&65535);d.push(String.fromCharCode(f))}return d.join("")},parse:function(a){for(var c=a.length,d=[],f=0;f<c;f++)d[f>>>1]|=b(a.charCodeAt(f)<<16-f%2*16);return e.create(d,2*c)}}}(),function(){if("function"==typeof ArrayBuffer){var b=a;b=b.lib;b=b.WordArray;var c=b.init,d=b.init=function(a){if(a instanceof ArrayBuffer&&(a=new Uint8Array(a)),(a instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&a instanceof Uint8ClampedArray||a instanceof Int16Array||a instanceof Uint16Array||a instanceof Int32Array||a instanceof Uint32Array||a instanceof Float32Array||a instanceof Float64Array)&&(a=new Uint8Array(a.buffer,a.byteOffset,a.byteLength)),a instanceof Uint8Array){for(var b=a.byteLength,d=[],e=0;e<b;e++)d[e>>>2]|=a[e]<<24-e%4*8;c.call(this,d,b)}else c.apply(this,arguments)};d.prototype=b}}(),function(b){function c(a,b,c){return a^b^c}function d(a,b,c){return a&b|~a&c}function e(a,b,c){return(a|~b)^c}function f(a,b,c){return a&c|b&~c}function g(a,b,c){return a^(b|~c)}function h(a,b){return a<<b|a>>>32-b}b=a;var i=b.lib,j=i.WordArray,k=i.Hasher;i=b.algo;var l=j.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),m=j.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),n=j.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),o=j.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),p=j.create([0,1518500249,1859775393,2400959708,2840853838]),q=j.create([1352829926,1548603684,1836072691,2053994217,0]);i=i.RIPEMD160=k.extend({_doReset:function(){this._hash=j.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(a,b){for(var r=0;r<16;r++){var i=b+r,j=a[i];a[i]=16711935&(j<<8|j>>>24)|4278255360&(j<<24|j>>>8)}var k,s,t,u,v,w,x,y,z,A;i=this._hash.words;j=p.words;var B=q.words,C=l.words,D=m.words,E=n.words,F=o.words;w=k=i[0],x=s=i[1],y=t=i[2],z=u=i[3],A=v=i[4];for(var G,r=0;r<80;r+=1)G=k+a[b+C[r]]|0,G+=r<16?c(s,t,u)+j[0]:r<32?d(s,t,u)+j[1]:r<48?e(s,t,u)+j[2]:r<64?f(s,t,u)+j[3]:g(s,t,u)+j[4],G|=0,G=h(G,E[r]),G=G+v|0,k=v,v=u,u=h(t,10),t=s,s=G,G=w+a[b+D[r]]|0,G+=r<16?g(x,y,z)+B[0]:r<32?f(x,y,z)+B[1]:r<48?e(x,y,z)+B[2]:r<64?d(x,y,z)+B[3]:c(x,y,z)+B[4],G|=0,G=h(G,F[r]),G=G+A|0,w=A,A=z,z=h(y,10),y=x,x=G;G=i[1]+t+z|0,i[1]=i[2]+u+A|0,i[2]=i[3]+v+w|0,i[3]=i[4]+k+x|0,i[4]=i[0]+s+y|0,i[0]=G},_doFinalize:function(){var a=this._data,b=a.words,c=8*this._nDataBytes,d=8*a.sigBytes;b[d>>>5]|=128<<24-d%32,b[(d+64>>>9<<4)+14]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8),a.sigBytes=4*(b.length+1),this._process();for(d=this._hash,c=d.words,a=0;a<5;a++){b=c[a];c[a]=16711935&(b<<8|b>>>24)|4278255360&(b<<24|b>>>8)}return d},clone:function(){var a=k.clone.call(this);return a._hash=this._hash.clone(),a}});b.RIPEMD160=k._createHelper(i),b.HmacRIPEMD160=k._createHmacHelper(i)}(Math),function(){var b=a,c=b.lib;c=c.Base;var d=b.enc,e=d.Utf8;d=b.algo;d.HMAC=c.extend({init:function(a,b){a=this._hasher=new a.init,"string"==typeof b&&(b=e.parse(b));var c=a.blockSize,d=4*c;b.sigBytes>d&&(b=a.finalize(b)),b.clamp();for(var a=this._oKey=b.clone(),b=this._iKey=b.clone(),f=a.words,g=b.words,h=0;h<c;h++)f[h]^=1549556828,g[h]^=909522486;a.sigBytes=b.sigBytes=d,this.reset()},reset:function(){var a=this._hasher;a.reset(),a.update(this._iKey)},update:function(a){return this._hasher.update(a),this},finalize:function(a){var b=this._hasher;a=b.finalize(a);b.reset();b=b.finalize(this._oKey.clone().concat(a));return b}})}(),function(){var b=a,c=b.lib,d=c.Base,e=c.WordArray;c=b.algo;var f=c.SHA1,g=c.HMAC,h=c.PBKDF2=d.extend({cfg:d.extend({keySize:4,hasher:f,iterations:1}),init:function(a){this.cfg=this.cfg.extend(a)},compute:function(a,b){for(var c=this.cfg,a=g.create(c.hasher,a),i=e.create(),d=e.create([1]),f=i.words,j=d.words,k=c.keySize,c=c.iterations;f.length<k;){var l=a.update(b).finalize(d);a.reset();for(var m=l.words,n=m.length,o=l,p=1;p<c;p++){o=a.finalize(o),a.reset();for(var q=o.words,r=0;r<n;r++)m[r]^=q[r]}i.concat(l),j[0]++}return i.sigBytes=4*k,i}});b.PBKDF2=function(a,b,c){return h.create(c).compute(a,b)}}(),function(){var b=a,c=b.lib,d=c.Base,e=c.WordArray;c=b.algo;var f=c.MD5,g=c.EvpKDF=d.extend({cfg:d.extend({keySize:4,hasher:f,iterations:1}),init:function(a){this.cfg=this.cfg.extend(a)},compute:function(a,b){for(var c=this.cfg,d=c.hasher.create(),h=e.create(),f=h.words,g=c.keySize,c=c.iterations;f.length<g;){i&&d.update(i);var i=d.update(a).finalize(b);d.reset();for(var j=1;j<c;j++)i=d.finalize(i),d.reset();h.concat(i)}return h.sigBytes=4*g,h}});b.EvpKDF=function(a,b,c){return g.create(c).compute(a,b)}}(),function(){var b=a,c=b.lib,d=c.WordArray;c=b.algo;var e=c.SHA256;c=c.SHA224=e.extend({_doReset:function(){this._hash=new d.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var a=e._doFinalize.call(this);return a.sigBytes-=4,a}});b.SHA224=e._createHelper(c),b.HmacSHA224=e._createHmacHelper(c)}(),function(b){var c=a,d=c.lib,e=d.Base,f=d.WordArray;d=c.x64={};d.Word=e.extend({init:function(a,b){this.high=a,this.low=b}}),d.WordArray=e.extend({init:function(a,c){a=this.words=a||[],c!=b?this.sigBytes=c:this.sigBytes=8*a.length},toX32:function(){for(var a=this.words,b=a.length,c=[],d=0;d<b;d++){var e=a[d];c.push(e.high),c.push(e.low)}return f.create(c,this.sigBytes)},clone:function(){for(var a=e.clone.call(this),b=a.words=this.words.slice(0),c=b.length,d=0;d<c;d++)b[d]=b[d].clone();return a}})}(),function(b){var c=a,d=c.lib,e=d.WordArray,f=d.Hasher;d=c.x64;var g=d.Word;d=c.algo;var h=[],i=[],j=[];!function(){for(var a=1,b=0,c=0;c<24;c++){h[a+5*b]=(c+1)*(c+2)/2%64;var d=b%5,e=(2*a+3*b)%5;a=d,b=e}for(var a=0;a<5;a++)for(var b=0;b<5;b++)i[a+5*b]=b+(2*a+3*b)%5*5;for(d=1,e=0;e<24;e++){for(c=0,b=0,a=0;a<7;a++){if(1&d){var f=(1<<a)-1;f<32?b^=1<<f:c^=1<<f-32}128&d?d=d<<1^113:d<<=1}j[e]=g.create(c,b)}}();var k=[];!function(){for(var a=0;a<25;a++)k[a]=g.create()}();d=d.SHA3=f.extend({cfg:f.cfg.extend({outputLength:512}),_doReset:function(){for(var a=this._state=[],b=0;b<25;b++)a[b]=new g.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(a,b){for(var c=this._state,d=this.blockSize/2,e=0;e<d;e++){var f=a[b+2*e],l=a[b+2*e+1];f=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),l=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8);var g=c[e];g.high^=l,g.low^=f}for(l=0;l<24;l++){for(f=0;f<5;f++){for(d=0,e=0,b=0;b<5;b++){var g=c[f+5*b];d^=g.high,e^=g.low}a=k[f];a.high=d,a.low=e}for(f=0;f<5;f++)for(var a=k[(f+4)%5],m=k[(f+1)%5],n=m.high,m=m.low,d=a.high^(n<<1|m>>>31),e=a.low^(m<<1|n>>>31),b=0;b<5;b++){var g=c[f+5*b];g.high^=d,g.low^=e}for(a=1;a<25;a++){var g=c[a];m=g.high;n=g.low;var o=h[a];if(o<32)var d=m<<o|n>>>32-o,e=n<<o|m>>>32-o;else var d=n<<o-32|m>>>64-o,e=m<<o-32|n>>>64-o;m=k[i[a]];m.high=d,m.low=e}n=k[0];o=c[0];n.high=o.high,n.low=o.low;for(f=0;f<5;f++)for(b=0;b<5;b++){a=f+5*b;var g=c[a];d=k[a];m=k[(f+1)%5+5*b];e=k[(f+2)%5+5*b];g.high=d.high^~m.high&e.high,g.low=d.low^~m.low&e.low}var g=c[0];n=j[l];g.high^=n.high,g.low^=n.low}},_doFinalize:function(){var a=this._data,c=a.words,d=(8*this._nDataBytes,8*a.sigBytes),f=32*this.blockSize;c[d>>>5]|=1<<24-d%32,c[(b.ceil((d+1)/f)*f>>>5)-1]|=128,a.sigBytes=4*c.length,this._process();for(var d=this._state,f=this.cfg.outputLength/8,a=f/8,c=[],g=0;g<a;g++){var h=d[g],k=h.high;h=h.low;k=16711935&(k<<8|k>>>24)|4278255360&(k<<24|k>>>8),h=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),c.push(h),c.push(k)}return new e.init(c,f)},clone:function(){for(var a=f.clone.call(this),b=a._state=this._state.slice(0),c=0;c<25;c++)b[c]=b[c].clone();return a}});c.SHA3=f._createHelper(d),c.HmacSHA3=f._createHmacHelper(d)}(Math),function(){function b(){return f.create.apply(f,arguments)}var c=a,d=c.lib,e=d.Hasher;d=c.x64;var f=d.Word,g=d.WordArray;d=c.algo;var h=[b(1116352408,3609767458),b(1899447441,602891725),b(3049323471,3964484399),b(3921009573,2173295548),b(961987163,4081628472),b(1508970993,3053834265),b(2453635748,2937671579),b(2870763221,3664609560),b(3624381080,2734883394),b(310598401,1164996542),b(607225278,1323610764),b(1426881987,3590304994),b(1925078388,4068182383),b(2162078206,991336113),b(2614888103,633803317),b(3248222580,3479774868),b(3835390401,2666613458),b(4022224774,944711139),b(264347078,2341262773),b(604807628,2007800933),b(770255983,1495990901),b(1249150122,1856431235),b(1555081692,3175218132),b(1996064986,2198950837),b(2554220882,3999719339),b(2821834349,766784016),b(2952996808,2566594879),b(3210313671,3203337956),b(3336571891,1034457026),b(3584528711,2466948901),b(113926993,3758326383),b(338241895,168717936),b(666307205,1188179964),b(773529912,1546045734),b(1294757372,1522805485),b(1396182291,2643833823),b(1695183700,2343527390),b(1986661051,1014477480),b(2177026350,1206759142),b(2456956037,344077627),b(2730485921,1290863460),b(2820302411,3158454273),b(3259730800,3505952657),b(3345764771,106217008),b(3516065817,3606008344),b(3600352804,1432725776),b(4094571909,1467031594),b(275423344,851169720),b(430227734,3100823752),b(506948616,1363258195),b(659060556,3750685593),b(883997877,3785050280),b(958139571,3318307427),b(1322822218,3812723403),b(1537002063,2003034995),b(1747873779,3602036899),b(1955562222,1575990012),b(2024104815,1125592928),b(2227730452,2716904306),b(2361852424,442776044),b(2428436474,593698344),b(2756734187,3733110249),b(3204031479,2999351573),b(3329325298,3815920427),b(3391569614,3928383900),b(3515267271,566280711),b(3940187606,3454069534),b(4118630271,4000239992),b(116418474,1914138554),b(174292421,2731055270),b(289380356,3203993006),b(460393269,320620315),b(685471733,587496836),b(852142971,1086792851),b(1017036298,365543100),b(1126000580,2618297676),b(1288033470,3409855158),b(1501505948,4234509866),b(1607167915,987167468),b(1816402316,1246189591)],i=[];!function(){for(var a=0;a<80;a++)i[a]=b()}();d=d.SHA512=e.extend({_doReset:function(){this._hash=new g.init([new f.init(1779033703,4089235720),new f.init(3144134277,2227873595),new f.init(1013904242,4271175723),new f.init(2773480762,1595750129),new f.init(1359893119,2917565137),new f.init(2600822924,725511199),new f.init(528734635,4215389547),new f.init(1541459225,327033209)])},_doProcessBlock:function(a,b){for(var c=this._hash.words,d=c[0],e=c[1],j=c[2],f=c[3],g=c[4],k=c[5],l=c[6],c=c[7],m=d.high,n=d.low,o=e.high,p=e.low,q=j.high,r=j.low,s=f.high,t=f.low,u=g.high,v=g.low,w=k.high,x=k.low,y=l.high,z=l.low,A=c.high,B=c.low,C=m,D=n,E=o,F=p,G=q,H=r,I=s,J=t,K=u,L=v,M=w,N=x,O=y,P=z,aa=A,Q=B,R=0;R<80;R++){var S=i[R];if(R<16)var T=S.high=0|a[b+2*R],U=S.low=0|a[b+2*R+1];else{var V=i[R-15],W=V.high;V=V.low;var X=(W>>>1|V<<31)^(W>>>8|V<<24)^W>>>7;V=(V>>>1|W<<31)^(V>>>8|W<<24)^(V>>>7|W<<25);W=i[R-2];var Y=W.high;W=W.low;var ba=(Y>>>19|W<<13)^(Y<<3|W>>>29)^Y>>>6;W=(W>>>19|Y<<13)^(W<<3|Y>>>29)^(W>>>6|Y<<26);Y=i[R-7];var ca=Y.high;Y=Y.low;var Z=i[R-16],$=Z.high;Z=Z.low;var U=V+Y,T=X+ca+(U>>>0<V>>>0?1:0),U=U+W,T=T+ba+(U>>>0<W>>>0?1:0),U=U+Z,T=T+$+(U>>>0<Z>>>0?1:0);S.high=T,S.low=U}Y=K&M^~K&O;X=L&N^~L&P;ca=C&E^C&G^E&G;V=D&F^D&H^F&H;ba=(C>>>28|D<<4)^(C<<30|D>>>2)^(C<<25|D>>>7);W=(D>>>28|C<<4)^(D<<30|C>>>2)^(D<<25|C>>>7);$=(K>>>14|L<<18)^(K>>>18|L<<14)^(K<<23|L>>>9);Z=(L>>>14|K<<18)^(L>>>18|K<<14)^(L<<23|K>>>9);S=h[R];var da=S.high;S=S.low;Z=Q+Z;$=aa+$+(Z>>>0<Q>>>0?1:0);Z=Z+X;$=$+Y+(Z>>>0<X>>>0?1:0);Z=Z+S;$=$+da+(Z>>>0<S>>>0?1:0);Z=Z+U;$=$+T+(Z>>>0<U>>>0?1:0);Y=W+V;X=ba+ca+(Y>>>0<W>>>0?1:0);aa=O,Q=P,O=M,P=N,M=K,N=L,L=J+Z|0,K=I+$+(L>>>0<J>>>0?1:0)|0,I=G,J=H,G=E,H=F,E=C,F=D,D=Z+Y|0,C=$+X+(D>>>0<Z>>>0?1:0)|0}n=d.low=n+D,d.high=m+C+(n>>>0<D>>>0?1:0),p=e.low=p+F,e.high=o+E+(p>>>0<F>>>0?1:0),r=j.low=r+H,j.high=q+G+(r>>>0<H>>>0?1:0),t=f.low=t+J,f.high=s+I+(t>>>0<J>>>0?1:0),v=g.low=v+L,g.high=u+K+(v>>>0<L>>>0?1:0),x=k.low=x+N,k.high=w+M+(x>>>0<N>>>0?1:0),z=l.low=z+P,l.high=y+O+(z>>>0<P>>>0?1:0),B=c.low=B+Q,c.high=A+aa+(B>>>0<Q>>>0?1:0)},_doFinalize:function(){var a=this._data,b=a.words,c=8*this._nDataBytes,d=8*a.sigBytes;b[d>>>5]|=128<<24-d%32,b[(d+128>>>10<<5)+30]=Math.floor(c/4294967296),b[(d+128>>>10<<5)+31]=c,a.sigBytes=4*b.length,this._process();d=this._hash.toX32();return d},clone:function(){var a=e.clone.call(this);return a._hash=this._hash.clone(),a},blockSize:32});c.SHA512=e._createHelper(d),c.HmacSHA512=e._createHmacHelper(d)}(),function(){var b=a,c=b.x64,d=c.Word,e=c.WordArray;c=b.algo;var f=c.SHA512;c=c.SHA384=f.extend({_doReset:function(){this._hash=new e.init([new d.init(3418070365,3238371032),new d.init(1654270250,914150663),new d.init(2438529370,812702999),new d.init(355462360,4144912697),new d.init(1731405415,4290775857),new d.init(2394180231,1750603025),new d.init(3675008525,1694076839),new d.init(1203062813,3204075428)])},_doFinalize:function(){var a=f._doFinalize.call(this);return a.sigBytes-=16,a}});b.SHA384=f._createHelper(c),b.HmacSHA384=f._createHmacHelper(c)}(),a.lib.Cipher||function(b){var c=a,d=c.lib,e=d.Base,f=d.WordArray,g=d.BufferedBlockAlgorithm,h=c.enc,i=(h.Utf8,h.Base64);h=c.algo;var j=h.EvpKDF,k=d.Cipher=g.extend({cfg:e.extend(),createEncryptor:function(a,b){return this.create(this._ENC_XFORM_MODE,a,b)},createDecryptor:function(a,b){return this.create(this._DEC_XFORM_MODE,a,b)},init:function(a,b,c){this.cfg=this.cfg.extend(c),this._xformMode=a,this._key=b,this.reset()},reset:function(){g.reset.call(this),this._doReset()},process:function(a){return this._append(a),this._process()},finalize:function(a){a&&this._append(a);a=this._doFinalize();return a},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function a(a){return"string"==typeof a?p:o}return function(b){return{encrypt:function(c,d,e){return a(d).encrypt(b,c,d,e)},decrypt:function(c,d,e){return a(d).decrypt(b,c,d,e)}}}}()});h=(d.StreamCipher=k.extend({_doFinalize:function(){var a=this._process(!0);return a},blockSize:1}),c.mode={});var l=d.BlockCipherMode=e.extend({createEncryptor:function(a,b){return this.Encryptor.create(a,b)},createDecryptor:function(a,b){return this.Decryptor.create(a,b)},init:function(a,b){this._cipher=a,this._iv=b}});h=h.CBC=function(){function a(a,c,d){var e=this._iv;if(e){e=e;this._iv=b}else var e=this._prevBlock;for(var f=0;f<d;f++)a[c+f]^=e[f]}var c=l.extend();return c.Encryptor=c.extend({processBlock:function(b,c){var d=this._cipher,e=d.blockSize;a.call(this,b,c,e),d.encryptBlock(b,c),this._prevBlock=b.slice(c,c+e)}}),c.Decryptor=c.extend({processBlock:function(b,c){var d=this._cipher,e=d.blockSize,f=b.slice(c,c+e);d.decryptBlock(b,c),a.call(this,b,c,e),this._prevBlock=f}}),c}();var m=c.pad={};m=m.Pkcs7={pad:function(a,b){for(var b=4*b,b=b-a.sigBytes%b,c=b<<24|b<<16|b<<8|b,d=[],e=0;e<b;e+=4)d.push(c);e=f.create(d,b);a.concat(e)},unpad:function(a){var b=255&a.words[a.sigBytes-1>>>2];a.sigBytes-=b}};var n=(d.BlockCipher=k.extend({cfg:k.cfg.extend({mode:h,padding:m}),reset:function(){k.reset.call(this);var a=this.cfg,b=a.iv;a=a.mode;if(this._xformMode==this._ENC_XFORM_MODE)var c=a.createEncryptor;else{var c=a.createDecryptor;this._minBufferSize=1}this._mode&&this._mode.__creator==c?this._mode.init(this,b&&b.words):(this._mode=c.call(a,this,b&&b.words),this._mode.__creator=c)},_doProcessBlock:function(a,b){this._mode.processBlock(a,b)},_doFinalize:function(){var a=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){a.pad(this._data,this.blockSize);var b=this._process(!0)}else{var b=this._process(!0);a.unpad(b)}return b},blockSize:4}),d.CipherParams=e.extend({init:function(a){this.mixIn(a)},toString:function(a){return(a||this.formatter).stringify(this)}}));h=c.format={};m=h.OpenSSL={stringify:function(a){var b=a.ciphertext;a=a.salt;if(a)var a=f.create([1398893684,1701076831]).concat(a).concat(b);else var a=b;return a.toString(i)},parse:function(a){a=i.parse(a);var b=a.words;if(1398893684==b[0]&&1701076831==b[1]){var c=f.create(b.slice(2,4));b.splice(0,4),a.sigBytes-=16}return n.create({ciphertext:a,salt:c})}};var o=d.SerializableCipher=e.extend({cfg:e.extend({format:m}),encrypt:function(a,b,c,d){d=this.cfg.extend(d);var e=a.createEncryptor(c,d);b=e.finalize(b);e=e.cfg;return n.create({ciphertext:b,key:c,iv:e.iv,algorithm:a,mode:e.mode,padding:e.padding,blockSize:a.blockSize,formatter:d.format})},decrypt:function(a,b,c,d){d=this.cfg.extend(d),b=this._parse(b,d.format);a=a.createDecryptor(c,d).finalize(b.ciphertext);return a},_parse:function(a,b){return"string"==typeof a?b.parse(a,this):a}});h=c.kdf={};e=h.OpenSSL={execute:function(a,b,c,d){d||(d=f.random(8));a=j.create({keySize:b+c}).compute(a,d);c=f.create(a.words.slice(b),4*c);return a.sigBytes=4*b,n.create({key:a,iv:c,salt:d})}};var p=d.PasswordBasedCipher=o.extend({cfg:o.cfg.extend({kdf:e}),encrypt:function(a,b,c,d){d=this.cfg.extend(d);c=d.kdf.execute(c,a.keySize,a.ivSize);d.iv=c.iv;a=o.encrypt.call(this,a,b,c.key,d);return a.mixIn(c),a},decrypt:function(a,b,c,d){d=this.cfg.extend(d),b=this._parse(b,d.format);c=d.kdf.execute(c,a.keySize,a.ivSize,b.salt);d.iv=c.iv;a=o.decrypt.call(this,a,b,c.key,d);return a}})}(),a.mode.CFB=function(){function b(a,b,c,d){var e=this._iv;if(e){e=e.slice(0);this._iv=void 0}else var e=this._prevBlock;d.encryptBlock(e,0);for(d=0;d<c;d++)a[b+d]^=e[d]}var c=a.lib.BlockCipherMode.extend();return c.Encryptor=c.extend({processBlock:function(a,c){var d=this._cipher,e=d.blockSize;b.call(this,a,c,e,d),this._prevBlock=a.slice(c,c+e)}}),c.Decryptor=c.extend({processBlock:function(a,c){var d=this._cipher,e=d.blockSize,f=a.slice(c,c+e);b.call(this,a,c,e,d),this._prevBlock=f}}),c}(),a.mode.ECB=function(){var b=a.lib.BlockCipherMode.extend();return b.Encryptor=b.extend({processBlock:function(a,b){this._cipher.encryptBlock(a,b)}}),b.Decryptor=b.extend({processBlock:function(a,b){this._cipher.decryptBlock(a,b)}}),b}(),a.pad.AnsiX923={pad:function(a,b){var c=a.sigBytes;b=4*b;b=b-c%b;c=c+b-1;a.clamp(),a.words[c>>>2]|=b<<24-c%4*8,a.sigBytes+=b},unpad:function(a){var b=255&a.words[a.sigBytes-1>>>2];a.sigBytes-=b}},a.pad.Iso10126={pad:function(b,c){c=4*c;c=c-b.sigBytes%c;b.concat(a.lib.WordArray.random(c-1)).concat(a.lib.WordArray.create([c<<24],1))},unpad:function(a){var b=255&a.words[a.sigBytes-1>>>2];a.sigBytes-=b}},a.pad.Iso97971={pad:function(b,c){b.concat(a.lib.WordArray.create([2147483648],1)),a.pad.ZeroPadding.pad(b,c)},unpad:function(b){a.pad.ZeroPadding.unpad(b),b.sigBytes--}},a.mode.OFB=function(){var b=a.lib.BlockCipherMode.extend(),c=b.Encryptor=b.extend({processBlock:function(a,b){var c=this._cipher,d=c.blockSize,e=this._iv,f=this._keystream;e&&(f=this._keystream=e.slice(0),this._iv=void 0),c.encryptBlock(f,0);for(e=0;e<d;e++)a[b+e]^=f[e]}});return b.Decryptor=c,b}(),a.pad.NoPadding={pad:function(){},unpad:function(){}},function(b){b=a;var c=b.lib,d=c.CipherParams;c=b.enc;var e=c.Hex;c=b.format;c.Hex={stringify:function(a){return a.ciphertext.toString(e)},parse:function(a){a=e.parse(a);return d.create({ciphertext:a})}}}(),function(){var b=a,c=b.lib;c=c.BlockCipher;var d=b.algo,e=[],f=[],g=[],h=[],i=[],j=[],k=[],l=[],m=[],n=[];!function(){for(var a=[],b=0;b<256;b++)b<128?a[b]=b<<1:a[b]=b<<1^283;for(var c=0,p=0,b=0;b<256;b++){var d=p^p<<1^p<<2^p<<3^p<<4;d=d>>>8^255&d^99,e[c]=d,f[d]=c;var o=a[c],q=a[o],r=a[q],s=257*a[d]^16843008*d;g[c]=s<<24|s>>>8,h[c]=s<<16|s>>>16,i[c]=s<<8|s>>>24,j[c]=s;var s=16843009*r^65537*q^257*o^16843008*c;k[d]=s<<24|s>>>8,l[d]=s<<16|s>>>16,m[d]=s<<8|s>>>24,n[d]=s,c?(c=o^a[a[a[r^o]]],p^=a[a[p]]):c=p=1}}();var o=[0,1,2,4,8,16,32,64,128,27,54];d=d.AES=c.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var a=this._keyPriorReset=this._key,b=a.words,a=a.sigBytes/4,i=this._nRounds=a+6,i=4*(i+1),c=this._keySchedule=[],d=0;d<i;d++)if(d<a)c[d]=b[d];else{var f=c[d-1];d%a?a>6&&d%a==4&&(f=e[f>>>24]<<24|e[f>>>16&255]<<16|e[f>>>8&255]<<8|e[255&f]):(f=f<<8|f>>>24,f=e[f>>>24]<<24|e[f>>>16&255]<<16|e[f>>>8&255]<<8|e[255&f],f^=o[d/a|0]<<24),c[d]=c[d-a]^f}for(a=this._invKeySchedule=[],b=0;b<i;b++){var d=i-b;if(b%4)var f=c[d];else var f=c[d-4];b<4||d<=4?a[b]=f:a[b]=k[e[f>>>24]]^l[e[f>>>16&255]]^m[e[f>>>8&255]]^n[e[255&f]]}}},encryptBlock:function(a,b){this._doCryptBlock(a,b,this._keySchedule,g,h,i,j,e)},decryptBlock:function(a,b){var c=a[b+1];a[b+1]=a[b+3],a[b+3]=c,this._doCryptBlock(a,b,this._invKeySchedule,k,l,m,n,f);var c=a[b+1];a[b+1]=a[b+3],a[b+3]=c},_doCryptBlock:function(a,b,c,p,d,e,f,g){for(var h=this._nRounds,i=a[b]^c[0],j=a[b+1]^c[1],k=a[b+2]^c[2],l=a[b+3]^c[3],m=4,n=1;n<h;n++){var o=p[i>>>24]^d[j>>>16&255]^e[k>>>8&255]^f[255&l]^c[m++],q=p[j>>>24]^d[k>>>16&255]^e[l>>>8&255]^f[255&i]^c[m++],r=p[k>>>24]^d[l>>>16&255]^e[i>>>8&255]^f[255&j]^c[m++],s=p[l>>>24]^d[i>>>16&255]^e[j>>>8&255]^f[255&k]^c[m++];i=o,j=q,k=r,l=s}var o=(g[i>>>24]<<24|g[j>>>16&255]<<16|g[k>>>8&255]<<8|g[255&l])^c[m++],q=(g[j>>>24]<<24|g[k>>>16&255]<<16|g[l>>>8&255]<<8|g[255&i])^c[m++],r=(g[k>>>24]<<24|g[l>>>16&255]<<16|g[i>>>8&255]<<8|g[255&j])^c[m++],s=(g[l>>>24]<<24|g[i>>>16&255]<<16|g[j>>>8&255]<<8|g[255&k])^c[m++];a[b]=o,a[b+1]=q,a[b+2]=r,a[b+3]=s},keySize:8});b.AES=c._createHelper(d)}(),function(){function b(a,b){b=(this._lBlock>>>a^this._rBlock)&b;this._rBlock^=b,this._lBlock^=b<<a}function c(a,b){b=(this._rBlock>>>a^this._lBlock)&b;this._lBlock^=b,this._rBlock^=b<<a}var d=a,e=d.lib,f=e.WordArray;e=e.BlockCipher;var g=d.algo,h=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],i=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],j=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],k=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],l=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],m=g.DES=e.extend({_doReset:function(){for(var a=this._key,a=a.words,b=[],c=0;c<56;c++){var d=h[c]-1;b[c]=a[d>>>5]>>>31-d%32&1}for(d=this._subKeys=[],a=0;a<16;a++){for(var e=d[a]=[],f=j[a],c=0;c<24;c++)e[c/6|0]|=b[(i[c]-1+f)%28]<<31-c%6,e[4+(c/6|0)]|=b[28+(i[c+24]-1+f)%28]<<31-c%6;e[0]=e[0]<<1|e[0]>>>31;for(var c=1;c<7;c++)e[c]=e[c]>>>4*(c-1)+3;e[7]=e[7]<<5|e[7]>>>27}for(var f=this._invSubKeys=[],c=0;c<16;c++)f[c]=d[15-c]},encryptBlock:function(a,b){this._doCryptBlock(a,b,this._subKeys)},decryptBlock:function(a,b){this._doCryptBlock(a,b,this._invSubKeys)},_doCryptBlock:function(a,d,e){this._lBlock=a[d],this._rBlock=a[d+1],b.call(this,4,252645135),b.call(this,16,65535),c.call(this,2,858993459),c.call(this,8,16711935),b.call(this,1,1431655765);for(var f=0;f<16;f++){for(var n=e[f],m=this._lBlock,h=this._rBlock,i=0,j=0;j<8;j++)i|=k[j][((h^n[j])&l[j])>>>0];this._lBlock=h,this._rBlock=m^i}j=this._lBlock;this._lBlock=this._rBlock,this._rBlock=j,b.call(this,1,1431655765),c.call(this,8,16711935),c.call(this,2,858993459),b.call(this,16,65535),b.call(this,4,252645135),a[d]=this._lBlock,a[d+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});d.DES=e._createHelper(m);g=g.TripleDES=e.extend({_doReset:function(){var a=this._key;a=a.words;this._des1=m.createEncryptor(f.create(a.slice(0,2))),this._des2=m.createEncryptor(f.create(a.slice(2,4))),this._des3=m.createEncryptor(f.create(a.slice(4,6)))},encryptBlock:function(a,b){this._des1.encryptBlock(a,b),this._des2.decryptBlock(a,b),this._des3.encryptBlock(a,b)},decryptBlock:function(a,b){this._des3.decryptBlock(a,b),this._des2.encryptBlock(a,b),this._des1.decryptBlock(a,b)},keySize:6,ivSize:2,blockSize:2});d.TripleDES=e._createHelper(g)}(),function(){function b(){for(var a=this._S,b=this._i,c=this._j,d=0,f=0;f<4;f++){b=(b+1)%256,c=(c+a[b])%256;var e=a[b];a[b]=a[c],a[c]=e,d|=a[(a[b]+a[c])%256]<<24-8*f}return this._i=b,this._j=c,d}var c=a,d=c.lib;d=d.StreamCipher;var e=c.algo,f=e.RC4=d.extend({_doReset:function(){for(var a=this._key,b=a.words,a=a.sigBytes,c=this._S=[],f=0;f<256;f++)c[f]=f;for(var f=0,d=0;f<256;f++){var e=f%a;e=b[e>>>2]>>>24-e%4*8&255;d=(d+c[f]+e)%256;e=c[f];c[f]=c[d],c[d]=e}this._i=this._j=0},_doProcessBlock:function(a,c){a[c]^=b.call(this)},keySize:8,ivSize:0});c.RC4=d._createHelper(f);e=e.RC4Drop=f.extend({cfg:f.cfg.extend({drop:192}),_doReset:function(){f._doReset.call(this);for(var a=this.cfg.drop;a>0;a--)b.call(this)}});c.RC4Drop=d._createHelper(e)}(),a.mode.CTRGladman=function(){function b(a){if(255===(a>>24&255)){var b=a>>16&255,c=a>>8&255,d=255&a;255===b?(b=0,255===c?(c=0,255===d?d=0:++d):++c):++b,a=0,a+=b<<16,a+=c<<8,a+=d}else a+=1<<24;return a}function c(a){return 0===(a[0]=b(a[0]))&&(a[1]=b(a[1])),a}var d=a.lib.BlockCipherMode.extend(),e=d.Encryptor=d.extend({processBlock:function(a,b){var d=this._cipher,e=d.blockSize,f=this._iv,g=this._counter;f&&(g=this._counter=f.slice(0),this._iv=void 0),c(g);f=g.slice(0);d.encryptBlock(f,0);for(g=0;g<e;g++)a[b+g]^=f[g]}});return d.Decryptor=e,d}(),function(){function b(){for(var a=this._X,b=this._C,c=0;c<8;c++)g[c]=b[c];b[0]=b[0]+1295307597+this._b|0,b[1]=b[1]+3545052371+(b[0]>>>0<g[0]>>>0?1:0)|0,b[2]=b[2]+886263092+(b[1]>>>0<g[1]>>>0?1:0)|0,b[3]=b[3]+1295307597+(b[2]>>>0<g[2]>>>0?1:0)|0,b[4]=b[4]+3545052371+(b[3]>>>0<g[3]>>>0?1:0)|0,b[5]=b[5]+886263092+(b[4]>>>0<g[4]>>>0?1:0)|0,b[6]=b[6]+1295307597+(b[5]>>>0<g[5]>>>0?1:0)|0,b[7]=b[7]+3545052371+(b[6]>>>0<g[6]>>>0?1:0)|0,this._b=b[7]>>>0<g[7]>>>0?1:0;for(var c=0;c<8;c++){var d=a[c]+b[c],f=65535&d,e=d>>>16;f=((f*f>>>17)+f*e>>>15)+e*e;e=((4294901760&d)*d|0)+((65535&d)*d|0);h[c]=f^e}a[0]=h[0]+(h[7]<<16|h[7]>>>16)+(h[6]<<16|h[6]>>>16)|0,a[1]=h[1]+(h[0]<<8|h[0]>>>24)+h[7]|0,a[2]=h[2]+(h[1]<<16|h[1]>>>16)+(h[0]<<16|h[0]>>>16)|0,a[3]=h[3]+(h[2]<<8|h[2]>>>24)+h[1]|0,a[4]=h[4]+(h[3]<<16|h[3]>>>16)+(h[2]<<16|h[2]>>>16)|0,a[5]=h[5]+(h[4]<<8|h[4]>>>24)+h[3]|0,a[6]=h[6]+(h[5]<<16|h[5]>>>16)+(h[4]<<16|h[4]>>>16)|0,a[7]=h[7]+(h[6]<<8|h[6]>>>24)+h[5]|0}var c=a,d=c.lib;d=d.StreamCipher;var e=c.algo,f=[],g=[],h=[];e=e.Rabbit=d.extend({_doReset:function(){for(var a=this._key.words,c=this.cfg.iv,d=0;d<4;d++)a[d]=16711935&(a[d]<<8|a[d]>>>24)|4278255360&(a[d]<<24|a[d]>>>8);var e=this._X=[a[0],a[3]<<16|a[2]>>>16,a[1],a[0]<<16|a[3]>>>16,a[2],a[1]<<16|a[0]>>>16,a[3],a[2]<<16|a[1]>>>16];a=this._C=[a[2]<<16|a[2]>>>16,4294901760&a[0]|65535&a[1],a[3]<<16|a[3]>>>16,4294901760&a[1]|65535&a[2],a[0]<<16|a[0]>>>16,4294901760&a[2]|65535&a[3],a[1]<<16|a[1]>>>16,4294901760&a[3]|65535&a[0]];this._b=0;for(var d=0;d<4;d++)b.call(this);for(var d=0;d<8;d++)a[d]^=e[d+4&7];if(c){e=c.words;c=e[0];e=e[1];c=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8);e=16711935&(e<<8|e>>>24)|4278255360&(e<<24|e>>>8);var f=c>>>16|4294901760&e,g=e<<16|65535&c;a[0]^=c,a[1]^=f,a[2]^=e,a[3]^=g,a[4]^=c,a[5]^=f,a[6]^=e,a[7]^=g;for(var d=0;d<4;d++)b.call(this)}},_doProcessBlock:function(a,c){var d=this._X;b.call(this),f[0]=d[0]^d[5]>>>16^d[3]<<16,f[1]=d[2]^d[7]>>>16^d[5]<<16,f[2]=d[4]^d[1]>>>16^d[7]<<16,f[3]=d[6]^d[3]>>>16^d[1]<<16;for(d=0;d<4;d++)f[d]=16711935&(f[d]<<8|f[d]>>>24)|4278255360&(f[d]<<24|f[d]>>>8),a[c+d]^=f[d]},blockSize:4,ivSize:2});c.Rabbit=d._createHelper(e)}(),a.mode.CTR=function(){var b=a.lib.BlockCipherMode.extend(),c=b.Encryptor=b.extend({processBlock:function(a,b){var c=this._cipher,d=c.blockSize,e=this._iv,f=this._counter;e&&(f=this._counter=e.slice(0),this._iv=void 0);e=f.slice(0);c.encryptBlock(e,0),f[d-1]=f[d-1]+1|0;for(c=0;c<d;c++)a[b+c]^=e[c]}});return b.Decryptor=c,b}(),function(){function b(){for(var a=this._X,b=this._C,c=0;c<8;c++)g[c]=b[c];b[0]=b[0]+1295307597+this._b|0,b[1]=b[1]+3545052371+(b[0]>>>0<g[0]>>>0?1:0)|0,b[2]=b[2]+886263092+(b[1]>>>0<g[1]>>>0?1:0)|0,b[3]=b[3]+1295307597+(b[2]>>>0<g[2]>>>0?1:0)|0,b[4]=b[4]+3545052371+(b[3]>>>0<g[3]>>>0?1:0)|0,b[5]=b[5]+886263092+(b[4]>>>0<g[4]>>>0?1:0)|0,b[6]=b[6]+1295307597+(b[5]>>>0<g[5]>>>0?1:0)|0,b[7]=b[7]+3545052371+(b[6]>>>0<g[6]>>>0?1:0)|0,this._b=b[7]>>>0<g[7]>>>0?1:0;for(var c=0;c<8;c++){var d=a[c]+b[c],f=65535&d,e=d>>>16;f=((f*f>>>17)+f*e>>>15)+e*e;e=((4294901760&d)*d|0)+((65535&d)*d|0);h[c]=f^e}a[0]=h[0]+(h[7]<<16|h[7]>>>16)+(h[6]<<16|h[6]>>>16)|0,a[1]=h[1]+(h[0]<<8|h[0]>>>24)+h[7]|0,a[2]=h[2]+(h[1]<<16|h[1]>>>16)+(h[0]<<16|h[0]>>>16)|0,a[3]=h[3]+(h[2]<<8|h[2]>>>24)+h[1]|0,a[4]=h[4]+(h[3]<<16|h[3]>>>16)+(h[2]<<16|h[2]>>>16)|0,a[5]=h[5]+(h[4]<<8|h[4]>>>24)+h[3]|0,a[6]=h[6]+(h[5]<<16|h[5]>>>16)+(h[4]<<16|h[4]>>>16)|0,a[7]=h[7]+(h[6]<<8|h[6]>>>24)+h[5]|0}var c=a,d=c.lib;d=d.StreamCipher;var e=c.algo,f=[],g=[],h=[];e=e.RabbitLegacy=d.extend({_doReset:function(){var a=this._key.words,c=this.cfg.iv,d=this._X=[a[0],a[3]<<16|a[2]>>>16,a[1],a[0]<<16|a[3]>>>16,a[2],a[1]<<16|a[0]>>>16,a[3],a[2]<<16|a[1]>>>16];a=this._C=[a[2]<<16|a[2]>>>16,4294901760&a[0]|65535&a[1],a[3]<<16|a[3]>>>16,4294901760&a[1]|65535&a[2],a[0]<<16|a[0]>>>16,4294901760&a[2]|65535&a[3],a[1]<<16|a[1]>>>16,4294901760&a[3]|65535&a[0]];this._b=0;for(var e=0;e<4;e++)b.call(this);for(var e=0;e<8;e++)a[e]^=d[e+4&7];if(c){d=c.words;c=d[0];d=d[1];c=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8);d=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8);var f=c>>>16|4294901760&d,g=d<<16|65535&c;a[0]^=c,a[1]^=f,a[2]^=d,a[3]^=g,a[4]^=c,a[5]^=f,a[6]^=d,a[7]^=g;for(var e=0;e<4;e++)b.call(this)}},_doProcessBlock:function(a,c){var d=this._X;b.call(this),f[0]=d[0]^d[5]>>>16^d[3]<<16,f[1]=d[2]^d[7]>>>16^d[5]<<16,f[2]=d[4]^d[1]>>>16^d[7]<<16,f[3]=d[6]^d[3]>>>16^d[1]<<16;for(d=0;d<4;d++)f[d]=16711935&(f[d]<<8|f[d]>>>24)|4278255360&(f[d]<<24|f[d]>>>8),a[c+d]^=f[d]},blockSize:4,ivSize:2});c.RabbitLegacy=d._createHelper(e)}(),a.pad.ZeroPadding={pad:function(a,b){b=4*b;a.clamp(),a.sigBytes+=b-(a.sigBytes%b||b)},unpad:function(a){for(var b=a.words,c=a.sigBytes-1;!(b[c>>>2]>>>24-c%4*8&255);)c--;a.sigBytes=c+1}},a})}),null);
__d("StoriesActivityBadgeDeferred.react",["deferredLoadComponent","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");a=c("deferredLoadComponent")(c("requireDeferred")("CometActivityBadge.react").__setRef("StoriesActivityBadgeDeferred.react"));b=a;g["default"]=b}),98);
__d("StoriesTrayTileAvatar.react",["fbt","CometPlaceholder.react","CometSSRReplaceContentOnHydrationAndBreakEventReplaying.react","CometVisualCompletionAttributes","FDSLoadingAnimation.react","FDSText.react","StoriesActivityBadgeDeferred.react","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={activeBadge:{bottom:"xn0vg7t",end:"x70y0r9",left:null,right:null,position:"x10l6tqk",$$css:!0},borderBlue:{borderTopColor:"x1tz4bnf",borderEndColor:"xmds5ef",borderBottomColor:"x25epmt",borderStartColor:"x11y6y4w",$$css:!0},borderGreen:{borderTopColor:"x751hie",borderEndColor:"x12z88qw",borderBottomColor:"xnatle3",borderStartColor:"x4zw6fh",$$css:!0},borderRed:{borderTopColor:"x1mqrs8o",borderEndColor:"x10tkx69",borderBottomColor:"xip93fl",borderStartColor:"x11kwtuv",$$css:!0},borderTransparent:{borderTopColor:"x1v8p93f",borderEndColor:"xogb00i",borderBottomColor:"x16stqrj",borderStartColor:"x1ftr3km",$$css:!0},borderWhite:{borderTopColor:"xsdn2ir",borderEndColor:"x16rfsbj",borderBottomColor:"x13awxeq",borderStartColor:"x16sykr7",$$css:!0},liveText:{backgroundColor:"x1ciooss",borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",bottom:"xbfrwjf",start:"x16q8cke",left:null,right:null,paddingTop:"x1iorvi4",paddingBottom:"xjkvuk6",paddingStart:"x1k2j06m",paddingEnd:"x10ogl3i",paddingLeft:null,paddingRight:null,position:"x10l6tqk",textAlign:"x2b8uid",width:"x23j0i4",$$css:!0},loadingOverlay:{alignItems:"x6s0dn4",bottom:"x1ey2m1c",display:"x78zum5",height:"x5yr21d",end:"xds687c",start:"x17qophe",left:null,right:null,justifyContent:"xl56j7k",position:"x10l6tqk",top:"x13vifvy",zIndex:"x1yyfhjw",$$css:!0},opaqueBackground:{backgroundColor:"x1jx94hy",$$css:!0},ringedBorder:{borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x1gp4ovq",borderEndWidth:"xdio9jc",borderBottomWidth:"x1h2mt7u",borderStartWidth:"x7g060r",$$css:!0},spinner:{start:"x1mxuws9",left:null,right:null,position:"x1n2onr6",top:"x1lg0oad",$$css:!0},wrapper:{alignItems:"x6s0dn4",backgroundColor:"x1wpzbip",borderTopStartRadius:"xlid4zk",borderTopEndRadius:"x13tp074",borderBottomEndRadius:"x1qns1p2",borderBottomStartRadius:"xipx5yg",boxSizing:"x9f619",display:"x78zum5",height:"x1vqgdyp",justifyContent:"xl56j7k",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"x100vrsf",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(25),e=a.children,f=a.hasNew,g=a.isLiveStreaming,i=a.isOnline,l=a.isOpaqueBackground,m=a.isUploading;a=a.shouldShowCloseFriendsBadge;g=g===void 0?!1:g;i=i===void 0?!1:i;m=m===void 0?!1:m;a=a===void 0?!1:a;var n;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(n=h._(/*BTDS*/"LIVE"),b[0]=n):n=b[0];n=n;l=l===!0&&k.opaqueBackground;var o=e!=null&&k.ringedBorder,p=f===!0&&!m&&a&&k.borderGreen;a=f===!0&&!m&&!a&&k.borderBlue;f=f!==!0&&!m&&k.borderWhite;var q=m&&!g&&k.borderTransparent,r=g&&k.borderRed,s;b[1]!==f||b[2]!==q||b[3]!==r||b[4]!==l||b[5]!==o||b[6]!==p||b[7]!==a?(s=[k.wrapper,l,o,p,a,f,q,r],b[1]=f,b[2]=q,b[3]=r,b[4]=l,b[5]=o,b[6]=p,b[7]=a,b[8]=s):s=b[8];b[9]!==g||b[10]!==m?(f=m&&!g&&j.jsx(d("react-strict-dom").html.div,{style:k.loadingOverlay,children:j.jsx(d("react-strict-dom").html.div,{style:k.spinner,children:j.jsx(c("FDSLoadingAnimation.react"),{size:40})})}),b[9]=g,b[10]=m,b[11]=f):f=b[11];b[12]!==g?(q=g&&j.jsx(d("react-strict-dom").html.div,{style:k.liveText,children:j.jsx(c("FDSText.react"),{color:"primaryOnMedia",numberOfLines:1,type:"meta4",children:n})}),b[12]=g,b[13]=q):q=b[13];b[14]!==g||b[15]!==i?(r=!g&&i&&j.jsx(d("react-strict-dom").html.div,babelHelpers["extends"]({style:k.activeBadge},c("CometVisualCompletionAttributes").IGNORE,{children:j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(c("StoriesActivityBadgeDeferred.react"),{size:8,state:"active"})})})),b[14]=g,b[15]=i,b[16]=r):r=b[16];b[17]!==r?(l=j.jsx(c("CometSSRReplaceContentOnHydrationAndBreakEventReplaying.react"),{children:r}),b[17]=r,b[18]=l):l=b[18];b[19]!==e||b[20]!==s||b[21]!==f||b[22]!==q||b[23]!==l?(o=j.jsxs(d("react-strict-dom").html.div,{style:s,children:[f,e,q,l]}),b[19]=e,b[20]=s,b[21]=f,b[22]=q,b[23]=l,b[24]=o):o=b[24];return o}g["default"]=a}),226);
__d("StoriesTrayTileGlimmer.react",["FDSGlimmer.react","StoriesTrayTileAvatar.react","StoriesTrayTileView.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={contents:{borderTopStartRadius:"x1a2cdl4",borderTopEndRadius:"xnhgr82",borderBottomEndRadius:"x1qt0ttw",borderBottomStartRadius:"xgk8upj",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(6),e=a.aspectRatio;a=a.index;a=a===void 0?0:a;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=i.jsx(c("StoriesTrayTileAvatar.react"),{}),b[0]=f):f=b[0];b[1]!==e?(f=i.jsx(c("StoriesTrayTileView.react"),{aspectRatio:e,avatar:f,showShadow:!1}),b[1]=e,b[2]=f):f=b[2];b[3]!==a||b[4]!==f?(e=i.jsx(c("FDSGlimmer.react"),{index:a,xstyle:j.contents,children:f}),b[3]=a,b[4]=f,b[5]=e):e=b[5];return e}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("EBDBMetricsConsistencyOperationEnum",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({Upload:0});f.EBConsistencyOperation=a}),66);
__d("EBEnableUnifiedAttachment",[],(function(a,b,c,d,e,f){"use strict";var g=!1;function a(a){g=a}function b(){return g}f.setEbEnableUnifiedAttachment=a;f.getEbEnableUnifiedAttachment=b}),66);
__d("EBUnifyLegacyMediaUpload",[],(function(a,b,c,d,e,f){"use strict";var g=!1;function a(a){g=a}function b(){return g}f.setEnableUnifyLegacyMediaUpload=a;f.getEnableUnifyLegacyMediaUpload=b}),66);
__d("LSMessageSendStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,SENDING_TO_SERVER:1,SERVER_RECEIVED:2,NON_RETRIABLE_ERROR:4,RETRIABLE_ERROR:5});f["default"]=a}),66);
__d("LSXmaContentType",[],(function(a,b,c,d,e,f){a=Object.freeze({TEST:-1,NONE:0,IG_SINGLE_IMAGE_POST_SHARE:1e3,IG_MULTIPOST_SHARE:1001,IG_STORY_REPLY:1002,IG_STORY_PHOTO_SHARE:1003,IG_STORY_PHOTO_MENTION:1004,IG_CLIPS_SHARE:1005,IG_SINGLE_VIDEO_POST_SHARE:1006,IG_STORY_VIDEO_SHARE:1007,IG_STORY_REACTION:1008,IG_IGTV_SHARE:1009,IG_SHOP_SHARE:1010,IG_PROFILE_SHARE:1011,IG_STORY_PHOTO_HIGHLIGHT_SHARE:1012,IG_STORY_VIDEO_HIGHLIGHT_SHARE:1013,IG_STORY_VIDEO_MENTION:1014,IG_STORY_HIGHLIGHT_REPLY:1015,IG_STORY_HIGHLIGHT_REACTION:1016,IG_EXTERNAL_LINK:1017,IG_RECEIVER_FETCH:1018,IG_TEXT_POST_APP_SHARE:1019,IG_MULTI_MEDIA_RESPONSE:1020,FB_FEED_SHARE:2e3,FB_STORY_REPLY:2001,FB_STORY_SHARE:2002,FB_STORY_MENTION:2003,FB_FEED_VIDEO_SHARE:2004,FB_GAMING_CUSTOM_UPDATE:2005,FB_PRODUCER_STORY_REPLY:2006,FB_EVENT:2007,FB_FEED_POST_PRIVATE_REPLY:2008,FB_SHORT:2009,FB_COMMENT_MENTION_SHARE:2010,FB_STORY_LWI_REPLY:2011,FB_COMMENT_SHARE:2012,FB_POST_MENTION:2013,MSG_EXTERNAL_LINK_SHARE:3e3,MSG_P2P_PAYMENT:3001,MSG_LOCATION_SHARING:3002,MSG_LOCATION_SHARING_V2:3003,MSG_HIGHLIGHTS_TAB_FRIEND_UPDATES_REPLY:3004,MSG_HIGHLIGHTS_TAB_LOCAL_EVENT_REPLY:3005,MSG_RECEIVER_FETCH:3006,MSG_IG_MEDIA_SHARE:3007,MSG_GEN_AI_SEARCH_PLUGIN_RESPONSE:3008,MSG_REELS_LIST:3009,MSG_CONTACT:3010,MSG_THREADS_POST_SHARE:3011,MSG_FILE:3012,MSG_AVATAR_DETAILS:3013,MSG_AI_CONTACT:3014,MSG_MEMORIES_SHARE:3015,MSG_SHARED_ALBUM_REPLY:3016,MSG_SHARED_ALBUM:3017,MSG_OCCAMADILLO_XMA:3018,MSG_GEN_AI_1P_SEARCH_RESULT:3019,MSG_EARLY_ACCESS_FB_SHARE:3020,MSG_GEN_AI_SUBSCRIPTION:3021,MSG_GEN_AI_REMINDER:3022,MSG_GEN_AI_MEMU_ONBOARDING_RESPONSE:3023,MSG_MAGICAL_MESSENGER_PLACES:3024,MSG_RECEIVER_FETCH_FALLBACK:3025,MSG_MAGICAL_MESSENGER_TASKS:3026,MSG_NOTE_REPLY:3027,MSG_NOTE_MENTION:3028,MSG_PROMPT_REPLY:3029,MSG_GEN_AI_TASK:3030,MSG_GEN_AI_RICH_RESPONSE:3040,MSG_RECEIVER_FETCH_ENT_DELETED:3041,MSG_GEN_AI_APP_DOWNLOAD_LINK:3042,RTC_AUDIO_CALL:4e3,RTC_VIDEO_CALL:4001,RTC_MISSED_AUDIO_CALL:4002,RTC_MISSED_VIDEO_CALL:4003,RTC_GROUP_AUDIO_CALL:4004,RTC_GROUP_VIDEO_CALL:4005,RTC_MISSED_GROUP_AUDIO_CALL:4006,RTC_MISSED_GROUP_VIDEO_CALL:4007,RTC_ONGOING_AUDIO_CALL:4008,RTC_ONGOING_VIDEO_CALL:4009,DATACLASS_SENDER_COPY:5e3,OC_AVATAR_STATIC_STICKER:6e3,LIVE_LOCATION:7e3});f["default"]=a}),66);
__d("MAWAckLevel",["LSIntEnum","LSMessageSendStatus"],(function(a,b,c,d,e,f,g){"use strict";var h,i={clock:0,contentGone:-3,contentTooBig:-4,contentUnuploadable:-5,expired:-2,failed:-1,failedRetryable:-9,inactiveReceived:-6,partialOptimistic:-8,played:4,read:3,received:2,senderBackFillSent:-7,sent:1};function a(a){return a>0}function b(a){switch(a){case i.partialOptimistic:return(h||(h=d("LSIntEnum"))).ofNumber(0);case i.clock:return(h||(h=d("LSIntEnum"))).ofNumber(1);case i.sent:case i.received:case i.read:case i.played:return(h||(h=d("LSIntEnum"))).ofNumber(2);case i.failedRetryable:return(h||(h=d("LSIntEnum"))).ofNumber(5);default:return(h||(h=d("LSIntEnum"))).ofNumber(4)}}function e(a){switch(a){case i.partialOptimistic:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessageSendStatus").NONE);case i.clock:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessageSendStatus").SENDING_TO_SERVER);case i.sent:case i.received:case i.read:case i.played:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessageSendStatus").SERVER_RECEIVED);case i.failedRetryable:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessageSendStatus").RETRIABLE_ERROR);default:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessageSendStatus").NON_RETRIABLE_ERROR)}}g.ACK=i;g.isMsgAuthoritative=a;g.levelToMessagingSendStatusV2=b;g.levelToMessagingSendStatus=e}),98);
__d("MAWBridgeSafeActionsWorkerAndUI",["ExecutionEnvironment","MAWBridge","Promise","err","ifRequireable"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,e,f){return(i||(i=c("ExecutionEnvironment"))).isInWorker?d("MAWBridge").getBridge().sendAndReceive("backend",a,e,f==null?void 0:f.isLoggingDisabled):new(h||(h=b("Promise")))(function(b,d){return c("ifRequireable")("MAWBridgeSendAndReceive",function(c){c=c.sendAndReceive;return b(c("backend",a,e,f))},function(){return d("MAWBridgeSendAndReceive not available in UI ifRequired")})})}function e(a,b,e){return(i||(i=c("ExecutionEnvironment"))).isInWorker?d("MAWBridge").getBridge().fireAndForget("backend",a,b,e):c("ifRequireable")("MAWBridgeFireAndForget",function(c){c=c.fireAndForget;return c("backend",a,b,e)},function(){throw c("err")("MAWBridgeFireAndForget not available in UI ifRequired")})}g.sendAndReceiveBackendWorkerAndUIShared=a;g.fireAndForgetBackendWorkerAndUIShared=e}),98);
__d("WADirectPath",["WAResultOrError"],(function(a,b,c,d,e,f,g){"use strict";var h="0_0_0_.enc";function a(a){return a}function b(a){if(a==null)return d("WAResultOrError").makeError("direct-path-undefined");if(a==="")return d("WAResultOrError").makeError("direct-path-empty");return a.includes(h)?d("WAResultOrError").makeError("direct-path-corrupted"):d("WAResultOrError").makeResult(a)}g.unsafeCastToDirectPath=a;g.validateDirectPath=b}),98);
__d("WAGlobals",["WAJids","WALogger","err"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["",""]);h=function(){return a};return a}var i=null;function a(a){i=a}function j(){if(i==null)throw c("err")("WaMsgr api called before set");return i}function k(){var a;return(a=j().myJids)==null?void 0:a.deviceJid}function b(){var a;return(a=j().myJids)==null?void 0:a.userJid}function e(a){return d("WAJids").extractUserJid(a)===d("WAJids").extractUserJid(k())}function f(){return j().config}function l(){return j().dependencies}var m="WAOneQueue is not defined";function n(){var a=j().waOneQueue;if(a==null){d("WALogger").ERROR(h(),m);throw c("err")(m)}return a}function o(){return j().hmacKey}g.setGlobals=a;g.getMyDeviceJid=k;g.getMyUserJid=b;g.isPeerDevice=e;g.getConfig=f;g.getDependencies=l;g.getWaOneQueue=n;g.getHMACKey=o}),98);
__d("WALongInt",["WAHex","WALogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is over 64 bits']);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is not a valid decimal string']);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose([""," is not a safe integer"]);j=function(){return a};return a}function k(a){if(typeof a!=="number"){d("WALogger").LOG(j(),a).color("red");throw new Error("numberOrThrowIfTooLarge is given a non-safe integer")}return a}f=function(a){return a==null?a:k(a)};function a(a){return a==null||typeof a!=="number"?null:a}function b(a,b){if(typeof a==="number"&&typeof b==="number")return a>b;a=typeof a==="number"?d("WAHex").hexLongFromNumber(a):a;b=typeof b==="number"?d("WAHex").hexLongFromNumber(b):b;return d("WAHex").isBiggerHexLong(a,b)}function c(a){if(typeof a==="number")return a.toString(10);var b=d("WAHex").hexLongToHex(a),c=[0],e=0;for(var f=0;f<b.length;f++){e=d("WAHex").hexAt(b,f);for(var g=0;g<c.length;g++)c[g]=c[g]*16+e,e=c[g]/10|0,c[g]%=10;while(e>0)c.push(e%10),e=e/10|0}g=c.reverse().join("");return d("WAHex").hexLongIsNegative(a)?"-"+g:g}function e(a){if(!/^-?\d+$/.test(a)){d("WALogger").LOG(i(),a).color("red");throw new Error("decimalStringToLongInt is given an invalid decimal string")}var b=a[0]==="-",c=a.replace(/^-?0*/,""),e=c.length;if(e<16||e===16&&c<="9007199254740991")return b?-Number(c):Number(c);if(e>20||e===20&&c>"18446744073709551615"||b&&(e>19||e===19&&c>"9223372036854775807")){d("WALogger").LOG(h(),a).color("red");throw new Error("decimalStringToHexLong is given value over 64 bits")}a=0;var f=0;for(var g=0;g<e;g++)a=a*10+Number(c[g]),f=f*10+Math.floor(a/4294967296),a=a%4294967296;return d("WAHex").createHexLongFrom32Bits(f,a,b)}g.numberOrThrowIfTooLarge=k;g.maybeNumberOrThrowIfTooLarge=f;g.maybeNumber=a;g.isBiggerLongInt=b;g.longIntToDecimalString=c;g.decimalStringToLongInt=e}),98);
__d("WAMediaEntryData.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};b={};c={};a.internalSpec={fileSha256:[1,(e=d("WAProtoConst")).TYPES.BYTES],mediaKey:[2,e.TYPES.BYTES],fileEncSha256:[3,e.TYPES.BYTES],directPath:[4,e.TYPES.STRING],mediaKeyTimestamp:[5,e.TYPES.INT64],serverMediaType:[6,e.TYPES.STRING],uploadToken:[7,e.TYPES.BYTES],validatedTimestamp:[8,e.TYPES.BYTES],sidecar:[9,e.TYPES.BYTES],objectId:[10,e.TYPES.STRING],fbid:[11,e.TYPES.STRING],downloadableThumbnail:[12,e.TYPES.MESSAGE,c],handle:[13,e.TYPES.STRING],filename:[14,e.TYPES.STRING],progressiveJpegDetails:[15,e.TYPES.MESSAGE,b],size:[16,e.TYPES.INT64],lastDownloadAttemptTimestamp:[17,e.TYPES.INT64]};b.internalSpec={scanLengths:[1,e.FLAGS.REPEATED|e.TYPES.UINT32],sidecar:[2,e.TYPES.BYTES]};c.internalSpec={fileSha256:[1,e.TYPES.BYTES],fileEncSha256:[2,e.TYPES.BYTES],directPath:[3,e.TYPES.STRING],mediaKey:[4,e.TYPES.BYTES],mediaKeyTimestamp:[5,e.TYPES.INT64],objectId:[6,e.TYPES.STRING]};g.MediaEntrySpec=a;g.MediaEntry$ProgressiveJpegDetailsSpec=b;g.MediaEntry$DownloadableThumbnailSpec=c}),98);
__d("WAProgressiveJpegMarkers",[],(function(a,b,c,d,e,f){"use strict";a=255;b=0;c={SOF0:192,SOF1:193,SOF2:194,SOF3:195,DHT:196,SOF5:197,SOF6:198,SOF7:199,JPG:200,SOF9:201,SOF10:202,SOF11:203,SOF13:205,SOF14:206,SOF15:207,RST0:208,RST1:209,RST2:210,RST3:211,RST4:212,RST5:213,RST6:214,RST7:215,SOI:216,EOI:217,SOS:218,DQT:219,DRI:221,APP0:224,APP1:225,APP2:226,APP3:227,APP4:228,APP5:229,APP6:230,APP7:231,APP8:232,APP9:233,APP10:234,APP11:235,APP12:236,APP13:237,APP14:238,APP15:239,COM:254,TEM:1};d=[b,c.RST0,c.RST1,c.RST2,c.RST3,c.RST4,c.RST5,c.RST6,c.RST7];f.MARKER_PREFIX=a;f.MARKER_ESCAPE_BYTE=b;f.MARKERS=c;f.SOS_STREAM=d}),66);
__d("WAProgressiveJpegGetScanOffsets",["WAProgressiveJpegMarkers","WATagsLogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Non-progressive JPEG marker found"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Ending marker found before end of image"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Scan found at offset ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Not a JPEG image"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["starting"]);l=function(){return a};return a}var m=d("WATagsLogger").TAGS(["media","progressiveJpegUtils"]);function a(a){m.DEV(l());if(!n(a)){m.DEV(k());return[]}var b=[],c=2,e="READ_MARKER_FIRST_BYTE_OR_ENTROPY_DATA",f=null,g=0,r=!1,s=!1,t=!1;function u(){t=!1,m.DEV(j(),c-1),b.push(c-1)}while(c<a.byteLength){f=a[c];if(r){m.ERROR(i());return[]}switch(e){case"READ_MARKER_FIRST_BYTE_OR_ENTROPY_DATA":f===d("WAProgressiveJpegMarkers").MARKER_PREFIX&&(e="READ_MARKER_SECOND_BYTE");break;case"READ_MARKER_SECOND_BYTE":if(f===d("WAProgressiveJpegMarkers").MARKER_PREFIX)e="READ_MARKER_SECOND_BYTE";else if(f===d("WAProgressiveJpegMarkers").MARKER_ESCAPE_BYTE)e="READ_MARKER_FIRST_BYTE_OR_ENTROPY_DATA";else if(f===d("WAProgressiveJpegMarkers").MARKERS.EOI)r=!0,t&&u();else if(!s&&p(f)){m.LOG(h());return[]}else o(f)?(s=!0,e="READ_MARKER_FIRST_BYTE_OR_ENTROPY_DATA"):(t&&u(),f===d("WAProgressiveJpegMarkers").MARKERS.SOS&&(t=!0),q(f)?e="READ_SIZE_FIRST_BYTE":e="READ_MARKER_FIRST_BYTE_OR_ENTROPY_DATA");break;case"READ_SIZE_FIRST_BYTE":e="READ_SIZE_SECOND_BYTE";break;case"READ_SIZE_SECOND_BYTE":c+=g*256;c+=f;c-=2;e="READ_MARKER_FIRST_BYTE_OR_ENTROPY_DATA";break}c+=1;g=f}return b}function n(a){if(a.byteLength<=2)return!1;if(a[0]!==d("WAProgressiveJpegMarkers").MARKER_PREFIX)return!1;return a[1]!==d("WAProgressiveJpegMarkers").MARKERS.SOF2&&a[1]!==d("WAProgressiveJpegMarkers").MARKERS.SOI?!1:!0}function o(a){return a===d("WAProgressiveJpegMarkers").MARKERS.SOF2||a===d("WAProgressiveJpegMarkers").MARKERS.SOF6||a===d("WAProgressiveJpegMarkers").MARKERS.SOF10||a===d("WAProgressiveJpegMarkers").MARKERS.SOF14}function p(a){return a===d("WAProgressiveJpegMarkers").MARKERS.SOF0||a===d("WAProgressiveJpegMarkers").MARKERS.SOF1||a===d("WAProgressiveJpegMarkers").MARKERS.SOF3||a===d("WAProgressiveJpegMarkers").MARKERS.SOF5||a===d("WAProgressiveJpegMarkers").MARKERS.SOF7||a===d("WAProgressiveJpegMarkers").MARKERS.JPG||a===d("WAProgressiveJpegMarkers").MARKERS.SOF9||a===d("WAProgressiveJpegMarkers").MARKERS.SOF11||a===d("WAProgressiveJpegMarkers").MARKERS.SOF13||a===d("WAProgressiveJpegMarkers").MARKERS.SOF15}function q(a){if(a===d("WAProgressiveJpegMarkers").MARKERS.TEM)return!1;return a>=d("WAProgressiveJpegMarkers").MARKERS.RST0&&a<=d("WAProgressiveJpegMarkers").MARKERS.RST7?!1:a!==d("WAProgressiveJpegMarkers").MARKERS.EOI&&a!==d("WAProgressiveJpegMarkers").MARKERS.SOI}g.getProgressiveJpegScanOffsets=a}),98);
__d("WAProgressiveJpegGetScanLengths",["WAProgressiveJpegGetScanOffsets"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=d("WAProgressiveJpegGetScanOffsets").getProgressiveJpegScanOffsets(a);return h(a)}function b(a){return a}function h(a){var b=[],c=0;for(a of a)b.push(a-c),c=a;return b}g.getProgressiveJpegScanLengths=a;g.asProgressiveJpegScanLength=b}),98);
__d("WAServerMediaType",["WAAssertUnreachable"],(function(a,b,c,d,e,f,g){"use strict";d=["image","sticker","ptt","audio","document","video","gif","ppic","md-app-state","md-msg-hist","kyc-id","template","thumbnail-image","thumbnail-video","thumbnail-gif","thumbnail-document","thumbnail-link","payment-bg-image","novi-video","novi-image","product","product-catalog-image","xma-image","biz-cover-photo","preview","newsletter-audio","newsletter-document","newsletter-image","newsletter-gif","newsletter-ptt","newsletter-sticker","newsletter-thumbnail-link","newsletter-video","sticker-pack","thumbnail-sticker-pack","music-artwork"];function a(a){switch(a){case"image":case"sticker":case"ptt":case"audio":case"document":case"video":case"gif":case"ppic":case"md-app-state":case"md-msg-hist":case"kyc-id":case"thumbnail-image":case"thumbnail-video":case"thumbnail-gif":case"thumbnail-document":case"thumbnail-link":case"payment-bg-image":case"novi-video":case"novi-image":case"template":case"product":case"product-catalog-image":case"xma-image":case"biz-cover-photo":case"preview":case"newsletter-audio":case"newsletter-document":case"newsletter-image":case"newsletter-gif":case"newsletter-ptt":case"newsletter-sticker":case"newsletter-thumbnail-link":case"newsletter-video":case"sticker-pack":case"thumbnail-sticker-pack":case"music-artwork":return a;default:return null}}function b(a){switch(a){case"Image":return"image";case"Video":return"video";case"Ptt":return"ptt";case"Gif":return"gif";case"Sticker":return"sticker";case"DocumentFile":return"document";case"Text":case"Futureproof":case"Ciphertext":case"Unavailable":case"ExpiredEphemeral":case"Admin":case"Revoked":case"DeleteForMe":case"EphemeralSettingAdmin":case"EphemeralSyncResponse":case"EphemeralSettingChangeFromCurrentDevice":case"AlertICDC":case"GroupInvite":case"SenderKeyDistribution":case"Reaction":case"EditAction":case"ReceiverFetch":case"Raven":case"GroupPollCreate":case"GroupPollUpdate":return null;default:return c("WAAssertUnreachable")(a)}}g.SERVER_MEDIA=d;g.castToServerMediaType=a;g.getMediaType=b}),98);
__d("decodeProtobuf",["WABinary","WAHasProperty","WAHex","WAProtoCompile","WAProtoConst","WAProtoUtils","WAProtoValidate"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b=new(d("WABinary").Binary)(b);b=n(a,b,void 0,!1);d("WAProtoValidate").checkRequirements(a,b);return b}function b(a,b){b=new(d("WABinary").Binary)(b);b=n(a,b,void 0,!0);d("WAProtoValidate").checkRequirements(a,b);return b}function e(a){return c("WAHasProperty")(a,"$$unsafeUnknownFields")?a.$$unsafeUnknownFields:null}function h(a,b,c){if(a!==d("WAProtoUtils").typeToEncType(b))throw new Error("FormatError: "+c+" encoded with wire type "+a)}function i(a,b,c){switch(b){case d("WAProtoConst").TYPES.INT32:return j(c,-2147483648,2147483648,a,d("WABinary").parseInt64OrThrow);case d("WAProtoConst").TYPES.INT64:return c.readVarInt(k);case d("WAProtoConst").TYPES.UINT32:return j(c,0,4294967296,a,d("WABinary").parseUint64OrThrow);case d("WAProtoConst").TYPES.UINT64:return c.readVarInt(l);case d("WAProtoConst").TYPES.SINT32:b=j(c,0,4294967296,a,d("WABinary").parseInt64OrThrow);return b&1?~(b>>>1):b>>>1;case d("WAProtoConst").TYPES.SINT64:return c.readVarInt(m);case d("WAProtoConst").TYPES.BOOL:return!!j(c,0,2,a,d("WABinary").parseUint64OrThrow);case d("WAProtoConst").TYPES.ENUM:return c.readVarInt(d("WABinary").parseInt64OrThrow);case d("WAProtoConst").TYPES.FIXED64:return c.readLong(l,!0);case d("WAProtoConst").TYPES.SFIXED64:return c.readLong(k,!0);case d("WAProtoConst").TYPES.DOUBLE:return c.readFloat64(!0);case d("WAProtoConst").TYPES.STRING:return c.readString(c.readVarInt(d("WABinary").parseUint64OrThrow));case d("WAProtoConst").TYPES.BYTES:return c.readBuffer(c.readVarInt(d("WABinary").parseUint64OrThrow));case d("WAProtoConst").TYPES.FIXED32:return c.readUint32(!0);case d("WAProtoConst").TYPES.SFIXED32:return c.readInt32(!0);case d("WAProtoConst").TYPES.FLOAT:return c.readFloat32(!0)}}function j(a,b,c,d,e){a=a.readVarInt(e);if(a<b||a>=c)throw new Error("FormatError: "+d+" encoded with out-of-range value "+a);return a}function k(a,b){var c=d("WABinary").longFitsInDouble(!0,a,b);if(c){c=o(b);return a*4294967296+c}else{c=a<0;var e;c?e=b===0?-a:~a:e=a;a=c?-b:b;return d("WAHex").createHexLongFrom32Bits(e,a,c)}}function l(a,b){var c=d("WABinary").longFitsInDouble(!1,a,b);if(c){c=o(a);var e=o(b);return c*4294967296+e}else return d("WAHex").createHexLongFrom32Bits(a,b)}function m(a,b){var c=a>>>1;a=a<<31|b>>>1;b&1&&(c=~c,a=~a);return k(c,a)}function n(a,b,c,e){var f=d("WAProtoCompile").compileSpec(a),g=f.names,k=f.fields,l=f.types,m=f.meta,o=f.oneofToFields,p=f.fieldToOneof,q=f.reservedTags,r=f.reservedFields;f=a.internalDefaults;var s=c||babelHelpers["extends"]({},f)||{};s.$$unknownFieldCount=(a=c==null?void 0:c.$$unknownFieldCount)!=null?a:0;for(f=0;f<g.length;f++)l[f]&d("WAProtoConst").FLAGS.REPEATED?s[g[f]]=[]:l[f]===(d("WAProtoConst").TYPES.MAP&d("WAProtoConst").TYPE_MASK)&&(s[g[f]]=new Map());var t=0;c=k.length>0;a=k[0];while(b.size()){f=j(b,0,4294967296,"field and enc type",d("WABinary").parseInt64OrThrow);var u=f&7,v=f>>>3;if(c&&v!==a){f=t;do++t===k.length&&(t=0),a=k[t];while(v!==a&&t!==f)}if(c&&v===a)(function(){var a=g[t],c=l[t];h(u,c,a);var f=c&d("WAProtoConst").TYPE_MASK,k=m[t];if(c&d("WAProtoConst").FLAGS.PACKED){var w=b.readVarInt(d("WABinary").parseUint64OrThrow);w=b.readBinary(w);while(w.size()){var x=i(a,f,w);(f!==d("WAProtoConst").TYPES.ENUM||k[x]||(k.cast==null?void 0:k.cast(x))!==void 0)&&s[a].push(x)}}else if(f===d("WAProtoConst").TYPES.MESSAGE){x=b.readVarInt(d("WABinary").parseUint64OrThrow);w=b.readBinary(x);if(c&d("WAProtoConst").FLAGS.REPEATED)s[a].push(n(k,w,void 0,e));else{x=s[a];s[a]=n(k,w,x,e)}}else if(f===d("WAProtoConst").TYPES.MAP){w=b.readVarInt(d("WABinary").parseUint64OrThrow);x=b.readBinary(w);var y,z;for(w=0;w<m[t].length;w++){var A=j(x,0,4294967296,"map field and enc type",d("WABinary").parseInt64OrThrow),B=A&7;A=A>>>3;var C=void 0;switch(B){case d("WAProtoConst").ENC.VARINT:C=x.readVarInt(d("WABinary").parseInt64OrThrow);break;case d("WAProtoConst").ENC.BIT64:C=x.readBinary(8);break;case d("WAProtoConst").ENC.BINARY:B=k[w];if(B===d("WAProtoConst").TYPES.BYTES||B===d("WAProtoConst").TYPES.STRING)C=i(a,B,x);else{var D=x.readVarInt(d("WABinary").parseUint64OrThrow);D=x.readBinary(D);C=n(B,D,void 0,e)}break;case d("WAProtoConst").ENC.BIT32:C=x.readBinary(4);break}A===1?y=C:z=C}s[a].set(y,z)}else{B=i(a,f,b);(f!==d("WAProtoConst").TYPES.ENUM||k[B]||(k.cast==null?void 0:k.cast(B))!==void 0)&&(c&d("WAProtoConst").FLAGS.REPEATED?s[a].push(B):s[a]=B)}D=p[a];D&&typeof s[a]!=="undefined"&&D.forEach(function(b){b=o[b].filter(function(b){return b!==a});b.forEach(function(a){delete s[a]})});(q[v]||r[a])&&delete s[a]})();else{s.$$unknownFieldCount++;if(e){s.$$unsafeUnknownFields||(s.$$unsafeUnknownFields={});f=void 0;switch(u){case d("WAProtoConst").ENC.VARINT:f=b.readVarInt(d("WABinary").parseInt64OrThrow);break;case d("WAProtoConst").ENC.BIT64:f=b.readBinary(8);break;case d("WAProtoConst").ENC.BINARY:f=b.readBinary(b.readVarInt(d("WABinary").parseUint64OrThrow));break;case d("WAProtoConst").ENC.BIT32:f=b.readBinary(4);break}s.$$unsafeUnknownFields[v]=f}else u===d("WAProtoConst").ENC.VARINT?b.readVarInt(d("WABinary").parseInt64OrThrow):u===d("WAProtoConst").ENC.BIT64?b.advance(8):u===d("WAProtoConst").ENC.BINARY?b.advance(b.readVarInt(d("WABinary").parseUint64OrThrow)):u===d("WAProtoConst").ENC.BIT32&&b.advance(4)}}return s}function o(a){return a>=0?a:4294967296+a}g.decodeProtobuf=a;g.decodeProtobufWithUnknowns=b;g.getUnknownFields=e}),98);
__d("WAMediaUtils",["WACryptoDependencies","WADirectPath","WAGlobals","WALongInt","WAMediaEntryData.pb","WAProgressiveJpegGetScanLengths","WAResultOrError","WAServerMediaType","WATimeUtils","decodeProtobuf","encodeProtobuf","err"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=new Uint8Array(32);d("WACryptoDependencies").getCrypto().getRandomValues(a);return a.buffer}function i(a){return a}function a(){return h()}function j(a){return a}function k(a){return a}function b(a){return a}function e(a){return a}function f(a,b){a=d("decodeProtobuf").decodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,b);b=a.fileSha256;var c=a.mediaKey,e=a.fileEncSha256,f=a.directPath,g=a.mediaKeyTimestamp,h=a.sidecar,i=a.objectId,j=a.fbid,l=a.serverMediaType,m=a.downloadableThumbnail,n=a.filename,o=a.progressiveJpegDetails;a=a.size;f=d("WADirectPath").validateDirectPath(f);return{fileSha256:b,mediaKey:c,fileEncSha256:e,directPath:f.success?f.value:null,mediaKeyTimestamp:d("WALongInt").maybeNumberOrThrowIfTooLarge(g),sidecar:h&&k(h),objectId:i,fbid:j,downloadableThumbnail:m==null?void 0:{directPath:m.directPath,fileEncSha256:m.fileEncSha256,fileSha256:m.fileSha256,mediaKey:m.mediaKey,mediaKeyTimestamp:d("WALongInt").maybeNumberOrThrowIfTooLarge(m.mediaKeyTimestamp),objectId:m.objectId},serverMediaType:l,filename:n,progressiveJpegDetails:o&&s(o),size:a==null?void 0:d("WALongInt").numberOrThrowIfTooLarge(a)}}function l(a){var b=a.fileSha256,c=a.fileEncSha256,e=a.mediaKey,f=a.directPath,g=a.mediaKeyTimestamp,h=a.serverMediaType,i=a.objectId,j=a.fbid,k=a.downloadableThumbnail,l=a.filename,m=a.progressiveJpegDetails;a=a.size;b=d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,{fileSha256:b,fileEncSha256:c,mediaKey:e,directPath:f,mediaKeyTimestamp:g,serverMediaType:h,objectId:i,fbid:j,downloadableThumbnail:k,filename:l,progressiveJpegDetails:m,size:a});return b.readByteArray()}function m(a){return d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,a).readByteArray()}function n(a,b){return d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,babelHelpers["extends"]({},a,{directPath:b})).readByteArray()}function o(a,b){return d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,babelHelpers["extends"]({},a,{downloadableThumbnail:babelHelpers["extends"]({},a.downloadableThumbnail,{directPath:b})})).readByteArray()}function p(a,b){a=babelHelpers["extends"]({},a,{fbid:b});return d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,a).readByteArray()}function q(a,b){a=babelHelpers["extends"]({},a,{objectId:b});return d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,a).readByteArray()}function r(a){if(a==null)return null;a.$$unknownFieldCount;var b=a.directPath,c=a.objectId,e=babelHelpers.objectWithoutPropertiesLoose(a,["$$unknownFieldCount","directPath","objectId"]);b=d("WADirectPath").validateDirectPath(b);return babelHelpers["extends"]({},e,{directPath:b.success?b.value:null,objectId:c,mediaKey:a.mediaKey&&i(a.mediaKey),mediaKeyTimestamp:a.mediaKeyTimestamp==null?null:d("WATimeUtils").castToUnixTime(d("WALongInt").numberOrThrowIfTooLarge(a.mediaKeyTimestamp))})}function s(a){if(a==null)return null;return a.scanLengths==null||a.sidecar==null?null:{sidecar:a.sidecar,scanLengths:a.scanLengths.map(function(a){return d("WAProgressiveJpegGetScanLengths").asProgressiveJpegScanLength(d("WALongInt").numberOrThrowIfTooLarge(a))})}}function t(a){a=d("decodeProtobuf").decodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,a);var b=a.serverMediaType,c=a.mediaKey,e=a.mediaKeyTimestamp,f=a.uploadToken,g=a.downloadableThumbnail,h=a.progressiveJpegDetails,k=a.size,l=a.lastDownloadAttemptTimestamp,m=a.sidecar,n=a.directPath,o=a.objectId;a=babelHelpers.objectWithoutPropertiesLoose(a,["serverMediaType","mediaKey","mediaKeyTimestamp","uploadToken","downloadableThumbnail","progressiveJpegDetails","size","lastDownloadAttemptTimestamp","sidecar","directPath","objectId"]);var p=null;h!=null&&h.scanLengths!=null&&h.sidecar!=null&&(p={sidecar:h.sidecar,scanLengths:h.scanLengths.map(function(a){return d("WAProgressiveJpegGetScanLengths").asProgressiveJpegScanLength(d("WALongInt").numberOrThrowIfTooLarge(a))})});h=d("WADirectPath").validateDirectPath(n);return babelHelpers["extends"]({},a,{objectId:o,directPath:h.success?h.value:void 0,sidecar:m,serverMediaType:b==null?null:d("WAServerMediaType").castToServerMediaType(b),mediaKey:c&&i(c),mediaKeyTimestamp:e==null?null:d("WATimeUtils").castToUnixTime(d("WALongInt").numberOrThrowIfTooLarge(e)),uploadToken:f&&j(f),progressiveJpegDetails:p,downloadableThumbnail:g&&r(g),size:d("WALongInt").maybeNumberOrThrowIfTooLarge(k),lastDownloadAttemptTimestamp:l==null?null:d("WATimeUtils").castToUnixTime(d("WALongInt").numberOrThrowIfTooLarge(l))})}function u(a){var b=a.directPath,c=a.fileEncSha256,e=a.fileSha256,f=a.mediaKey,g=a.serverMediaType;if(f==null)return d("WAResultOrError").makeError("media-entry-invalid-media-key");else if(b==null)return d("WAResultOrError").makeError("media-entry-invalid-direct-path");else if(c==null)return d("WAResultOrError").makeError("media-entry-invalid-file-enc-sha256");else if(e==null)return d("WAResultOrError").makeError("media-entry-invalid-file-sha256");else if(g==null)return d("WAResultOrError").makeError("media-entry-invalid-server-media-type");return d("WAResultOrError").makeResult(babelHelpers["extends"]({},a,{directPath:b,fileEncSha256:c,fileSha256:e,mediaKey:f,serverMediaType:g}))}function v(a){var b=a.directPath,c=a.fileEncSha256,e=a.fileSha256,f=a.mediaKey,g=[];f==null?g.push("media-entry-invalid-media-key"):b==null?g.push("media-entry-invalid-direct-path"):c==null?g.push("media-entry-invalid-file-enc-sha256"):e==null&&g.push("media-entry-invalid-file-sha256");return f!=null&&b!=null&&c!=null&&e!=null?d("WAResultOrError").makeResult(babelHelpers["extends"]({},a,{directPath:b,fileEncSha256:c,fileSha256:e,mediaKey:f})):d("WAResultOrError").makeError(g)}function w(a){var b="image/jpeg";switch(a){case"image":b="image/jpeg";break;case"ptt":b="audio/wav";break;case"video":b="video/mp4";break;case"gif":b="image/gif";break;case"sticker":b="image/webp";break;case"preview":b="image/jpeg";break;case"document":b=d("WAGlobals").getConfig().isOctetStreamAttachmentMimeTypeEnabled()===!0?"application/octet-stream":"application/pdf";break;case"xma-image":b="image/jpeg";break;default:throw c("err")("Unsupported server media type: "+a)}return b}var x=function(){return"TransformStream"in self};g.createMediaKey=h;g.castToMediaKey=i;g.createUploadToken=a;g.castToUploadToken=j;g.castToStreamingSidecar=k;g.stringToDeliveryObjectId=b;g.stringToBackupEntFbid=e;g.mediaEntryDataToRawData=f;g.rawDataToMediaEntry=l;g.encodeMediaEntryForUpload=m;g.encodeMediaEntryWithUpdatedPath=n;g.encodeMediaEntryDownloadableThumbnailWithUpdatedPath=o;g.encodeMediaEntryWithUpdatedFbid=p;g.encodeMediaEntryWithUpdatedObjectId=q;g.convertMediaDownloadableThumbnailToDownloadableThumbnail=r;g.decodeMediaEntryData=t;g.validateDecodedMediaEntryForDownload=u;g.validateDownloadableThumbnailForDownload=v;g.getMimeTypeFromServerMediaType=w;g.isTransformStreamSupported=x}),98);
__d("MAWDbMedia",["I64","WAMediaUtils","WAResultOrError"],(function(a,b,c,d,e,f,g){"use strict";var h,i="Image",j="Video",k="Ptt",l="Gif",m="Sticker",n="DocumentFile",o={DOCUMENT_FILE:n,GIF:l,IMAGE:i,PTT:k,STICKER:m,VIDEO:j};function a(a){return a}function b(a){return a}function c(a){return(h||(h=d("I64"))).of_float(a)}function e(a){return(h||(h=d("I64"))).to_float(a)}function f(a,b){a=a.mediaEntries.get(b);if(a==null)return d("WAResultOrError").makeError("missing-media-entry");b=d("WAMediaUtils").decodeMediaEntryData(a);a=b.serverMediaType;return a==null?d("WAResultOrError").makeError("missing-server-media-type"):d("WAResultOrError").makeResult(a)}g.IMAGE=i;g.VIDEO=j;g.PTT=k;g.GIF=l;g.STICKER=m;g.DOCUMENT_FILE=n;g.MEDIA_TYPE=o;g.convertNumberToMediaId=a;g.convertToMediaId64=b;g.convertMediaIdToMediaId64=c;g.convertMediaId64ToMediaId=e;g.getServerMediaType=f}),98);
__d("WAMsgType",[],(function(a,b,c,d,e,f){"use strict";a="Text";b="Futureproof";c="Ciphertext";d="Unavailable";e="Image";var g="Video",h="Ptt",i="Admin",j="Revoked",k="Gif",l="Sticker",m="DocumentFile",n="ExpiredEphemeral",o="EphemeralSettingAdmin",p="EphemeralSyncResponse",q="DeleteForMe",r="EphemeralSettingChangeFromCurrentDevice",s="AlertICDC",t="GroupInvite",u="NoteReply",v="Reaction",w="SenderKeyDistribution",x="EditAction",y="ReceiverFetch",z="Raven",A="GroupPollCreate",B="GroupPollUpdate",C={ADMIN:i,CIPHERTEXT:c,DELETE_FOR_ME:q,DOCUMENT_FILE:m,EDIT_ACTION:x,EPHEMERAL_SETTING_ADMIN:o,EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:r,EPHEMERAL_SYNC_RESPONSE:p,EXPIRED_EPHEMERAL:n,FUTUREPROOF:b,GIF:k,GROUP_INVITE:t,ICDC_ALERT:s,IMAGE:e,PTT:h,REACTION:v,REVOKED:j,SK_DISTRIBUTION:w,STICKER:l,TEXT:a,UNAVAILABLE:d,VIDEO:g,RECEIVER_FETCH:y,RAVEN:z,GROUP_POLL_CREATE:A,GROUP_POLL_UPDATE:B};f.TEXT=a;f.FUTUREPROOF=b;f.CIPHERTEXT=c;f.UNAVAILABLE=d;f.IMAGE=e;f.VIDEO=g;f.PTT=h;f.ADMIN=i;f.REVOKED=j;f.GIF=k;f.STICKER=l;f.DOCUMENT_FILE=m;f.EXPIRED_EPHEMERAL=n;f.EPHEMERAL_SETTING_ADMIN=o;f.EPHEMERAL_SYNC_RESPONSE=p;f.DELETE_FOR_ME=q;f.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE=r;f.ICDC_ALERT=s;f.GROUP_INVITE=t;f.NOTE_REPLY=u;f.REACTION=v;f.SK_DISTRIBUTION=w;f.EDIT_ACTION=x;f.RECEIVER_FETCH=y;f.RAVEN=z;f.GROUP_POLL_CREATE=A;f.GROUP_POLL_UPDATE=B;f.MSG_TYPE=C}),66);
__d("MAWMsgType",["WAMsgType"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return k.has(a)};var h=function(a){return l.has(a)||k.has(a)};b=function(a){return h(a)||m.has(a)};c="EphemeralScreenshotAction";e="Raven";f="RavenAction";var i="XMA",j="BumpExistingMessage";d=babelHelpers["extends"]({},d("WAMsgType").MSG_TYPE,{BUMP_EXISTING_MESSAGE:j,EPHEMERAL_SCREENSHOT_ACTION:c,RAVEN:e,RAVEN_ACTION:f,XMA:i});var k=new Set([d.IMAGE,d.VIDEO,d.PTT,d.GIF,d.STICKER,d.XMA,d.RAVEN,d.DOCUMENT_FILE,d.RECEIVER_FETCH]),l=new Set([d.TEXT,d.REVOKED,d.XMA,d.BUMP_EXISTING_MESSAGE,d.GROUP_POLL_CREATE]),m=new Set([d.FUTUREPROOF]),n=new Set([d.TEXT,d.IMAGE,d.VIDEO,d.PTT,d.GIF,d.STICKER,d.DOCUMENT_FILE,d.UNAVAILABLE,d.EXPIRED_EPHEMERAL,d.REVOKED,d.XMA,d.RAVEN,d.RECEIVER_FETCH]);j=function(a){return n.has(a)};g.isMAWSupportedMediaType=a;g.isEBSupportedMsgType=h;g.isProtobufUploadSupportedMsgType=b;g.EPHEMERAL_SCREENSHOT_ACTION=c;g.MSG_TYPE=d;g.mawSupportedMediaTypes=k;g.isQuotedMsgType=j}),98);
__d("MWEBODSUtils",["CurrentMessengerUser","MWEBODSCategory","ODS"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e){var f=d("CurrentMessengerUser").getAppID();f=f!=null?f.toString():"unknown";f=a+"."+f;(h||(h=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),f,b,(f=e)!=null?f:1);h.bumpEntityKey(c("MWEBODSCategory"),a,b,(f=e)!=null?f:1)}function b(a,b,c){b===void 0&&(b=100);c===void 0&&(c=5);if(a===0)return"zero";if(a<0)return"negative";if(c<=0)return"invalidIncrement";if(a>b)return"greaterThanLimit";a=Math.floor((a-1)/c)*c+1;c=Math.min(a+c-1,b);return a+"-"+c}g.markODSForEB=a;g.getBucketName=b}),98);
__d("WAGetHashFromProtocolMsgId",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.externalId+"_"+a.author+"_"+a.chat}f.getHashFromProtocolMsgId=a}),66);
__d("WAWaitForComms",["WAResolvable"],(function(a,b,c,d,e,f,g){"use strict";var h=new(d("WAResolvable").Resolvable)();function a(){return h.promise}function b(){h.isSettled&&(h=new(d("WAResolvable").Resolvable)())}function c(){h.resolve()}function e(){return!h.resolveWasCalled()}function f(a){return h.reject(a)}g.waitForComms=a;g.commsConnectionLost=b;g.unblockComms=c;g.isStillWaitingForComms=e;g.failComms=f}),98);
__d("MAWEBUploadTrackingUtils",["MAWAckLevel","MAWEBSwitch","MAWExternalId","MAWMsgType","MWEBODSEntityKey.enum","MWEBODSEntityName.enum","MWEBODSUtils","ODS","QPLUserFlow","QuickPerformanceLogger","WAExceededStorageQuota","WAGetHashFromProtocolMsgId","WAGlobals","WAHashStringToNumber","WAWaitForComms","justknobx","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j={ERROR_FETCHING_DB_MESSAGE:"error_fetching_db_message",FAILED_TO_ACK_MESSAGE:"failed_to_ack_message",FAILED_TO_CONSTRUCT_ECHO_MESSAGE:"failed_to_construct_echo_message",MESSAGE_UPLOAD_TIMEOUT:"message_upload_timeout",RUNTIME_ERROR:"runtime_error"};function a(a,b,e,f,g,h,j,k,m){g===void 0&&(g=!1);h===void 0&&(h=!1);k===void 0&&(k="unknown");m===void 0&&(m=0);if(!c("MAWEBSwitch").isEnabled())return;c("QPLUserFlow").start(c("qpl")._(521481602,"829"),{annotations:{bool:{eb_switch:c("MAWEBSwitch").isEnabled(),eb_upload_queue:!0,fromUploadQueue:g,is_retroactive_upload:h,middleware_init:!1},"int":{attachmentsSize:(g=j)!=null?g:0,instanceKey:f,retryCount:m},string:{externalId:a,msgType:b,payloadType:k,triggerType:e}},instanceKey:f,timeoutInMs:c("justknobx")._("1405")});l(f,"upload_tracking_started");(i||(i=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_TRACKING,c("MWEBODSEntityKey.enum").START);d("MWEBODSUtils").markODSForEB(c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_COUNTER,"upload."+((h=b)!=null?h:"unknown"));g=d("MAWMsgType").isMAWSupportedMediaType((j=b)!=null?j:"Text")?"media":"non-media";d("MWEBODSUtils").markODSForEB(c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_COUNTER,"upload."+g)}function k(a){return a==null?{string:{comms_status:d("WAWaitForComms").isStillWaitingForComms()?"disconnected":"connected"}}:babelHelpers["extends"]({},a,{string:babelHelpers["extends"]({},a.string,{comms_status:d("WAWaitForComms").isStillWaitingForComms()?"disconnected":"connected"})})}function b(a,b,c,d){switch(a){case"success":n(b,c,d);break;case"fail":m(b,c,k(d));break;case"point":l(b,c,d);break}}function l(a,b,d){d&&c("QPLUserFlow").addAnnotations(c("qpl")._(521481602,"829"),d,{instanceKey:a}),c("QPLUserFlow").addPoint(c("qpl")._(521481602,"829"),b,{instanceKey:a})}function m(a,b,e){e&&c("QPLUserFlow").addAnnotations(c("qpl")._(521481602,"829"),e,{instanceKey:a});c("QPLUserFlow").endFailure(c("qpl")._(521481602,"829"),b,{annotations:{bool:{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0},string:{threadID:e==null?void 0:(b=e.string)==null?void 0:b.jid}},instanceKey:a});(i||(i=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_TRACKING,c("MWEBODSEntityKey.enum").FAIL)}function n(a,b,e){l(a,b),e&&c("QPLUserFlow").addAnnotations(c("qpl")._(521481602,"829"),e,{instanceKey:a}),c("QPLUserFlow").endSuccess(c("qpl")._(521481602,"829"),{annotations:{bool:{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0}},instanceKey:a}),(i||(i=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_TRACKING,c("MWEBODSEntityKey.enum").SUCCESS)}function e(a,b,e){l(a,b);e&&c("QPLUserFlow").addAnnotations(c("qpl")._(521481602,"829"),e,{instanceKey:a});c("QPLUserFlow").endTimeout(c("qpl")._(521481602,"829"),{annotations:{bool:{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0},string:{threadID:e==null?void 0:(b=e.string)==null?void 0:b.jid}},instanceKey:a});(i||(i=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_TRACKING,c("MWEBODSEntityKey.enum").TIMEOUT)}function f(a,b,d){var e=c("qpl")._(521481602,"829");l(a,b);d&&(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(e,d,{instanceKey:a});(h||(h=c("QuickPerformanceLogger"))).markerEnd(e,52,a,h.currentTimestamp())}function o(){return d("WAHashStringToNumber").hashStringToNumber(d("MAWExternalId").generateExternalId())}function p(a,b){b===void 0&&(b=0);return d("WAHashStringToNumber").hashStringToNumber(d("WAGetHashFromProtocolMsgId").getHashFromProtocolMsgId(a)+"_"+d("WAGlobals").getMyDeviceJid()+"_"+b)}function q(a){return c("MAWEBSwitch").isEnabled()&&d("MAWMsgType").isEBSupportedMsgType(a.type)&&a.ack>=d("MAWAckLevel").ACK.sent&&a.serverTs!=null&&!(a.ephemeralSetting!=null&&a.ephemeralSetting.ephemeralExpirationInSec>0)}g.EBUploadTrackingWorkerFailurePoints=j;g.startUploadTracking=a;g.handleBridgeEbUploadTrackingQPL=b;g.addPointWorkerOnly=l;g.endFailWorkerOnly=m;g.endSuccessWorkerOnly=n;g.endTimeoutWorkerOnly=e;g.endRetryWorkerOnly=f;g.genInstanceKeyOnly=o;g.genInstanceKeyForUploadQueue=p;g.isUploadSupported=q}),98);
__d("MAWEBFrontendQPLLogger",["EBEnableUnifiedAttachment","EBUnifyLegacyMediaUpload","ExecutionEnvironment","MAWBridgeSafeActionsWorkerAndUI","MAWEBUploadTrackingUtils","QPLUserFlow","WAHashStringToNumber","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b,e){a!=null&&((h||(h=c("ExecutionEnvironment"))).isInWorker?d("MAWEBUploadTrackingUtils").handleBridgeEbUploadTrackingQPL("point",a,b,e):d("MAWBridgeSafeActionsWorkerAndUI").fireAndForgetBackendWorkerAndUIShared("addEbUploadTrackingWorkerQPL",{annotations:e,pointName:b,qplInstanceKey:a,qplType:"point"}))}function a(a,b){(h||(h=c("ExecutionEnvironment"))).isInWorker?d("MAWEBUploadTrackingUtils").handleBridgeEbUploadTrackingQPL("success",a,"upload_tracking_completed",b):d("MAWBridgeSafeActionsWorkerAndUI").fireAndForgetBackendWorkerAndUIShared("addEbUploadTrackingWorkerQPL",{annotations:b,pointName:"upload_tracking_completed",qplInstanceKey:a,qplType:"success"})}function b(a,b,e){(h||(h=c("ExecutionEnvironment"))).isInWorker?d("MAWEBUploadTrackingUtils").handleBridgeEbUploadTrackingQPL("fail",a,b,e):d("MAWBridgeSafeActionsWorkerAndUI").fireAndForgetBackendWorkerAndUIShared("addEbUploadTrackingWorkerQPL",{annotations:e,pointName:b,qplInstanceKey:a,qplType:"fail"})}function e(a){var b=a.deliveryObjectId,e=a.flow,f=a.mediaType,g=a.messageId,h=a.threadId;a=a.traceId;if(!j(e))return;var i=d("WAHashStringToNumber").hashStringToNumber(a);b={bool:{is_legacy_hardening:d("EBUnifyLegacyMediaUpload").getEnableUnifyLegacyMediaUpload(),is_unified_attachment:d("EBEnableUnifiedAttachment").getEbEnableUnifiedAttachment()},string:{deliveryObjectId:b,flow:e,mediaType:f,messageId:g,threadId:h,traceId:a}};c("QPLUserFlow").start(c("qpl")._(521480391,"1167"),{annotations:b,instanceKey:i})}function f(a,b,e,f){if(a==null)return;if(!j(e))return;e=d("WAHashStringToNumber").hashStringToNumber(a);if(b){c("QPLUserFlow").endSuccess(c("qpl")._(521480391,"1167"),{instanceKey:e});return}c("QPLUserFlow").endFailure(c("qpl")._(521480391,"1167"),"upload_attachment_backup_failed",{annotations:{string:{error:(a=f)!=null?a:"upload_attachment_backup_failed"}},instanceKey:e})}function j(a){return a==="unified"&&d("EBEnableUnifiedAttachment").getEbEnableUnifiedAttachment()||a==="old"&&!d("EBEnableUnifiedAttachment").getEbEnableUnifiedAttachment()}function k(a,b){a.forEach(function(a){if(a.uploadTrackingInstanceKey!=null){var c={string:{traceId:a.traceId}};i(a.uploadTrackingInstanceKey,b,c)}})}g.addPointEBUploadTracking=i;g.endEBUploadTracking=a;g.failEBUploadTracking=b;g.startFlowUploadAttachmentBackup=e;g.endFlowUploadAttachmentBackup=f;g.addPointForUploadMessageArray=k}),98);
__d("MAWFrontendMediaUtils",["MAWDbMedia"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){if(a==="image/gif")return{mediaType:d("MAWDbMedia").MEDIA_TYPE.GIF,serverMediaType:"gif"};if(a==="image/webp"&&b!==!0)return{mediaType:d("MAWDbMedia").MEDIA_TYPE.STICKER,serverMediaType:"sticker"};c=(c=c)!=null?c:a.split("/")[0];switch(c){case"image":if(b===!0)return{mediaType:d("MAWDbMedia").MEDIA_TYPE.IMAGE,serverMediaType:"xma-image"};else return{mediaType:d("MAWDbMedia").MEDIA_TYPE.IMAGE,serverMediaType:"image"};case"video":return{mediaType:d("MAWDbMedia").MEDIA_TYPE.VIDEO,serverMediaType:"video"};case"audio":return{mediaType:d("MAWDbMedia").MEDIA_TYPE.PTT,serverMediaType:"ptt"};case"application":default:return{mediaType:d("MAWDbMedia").MEDIA_TYPE.DOCUMENT_FILE,serverMediaType:"document"}}}g.getMediaTypeAndServerMediaTypeFromBlob=a}),98);
__d("WAByteArray",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){b=b;var c=new Uint8Array(a);for(a=a-1;a>=0;a--)c[a]=b&255,b>>>=8;return c}function b(a){return a.buffer.slice(a.byteOffset,a.byteLength+a.byteOffset)}function c(a,b){if(!a||!b)return!1;a=new Uint8Array(a);b=new Uint8Array(b);var c=a.length,d=b.length;if(c!==d)return!1;for(d=0;d<c;d++)if(a[d]!==b[d])return!1;return!0}f.intToBytes=a;f.uint8ArrayToBuffer=b;f.compareArrayBuffer=c}),66);
__d("WAPromiseTimeout",["Promise","WACustomError"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,c,e){var f=null,g=new(h||(h=b("Promise")))(function(a,b){f=setTimeout(function(){b(new(d("WACustomError").TimeoutError)(e)),clearTimeout(f)},c)});return h.race([a,g])["finally"](function(){clearTimeout(f)})};g.promiseTimeout=a}),98);
__d("WAMediaWasmWorkerClient",["WAByteArray","WACustomError","WAMediaWasmWorkerResource","WAPromiseTimeout","WAResultOrError","WATagsLogger","WorkerBundleResource","WorkerClient","WorkerMessagePort"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["media storage test failed for storageType: ",", error: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["received storage results from worker, requestId: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["start media storage shadow test"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["requestId: ",", error: ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["received output from worker, requestId: ",", success: ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["sending input to worker, requestId: ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["worker-connection-runtime-error: ",""]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["requestId: ",", error: ",""]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["received output from worker, requestId: ",""]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["sending input bytes to worker, requestId: ",""]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["start prewarming media wasm worker, operation: ",""]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["mp4RepairMuxInWorker processing video"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["mp4CheckAndRepairInWorker processing video"]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["worker error: ",""]);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["from worker: ",""]);v=function(){return a};return a}function a(){var b=babelHelpers.taggedTemplateLiteralLoose(["initiated."]);a=function(){return b};return b}var w=d("WATagsLogger").TAGS(["WAMediaWasmWorkerClient"]);c=d("WorkerBundleResource").createDedicatedWebWorker(c("WAMediaWasmWorkerResource"));var x=new(d("WorkerMessagePort").WorkerSyncedMessagePort)(c,"WAMediaWasmWorker");d("WorkerClient").init(x);w.DEV(a());x.addMessageListener("log",function(a){var b=a.logType;a=a.message;switch(b){case"dev":w.DEV(v(),a);break;case"error":w.ERROR(u(),a);break;default:b}});function b(a){var b=a.input;a=a.eventFlow;return C({operation:"webpCheck",input:d("WAByteArray").uint8ArrayToBuffer(b)},a)}function e(a){var b=a.input;a=a.eventFlow;w.LOG(t());return C({operation:"mp4CheckAndRepair",input:d("WAByteArray").uint8ArrayToBuffer(b)},a)}function f(a){var b=a.input;a=a.eventFlow;w.LOG(s());return C({operation:"mp4RepairMux",input:d("WAByteArray").uint8ArrayToBuffer(b)},a)}function y(a){var b=a.imageData,c=a.quality,e=a.useHdScanConfig;a=a.eventFlow;return C({operation:"progressiveJpegEncode",input:d("WAByteArray").uint8ArrayToBuffer(b.data),height:b.height,width:b.width,quality:c,useHdScanConfig:e},a)}async function z(a){var b=a.file,c=a.quality,d=a.useHdScanConfig,e=a.eventFlow;a=a.maxOutputResolution;var f=await b.arrayBuffer();return C({operation:"progressiveJpegEncodeWithFile",input:f,fileName:b.name,fileType:b.type,quality:c,useHdScanConfig:d,maxOutputWidth:a==null?void 0:a.width,maxOutputHeight:a==null?void 0:a.height},e)}function A(a){w.LOG(r(),a),x.postMessage({type:"prewarm",operation:a})}var B=function(){var a=0;return function(){return++a}}();async function C(a,b){var c=B();w.LOG(q(),c);var e=await D(b);if(!e.success)return e;e=e.value;var f=e.onMessageOnce("mediaOperationResponse",function(a){return a.requestId===c}),g=a.input?[a.input]:void 0;e.postMessage(babelHelpers.extends({},a,{requestId:c,type:"mediaOperationRequest"}),g);b==null?void 0:b.addPoint("sent_request_to_media_worker_start");e=await f;a=e.output;if(a.success){w.LOG(p(),c);b==null?void 0:b.addPoint("sent_request_to_media_worker_end",{bool:{isOpfsSyncSupported:a.value.isOpfsSyncSupported}});return d("WAResultOrError").makeResult(a.value.bytes)}w.ERROR(o(),c,a.error.errorMessage);b==null?void 0:b.addPoint("sent_request_to_media_worker_fail");return d("WAResultOrError").makeError(a.error.errorType)}function D(a){a==null?void 0:a.addPoint("get_connected_worker_port_start");var b=3e4;return d("WAPromiseTimeout").promiseTimeout(x.fullyConnected,b).then(function(b){a==null?void 0:a.addPoint("get_connected_worker_port_end");return d("WAResultOrError").makeResult(b)}).catch(function(b){a==null?void 0:a.addPoint("get_connected_worker_port_fail",{string:{workerPortFailure:b instanceof d("WACustomError").TimeoutError?"timeout":"runtime-error"}});if(b instanceof d("WACustomError").TimeoutError)return d("WAResultOrError").makeError("worker-connection-timeout");w.ERROR(n(),b);return d("WAResultOrError").makeError("worker-connection-runtime-error")})}async function E(a){var b=a.file,c=a.maxDimension,e=a.thumbnailBlobByteSizeLimitBytes;a=a.thumbnailQualityPercentageWhenAboveByteSizeLimit;var f=B();w.LOG(m(),f);var g=await D();if(!g.success)return g;g=g.value;var h=g.onMessageOnce("mediaGenerateImageThumbnailResponse",function(a){return a.requestId===f}),i=await b.arrayBuffer(),j=i?[i]:void 0;g.postMessage({input:i,fileName:b.name,fileType:b.type,maxDimension:c,requestId:f,thumbnailBlobByteSizeLimitBytes:e,thumbnailQualityPercentageWhenAboveByteSizeLimit:a,type:"mediaGenerateImageThumbnailRequest"},j);g=await h;w.LOG(l(),f,g.output.success);if(g.output.success)return d("WAResultOrError").makeResult(g.output.value);w.ERROR(k(),f,g.output.error.errorMessage);return Promise.reject(g.output.error.errorMessage)}async function F(a,b,c){w.LOG(j());var d=B(),e=await D();if(!e.success)return;e=e.value;var f=e.onMessageOnce("mediaStorageShadowTestResponse",function(a){return a.requestId===d});e.postMessage({input:a,requestId:d,storageType:b,type:"mediaStorageShadowTestRequest"});c.addPoint("media_storage_shadowtest_start");e=await f;a=e.output;if(a.success){w.LOG(i(),d);c.addPoint("media_storage_shadowtest_end",{double:{setup_latency:a.value.setupLatency,read_latency:a.value.readLatency,write_latency:a.value.writeLatency,cleanup_latency:a.value.cleanupLatency}});return}w.ERROR(h(),b,a.error);c.addPoint("media_storage_shadowtest_fail")}g.webpCheckInWorker=b;g.mp4CheckAndRepairInWorker=e;g.mp4RepairMuxInWorker=f;g.progressiveJpegEncodeInWorker=y;g.progressiveJpegEncodeInWorkerWithFile=z;g.prewarmMediaWasmWorker=A;g.generateImageThumbnailInWorker=E;g.runMediaStorageShadowTestWasmWorker=F}),98);
__d("WALRUMap",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){a=a.max;this.$1=new Map();this.$2=a}var b=a.prototype;b.has=function(a){return this.$1.has(a)};b.get=function(a){return this.$1.get(a)};b.set=function(a,b){this.$1["delete"](a);this.$1.set(a,b);if(this.$1.size>this.$2){a=this.$1.keys().next().value;a!=null&&this.$1["delete"](a)}};b["delete"]=function(a){this.$1["delete"](a)};b.clear=function(){this.$1.clear()};b.size=function(){return this.$1.size};return a}();f.LRUMap=a}),66);
__d("WARandomHex",["WACryptoDependencies","WAHex"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=new Uint8Array(a);d("WACryptoDependencies").getCrypto().getRandomValues(a);return d("WAHex").toHex(a)}g.randomHex=a}),98);
__d("MAWJobActionsV2",["MAWTransactionMode","Promise","WALRUMap","WARandomHex","WATimeUtils","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){return new(h||(h=b("Promise")))(function(b,c){a.onsuccess=b,a.onerror=c})}function j(a){return i(a).then(function(a){return a.target.result})}function k(a,c,e){return new(h||(h=b("Promise")))(function(b,f){var g=a(d("MAWTransactionMode").READONLY).index(c);g=g.openCursor(IDBKeyRange.only(e));var h=[];g.onsuccess=function(a){a=a.target.result;if(!a){b(h);return}h.push(a.value);a["continue"]()};g.onerror=function(a){return f(a)}})}var l=new(d("WALRUMap").LRUMap)({max:100});function a(a,c){var e,f=c.args,g=c.scheduleConfig,i=c.type,l=c.uniqKey;c=c.version;c=c===void 0?1:c;e=JSON.stringify([i,(e=l)!=null?e:d("WARandomHex").randomHex(32)]);var n={backedOffCount:0,current:f,original:f,scheduleConfig:g,startTime:d("WATimeUtils").unixTime(),step:"$unstarted",stepFirstStartTime:null,stepHardStartCountAfterTimeout:0,stepUnexpectedErrorCount:0,type:i,uniqKey:e,version:c,waitUntil:null},o=function(){var b,c=a().add(n),d=j(c);if(n.uniqKey==null&&typeof ((b=c.transaction)==null?void 0:b.commit)==="function")try{c.transaction.commit()}catch(a){}return d.then(function(a){return{id:a,newlyCreated:!0}})};if(l!=null)return k(a,"uniqKey",e).then(function(c){if(c.length===0)return o();var d=[],e=null;c.forEach(function(b){b.step!=="$finished"?e=b:d.push(m(a,b.jobId))});return(h||(h=b("Promise"))).all(d).then(function(){return e!=null?{id:e.jobId,newlyCreated:!1}:o()})});else return o()}function m(a,b){return j(a()["delete"](b))}function e(a,b){return j(a().get(b))}function f(a,b){return j(a().put(b))}function n(a){return j(a().getAll())}function o(a){try{return i(a().clear()).then(c("emptyFunction"))}catch(a){if(a.name==="NotFoundError")return(h||(h=b("Promise"))).resolve();throw a}}g.recentFinishedJobsCache=l;g.maybeCreateJob=a;g.deletePersistedJob=m;g.readPersistedJob=e;g.updatePersistedJob=f;g.readAllPersistedJobs=n;g.clearJobs=o}),98);
__d("MAWJobDefinitions",["MAWExternalId","MWPBumpEntityKey","WAArmadilloXMA.pb"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a}function b(a){return a}e={acceptGroupInvite:function(a,b,c,d,e,f){f=i(f);return{args:{chatJid:a,inviteCode:d,invitedParticipantUserId:c,inviteExpirationTs:e,inviterUserId:b},scheduleConfig:(a=f)!=null?a:void 0,type:"acceptGroupInvite"}},addGroupParticipants:function(a,b,c,d){d=i(d);return{args:{group:a,s2sInstanceKey:c,users:b},scheduleConfig:(a=d)!=null?a:void 0,type:"addGroupParticipants"}},deleteMsgsForMe:function(a,b){b=i(b);return{args:{msgIds:a},scheduleConfig:(a=b)!=null?a:void 0,type:"deleteMsgsForMe"}},demoteGroupParticipants:function(a,b,c){c=i(c);return{args:{group:a,users:b},scheduleConfig:(a=c)!=null?a:void 0,type:"demoteGroupParticipants"}},downloadAndHandleMedia:function(a,b,c,d,e,f,g){e=i(g);return{args:{hash:b,metricInstanceKeys:f,msgType:d,protocolMsgId:a,qplEntryPoint:c},scheduleConfig:(g=e)!=null?g:void 0,type:"downloadAndHandleMedia"}},forwardMsg:function(a,b,c,e,f,g,h){h=i(h);c=(c=c)!=null?c:{};var j=c.s2sInstanceKey;c.s2sUserFlowQPLEvent;c=babelHelpers.objectWithoutPropertiesLoose(c,["s2sInstanceKey","s2sUserFlowQPLEvent"]);return{args:{args:c,chatJid:a,ephemeralSetting:e,externalId:(c=f)!=null?c:d("MAWExternalId").generateExternalId(),isFirstMsg:g,protocolMsgId:b,s2sInstanceKey:j},scheduleConfig:(a=h)!=null?a:void 0,type:"forwardMsg"}},getSpams:function(a){a=i(a);return{args:void 0,scheduleConfig:(a=a)!=null?a:void 0,type:"getSpams"}},handleFutureproofMsg:function(a){a=i(a);return{args:{},scheduleConfig:(a=a)!=null?a:void 0,type:"handleFutureproofMsg"}},handleSpamMsg:function(a){a=i(a);return{args:void 0,scheduleConfig:(a=a)!=null?a:void 0,type:"handleSpamMsg"}},igdReportUserSpam:function(a,b){var c=a.chatJid,d=a.context,e=a.frxParams,f=a.frxTags,g=a.msgs,h=a.reportedMessageId,j=a.spamFlow;a=a.userJid;b=i(b);return{args:{chatJid:c,context:d,frxParams:e,frxTags:f,msgs:g,reportedMessageId:h,spamFlow:j,userJid:a},scheduleConfig:(c=b)!=null?c:void 0,type:"igdReportUserSpam"}},igdSendMsg:function(a,b){var c=a.actorID;a=a.taskID;b=i(b);return{args:{actorID:c,taskID:a},scheduleConfig:(c=b)!=null?c:void 0,type:"igdSendMsg"}},leaveGroups:function(a,b){b=i(b);return{args:{groups:a},scheduleConfig:(a=b)!=null?a:void 0,type:"leaveGroups"}},markThreadAsRead:function(a,b,c,d,e,f,g){g=i(g);return{args:{chatJid:a,isBlocked:c,isReadReceiptsDisabled:f,isRestricted:d,relationship:b,upTo:e},scheduleConfig:(a=g)!=null?a:void 0,type:"markThreadAsRead",uniqKey:e==null?void 0:e.externalId}},promoteGroupParticipants:function(a,b,c){c=i(c);return{args:{group:a,users:b},scheduleConfig:(a=c)!=null?a:void 0,type:"promoteGroupParticipants"}},removeGroupParticipants:function(a,b,c){c=i(c);return{args:{group:a,users:b},scheduleConfig:(a=c)!=null?a:void 0,type:"removeGroupParticipants"}},reportUserSpam:function(a,b,c,d,e,f,g,h,j,k){j=i(j);return{args:{chatJid:c,context:f,frxParams:g,frxTags:e,isIgd:d,openMsgs:k,reportedMessageId:h,spamFlow:b,userJid:a},scheduleConfig:(c=j)!=null?c:void 0,type:"reportUserSpam"}},resendWrittenAppData:function(a,b){b=i(b);return{args:{appDataExternalId:a},scheduleConfig:(a=b)!=null?a:void 0,type:"resendWrittenAppData"}},restoreMessagesFromEncryptedBackups:function(a,b,c,d,e,f,g,h,j,k,l,m,n,o,p){n=i(n);return{args:{deanonApiPayload:o,hasMoreAfter:e,hasMoreBefore:d,instanceKey:k,isMediaGalleryRestore:p,isPointQuery:f,messages:c,minMsgId:g,optimisticMsgs:l,startSortKey:j,taskSource:m,threadId:b,traceId:h,transportKey:a},scheduleConfig:(o=n)!=null?o:void 0,type:"restoreMessagesFromEncryptedBackups"}},restoreProtobufsFromEncryptedBackups:function(a,b,c,d,e,f,g,h,j,k,l,m,n,o,p,q){m=i(m);return{args:{chatJid:q,deanonApiPayload:o,echoMessages:a,hasMoreAfter:f,hasMoreBefore:e,instanceKey:l,isMediaGalleryRestore:p,isPointQuery:g,messages:d,minMsgId:h,referenceTimestamp:k,requestId:j,taskSource:n,threadId:c,transportKey:b},scheduleConfig:(q=m)!=null?q:void 0,type:"restoreProtobufsFromEncryptedBackups"}},revokeMsgs:function(a,b){b=i(b);return{args:a,scheduleConfig:(a=b)!=null?a:void 0,type:"revokeMsgs"}},sendAppData:function(a,b,c){c=i(c);return{args:{args:a,externalId:(a=b)!=null?a:d("MAWExternalId").generateExternalId()},scheduleConfig:(b=c)!=null?b:void 0,type:"sendAppData"}},sendBumpMsg:function(a,b,c,e){e=i(e);return{args:{args:b,chatJid:a,externalId:(b=c)!=null?b:d("MAWExternalId").generateExternalId()},scheduleConfig:(a=e)!=null?a:void 0,type:"sendBumpMsg"}},sendGroupInviteMsg:function(a,b,c){c=i(c);return{args:{args:a,externalId:(a=b)!=null?a:d("MAWExternalId").generateExternalId()},scheduleConfig:(b=c)!=null?b:void 0,type:"sendGroupInviteMsg"}},sendMediaMsg:function(a,b,c,e,f,g,h,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){s=i(s);return{args:{args:{duration:k,ephemeralSetting:m,filename:u,height:g,isFirstMsg:q,isForwarded:p,isPtt:l,jpegThumbnail:e,jpegThumbnailHeight:j,jpegThumbnailWidth:h,mediaGroupMetadata:x,offlineAttachmentId:v,openMessageOtid:o,quote:n,s2sInstanceKey:c,source:t,width:f},attachmentType:w,chatJid:a,externalId:(k=r)!=null?k:d("MAWExternalId").generateExternalId(),file:b},scheduleConfig:(m=s)!=null?m:void 0,type:"sendMediaMsg"}},sendMediaMsgV2:function(a,b,c,e,f,g,h,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){s=i(s);return{args:{args:{duration:k,ephemeralSetting:m,filename:u,height:g,isFirstMsg:q,isForwarded:p,isPtt:l,jpegThumbnail:e,jpegThumbnailHeight:j,jpegThumbnailWidth:h,mediaGroupMetadata:y,offlineAttachmentId:v,openMessageOtid:o,quote:n,s2sInstanceKey:w,source:t,width:f},attachmentType:x,chatJid:a,externalId:(k=r)!=null?k:d("MAWExternalId").generateExternalId(),mimeType:b,plaintext:c},scheduleConfig:(m=s)!=null?m:void 0,type:"sendMediaMsgV2"}},sendWrittenAppData:function(a,b){b=i(b);return{args:{appDataExternalId:a},scheduleConfig:(a=b)!=null?a:void 0,type:"sendWrittenAppData"}},sendXMAShareMsg:function(a,b,c,e,f,g,h,j,k,l){g.xmaMessageType===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_RECEIVER_FETCH&&k.contentRef==null&&d("MWPBumpEntityKey").bumpEntityKey("maw.sendXMAShareMsg","content_ref_null_for_rf_xma");l=i(l);return{args:{args:g,associatedMsgContent:f,associatedMsgContentExternalId:(g=j)!=null?g:d("MAWExternalId").generateExternalId(),chatJid:a,faviconFile:e,headerFile:c,previewFile:b,xmaArgs:k,xmaMsgExternalId:(f=h)!=null?f:d("MAWExternalId").generateExternalId()},scheduleConfig:(j=l)!=null?j:void 0,type:"sendXMAShareMsg"}},setGroupMemberAddMode:function(a,b,c){c=i(c);return{args:{groupJid:a,memberAddMode:b},scheduleConfig:(a=c)!=null?a:void 0,type:"setGroupMemberAddMode"}},setGroupSubject:function(a,b,c){c=i(c);return{args:{group:a,subject:b},scheduleConfig:(a=c)!=null?a:void 0,type:"setGroupSubject"}},startInstamadilloDYI:function(a,b){b=i(b);return{args:{qplInstanceKey:a},scheduleConfig:(a=b)!=null?a:void 0,type:"startInstamadilloDYI"}},updateBackupEntFbidForMedia:function(a,b,c,d){d=i(d);return{args:{backupEntFbid:b,deliveryObjectId:a,traceId:c},scheduleConfig:(b=d)!=null?b:void 0,type:"updateBackupEntFbidForMedia"}},uploadRetroactiveThreadsAndMessages:function(a){a=i(a);return{args:void 0,scheduleConfig:(a=a)!=null?a:void 0,type:"uploadRetroactiveThreadsAndMessages"}}};function c(a,b){return h(a,b)}function h(a,b){var c=b.scheduleConfig,e=babelHelpers.objectWithoutPropertiesLoose(b,["scheduleConfig"]);c={args:{},scheduleConfig:c,type:a};b.externalIdJob&&(c.args.externalId=d("MAWExternalId").generateExternalId());c.args=babelHelpers["extends"]({},c.args,e);b.uniqueJob&&(c.uniqKey=a);return c}function i(a){if(a==null)return;return{jobId:a.jobId,maxTimeoutMs:a.maxTimeoutMs,priority:a.priority}}g.toThreadJidPrimaryId=a;g.toEncodedEchoMessage=b;g.jobSerializers=e;g.createStartJobInfo=c;g.createStartJobInfoGeneric=h;g.serializeJobScheduledConfig=i}),98);
__d("MAWThreadUtils",["LSIntEnum","WAJids"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c){return a.threads.where("jid").equals(b).modify(c)}function b(a){a=d("WAJids").switchOnMsgrChatJidType(a,{group:function(){return(h||(h=d("LSIntEnum"))).ofNumber(16)},user:function(){return(h||(h=d("LSIntEnum"))).ofNumber(15)}});return a}g.updateThreadWithJid=a;g.getLSThreadTypeFromJid=b}),98);
__d("MAWXMAUtils",["I64","LSIntEnum","LSXmaContentType","MAWMsgType","WAArmadilloXMA.pb","WALogger","WATimeUtils","gkx","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Hit Unreachable XMAType "," - checking isXMAShare"]);j=function(){return a};return a}function a(a){return!a||a.type!==d("MAWMsgType").MSG_TYPE.XMA?null:a}function b(a){if(a==null)return!1;switch(a){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_CLIPS_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_MULTIPOST_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_IMAGE_POST_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_EXTERNAL_LINK_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_MENTION:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_MENTION:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_POST_PRIVATE_REPLY:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_HIGHLIGHTS_TAB_FRIEND_UPDATES_REPLY:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_HIGHLIGHTS_TAB_LOCAL_EVENT_REPLY:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_HIGHLIGHT_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_HIGHLIGHT_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_SHORT:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_MEMORIES_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_EVENT:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_RECEIVER_FETCH:return!0;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_POST_MENTION:return c("gkx")("2605");case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_MENTION:return!0;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_LOCATION_SHARING_V2:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_LOCATION_SHARING:return c("gkx")("6952");case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_CONTACT:return c("gkx")("4902");case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_AI_CONTACT:return c("gkx")("9339");case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_PRODUCER_STORY_REPLY:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_VIDEO_POST_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_IGTV_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SHOP_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REACTION:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REPLY:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_REPLY:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_VIDEO_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_GAMING_CUSTOM_UPDATE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_VIDEO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_VIDEO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_VIDEO_CALL:return!1;default:d("WALogger").ERROR(j(),a);return!1}}function e(a){return a!=null&&((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSXmaContentType").FB_STORY_REPLY))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSXmaContentType").FB_STORY_SHARE))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSXmaContentType").FB_STORY_MENTION))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSXmaContentType").FB_PRODUCER_STORY_REPLY)))}function f(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_SHARE||a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_SHARE||a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_SHARE}function k(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_EXTERNAL_LINK_SHARE}function l(a){return a!=null&&(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSXmaContentType").MSG_CONTACT))}function m(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_RECEIVER_FETCH}function n(a){return a==null?!1:a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_SHARE||a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_SHARE}function o(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_POST_PRIVATE_REPLY}function p(a,b){return a!=null&&a||b!=null&&b<d("WATimeUtils").unixTime()}function q(a){a=a.ctas;a!=null&&(a=a.filter(function(a){return a.buttonType!==d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE.OPEN_NATIVE}));return a}function r(a){return babelHelpers["extends"]({},a,{ctas:void 0,defaultCTA:void 0,headerTitle:void 0,isTombstoned:!0,maxSubtitleNumOfLines:void 0,maxTitleNumOfLines:void 0,overlayDescription:void 0,overlayIconGlyph:void 0,overlayTitle:void 0,subtitleText:void 0,targetId:void 0,targetUsername:void 0,titleText:void 0})}function s(a){a=babelHelpers["extends"]({},a,{ctas:void 0,defaultCTA:void 0,defaultPreviewMediaId:void 0,defaultPreviewMediaPlaintextHash:void 0,faviconMediaId:void 0,faviconPlaintextHash:void 0,headerMediaId:void 0,headerMediaPlaintextHash:void 0,headerTitle:void 0,isTombstoned:!0,maxSubtitleNumOfLines:void 0,maxTitleNumOfLines:void 0,overlayDescription:void 0,overlayIconGlyph:void 0,overlayTitle:void 0,previewMediaIds:void 0,subtitleText:void 0,targetId:void 0,targetUsername:void 0,titleText:void 0});c("justknobx")._("3897")&&(a.targetExpiringAtSec=void 0);return a}function t(a){switch(a){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_REPLY:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REPLY:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_PRODUCER_STORY_REPLY:return!0;default:return!1}}function u(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_PRODUCER_STORY_REPLY}function v(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REACTION}function w(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_MENTION?!0:!1}function x(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_POST_MENTION}function y(a){switch(a){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_MENTION:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_MENTION:return!0;default:return!1}}function z(a){return w(a)||y(a)}function A(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_IMAGE_POST_SHARE||a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_MULTIPOST_SHARE||a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_VIDEO_POST_SHARE}function B(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_HIGHLIGHT_SHARE||a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_HIGHLIGHT_SHARE}function C(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_HIGHLIGHTS_TAB_FRIEND_UPDATES_REPLY}function D(a){switch(a){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_VIDEO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_VIDEO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_VIDEO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_GROUP_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_GROUP_VIDEO_CALL:return!0;default:return!1}}g.maybeXMAMessage=a;g.isXMAShare_DO_NOT_USE=b;g.isXMAFBStory=e;g.isXMAStoryShare=f;g.isXMAExternalLinkShare=k;g.isXMAContactShare=l;g.isReceiverFetchXMA=m;g.isIGXMAStoryShare=n;g.isXMAPostPrivateReply=o;g.isXMAExpired=p;g.removeCTAsForStoryMentionXMA=q;g.buildUnstoredTombstonedXMA=r;g.buildTombstonedDbXMA=s;g.isXMAStoryReply=t;g.isXMAStoryProducerReply=u;g.isXMAStoryReaction=v;g.isFBXMAStoryMention=w;g.isFBXMAPostMention=x;g.isIGXMAStoryMention=y;g.isXMAStoryMention=z;g.isIGXMAPostShare=A;g.isXMAStoryHighlightShare=B;g.isXMAMsgHighlightsTabFriendUpdatesReply=C;g.isRtcXMA=D}),98);
__d("WAJobOrchestratorTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({SKIP:"SKIP_PRIORITIZATION",UI_ACTION:"UI_ACTION",LOW:"LOW",HIGH:"HIGH",OFFLINE:"OFFLINE",HISTORY_SYNC:"HISTORY_SYNC",BEST_EFFORT:"BEST_EFFORT"});c=1;d=a.LOW;e=10*1e3;f.JOB_PRIORITY=a;f.DEFAULT_CONCURRENCY=c;f.DEFAULT_JOB_PRIORITY=d;f.DEFAULT_JOB_TIMEOUT_MS=e}),66);
__d("WAMapWithDefault",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,b!=null?this.$2=new Map(b):this.$2=new Map()}var b=a.prototype;b.size=function(){return this.$2.size};b.clear=function(){this.$2.clear()};b["delete"]=function(a){return this.$2["delete"](a)};b.get=function(a){var b=this.$2.get(a);if(b!=null)return b;else{b=this.$1(a);this.$2.set(a,b);return b}};b.keys=function(){return this.$2.keys()};b.entries=function(){return this.$2.entries()};b.update=function(b,c){c=new Map(this.$2).set(b,c(this.get(b)));return new a(this.$1,c)};b.toMap=function(){return new Map(this.$2)};return a}();f.MapWithDefault=a}),66);/*FB_PKG_DELIM*/
__d("BaseTypeaheadLayoutContextualStrategyStateContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("useBaseTypeaheadLayoutContextualStrategyStateContext",["BaseTypeaheadLayoutContextualStrategyStateContext","FBLogger","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){var a=i(c("BaseTypeaheadLayoutContextualStrategyStateContext"));if(a==null)throw c("FBLogger")("typeahead_framework").mustfixThrow("Contextual Layout Strategy State is not found");return a}g["default"]=a}),98);
__d("useCometInternalTypeaheadFetchHandler",["react","useBaseTypeaheadLayoutContextualStrategyStateContext","useCometInternalTypeaheadFetch","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useEffect;function a(a){var b=a.loggingProvider,d=a.queryString,e=a.traceProvider;a=c("useBaseTypeaheadLayoutContextualStrategyStateContext")();var f=a.isOpened;a=c("useCometInternalTypeaheadState")();var g=a.activeEntries;a=c("useCometInternalTypeaheadFetch")();var h=a.fetch;a=i(function(){function a(a,c){var d=null;b!=null&&(d=b.addEvent({action:"keystroke",entries:g,queryString:a},"useCometInternalTypeaheadFetchHandler"));d=d!=null?{loggingEventTrace:d,perfTraceAPI:c,query:a}:{perfTraceAPI:c,query:a};h(d)}var c=d.trimLeft().replace(/\s+/g," ");if(!f)return;e?e.trace(function(b){return a(c,b)},c):a(c)},[g,h,f,b,d,e]);j(a,[f,d])}g["default"]=a}),98);
__d("BaseTypeaheadDataFetchTrigger.react",["react-compiler-runtime","useCometInternalTypeaheadFetchHandler"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("react-compiler-runtime").c(4),e=a.loggingProvider,f=a.queryString;a=a.traceProvider;var g;b[0]!==e||b[1]!==f||b[2]!==a?(g={loggingProvider:e,queryString:f,traceProvider:a},b[0]=e,b[1]=f,b[2]=a,b[3]=g):g=b[3];c("useCometInternalTypeaheadFetchHandler")(g);return null}g["default"]=a}),98);
__d("cometTypeaheadMouseUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a!=null&&(a.ctrlKey||a.metaKey||a.shiftKey)}f.hasModifierKeyPressed=a}),66);
__d("useCometInternalTypeaheadOnAbandonLoggingHandler",["react","react-compiler-runtime","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(5),e=a.callback,f=a.loggingProvider,g=a.queryString;a=c("useCometInternalTypeaheadState")();var h=a.activeEntries;b[0]!==h||b[1]!==e||b[2]!==f||b[3]!==g?(a=function(){f!=null&&f.isSessionActive()&&(f.addEvent({action:"abandon",entries:h,queryString:g},"useCometInternalTypeaheadOnAbandonLoggingHandler"),f.endSession()),e&&e()},b[0]=h,b[1]=e,b[2]=f,b[3]=g,b[4]=a):a=b[4];return a}g["default"]=a}),98);
__d("useCometInternalTypeaheadOnEnterLoggingHandler",["react","react-compiler-runtime","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(6),e=a.loggingProvider,f=a.onEnter,g=a.queryString;a=c("useCometInternalTypeaheadState")();var h=a.activeEntries,i=a.highlightedEntry;b[0]!==h||b[1]!==i||b[2]!==e||b[3]!==f||b[4]!==g?(a=function(){i!=null&&(e&&e.addEvent({action:"click",entries:h,entry:i,queryString:g},"useCometInternalTypeaheadOnEnterLoggingHandler:without_highlightedEntry")),i==null&&(e&&e.addEvent({action:"enter",entries:h,queryString:g},"useCometInternalTypeaheadOnEnterLoggingHandler:with_highlightedEntry")),e&&e.endSession(),f&&f()},b[0]=h,b[1]=i,b[2]=e,b[3]=f,b[4]=g,b[5]=a):a=b[5];return a}g["default"]=a}),98);
__d("useCometInternalTypeaheadOnFocusLoggingHandler",["react","react-compiler-runtime","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(5),e=a.loggingProvider,f=a.onFocus,g=a.queryString;a=c("useCometInternalTypeaheadState")();var h=a.activeEntries;b[0]!==h||b[1]!==e||b[2]!==f||b[3]!==g?(a=function(){e!=null&&(e.startSession(),e.addEvent({action:"typeahead_appeared",entries:h,queryString:g},"useCometInternalTypeaheadOnFocusLoggingHandler")),f&&f()},b[0]=h,b[1]=e,b[2]=f,b[3]=g,b[4]=a):a=b[4];return a}g["default"]=a}),98);
__d("useCometInternalTypeaheadOnPressEntryLoggingHandler",["react","react-compiler-runtime","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(5),e=a.loggingProvider,f=a.onPressEntry,g=a.queryString;a=c("useCometInternalTypeaheadState")();var h=a.activeEntries;b[0]!==h||b[1]!==e||b[2]!==f||b[3]!==g?(a=function(a,b){e!=null&&(e.addEvent({action:"click",entries:h,entry:a,queryString:g},"useCometInternalTypeaheadOnPressEntryLoggingHandler"),e.endSession()),f&&f(a,b)},b[0]=h,b[1]=e,b[2]=f,b[3]=g,b[4]=a):a=b[4];return a}g["default"]=a}),98);
__d("useCometTypeaheadInputRefs",["mergeRefs","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useMemo,j=b.useRef;function a(a){var b=j(null),d=i(function(){return c("mergeRefs")(b,a)},[b,a]);return{composedRef:d,inputRef:b}}g["default"]=a}),98);
__d("CometInternalTypeahead.react",["BaseTypeaheadDataFetchTrigger.react","cometTypeaheadMouseUtils","emptyFunction","react","react-compiler-runtime","useCometInternalTypeaheadOnAbandonLoggingHandler","useCometInternalTypeaheadOnEnterLoggingHandler","useCometInternalTypeaheadOnFocusLoggingHandler","useCometInternalTypeaheadOnPressEntryLoggingHandler","useCometInternalTypeaheadState","useCometTypeaheadInputRefs"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;function a(a){var b=d("react-compiler-runtime").c(69),e,f,g,h,j,k,l,m,n,o,p,q;b[0]!==a?(f=a.inputRef,e=a.layoutStrategyRenderer,g=a.loggingProvider,h=a.onEnter,j=a.onFocus,k=a.onPressEntry,l=a.onSelectFreeformQuery,m=a.onShiftTab,n=a.onTab,p=a.queryString,q=a.traceProvider,o=babelHelpers.objectWithoutPropertiesLoose(a,["inputRef","layoutStrategyRenderer","loggingProvider","onEnter","onFocus","onPressEntry","onSelectFreeformQuery","onShiftTab","onTab","queryString","traceProvider"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=j,b[6]=k,b[7]=l,b[8]=m,b[9]=n,b[10]=o,b[11]=p,b[12]=q):(e=b[1],f=b[2],g=b[3],h=b[4],j=b[5],k=b[6],l=b[7],m=b[8],n=b[9],o=b[10],p=b[11],q=b[12]);a=c("useCometTypeaheadInputRefs")(f);f=a.composedRef;var r=a.inputRef;a=c("useCometInternalTypeaheadState")();var s=a.highlightedEntry,t=a.secondaryActionHighlighted;b[13]!==s||b[14]!==h||b[15]!==k||b[16]!==l||b[17]!==p||b[18]!==t?(a=function(){s!=null?k==null?void 0:k(s,t):l&&l(p),h&&h()},b[13]=s,b[14]=h,b[15]=k,b[16]=l,b[17]=p,b[18]=t,b[19]=a):a=b[19];a=a;var u;b[20]!==g||b[21]!==p||b[22]!==a?(u={loggingProvider:g,onEnter:a,queryString:p},b[20]=g,b[21]=p,b[22]=a,b[23]=u):u=b[23];a=c("useCometInternalTypeaheadOnEnterLoggingHandler")(u);b[24]!==g||b[25]!==j||b[26]!==p?(u={loggingProvider:g,onFocus:j,queryString:p},b[24]=g,b[25]=j,b[26]=p,b[27]=u):u=b[27];j=c("useCometInternalTypeaheadOnFocusLoggingHandler")(u);b[28]!==r||b[29]!==k?(u=function(a,b){if(d("cometTypeaheadMouseUtils").hasModifierKeyPressed(b)){r.current&&r.current.focus();return}k&&k(a)},b[28]=r,b[29]=k,b[30]=u):u=b[30];u=u;var v;b[31]!==g||b[32]!==p||b[33]!==u?(v={loggingProvider:g,onPressEntry:u,queryString:p},b[31]=g,b[32]=p,b[33]=u,b[34]=v):v=b[34];u=c("useCometInternalTypeaheadOnPressEntryLoggingHandler")(v);b[35]!==g||b[36]!==m||b[37]!==p?(v={callback:m,loggingProvider:g,queryString:p},b[35]=g,b[36]=m,b[37]=p,b[38]=v):v=b[38];m=c("useCometInternalTypeaheadOnAbandonLoggingHandler")(v);b[39]!==g||b[40]!==n||b[41]!==p?(v={callback:n,loggingProvider:g,queryString:p},b[39]=g,b[40]=n,b[41]=p,b[42]=v):v=b[42];n=c("useCometInternalTypeaheadOnAbandonLoggingHandler")(v);b[43]!==g||b[44]!==p?(v={callback:c("emptyFunction"),loggingProvider:g,queryString:p},b[43]=g,b[44]=p,b[45]=v):v=b[45];v=c("useCometInternalTypeaheadOnAbandonLoggingHandler")(v);var w;b[46]!==g||b[47]!==p?(w={callback:c("emptyFunction"),loggingProvider:g,queryString:p},b[46]=g,b[47]=p,b[48]=w):w=b[48];w=c("useCometInternalTypeaheadOnAbandonLoggingHandler")(w);var x;b[49]!==g||b[50]!==p||b[51]!==q?(x=i.jsx(c("BaseTypeaheadDataFetchTrigger.react"),{loggingProvider:g,queryString:p,traceProvider:q}),b[49]=g,b[50]=p,b[51]=q,b[52]=x):x=b[52];b[53]!==e||b[54]!==f||b[55]!==w||b[56]!==a||b[57]!==j||b[58]!==v||b[59]!==u||b[60]!==m||b[61]!==n||b[62]!==o||b[63]!==p||b[64]!==q?(g=i.jsx(e,babelHelpers["extends"]({},o,{inputRef:f,onAbandonTypeahead_DO_NOT_USE:w,onClick:c("emptyFunction"),onEnter:a,onFocus:j,onHighlightEntry:o.onHighlightEntry,onOutsideClick:v,onPressEntry:u,onShiftTab:m,onTab:n,queryString:p,traceProvider:q,xstyles:o.xstyles})),b[53]=e,b[54]=f,b[55]=w,b[56]=a,b[57]=j,b[58]=v,b[59]=u,b[60]=m,b[61]=n,b[62]=o,b[63]=p,b[64]=q,b[65]=g):g=b[65];b[66]!==x||b[67]!==g?(e=i.jsxs(i.Fragment,{children:[x,g]}),b[66]=x,b[67]=g,b[68]=e):e=b[68];return e}g["default"]=a}),98);
__d("CometInternalTypeaheadEmptyFetchContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(!1);g["default"]=b}),98);
__d("CometInternalTypeaheadEmptyFetchProvider",["CometInternalTypeaheadEmptyFetchContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useLayoutEffect,k=b.useState;function a(a){var b=d("react-compiler-runtime").c(6),e=a.children,f=a.isLoading;a=a.source;var g=k(!0),h=g[0],l=g[1],m;b[0]!==f?(g=function(){f&&l(!1)},m=[f],b[0]=f,b[1]=g,b[2]=m):(g=b[1],m=b[2]);j(g,m);g=["all","network"].includes(a);m=!(g&&h||f);b[3]!==e||b[4]!==m?(a=i.jsx(c("CometInternalTypeaheadEmptyFetchContext").Provider,{value:m,children:e}),b[3]=e,b[4]=m,b[5]=a):a=b[5];return a}g["default"]=a}),98);
__d("CometInternalTypeaheadStateDispatcherContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext();g["default"]=b}),98);
__d("useCometInternalTypeaheadStateDispatcher",["CometInternalTypeaheadStateDispatcherContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){return i(c("CometInternalTypeaheadStateDispatcherContext"))}g["default"]=a}),98);
__d("CometInternalTypeaheadFetchProvider",["CometInternalTypeaheadEmptyFetchProvider","CometInternalTypeaheadFetchContext","react","react-compiler-runtime","useBaseTypeaheadDataSourceFetch","useCometInternalTypeaheadStateDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;b.useMemo;function a(a){var b=d("react-compiler-runtime").c(20),e=a.children,f=a.dataSource,g=a.dataSourceFetchConfigParams,h=a.onFetchEntries_DO_NOT_USE,j=a.traceProvider;a=c("useCometInternalTypeaheadStateDispatcher")();var k=a.dispatchActiveEntries;b[0]!==k||b[1]!==h||b[2]!==j?(a=function(b,a){var c;b=b.entries;var d=a.isTraceComplete;a=a.source;k((c=b)!=null?c:[]);h&&h(b);j&&!j.isResolved()&&(d&&(a==="cache"&&b.length>=j.getEntriesCountForVisualComplete()?j.setEndReason("max_suggestions_reached"):a==="network"?j.setEndReason("all_queries_completed"):a==="network-no-results"&&j.setEndReason("all_queries_completed_no_network_results"),j.resolve()))},b[0]=k,b[1]=h,b[2]=j,b[3]=a):a=b[3];a=a;var l;b[4]!==f||b[5]!==g||b[6]!==a?(l={dataSource:f,dataSourceFetchConfigParams:g,onResolvePayload:a},b[4]=f,b[5]=g,b[6]=a,b[7]=l):l=b[7];f=c("useBaseTypeaheadDataSourceFetch")(l);g=f[0];a=f[1];l=f[2];f=g.isLoading;g=g.source;var m;b[8]!==a||b[9]!==f||b[10]!==l||b[11]!==g?(m={fetch:a,isLoading:f,refetch:l,source:g},b[8]=a,b[9]=f,b[10]=l,b[11]=g,b[12]=m):m=b[12];a=m;l=a;b[13]!==e||b[14]!==f||b[15]!==g?(m=i.jsx(c("CometInternalTypeaheadEmptyFetchProvider"),{isLoading:f,source:g,children:e}),b[13]=e,b[14]=f,b[15]=g,b[16]=m):m=b[16];b[17]!==m||b[18]!==l?(a=i.jsx(c("CometInternalTypeaheadFetchContext").Provider,{value:l,children:m}),b[17]=m,b[18]=l,b[19]=a):a=b[19];return a}g["default"]=a}),98);
__d("BaseTypeaheadLayoutContextualStrategyStateContextProvider.react",["BaseTypeaheadLayoutContextualStrategyStateContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;b.useMemo;var j=b.useState;function a(a){var b=d("react-compiler-runtime").c(10),e=a.children,f=a.autoOpen,g=a.onClose,h=a.onOpen;a=j(f);var k=a[0],l=a[1];b[0]!==k||b[1]!==g||b[2]!==h?(f=function(a){if(a===k)return;l(a);a?h():g()},b[0]=k,b[1]=g,b[2]=h,b[3]=f):f=b[3];a=f;b[4]!==a||b[5]!==k?(f={dispatchIsOpened:a,isOpened:k},b[4]=a,b[5]=k,b[6]=f):f=b[6];a=f;f=a;b[7]!==e||b[8]!==f?(a=i.jsx(c("BaseTypeaheadLayoutContextualStrategyStateContext").Provider,{value:f,children:e}),b[7]=e,b[8]=f,b[9]=a):a=b[9];return a}g["default"]=a}),98);
__d("CometInternalTypeaheadStateProvider",["BaseTypeaheadLayoutContextualStrategyStateContextProvider.react","CometInternalTypeaheadStateContext","CometInternalTypeaheadStateDispatcherContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useEffect;b.useMemo;var k=b.useRef,l=b.useState,m=[];function a(a){var b=d("react-compiler-runtime").c(19),e=a.autoOpen,f=a.children,g=a.emptyEntries_DO_NOT_USE,h=a.onClose;a=a.onOpen;var n=g===void 0?m:g;g=l(null);var o=g[0],p=g[1];g=l(null);var q=g[0],r=g[1];g=l(null);var s=g[0],t=g[1];g=l(n);var u=g[0],v=g[1],w=k(n),x;b[0]!==n?(g=function(){if(w.current===n)return;w.current=n;v(function(a){return a.length?a:n})},x=[v,w,n],b[0]=n,b[1]=g,b[2]=x):(g=b[1],x=b[2]);j(g,x);b[3]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(a){v(function(b){b=Array.isArray(a)?a:a(b);return b.length>0?b:w.current})},b[3]=g):g=b[3];x=g;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(a){var b=a.entry,c=a.secondaryActionHighlighted;a=a.source;p(b);t(a);r(c)},b[4]=g):g=b[4];g=g;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(x={dispatchActiveEntries:x,dispatchHighlightedEntry:g},b[5]=x):x=b[5];g=x;x=g;b[6]!==u||b[7]!==o||b[8]!==s||b[9]!==q?(g={activeEntries:u,highlightedEntry:o,highlightedEntrySource:s,secondaryActionHighlighted:q},b[6]=u,b[7]=o,b[8]=s,b[9]=q,b[10]=g):g=b[10];u=g;o=u;b[11]!==e||b[12]!==f||b[13]!==h||b[14]!==a?(s=i.jsx(c("BaseTypeaheadLayoutContextualStrategyStateContextProvider.react"),{autoOpen:e,onClose:h,onOpen:a,children:f}),b[11]=e,b[12]=f,b[13]=h,b[14]=a,b[15]=s):s=b[15];b[16]!==o||b[17]!==s?(q=i.jsx(c("CometInternalTypeaheadStateDispatcherContext").Provider,{value:x,children:i.jsx(c("CometInternalTypeaheadStateContext").Provider,{value:o,children:s})}),b[16]=o,b[17]=s,b[18]=q):q=b[18];return q}g["default"]=a}),98);
__d("withCometTypeaheadInputStrategyShouldQueryStringFollowHighlightedEntry",["react","react-compiler-runtime","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a,b){var e=b.shouldQueryStringFollowHighlightedEntry;function f(b){var f=d("react-compiler-runtime").c(8),g,h,j;f[0]!==b?(g=b.ref,h=b.queryString,j=babelHelpers.objectWithoutPropertiesLoose(b,["ref","queryString"]),f[0]=b,f[1]=g,f[2]=h,f[3]=j):(g=f[1],h=f[2],j=f[3]);b=c("useCometInternalTypeaheadState")();var k=b.highlightedEntry;b=b.highlightedEntrySource;b=e&&b==="keyboard"&&k!=null?k.label:h;f[4]!==g||f[5]!==b||f[6]!==j?(k=i.jsx(a,babelHelpers["extends"]({},j,{queryString:b,ref:g})),f[4]=g,f[5]=b,f[6]=j,f[7]=k):k=f[7];return k}return f}g["default"]=a}),98);
__d("BaseTypeahead.react",["CometHeroInteractionContextPassthrough.react","CometInternalTypeahead.react","CometInternalTypeaheadFetchProvider","CometInternalTypeaheadStateProvider","emptyFunction","react","react-compiler-runtime","withCometTypeaheadInputStrategyShouldQueryStringFollowHighlightedEntry"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useId;b.useMemo;function a(a){var b=d("react-compiler-runtime").c(76),e,f,g,h,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J;b[0]!==a?(r=a.autoOpen,A=a.autoFocus,e=a.inputStrategyRenderer,g=a.dataSource,h=a.dataSourceFetchConfigParams,B=a.decorators,k=a.emptyEntries_DO_NOT_USE,n=a.id,C=a.isDisabled,D=a.label,m=a.loggingContext,E=a.onBackspace,F=a.onBlur,o=a.onChange,G=a.onClose,H=a.onEnter,s=a.onEscape,p=a.onFetchEntries_DO_NOT_USE,t=a.onFocus,u=a.onOpen,q=a.onPressEntry,v=a.placeholder,w=a.shouldQueryStringFollowHighlightedEntry,x=a.shouldQueryStringUpdateFromSelectedEntryOnClick,y=a.testid,I=a.traceProvider,z=a.viewRole,f=a.viewStrategyRenderer,l=a.inputRef,J=babelHelpers.objectWithoutPropertiesLoose(a,["autoOpen","autoFocus","inputStrategyRenderer","dataSource","dataSourceFetchConfigParams","decorators","emptyEntries_DO_NOT_USE","id","isDisabled","label","loggingContext","onBackspace","onBlur","onChange","onClose","onEnter","onEscape","onFetchEntries_DO_NOT_USE","onFocus","onOpen","onPressEntry","placeholder","shouldQueryStringFollowHighlightedEntry","shouldQueryStringUpdateFromSelectedEntryOnClick","testid","traceProvider","viewRole","viewStrategyRenderer","inputRef"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=k,b[6]=l,b[7]=m,b[8]=n,b[9]=o,b[10]=p,b[11]=q,b[12]=r,b[13]=s,b[14]=t,b[15]=u,b[16]=v,b[17]=w,b[18]=x,b[19]=y,b[20]=z,b[21]=A,b[22]=B,b[23]=C,b[24]=D,b[25]=E,b[26]=F,b[27]=G,b[28]=H,b[29]=I,b[30]=J):(e=b[1],f=b[2],g=b[3],h=b[4],k=b[5],l=b[6],m=b[7],n=b[8],o=b[9],p=b[10],q=b[11],r=b[12],s=b[13],t=b[14],u=b[15],v=b[16],w=b[17],x=b[18],y=b[19],z=b[20],A=b[21],B=b[22],C=b[23],D=b[24],E=b[25],F=b[26],G=b[27],H=b[28],I=b[29],J=b[30]);a=r===void 0?!1:r;r=A===void 0?!1:A;b[31]!==B?(A=B===void 0?[]:B,b[31]=B,b[32]=A):A=b[32];B=A;A=C===void 0?!1:C;C=D===void 0?"":D;D=E===void 0?c("emptyFunction"):E;E=F===void 0?c("emptyFunction"):F;F=G===void 0?c("emptyFunction"):G;G=H===void 0?c("emptyFunction"):H;H=s===void 0?c("emptyFunction"):s;s=t===void 0?c("emptyFunction"):t;t=u===void 0?c("emptyFunction"):u;u=v===void 0?"":v;v=w===void 0?!0:w;var K=x===void 0?!0:x;w=y===void 0?"":y;x=z===void 0?"listbox":z;y=j();var L;b[33]!==B?(L=c("CometInternalTypeahead.react"),B.forEach(function(a){var b=a.decorate;a=a.params;L=b(L,a)}),b[33]=B,b[34]=L):L=b[34];z=L;B=z;b[35]!==o||b[36]!==q||b[37]!==K?(z=function(a,b){K&&o(a.label),q==null?void 0:q(a,b)},b[35]=o,b[36]=q,b[37]=K,b[38]=z):z=b[38];z=z;var M;b[39]!==e||b[40]!==v?(M=c("withCometTypeaheadInputStrategyShouldQueryStringFollowHighlightedEntry")(e,{shouldQueryStringFollowHighlightedEntry:v}),b[39]=e,b[40]=v,b[41]=M):M=b[41];e=M;v=e;M=C||u;C=(e=n)!=null?e:y;if(b[42]!==v||b[43]!==B||b[44]!==f||b[45]!==r||b[46]!==l||b[47]!==D||b[48]!==E||b[49]!==G||b[50]!==H||b[51]!==s||b[52]!==z||b[53]!==A||b[54]!==o||b[55]!==u||b[56]!==M||b[57]!==C||b[58]!==w||b[59]!==I||b[60]!==J||b[61]!==x){e=i.jsx(B,babelHelpers["extends"]({},J,{autoFocus:r,id:C,inputRef:l,inputStrategyRenderer:v,isDisabled:A,label:M,onBackspace:D,onBlur:E,onChange:o,onDownArrow:n=c("emptyFunction"),onEnter:G,onEscape:H,onFocus:s,onHighlightEntry:n,onPressEntry:z,onShiftTab:n,onTab:n,onUpArrow:n,placeholder:u,testid:void 0,traceProvider:I,viewRole:x,viewStrategyRenderer:f}));b[42]=v;b[43]=B;b[44]=f;b[45]=r;b[46]=l;b[47]=D;b[48]=E;b[49]=G;b[50]=H;b[51]=s;b[52]=z;b[53]=A;b[54]=o;b[55]=u;b[56]=M;b[57]=C;b[58]=w;b[59]=I;b[60]=J;b[61]=x;b[62]=e}else e=b[62];b[63]!==g||b[64]!==h||b[65]!==m||b[66]!==p||b[67]!==e||b[68]!==I?(y=i.jsx(c("CometInternalTypeaheadFetchProvider"),{dataSource:g,dataSourceFetchConfigParams:h,loggingContext:m,onFetchEntries_DO_NOT_USE:p,traceProvider:I,children:e}),b[63]=g,b[64]=h,b[65]=m,b[66]=p,b[67]=e,b[68]=I,b[69]=y):y=b[69];b[70]!==a||b[71]!==k||b[72]!==F||b[73]!==t||b[74]!==y?(n=i.jsx(c("CometHeroInteractionContextPassthrough.react"),{clear:!0,children:i.jsx(c("CometInternalTypeaheadStateProvider"),{autoOpen:a,emptyEntries_DO_NOT_USE:k,onClose:F,onOpen:t,children:y})}),b[70]=a,b[71]=k,b[72]=F,b[73]=t,b[74]=y,b[75]=n):n=b[75];return n}g["default"]=a}),98);
__d("CometTypeaheadHelperText.react",["FDSTextPairing.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3);a=a.text;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x1xmf6yo"},b[0]=e):e=b[0];b[1]!==a?(e=i.jsx("div",babelHelpers["extends"]({},e,{children:i.jsx(c("FDSTextPairing.react"),{level:4,meta:a,metaColor:"secondary"})})),b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),98);
__d("cometTypeaheadInputWebkitStyles",[],(function(a,b,c,d,e,f,g){"use strict";a={"default":{appearance:"xtilpmw","::-webkit-search-cancel-button_appearance":"x1ad04t7","::-webkit-search-decoration_appearance":"x1glnyev","::-webkit-search-results-button_appearance":"x1ix68h3","::-webkit-search-results-decoration_appearance":"x19gujb8",$$css:!0}};b=a;g["default"]=b}),98);
__d("useCometTypeaheadInputStrategyOnChangeHandler",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(2),c=a.onChange;b[0]!==c?(a=function(a){var b=a.target.value;c&&c(b,a)},b[0]=c,b[1]=a):a=b[1];return a}g["default"]=a}),98);
__d("CometTypeaheadInputRoundedStrategy.react",["ADD_PLACEHOLDER_OR_LABEL_FIXME","FDSIcon.react","FDSRoundedTextInput.react","MagnifyingGlassFilled16IconSvg.react","UNTRANSLATED_STRING_FIXME","cometTypeaheadInputWebkitStyles","react","useCometTextDirection","useCometTypeaheadInputStrategyOnChangeHandler"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.ref,d=a.ariaProps;a.description;a.errorMessage;a.id;var e=a.inputEndContent,f=a.inputStartContent,g=a.inputExtraProps;g=g===void 0?{}:g;var h=g.hideIconOnFocus;h=h===void 0?!1:h;var j=g.hideIconAnimation;j=j===void 0?!1:j;var k=g.icon;k=k===void 0?i.jsx(c("FDSIcon.react"),{color:"secondary",icon:c("MagnifyingGlassFilled16IconSvg.react"),size:16}):k;var l=g.size;g=g.xstyle;g=g===void 0?null:g;var m=a.isDisabled,n=a.onChange,o=a.label;o=o===void 0?"":o;var p=a.queryString,q=a.testid;q=a.autoFocus;var r=a.placeholder;a=babelHelpers.objectWithoutPropertiesLoose(a,["ref","ariaProps","description","errorMessage","id","inputEndContent","inputStartContent","inputExtraProps","isDisabled","onChange","label","queryString","testid","autoFocus","placeholder"]);var s=c("useCometTextDirection")(p);n=c("useCometTypeaheadInputStrategyOnChangeHandler")({onChange:n});return i.jsxs("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 xh8yej3"},{children:[f,i.jsx(c("FDSRoundedTextInput.react"),babelHelpers["extends"]({},d,a,{"aria-label":c("UNTRANSLATED_STRING_FIXME")(o.toString()),autoComplete:"off",autoFocus_PLEASE_USE_FOCUS_REGION_INSTEAD:q,"data-testid":void 0,dir:s,disabled:m,hideIconAnimation:j,hideIconOnFocus:h,icon:k,onChange:n,placeholder:(f=r)!=null?f:c("ADD_PLACEHOLDER_OR_LABEL_FIXME"),ref:b,size:l,spellCheck:!1,suppressHydrationWarning:!0,type:"search",value:p,xstyle:[g,c("cometTypeaheadInputWebkitStyles")["default"]]})),e]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCometTypeaheadInputStrategyOnBlurHandler",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(2),c=a.onBlur;b[0]!==c?(a=function(){c&&c()},b[0]=c,b[1]=a):a=b[1];return a}g["default"]=a}),98);
__d("useCometTypeaheadInputStrategyOnFocusHandler",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var b=a.inputRef,c=a.onFocus;return i(function(){b.current!=null&&b.current.select(),c&&c()},[b,c])}g["default"]=a}),98);
__d("useCometTypeaheadInputHandlers",["react-compiler-runtime","useCometTypeaheadInputStrategyOnBlurHandler","useCometTypeaheadInputStrategyOnFocusHandler"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("react-compiler-runtime").c(14),e,f,g,h;b[0]!==a?(e=a.inputRef,f=a.onBlur,g=a.onFocus,h=babelHelpers.objectWithoutPropertiesLoose(a,["inputRef","onBlur","onFocus"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h):(e=b[1],f=b[2],g=b[3],h=b[4]);b[5]!==e||b[6]!==g?(a={inputRef:e,onFocus:g},b[5]=e,b[6]=g,b[7]=a):a=b[7];e=c("useCometTypeaheadInputStrategyOnFocusHandler")(a);b[8]!==f?(g={onBlur:f},b[8]=f,b[9]=g):g=b[9];a=c("useCometTypeaheadInputStrategyOnBlurHandler")(g);b[10]!==a||b[11]!==e||b[12]!==h?(f=babelHelpers["extends"]({},h,{onBlur:a,onFocus:e}),b[10]=a,b[11]=e,b[12]=h,b[13]=f):f=b[13];return f}g["default"]=a}),98);
__d("useCometTypeaheadInputRefsWebOnly",["react-compiler-runtime","useCometTypeaheadInputRefs","xplatToDOMRef"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("react-compiler-runtime").c(2),e;b[0]!==a?(e=a!=null?d("xplatToDOMRef").xplatToInputRef(a):null,b[0]=a,b[1]=e):e=b[1];return c("useCometTypeaheadInputRefs")(e)}g["default"]=a}),98);
__d("CometTypeaheadInputStrategyEventListener.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","react","react-compiler-runtime","useCometTypeaheadInputHandlers","useCometTypeaheadInputRefsWebOnly"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));i.useMemo;var k={root:{width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(67),e,f,g,i,l,m,n,o,p,q,r,s,t,u;b[0]!==a?(e=a.children,g=a.isInline,u=a.omitEscape,t=a.ref,i=a.onBackspace,l=a.onDownArrow,m=a.onEnter,n=a.onEscape,o=a.onLeftArrow,p=a.onRightArrow,q=a.onShiftTab,r=a.onTab,s=a.onUpArrow,f=babelHelpers.objectWithoutPropertiesLoose(a,["children","isInline","omitEscape","ref","onBackspace","onDownArrow","onEnter","onEscape","onLeftArrow","onRightArrow","onShiftTab","onTab","onUpArrow"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=i,b[5]=l,b[6]=m,b[7]=n,b[8]=o,b[9]=p,b[10]=q,b[11]=r,b[12]=s,b[13]=t,b[14]=u):(e=b[1],f=b[2],g=b[3],i=b[4],l=b[5],m=b[6],n=b[7],o=b[8],p=b[9],q=b[10],r=b[11],s=b[12],t=b[13],u=b[14]);a=u===void 0?!1:u;var v;b[15]===Symbol["for"]("react.memo_cache_sentinel")?(u={key:c("CometKeys").DELETE},v=h._(/*BTDS*/"Remove last character from input query."),b[15]=u,b[16]=v):(u=b[15],v=b[16]);b[17]!==i?(u={command:u,description:v,handler:function(){return i&&i()},isHiddenCommand:!0,shouldPreventDefault:!1,triggerFromInputs:!0},b[17]=i,b[18]=u):u=b[18];var w;b[19]===Symbol["for"]("react.memo_cache_sentinel")?(v={key:c("CometKeys").DOWN},w=h._(/*BTDS*/"Next suggestion"),b[19]=v,b[20]=w):(v=b[19],w=b[20]);b[21]!==l?(v={command:v,description:w,handler:function(){return l&&l()},triggerFromInputs:!0},b[21]=l,b[22]=v):v=b[22];var x;b[23]===Symbol["for"]("react.memo_cache_sentinel")?(w={key:c("CometKeys").UP},x=h._(/*BTDS*/"Previous suggestion"),b[23]=x,b[24]=w):(x=b[23],w=b[24]);b[25]!==s?(w={command:w,description:x,handler:function(){return s&&s()},triggerFromInputs:!0},b[25]=s,b[26]=w):w=b[26];b[27]!==a||b[28]!==n?(x=a?null:{command:{key:c("CometKeys").ESCAPE},description:h._(/*BTDS*/"Close suggestions"),handler:function(){return n&&n()},triggerFromInputs:!0},b[27]=a,b[28]=n,b[29]=x):x=b[29];var y;b[30]===Symbol["for"]("react.memo_cache_sentinel")?(a={key:c("CometKeys").ENTER},y=h._(/*BTDS*/"Select suggestion"),b[30]=a,b[31]=y):(a=b[30],y=b[31]);b[32]!==m?(a={command:a,description:y,handler:function(){return m&&m()},triggerFromInputs:!0},b[32]=m,b[33]=a):a=b[33];var z;b[34]===Symbol["for"]("react.memo_cache_sentinel")?(y={key:c("CometKeys").TAB},z=h._(/*BTDS*/"Leave input"),b[34]=y,b[35]=z):(y=b[34],z=b[35]);b[36]!==r?(y={command:y,description:z,handler:function(){return r&&r()},isHiddenCommand:!0,shouldPreventDefault:!1,shouldStopPropagation:!1,triggerFromInputs:!0},b[36]=r,b[37]=y):y=b[37];var A;b[38]===Symbol["for"]("react.memo_cache_sentinel")?(z={key:c("CometKeys").TAB,shift:!0},A=h._(/*BTDS*/"Leave input"),b[38]=z,b[39]=A):(z=b[38],A=b[39]);b[40]!==q?(z={command:z,description:A,handler:function(){return q&&q()},isHiddenCommand:!0,shouldPreventDefault:!1,shouldStopPropagation:!1,triggerFromInputs:!0},b[40]=q,b[41]=z):z=b[41];b[42]!==o?(A=o!=null?{command:{key:c("CometKeys").LEFT},description:h._(/*BTDS*/"Move focus to the previous cell"),handler:o,triggerFromInputs:!0}:null,b[42]=o,b[43]=A):A=b[43];b[44]!==p?(o=p!=null?{command:{key:c("CometKeys").RIGHT},description:h._(/*BTDS*/"Move focus to the next cell"),handler:p,triggerFromInputs:!0}:null,b[44]=p,b[45]=o):o=b[45];b[46]!==w||b[47]!==x||b[48]!==a||b[49]!==y||b[50]!==z||b[51]!==A||b[52]!==o||b[53]!==u||b[54]!==v?(p=[u,v,w,x,a,y,z,A,o].filter(Boolean),b[46]=w,b[47]=x,b[48]=a,b[49]=y,b[50]=z,b[51]=A,b[52]=o,b[53]=u,b[54]=v,b[55]=p):p=b[55];w=p;x=w;a=c("useCometTypeaheadInputRefsWebOnly")(t);y=a.composedRef;z=a.inputRef;b[56]!==f||b[57]!==z?(A=babelHelpers["extends"]({inputRef:z},f),b[56]=f,b[57]=z,b[58]=A):A=b[58];o=c("useCometTypeaheadInputHandlers")(A);u=g===!0?"span":"div";b[59]!==e||b[60]!==y||b[61]!==o?(v=e(y,o),b[59]=e,b[60]=y,b[61]=o,b[62]=v):v=b[62];b[63]!==x||b[64]!==u||b[65]!==v?(p=j.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:x,elementType:u,xstyle:k.root,children:v}),b[63]=x,b[64]=u,b[65]=v,b[66]=p):p=b[66];return p}g["default"]=a}),226);
__d("useCometTypeaheadViewStrategyOutsideClickListener",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useEffect;function a(a,b){var c=d("react-compiler-runtime").c(6),e;c[0]!==b||c[1]!==a?(e=function(c){var d=a.current;c=c.target;d!=null&&c instanceof Node&&!d.contains(c)&&b()},c[0]=b,c[1]=a,c[2]=e):e=c[2];var f=e,g;c[3]!==f?(e=function(){document.addEventListener("click",f);return function(){document.removeEventListener("click",f)}},g=[f],c[3]=f,c[4]=e,c[5]=g):(e=c[4],g=c[5]);i(e,g)}g["default"]=a}),98);
__d("CometTypeaheadViewStrategyEventListener.react",["react","useCometTypeaheadViewStrategyOutsideClickListener"],(function(a,b,c,d,e,f,g){"use strict";var h;h||(h=d("react"));var i=h.useRef;function a(a){var b=a.children;a=a.onOutsideClick;var d=i(null);c("useCometTypeaheadViewStrategyOutsideClickListener")(d,a);return b(d)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("cometHandleHighlightDropOnMouseLeave",[],(function(a,b,c,d,e,f){"use strict";function a(a){return function(){a(null,"mouse",!1)}}f["default"]=a}),66);
__d("CometTypeaheadInternalLayoutContextualStrategy.react",["CometContextualLayer.react","CometTypeaheadInputStrategyEventListener.react","CometTypeaheadViewStrategyEventListener.react","cometHandleHighlightDropOnMouseLeave","react","react-compiler-runtime","stylex","useCometInternalTypeaheadState","xplatToDOMRef"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useRef;function a(a){var b=d("react-compiler-runtime").c(99),e,f,g,i,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D;b[0]!==a?(B=a.contextualProps,g=a.description,i=a.errorMessage,C=a.extraLayoutProps,e=a.inputStrategyRenderer,m=a.label,n=a.onBackspace,o=a.onBlur,t=a.onFocus,p=a.onClick,q=a.onDownArrow,u=a.onLeftArrow,v=a.onRightArrow,r=a.onEnter,s=a.onEscape,w=a.onShiftTab,x=a.onTab,y=a.onUpArrow,A=a.queryString,l=a.inputRef,f=a.viewStrategyRenderer,D=a.xstyles,z=babelHelpers.objectWithoutPropertiesLoose(a,["contextualProps","description","errorMessage","extraLayoutProps","inputStrategyRenderer","label","onBackspace","onBlur","onFocus","onClick","onDownArrow","onLeftArrow","onRightArrow","onEnter","onEscape","onShiftTab","onTab","onUpArrow","queryString","inputRef","viewStrategyRenderer","xstyles"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=i,b[5]=l,b[6]=m,b[7]=n,b[8]=o,b[9]=p,b[10]=q,b[11]=r,b[12]=s,b[13]=t,b[14]=u,b[15]=v,b[16]=w,b[17]=x,b[18]=y,b[19]=z,b[20]=A,b[21]=B,b[22]=C,b[23]=D):(e=b[1],f=b[2],g=b[3],i=b[4],l=b[5],m=b[6],n=b[7],o=b[8],p=b[9],q=b[10],r=b[11],s=b[12],t=b[13],u=b[14],v=b[15],w=b[16],x=b[17],y=b[18],z=b[19],A=b[20],B=b[21],C=b[22],D=b[23]);b[24]!==B?(a=B===void 0?{}:B,b[24]=B,b[25]=a):a=b[25];var E,F;if(b[26]!==a){B=a;E=B.align;F=B.position;B=babelHelpers.objectWithoutPropertiesLoose(B,["align","position"]);b[26]=a;b[27]=B;b[28]=E;b[29]=F}else B=b[27],E=b[28],F=b[29];a=E===void 0?"stretch":E;E=F===void 0?"below":F;F=C;C=F.ariaProps;var G=F.helperTextComponent,H=F.isAlwaysOpened,I=F.isLoading;F=F.isOpened;var J=C.ariaDescribedByProps,K=C.ariaInputProps,L=C.ariaViewProps;C=k(null);var M=k(null),N=c("useCometInternalTypeaheadState")(),O=N.activeEntries,P=N.highlightedEntry;b[30]!==z.onHighlightEntry?(N=c("cometHandleHighlightDropOnMouseLeave")(z.onHighlightEntry),b[30]=z.onHighlightEntry,b[31]=N):N=b[31];var Q=N;if(b[32]!==((N=D)==null?void 0:N.layoutXStyle)){var R;N=(h||(h=c("stylex"))).props((N=D)==null?void 0:N.layoutXStyle);b[32]=(R=D)==null?void 0:R.layoutXStyle;b[33]=N}else N=b[33];if(b[34]!==((R=D)==null?void 0:R.inputXStyle)){var S;R=(h||(h=c("stylex"))).props((R=D)==null?void 0:R.inputXStyle);b[34]=(S=D)==null?void 0:S.inputXStyle;b[35]=R}else R=b[35];S=F===!1&&A==="";var T;b[36]!==e||b[37]!==K||b[38]!==g||b[39]!==i||b[40]!==m||b[41]!==z.autoFocus||b[42]!==z.id||b[43]!==z.inputEndContent||b[44]!==z.inputExtraProps||b[45]!==z.inputStartContent||b[46]!==z.isDisabled||b[47]!==z.placeholder||b[48]!==z.testid||b[49]!==A?(T=function(a,b){return j.jsx(e,babelHelpers["extends"]({},b,{ariaProps:K,autoFocus:z.autoFocus,description:g,errorMessage:i,id:z.id,inputEndContent:z.inputEndContent,inputExtraProps:z.inputExtraProps,inputStartContent:z.inputStartContent,isDisabled:z.isDisabled,label:m,placeholder:z.placeholder,queryString:A,ref:d("xplatToDOMRef").xplatToInputRef(a),testid:void 0}))},b[36]=e,b[37]=K,b[38]=g,b[39]=i,b[40]=m,b[41]=z.autoFocus,b[42]=z.id,b[43]=z.inputEndContent,b[44]=z.inputExtraProps,b[45]=z.inputStartContent,b[46]=z.isDisabled,b[47]=z.placeholder,b[48]=z.testid,b[49]=A,b[50]=T):T=b[50];var U;b[51]!==l||b[52]!==n||b[53]!==o||b[54]!==p||b[55]!==q||b[56]!==r||b[57]!==s||b[58]!==t||b[59]!==u||b[60]!==v||b[61]!==w||b[62]!==x||b[63]!==y||b[64]!==z.onChange||b[65]!==S||b[66]!==T?(U=j.jsx(c("CometTypeaheadInputStrategyEventListener.react"),{omitEscape:S,onBackspace:n,onBlur:o,onChange:z.onChange,onClick:p,onDownArrow:q,onEnter:r,onEscape:s,onFocus:t,onLeftArrow:u,onRightArrow:v,onShiftTab:w,onTab:x,onUpArrow:y,ref:l,children:T}),b[51]=l,b[52]=n,b[53]=o,b[54]=p,b[55]=q,b[56]=r,b[57]=s,b[58]=t,b[59]=u,b[60]=v,b[61]=w,b[62]=x,b[63]=y,b[64]=z.onChange,b[65]=S,b[66]=T,b[67]=U):U=b[67];b[68]!==U||b[69]!==R?(l=j.jsx("div",babelHelpers["extends"]({},R,{children:U})),b[68]=U,b[69]=R,b[70]=l):l=b[70];b[71]!==l||b[72]!==N?(n=j.jsx("div",babelHelpers["extends"]({},N,{ref:M,children:l})),b[71]=l,b[72]=N,b[73]=n):n=b[73];b[74]!==J||b[75]!==G?(o=G!=null&&j.jsx("div",babelHelpers["extends"]({className:"x1xmf6yo"},J,{children:G})),b[74]=J,b[75]=G,b[76]=o):o=b[76];if(b[77]!==f||b[78]!==O||b[79]!==a||b[80]!==L||b[81]!==B||b[82]!==P||b[83]!==H||b[84]!==I||b[85]!==F||b[86]!==Q||b[87]!==E||b[88]!==z.onAbandonTypeahead_DO_NOT_USE||b[89]!==z.onHighlightEntry||b[90]!==z.onOutsideClick||b[91]!==z.onPressEntry||b[92]!==A||b[93]!==((p=D)==null?void 0:p.viewXStyle_DO_NOT_USE)){q=(F===!0||H===!0)&&j.jsx(c("CometContextualLayer.react"),babelHelpers["extends"]({},B,{align:a,contextRef:M,position:E,ref:C,children:j.jsx(c("CometTypeaheadViewStrategyEventListener.react"),{onOutsideClick:z.onOutsideClick,children:function(a){var b;return j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props((b=D)==null?void 0:b.viewXStyle_DO_NOT_USE),{onMouseLeave:Q,ref:a,children:j.jsx(f,{ariaProps:L,entries:O,highlightedEntry:P,isLoading:I,onAbandonTypeahead_DO_NOT_USE:z.onAbandonTypeahead_DO_NOT_USE,onHighlightEntry:z.onHighlightEntry,onPressEntry:z.onPressEntry,queryString:A})}))}})}));b[77]=f;b[78]=O;b[79]=a;b[80]=L;b[81]=B;b[82]=P;b[83]=H;b[84]=I;b[85]=F;b[86]=Q;b[87]=E;b[88]=z.onAbandonTypeahead_DO_NOT_USE;b[89]=z.onHighlightEntry;b[90]=z.onOutsideClick;b[91]=z.onPressEntry;b[92]=A;b[93]=(r=D)==null?void 0:r.viewXStyle_DO_NOT_USE;b[94]=q}else q=b[94];b[95]!==n||b[96]!==o||b[97]!==q?(s=j.jsxs(j.Fragment,{children:[n,o,q]}),b[95]=n,b[96]=o,b[97]=q,b[98]=s):s=b[98];return s}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyStyles",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;var i={defaultLayout:{boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",width:"xh8yej3",$$css:!0},stateDisabled:{$$css:!0},stateError:{$$css:!0},stateOpened:{$$css:!0},stateWarning:{$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(13),c=a.isDisabled,e=a.isError,f=a.isOpened,g=a.isWarning;a=a.xstyles;c=c===void 0?!1:c;e=e===void 0?!1:e;f=f===void 0?!1:f;g=g===void 0?!1:g;var h=a.inputXStyle,j=a.layoutOpenedXStyle,k=a.layoutXStyle;a=a.viewXStyle_DO_NOT_USE;j=f&&j;c=c&&i.stateDisabled;f=f&&i.stateOpened;e=e&&i.stateError;g=g&&i.stateWarning;var l;b[0]!==k||b[1]!==e||b[2]!==g||b[3]!==j||b[4]!==c||b[5]!==f?(l=[i.defaultLayout,k,j,c,f,e,g],b[0]=k,b[1]=e,b[2]=g,b[3]=j,b[4]=c,b[5]=f,b[6]=l):l=b[6];b[7]!==a?(k=[a],b[7]=a,b[8]=k):k=b[8];b[9]!==h||b[10]!==l||b[11]!==k?(e={inputXStyle:h,layoutXStyle:l,viewXStyle_DO_NOT_USE:k},b[9]=h,b[10]=l,b[11]=k,b[12]=e):e=b[12];g=e;return g}g["default"]=a}),98);
__d("CometTypeaheadInternalLayoutInlineStrategy.react",["CometTypeaheadInputStrategyEventListener.react","CometTypeaheadViewStrategyEventListener.react","cometHandleHighlightDropOnMouseLeave","react","react-compiler-runtime","react-strict-dom","useCometInternalTypeaheadState","useCometTypeaheadLayoutStrategyStyles"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={helperText:{marginTop:"x1xmf6yo",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(92),e,f,g,h,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E;b[0]!==a?(D=a.extraLayoutProps,g=a.description,h=a.errorMessage,k=a.extraViewProps,m=a.id,e=a.inputStrategyRenderer,n=a.label,o=a.onBackspace,p=a.onBlur,q=a.onChange,r=a.onClick,s=a.onDownArrow,w=a.onLeftArrow,x=a.onRightArrow,t=a.onEnter,u=a.onEscape,v=a.onFocus,y=a.onShiftTab,z=a.onTab,A=a.onUpArrow,C=a.queryString,l=a.inputRef,f=a.viewStrategyRenderer,E=a.xstyles,B=babelHelpers.objectWithoutPropertiesLoose(a,["extraLayoutProps","description","errorMessage","extraViewProps","id","inputStrategyRenderer","label","onBackspace","onBlur","onChange","onClick","onDownArrow","onLeftArrow","onRightArrow","onEnter","onEscape","onFocus","onShiftTab","onTab","onUpArrow","queryString","inputRef","viewStrategyRenderer","xstyles"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=k,b[6]=l,b[7]=m,b[8]=n,b[9]=o,b[10]=p,b[11]=q,b[12]=r,b[13]=s,b[14]=t,b[15]=u,b[16]=v,b[17]=w,b[18]=x,b[19]=y,b[20]=z,b[21]=A,b[22]=B,b[23]=C,b[24]=D,b[25]=E):(e=b[1],f=b[2],g=b[3],h=b[4],k=b[5],l=b[6],m=b[7],n=b[8],o=b[9],p=b[10],q=b[11],r=b[12],s=b[13],t=b[14],u=b[15],v=b[16],w=b[17],x=b[18],y=b[19],z=b[20],A=b[21],B=b[22],C=b[23],D=b[24],E=b[25]);a=D;D=a.ariaProps;var F=a.helperTextComponent,G=a.isAlwaysOpened,H=a.isLoading;a=a.isOpened;var I=D.ariaDescribedByProps,J=D.ariaInputProps,K=D.ariaViewProps;b[26]!==E?(D=E===void 0?{}:E,b[26]=E,b[27]=D):D=b[27];E=D;D=c("useCometInternalTypeaheadState")();var L=D.activeEntries,M=D.highlightedEntry;b[28]!==a||b[29]!==E?(D={isOpened:a,xstyles:E},b[28]=a,b[29]=E,b[30]=D):D=b[30];E=c("useCometTypeaheadLayoutStrategyStyles")(D);D=E.inputXStyle;var N=E.layoutXStyle,O=E.viewXStyle_DO_NOT_USE;b[31]!==B.onHighlightEntry?(E=c("cometHandleHighlightDropOnMouseLeave")(B.onHighlightEntry),b[31]=B.onHighlightEntry,b[32]=E):E=b[32];var P=E;E=G===!0?C==="":a===!1&&C==="";var Q;b[33]!==e||b[34]!==J||b[35]!==g||b[36]!==h||b[37]!==m||b[38]!==n||b[39]!==B.autoFocus||b[40]!==B.inputEndContent||b[41]!==B.inputExtraProps||b[42]!==B.inputStartContent||b[43]!==B.isDisabled||b[44]!==B.placeholder||b[45]!==B.testid||b[46]!==C?(Q=function(a,b){return i.jsx(e,babelHelpers["extends"]({},b,{ariaProps:J,autoFocus:B.autoFocus,description:g,errorMessage:h,id:m,inputEndContent:B.inputEndContent,inputExtraProps:B.inputExtraProps,inputStartContent:B.inputStartContent,isDisabled:B.isDisabled,label:n,placeholder:B.placeholder,queryString:C,ref:a,testid:void 0}))},b[33]=e,b[34]=J,b[35]=g,b[36]=h,b[37]=m,b[38]=n,b[39]=B.autoFocus,b[40]=B.inputEndContent,b[41]=B.inputExtraProps,b[42]=B.inputStartContent,b[43]=B.isDisabled,b[44]=B.placeholder,b[45]=B.testid,b[46]=C,b[47]=Q):Q=b[47];var R;b[48]!==l||b[49]!==o||b[50]!==p||b[51]!==q||b[52]!==r||b[53]!==s||b[54]!==t||b[55]!==u||b[56]!==v||b[57]!==w||b[58]!==x||b[59]!==y||b[60]!==z||b[61]!==A||b[62]!==E||b[63]!==Q?(R=i.jsx(c("CometTypeaheadInputStrategyEventListener.react"),{omitEscape:E,onBackspace:o,onBlur:p,onChange:q,onClick:r,onDownArrow:s,onEnter:t,onEscape:u,onFocus:v,onLeftArrow:w,onRightArrow:x,onShiftTab:y,onTab:z,onUpArrow:A,ref:l,children:Q}),b[48]=l,b[49]=o,b[50]=p,b[51]=q,b[52]=r,b[53]=s,b[54]=t,b[55]=u,b[56]=v,b[57]=w,b[58]=x,b[59]=y,b[60]=z,b[61]=A,b[62]=E,b[63]=Q,b[64]=R):R=b[64];b[65]!==D||b[66]!==R?(l=i.jsx(d("react-strict-dom").html.div,{style:D,children:R}),b[65]=D,b[66]=R,b[67]=l):l=b[67];b[68]!==I||b[69]!==F?(o=F!=null&&i.jsx(d("react-strict-dom").html.div,babelHelpers["extends"]({style:j.helperText},I,{children:F})),b[68]=I,b[69]=F,b[70]=o):o=b[70];b[71]!==f||b[72]!==L||b[73]!==K||b[74]!==k||b[75]!==M||b[76]!==G||b[77]!==H||b[78]!==a||b[79]!==P||b[80]!==B.onAbandonTypeahead_DO_NOT_USE||b[81]!==B.onHighlightEntry||b[82]!==B.onOutsideClick||b[83]!==B.onPressEntry||b[84]!==C||b[85]!==O?(p=(a===!0||G===!0)&&i.jsx(c("CometTypeaheadViewStrategyEventListener.react"),{onOutsideClick:B.onOutsideClick,children:function(a){return i.jsx(d("react-strict-dom").html.div,{onMouseLeave:P,ref:a,style:O,children:i.jsx(f,{ariaProps:K,entries:L,extraViewProps:k,highlightedEntry:M,isLoading:H,onAbandonTypeahead_DO_NOT_USE:B.onAbandonTypeahead_DO_NOT_USE,onHighlightEntry:B.onHighlightEntry,onPressEntry:B.onPressEntry,queryString:C})})}}),b[71]=f,b[72]=L,b[73]=K,b[74]=k,b[75]=M,b[76]=G,b[77]=H,b[78]=a,b[79]=P,b[80]=B.onAbandonTypeahead_DO_NOT_USE,b[81]=B.onHighlightEntry,b[82]=B.onOutsideClick,b[83]=B.onPressEntry,b[84]=C,b[85]=O,b[86]=p):p=b[86];b[87]!==N||b[88]!==l||b[89]!==o||b[90]!==p?(q=i.jsxs(d("react-strict-dom").html.div,{style:N,children:[l,o,p]}),b[87]=N,b[88]=l,b[89]=o,b[90]=p,b[91]=q):q=b[91];return q}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnBlurHandler",["react","react-compiler-runtime","useCometInternalTypeaheadStateDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(3),e=a.onBlur;a=c("useCometInternalTypeaheadStateDispatcher")();var f=a.dispatchHighlightedEntry;b[0]!==f||b[1]!==e?(a=function(){f({entry:null,secondaryActionHighlighted:!1,source:null}),e&&e()},b[0]=f,b[1]=e,b[2]=a):a=b[2];return a}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnChangeHandler",["react","react-compiler-runtime","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(4),e=a.onChange,f=a.onHighlightEntry;a=c("useCometInternalTypeaheadState")();var g=a.highlightedEntry;b[0]!==g||b[1]!==e||b[2]!==f?(a=function(a,b){g!=null&&f(null,"keyboard",!1),e&&e(a,b)},b[0]=g,b[1]=e,b[2]=f,b[3]=a):a=b[3];return a}g["default"]=a}),98);
__d("useCometInternalTypeaheadKeyboardNavigation",["baseTypeaheadFlattenEntries","cometTypeaheadKeyboardNavigationUtils","react","react-compiler-runtime","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;b.useMemo;function a(){var a=d("react-compiler-runtime").c(26),b=c("useCometInternalTypeaheadState")(),e=b.activeEntries,f=b.highlightedEntry,g=b.secondaryActionHighlighted,h;a[0]!==e?(h=c("baseTypeaheadFlattenEntries")(e),b=h.every(i),a[0]=e,a[1]=h,a[2]=b):(h=a[1],b=a[2]);e=b;var j=f!=null?f.key:null;a[3]!==j||a[4]!==g||a[5]!==h?(b=function(a){return d("cometTypeaheadKeyboardNavigationUtils").moveDown(h,j,function(b,c){a(b,"keyboard",c)},g)},a[3]=j,a[4]=g,a[5]=h,a[6]=b):b=a[6];f=b;a[7]!==j||a[8]!==g||a[9]!==h?(b=function(a){return d("cometTypeaheadKeyboardNavigationUtils").moveUp(h,j,function(b,c){a(b,"keyboard",c)},g)},a[7]=j,a[8]=g,a[9]=h,a[10]=b):b=a[10];b=b;var k;a[11]!==j||a[12]!==g||a[13]!==h||a[14]!==e?(k=e?function(a){return d("cometTypeaheadKeyboardNavigationUtils").moveLeft(h,j,function(b,c){a(b,"keyboard",c)},g)}:void 0,a[11]=j,a[12]=g,a[13]=h,a[14]=e,a[15]=k):k=a[15];k=k;k=k;var l;a[16]!==j||a[17]!==g||a[18]!==h||a[19]!==e?(l=e?function(a){d("cometTypeaheadKeyboardNavigationUtils").moveRight(h,j,function(b,c){a(b,"keyboard",c)},g)}:void 0,a[16]=j,a[17]=g,a[18]=h,a[19]=e,a[20]=l):l=a[20];e=l;l=e;a[21]!==f||a[22]!==k||a[23]!==l||a[24]!==b?(e={onKeyboardDownArrow:f,onKeyboardLeftArrow:k,onKeyboardRightArrow:l,onKeyboardUpArrow:b},a[21]=f,a[22]=k,a[23]=l,a[24]=b,a[25]=e):e=a[25];return e}function i(a){return a.hasSecondaryAction===!0}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnDownArrowHandler",["react","react-compiler-runtime","useCometInternalTypeaheadKeyboardNavigation"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(4),e=a.onDownArrow,f=a.onHighlightEntry;a=c("useCometInternalTypeaheadKeyboardNavigation")();var g=a.onKeyboardDownArrow;b[0]!==e||b[1]!==f||b[2]!==g?(a=function(){g(f),e&&e()},b[0]=e,b[1]=f,b[2]=g,b[3]=a):a=b[3];return a}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnEnterHandler",["react","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var b=a.inputRef,d=a.onEnter;a=c("useCometInternalTypeaheadState")();var e=a.highlightedEntry,f=a.highlightedEntrySource,g=b.current;return i(function(){var a;a=(a=g==null?void 0:g.value)!=null?a:"";var b=e!=null&&f==="keyboard";if(a.trim().length===0&&!b)return;d&&d()},[g,e,f,d])}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnHighlightEntryHandler",["react","react-compiler-runtime","useCometInternalTypeaheadStateDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(3),e=a.onHighlightEntry;a=c("useCometInternalTypeaheadStateDispatcher")();var f=a.dispatchHighlightedEntry;b[0]!==f||b[1]!==e?(a=function(a,b,c){f({entry:a,secondaryActionHighlighted:c,source:b}),e&&e(a,b,c)},b[0]=f,b[1]=e,b[2]=a):a=b[2];return a}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnLeftArrowHandler",["react","react-compiler-runtime","useCometInternalTypeaheadKeyboardNavigation"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;function a(a){var b=d("react-compiler-runtime").c(4),e=a.onHighlightEntry,f=a.onLeftArrow;a=c("useCometInternalTypeaheadKeyboardNavigation")();var g=a.onKeyboardLeftArrow;b[0]!==e||b[1]!==g||b[2]!==f?(a=g!=null||f!=null?function(){g==null?void 0:g(e),f==null?void 0:f()}:void 0,b[0]=e,b[1]=g,b[2]=f,b[3]=a):a=b[3];b=a;return b}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnOutsideClickHandler",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var b=a.inputRef,c=a.onOutsideClick;return i(function(){if(b.current===document.activeElement)return;c&&c()},[b,c])}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnPressEntryHandler",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(2),c=a.onPressEntry;b[0]!==c?(a=function(a,b){c(a,b)},b[0]=c,b[1]=a):a=b[1];return a}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnRightArrowHandler",["react","react-compiler-runtime","useCometInternalTypeaheadKeyboardNavigation"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;function a(a){var b=d("react-compiler-runtime").c(4),e=a.onHighlightEntry,f=a.onRightArrow;a=c("useCometInternalTypeaheadKeyboardNavigation")();var g=a.onKeyboardRightArrow;b[0]!==e||b[1]!==g||b[2]!==f?(a=g!=null||f!=null?function(){g==null?void 0:g(e),f==null?void 0:f()}:void 0,b[0]=e,b[1]=g,b[2]=f,b[3]=a):a=b[3];b=a;return b}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnUpArrowHandler",["react","react-compiler-runtime","useCometInternalTypeaheadKeyboardNavigation"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(4),e=a.onHighlightEntry,f=a.onUpArrow;a=c("useCometInternalTypeaheadKeyboardNavigation")();var g=a.onKeyboardUpArrow;b[0]!==e||b[1]!==g||b[2]!==f?(a=function(){g(e),f&&f()},b[0]=e,b[1]=g,b[2]=f,b[3]=a):a=b[3];return a}g["default"]=a}),98);
__d("useCometTypeaheadInternalLayoutInlineStrategyHandlers",["react","react-compiler-runtime","useCometTypeaheadLayoutStrategyOnBlurHandler","useCometTypeaheadLayoutStrategyOnChangeHandler","useCometTypeaheadLayoutStrategyOnDownArrowHandler","useCometTypeaheadLayoutStrategyOnEnterHandler","useCometTypeaheadLayoutStrategyOnHighlightEntryHandler","useCometTypeaheadLayoutStrategyOnLeftArrowHandler","useCometTypeaheadLayoutStrategyOnOutsideClickHandler","useCometTypeaheadLayoutStrategyOnPressEntryHandler","useCometTypeaheadLayoutStrategyOnRightArrowHandler","useCometTypeaheadLayoutStrategyOnUpArrowHandler"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(42),e=a.inputRef,f=a.onBlur,g=a.onChange,h=a.onDownArrow,i=a.onEnter,j=a.onEscape,k=a.onHighlightEntry,l=a.onLeftArrow,m=a.onOutsideClick,n=a.onPressEntry,o=a.onRightArrow;a=a.onUpArrow;var p;b[0]!==k?(p={onHighlightEntry:k},b[0]=k,b[1]=p):p=b[1];k=c("useCometTypeaheadLayoutStrategyOnHighlightEntryHandler")(p);b[2]!==f?(p={onBlur:f},b[2]=f,b[3]=p):p=b[3];f=c("useCometTypeaheadLayoutStrategyOnBlurHandler")(p);b[4]!==k||b[5]!==g?(p={onChange:g,onHighlightEntry:k},b[4]=k,b[5]=g,b[6]=p):p=b[6];var q=c("useCometTypeaheadLayoutStrategyOnChangeHandler")(p);b[7]!==e||b[8]!==i?(g={inputRef:e,onEnter:i},b[7]=e,b[8]=i,b[9]=g):g=b[9];p=c("useCometTypeaheadLayoutStrategyOnEnterHandler")(g);b[10]!==q||b[11]!==j?(i=function(){q(""),j&&j()},b[10]=q,b[11]=j,b[12]=i):i=b[12];g=i;b[13]!==k||b[14]!==h?(i={onDownArrow:h,onHighlightEntry:k},b[13]=k,b[14]=h,b[15]=i):i=b[15];h=c("useCometTypeaheadLayoutStrategyOnDownArrowHandler")(i);b[16]!==k||b[17]!==a?(i={onHighlightEntry:k,onUpArrow:a},b[16]=k,b[17]=a,b[18]=i):i=b[18];a=c("useCometTypeaheadLayoutStrategyOnUpArrowHandler")(i);b[19]!==n?(i={onPressEntry:n},b[19]=n,b[20]=i):i=b[20];n=c("useCometTypeaheadLayoutStrategyOnPressEntryHandler")(i);b[21]!==e||b[22]!==m?(i={inputRef:e,onOutsideClick:m},b[21]=e,b[22]=m,b[23]=i):i=b[23];e=c("useCometTypeaheadLayoutStrategyOnOutsideClickHandler")(i);b[24]!==k||b[25]!==l?(m={onHighlightEntry:k,onLeftArrow:l},b[24]=k,b[25]=l,b[26]=m):m=b[26];i=c("useCometTypeaheadLayoutStrategyOnLeftArrowHandler")(m);b[27]!==k||b[28]!==o?(l={onHighlightEntry:k,onRightArrow:o},b[27]=k,b[28]=o,b[29]=l):l=b[29];m=c("useCometTypeaheadLayoutStrategyOnRightArrowHandler")(l);b[30]!==f||b[31]!==q||b[32]!==h||b[33]!==p||b[34]!==g||b[35]!==k||b[36]!==i||b[37]!==e||b[38]!==n||b[39]!==m||b[40]!==a?(o={onBlur:f,onChange:q,onDownArrow:h,onEnter:p,onEscape:g,onHighlightEntry:k,onLeftArrow:i,onOutsideClick:e,onPressEntry:n,onRightArrow:m,onUpArrow:a},b[30]=f,b[31]=q,b[32]=h,b[33]=p,b[34]=g,b[35]=k,b[36]=i,b[37]=e,b[38]=n,b[39]=m,b[40]=a,b[41]=o):o=b[41];return o}g["default"]=a}),98);
__d("useCometTypeaheadInternalLayoutContextualStrategyHandlers",["react","react-compiler-runtime","useBaseTypeaheadLayoutContextualStrategyStateContext","useCometInternalTypeaheadState","useCometTypeaheadInternalLayoutInlineStrategyHandlers"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;b.useMemo;function a(a){var b=d("react-compiler-runtime").c(76),e=a.handlers,f=a.inputRef,g=a.shouldCloseOnEnter;a=a.shouldHandleCloseAfterHandlePressEntry;var h,i,j,k,l,m;b[0]!==e?(i=e.onAbandonTypeahead_DO_NOT_USE,j=e.onClick,k=e.onOutsideClick,l=e.onShiftTab,m=e.onTab,h=babelHelpers.objectWithoutPropertiesLoose(e,["onAbandonTypeahead_DO_NOT_USE","onClick","onOutsideClick","onShiftTab","onTab"]),b[0]=e,b[1]=h,b[2]=i,b[3]=j,b[4]=k,b[5]=l,b[6]=m):(h=b[1],i=b[2],j=b[3],k=b[4],l=b[5],m=b[6]);var n=g===void 0?!0:g,o=a===void 0?!1:a;e=c("useBaseTypeaheadLayoutContextualStrategyStateContext")();var p=e.dispatchIsOpened,q=e.isOpened;g=c("useCometInternalTypeaheadState")();var r=g.highlightedEntry,s=g.secondaryActionHighlighted;b[7]!==p||b[8]!==k?(a=function(){p(!1),k&&k()},b[7]=p,b[8]=k,b[9]=a):a=b[9];e=a;b[10]!==e||b[11]!==h||b[12]!==f?(g=babelHelpers["extends"]({inputRef:f,onOutsideClick:e},h),b[10]=e,b[11]=h,b[12]=f,b[13]=g):g=b[13];a=c("useCometTypeaheadInternalLayoutInlineStrategyHandlers")(g);e=a.onBlur;var t=a.onChange,u=a.onDownArrow,v=a.onEnter,w=a.onEscape;f=a.onHighlightEntry;var x=a.onLeftArrow;g=a.onOutsideClick;var y=a.onPressEntry,z=a.onRightArrow,A=a.onUpArrow;b[14]!==p||b[15]!==i?(a=function(){p(!1),i&&i()},b[14]=p,b[15]=i,b[16]=a):a=b[16];a=a;var B;b[17]!==p||b[18]!==j?(B=function(){p(!0),j&&j()},b[17]=p,b[18]=j,b[19]=B):B=b[19];B=B;var C;b[20]!==p||b[21]!==t?(C=function(a,b){p(!0),t&&t(a,b)},b[20]=p,b[21]=t,b[22]=C):C=b[22];C=C;var D;b[23]!==p||b[24]!==q||b[25]!==u?(D=function(){q?u&&u():p(!0)},b[23]=p,b[24]=q,b[25]=u,b[26]=D):D=b[26];D=D;var E;b[27]!==p||b[28]!==q||b[29]!==x?(E=x!=null?function(){x!=null&&(q?x():p(!0))}:void 0,b[27]=p,b[28]=q,b[29]=x,b[30]=E):E=b[30];E=E;E=E;var F;b[31]!==p||b[32]!==q||b[33]!==z?(F=z!=null?function(){z!=null&&(q?z():p(!0))}:void 0,b[31]=p,b[32]=q,b[33]=z,b[34]=F):F=b[34];F=F;F=F;var G;b[35]!==p||b[36]!==r||b[37]!==v||b[38]!==s||b[39]!==n?(G=function(){s!==!0&&((n||r!=null&&!n)&&p(!1)),v&&v()},b[35]=p,b[36]=r,b[37]=v,b[38]=s,b[39]=n,b[40]=G):G=b[40];G=G;var H;b[41]!==p||b[42]!==h||b[43]!==q||b[44]!==w?(H=function(){q?(p(!1),h.onEscape&&h.onEscape()):w&&w()},b[41]=p,b[42]=h,b[43]=q,b[44]=w,b[45]=H):H=b[45];H=H;var I;b[46]!==p||b[47]!==y||b[48]!==o?(I=function(a,b){o||p(!1),y&&y(a,b),o&&p(!1)},b[46]=p,b[47]=y,b[48]=o,b[49]=I):I=b[49];I=I;var J;b[50]!==p||b[51]!==l?(J=function(){p(!1),l&&l()},b[50]=p,b[51]=l,b[52]=J):J=b[52];J=J;var K;b[53]!==p||b[54]!==m?(K=function(){p(!1),m&&m()},b[53]=p,b[54]=m,b[55]=K):K=b[55];K=K;var L;b[56]!==p||b[57]!==q||b[58]!==A?(L=function(){!q?p(!0):A&&A()},b[56]=p,b[57]=q,b[58]=A,b[59]=L):L=b[59];L=L;var M;b[60]!==a||b[61]!==C||b[62]!==B||b[63]!==D||b[64]!==G||b[65]!==H||b[66]!==E||b[67]!==I||b[68]!==F||b[69]!==J||b[70]!==K||b[71]!==L||b[72]!==e||b[73]!==f||b[74]!==g?(M={onAbandonTypeahead_DO_NOT_USE:a,onBlur:e,onChange:C,onClick:B,onDownArrow:D,onEnter:G,onEscape:H,onHighlightEntry:f,onLeftArrow:E,onOutsideClick:g,onPressEntry:I,onRightArrow:F,onShiftTab:J,onTab:K,onUpArrow:L},b[60]=a,b[61]=C,b[62]=B,b[63]=D,b[64]=G,b[65]=H,b[66]=E,b[67]=I,b[68]=F,b[69]=J,b[70]=K,b[71]=L,b[72]=e,b[73]=f,b[74]=g,b[75]=M):M=b[75];return M}g["default"]=a}),98);
__d("CometTypeaheadLayoutContextualStrategy.react",["CometTypeaheadHelperText.react","CometTypeaheadInternalLayoutContextualStrategy.react","react","react-compiler-runtime","useBaseTypeaheadLayoutContextualStrategyStateContext","useCometInternalTypeaheadFetch","useCometInternalTypeaheadState","useCometTypeaheadInputRefs","useCometTypeaheadInternalLayoutContextualStrategyHandlers","useCometTypeaheadLayoutContextualStrategyARIAProps","useCometTypeaheadLayoutStrategyStyles"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");({backgroundColor:"var(--card-background)",borderRadius:8,boxShadow:"0 12px 12px var(--shadow-2), inset 0 0 0 1px var(--shadow-inset)",boxSizing:"border-box",display:"flex",flexDirection:"column",flexGrow:1,marginTop:2});var j={adjustedView:{backgroundColor:"x1jx94hy",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",boxShadow:"xbsqzb3",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",marginTop:"xr9ek0c",marginStart:"xxtu6n8",width:"x5ox5g8",$$css:!0},view:{backgroundColor:"x1jx94hy",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",boxShadow:"xbsqzb3",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",marginTop:"xr9ek0c",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(84),e,f,g,h,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C;b[0]!==a?(x=a.extraLayoutProps,f=a.helperText,g=a.label,h=a.onAbandonTypeahead_DO_NOT_USE,k=a.onBlur,l=a.onChange,m=a.onClick,n=a.onDownArrow,o=a.onEnter,p=a.onEscape,q=a.onHighlightEntry,r=a.onOutsideClick,s=a.onPressEntry,t=a.onShiftTab,u=a.onTab,v=a.onUpArrow,C=a.viewRole,e=a.inputRef,y=a.shouldHandleCloseAfterHandlePressEntry,z=a.shouldCloseOnEnter,A=a.useAdjustedView,B=a.xstyles,w=babelHelpers.objectWithoutPropertiesLoose(a,["extraLayoutProps","helperText","label","onAbandonTypeahead_DO_NOT_USE","onBlur","onChange","onClick","onDownArrow","onEnter","onEscape","onHighlightEntry","onOutsideClick","onPressEntry","onShiftTab","onTab","onUpArrow","viewRole","inputRef","shouldHandleCloseAfterHandlePressEntry","shouldCloseOnEnter","useAdjustedView","xstyles"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=k,b[6]=l,b[7]=m,b[8]=n,b[9]=o,b[10]=p,b[11]=q,b[12]=r,b[13]=s,b[14]=t,b[15]=u,b[16]=v,b[17]=w,b[18]=x,b[19]=y,b[20]=z,b[21]=A,b[22]=B,b[23]=C):(e=b[1],f=b[2],g=b[3],h=b[4],k=b[5],l=b[6],m=b[7],n=b[8],o=b[9],p=b[10],q=b[11],r=b[12],s=b[13],t=b[14],u=b[15],v=b[16],w=b[17],x=b[18],y=b[19],z=b[20],A=b[21],B=b[22],C=b[23]);b[24]!==x?(a=x===void 0?{}:x,b[24]=x,b[25]=a):a=b[25];x=a;a=x.afterViewContent;x=x.beforeViewContent;y=y===void 0?!1:y;z=z===void 0?!0:z;A=A===void 0?!1:A;var D;b[26]!==B?(D=B===void 0?{}:B,b[26]=B,b[27]=D):D=b[27];var E;if(b[28]!==D){B=D;E=B.viewXStyle_DO_NOT_USE;B=babelHelpers.objectWithoutPropertiesLoose(B,["viewXStyle_DO_NOT_USE"]);b[28]=D;b[29]=E;b[30]=B}else E=b[29],B=b[30];D=c("useCometInternalTypeaheadFetch")();D=D.isLoading;var F=c("useBaseTypeaheadLayoutContextualStrategyStateContext")();F=F.isOpened;var G=c("useCometInternalTypeaheadState")(),H=G.activeEntries;G=G.highlightedEntry;e=c("useCometTypeaheadInputRefs")(e);var I=e.composedRef;e=e.inputRef;var J;b[31]!==h||b[32]!==k||b[33]!==l||b[34]!==m||b[35]!==n||b[36]!==o||b[37]!==p||b[38]!==q||b[39]!==r||b[40]!==s||b[41]!==t||b[42]!==u||b[43]!==v?(J={onAbandonTypeahead_DO_NOT_USE:h,onBlur:k,onChange:l,onClick:m,onDownArrow:n,onEnter:o,onEscape:p,onHighlightEntry:q,onOutsideClick:r,onPressEntry:s,onShiftTab:t,onTab:u,onUpArrow:v},b[31]=h,b[32]=k,b[33]=l,b[34]=m,b[35]=n,b[36]=o,b[37]=p,b[38]=q,b[39]=r,b[40]=s,b[41]=t,b[42]=u,b[43]=v,b[44]=J):J=b[44];b[45]!==e||b[46]!==z||b[47]!==y||b[48]!==J?(h={handlers:J,inputRef:e,shouldCloseOnEnter:z,shouldHandleCloseAfterHandlePressEntry:y},b[45]=e,b[46]=z,b[47]=y,b[48]=J,b[49]=h):h=b[49];k=c("useCometTypeaheadInternalLayoutContextualStrategyHandlers")(h);b[50]!==H||b[51]!==f||b[52]!==G||b[53]!==F||b[54]!==g||b[55]!==C?(l={activeEntries:H,helperText:f,highlightedEntry:G,inputLabel:g,isOpened:F,viewRole:C},b[50]=H,b[51]=f,b[52]=G,b[53]=F,b[54]=g,b[55]=C,b[56]=l):l=b[56];m=c("useCometTypeaheadLayoutContextualStrategyARIAProps")(l);n=A?j.adjustedView:j.view;b[57]!==n||b[58]!==E?(o=[n,E],b[57]=n,b[58]=E,b[59]=o):o=b[59];b[60]!==o||b[61]!==B?(p=babelHelpers["extends"]({viewXStyle_DO_NOT_USE:o},B),b[60]=o,b[61]=B,b[62]=p):p=b[62];b[63]!==F||b[64]!==p?(q={isOpened:F,xstyles:p},b[63]=F,b[64]=p,b[65]=q):q=b[65];r=c("useCometTypeaheadLayoutStrategyStyles")(q);b[66]!==f?(s=f!=null?i.jsx(c("CometTypeaheadHelperText.react"),{text:f}):null,b[66]=f,b[67]=s):s=b[67];b[68]!==a||b[69]!==m||b[70]!==x||b[71]!==D||b[72]!==F||b[73]!==s?(t={afterViewContent:a,ariaProps:m,beforeViewContent:x,helperTextComponent:s,isLoading:D,isOpened:F},b[68]=a,b[69]=m,b[70]=x,b[71]=D,b[72]=F,b[73]=s,b[74]=t):t=b[74];b[75]!==I||b[76]!==k||b[77]!==f||b[78]!==g||b[79]!==w||b[80]!==r||b[81]!==t||b[82]!==C?(u=i.jsx(c("CometTypeaheadInternalLayoutContextualStrategy.react"),babelHelpers["extends"]({},w,k,{extraLayoutProps:t,helperText:f,inputRef:I,label:g,viewRole:C,xstyles:r})),b[75]=I,b[76]=k,b[77]=f,b[78]=g,b[79]=w,b[80]=r,b[81]=t,b[82]=C,b[83]=u):u=b[83];return u}g["default"]=a}),98);
__d("useCometTypeaheadEmptyState",["CometInternalTypeaheadEmptyFetchContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){return i(c("CometInternalTypeaheadEmptyFetchContext"))}g["default"]=a}),98);
__d("CometTypeaheadViewEmptyState.react",["FDSText.react","react","react-compiler-runtime","react-strict-dom","useCometTypeaheadEmptyState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={root:{alignItems:"x6s0dn4",display:"x78zum5",height:"xc9qbxq",justifyContent:"xl56j7k",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(5),e=a.children,f=a.color;a=a.xstyle;f=f===void 0?"tertiary":f;var g=c("useCometTypeaheadEmptyState")(),h;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==a?(h=g?i.jsx(d("react-strict-dom").html.div,{"aria-live":"polite","aria-selected":!1,"data-testid":void 0,role:"option",style:[j.root,a],children:i.jsx(c("FDSText.react"),{color:f,numberOfLines:1,type:"body3",children:e})}):null,b[0]=e,b[1]=f,b[2]=g,b[3]=a,b[4]=h):h=b[4];return h}g["default"]=a}),98);
__d("findCometScrollableLayoutActiveNode",[],(function(a,b,c,d,e,f){"use strict";function g(a){if(a==null)return null;if(a.tagName==="LI")return a.getAttribute("aria-selected")==="true"?a:null;return a.children==null?null:Array.from(a.children).reduce(function(a,b){return(a=a)!=null?a:g(b)},null)}f["default"]=g}),66);
__d("useCometTypeaheadKeyboardForScrollableArea",["findCometScrollableLayoutActiveNode","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef;function a(a){var b=d("react-compiler-runtime").c(3),e=j(null),f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=function(){var a;(a=c("findCometScrollableLayoutActiveNode")((a=e.current)==null?void 0:a.getDOMNode()))==null?void 0:a.scrollIntoView({behavior:"smooth",block:"nearest"})},b[0]=f):f=b[0];var g;b[1]!==a?(g=[a],b[1]=a,b[2]=g):g=b[2];i(f,g);return e}g["default"]=a}),98);
__d("useCometTypeaheadNavigate",["CometProductAttributionContext","goForceFullPageRedirectTo","isCometRouterUrl","react","react-compiler-runtime","useCometRouterDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useContext;function a(a){var b=d("react-compiler-runtime").c(5),e=c("useCometRouterDispatcher")(),f=i(c("CometProductAttributionContext")),g;b[0]!==e||b[1]!==f||b[2]!==(a==null?void 0:a.openNewTabForExternalLink)||b[3]!==(a==null?void 0:a.tapPoint)?(g=function(b,d){if(b==null)return;if(e!=null){var g;g={fromLink:{tap_point:(g=a==null?void 0:a.tapPoint)!=null?g:"tap_scoped_search_bar"},linkContext:f};c("isCometRouterUrl")(b)?e.go(b,{productAttributionUpdateProps:g}):(a==null?void 0:a.openNewTabForExternalLink)===!0?e.go(b,{}):c("goForceFullPageRedirectTo")(b)}else d&&d(b)},b[0]=e,b[1]=f,b[2]=a==null?void 0:a.openNewTabForExternalLink,b[3]=a==null?void 0:a.tapPoint,b[4]=g):g=b[4];a==null?void 0:a.openNewTabForExternalLink;a==null?void 0:a.tapPoint;return g}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("IWAAPI",["WABridge"],(function(a,b,c,d,e,f,g){"use strict";b=1;function a(a){return function(){for(var b=arguments.length,c=new Array(b),e=0;e<b;e++)c[e]=arguments[e];return d("WABridge").getBridge().sendAndReceive("backend","waapi",{type:a,args:c})}}g.version=b;g.makeBridgedApi=a}),98);
__d("LSCoreClientFolderType",[],(function(a,b,c,d,e,f){a=Object.freeze({INBOX:0,PENDING:1,OTHER:2,SPAM:3,ARCHIVED:4,HIDDEN:5,MARKETPLACE:12,RESTRICTED:15,INTEROP:19});f["default"]=a}),66);
__d("LSCreateE2EEMetadataThread",["LSArrayGetObjectAt","LSBase64Encode.nop","LSIsEncryptionVersionSecure","LSIssueNewTask","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][createE2EEMetadataThread] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?(d[19]=new c.Map(),d[19].set("error_msg","Expected a nonempty query result"),d[19].set("code",c.i64.cast([0,3])),d[19].set("src_line","MEBClientStateUtils.php:244 MEBClientStateUtils::maybeClientStateFromDatabaseDirectly()"),d[20]=c.createArray(),d[21]=(d[20].push(d[19]),d[20]),e=[void 0,d[20]],d[2]=e[0],d[3]=e[1],e):(b=a.item,d[19]=new c.Map(),d[19].set("backup_id",b.backupId),d[19].set("device_public_key_blob",b.devicePublicKeyBlob),d[19].set("device_private_key_blob",b.devicePrivateKeyBlob),d[19].set("epoch_storage_public_key_blob",b.epochStoragePublicKeyBlob),d[19].set("epoch_storage_private_key_blob",b.epochStoragePrivateKeyBlob),d[19].set("epoch_auth_public_key_blob",b.epochAuthPublicKeyBlob),d[19].set("epoch_auth_private_key_blob",b.epochAuthPrivateKeyBlob),d[19].set("mailbox_root_key_blob",b.mailboxRootKeyBlob),d[19].set("ocmf_client_state_blob",b.ocmfClientStateBlob),d[19].set("orf_client_state_v2_blob",void 0),d[19].set("orf_v2_authority_level",void 0),d[19].set("oblivious_validation_token_blob",b.obliviousValidationTokenBlob),d[19].set("device_id",b.deviceId),d[19].set("backup_tenancy",b.backupTenancy),d[19].set("encryption_version",b.encryptionVersion),d[19].set("revision_version",b.revisionVersion),d[19].set("initialize_restore_result",void 0),d[19].set("authority_level",b.authorityLevel),e=[d[19],void 0],d[2]=e[0],d[3]=e[1],e)})},function(a){return d[5]=new c.Map(),d[5].set("value",d[2]),d[5].set("errors",d[3]),d[6]=d[5].get("value"),d[6]!==void 0?c.sequence([function(a){return d[19]=d[6].get("backup_id"),d[20]=d[6].get("device_public_key_blob"),d[21]=d[6].get("device_private_key_blob"),d[22]=d[6].get("epoch_storage_public_key_blob"),d[23]=d[6].get("epoch_storage_private_key_blob"),d[24]=d[6].get("epoch_auth_public_key_blob"),d[25]=d[6].get("epoch_auth_private_key_blob"),d[26]=d[6].get("mailbox_root_key_blob"),d[27]=d[6].get("ocmf_client_state_blob"),d[28]=d[6].get("orf_client_state_v2_blob"),d[29]=d[6].get("orf_v2_authority_level"),d[30]=d[6].get("oblivious_validation_token_blob"),d[31]=d[6].get("device_id"),d[32]=d[6].get("backup_tenancy"),d[33]=d[6].get("encryption_version"),d[34]=d[6].get("revision_version"),d[35]=d[6].get("initialize_restore_result"),d[36]=d[6].get("authority_level"),c.i64.neq(d[31],void 0)?c.sequence([function(a){return d[38]=void 0,c.i64.neq(d[38],void 0)?c.resolve(d[39]=d[38]):c.sequence([function(a){return d[51]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[52]=a[0],a})},function(a){return d[52]?d[61]=(d[51].push(c.i64.cast([0,0])),d[51]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[53]=a[0],a})},function(a){return d[53]?d[61]=(d[51].push(c.i64.cast([0,2])),d[51]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[54]=a[0],a})},function(a){return d[54]?d[61]=(d[51].push(c.i64.cast([0,3])),d[51]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[55]=a[0],a})},function(a){return d[55]?d[61]=(d[51].push(c.i64.cast([0,4])),d[51]):0,d[56]=c.createArray(),d[57]=c.i64.of_int32(d[51].length),c.i64.gt(d[57],c.i64.cast([0,0]))?c.loopAsync(d[57],function(a){return d[61]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[51],d[61]).then(function(a){return a=a,d[62]=a[0],d[63]=a[1],a})},function(a){return d[64]=(d[56].push(d[62]),d[56])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[61]=c.createArray(),d[62]=c.i64.of_int32(d[56].length),c.i64.gt(d[62],c.i64.cast([0,0]))?c.loopAsync(d[62],function(a){return d[64]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[56],d[64]).then(function(a){return a=a,d[65]=a[0],d[66]=a[1],a})},function(a){return d[67]=(d[61].push(c.i64.to_string(d[65])),d[61])}])}):c.resolve()},function(a){return d[63]=d[61].join(","),d[58]=d[63]}])},function(a){return d[56].some(function(a){return c.i64.eq(d[33],a)})?d[59]=d[33]:d[59]=void 0,c.i64.neq(d[59],void 0)?d[60]=d[59]:d[60]=void 0,d[39]=d[60]}])},function(a){return c.i64.neq(d[39],void 0)?d[40]=d[39]:d[40]=c.i64.cast([0,0]),c.i64.neq(d[32],void 0)?d[41]=d[32]:d[41]=c.i64.cast([0,1]),c.nativeOperation(b("LSBase64Encode.nop"),d[27]).then(function(a){return a=a,d[42]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[26]).then(function(a){return a=a,d[43]=a[0],a})},function(a){return d[44]=new c.Map(),d[44].set("ocmf_client_state_blob",d[42]==null?"":d[42]),d[44].set("mailbox_root_key",d[43]==null?"":d[43]),d[45]=c.createArray(),c.forEach(c.filter(c.db.table(169).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),function(a){a=a.item;return d[51]=(d[45].push(a.epochId),d[45])})},function(a){return d[49]="Queried locally available epochs. Count: ",d[46]=c.i64.of_int32(d[45].length),d[50]=c.i64.to_string(d[46]),d[47]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][MEBEpochClientUtils] ",d[47],d[49],d[47],d[50]].join("")),c.resolve()},function(a){return d[48]=new c.Map(),d[48].set("device_id",d[31]),d[48].set("raw_tokens",d[44]),d[48].set("locally_available_epochs",d[45]),d[37]=d[48]}]):c.resolve(d[37]=void 0)},function(a){return d[7]=d[37]}]):c.resolve((d[19]=d[5].get("errors"),d[20]=d[5].get("errors"),d[7]=void 0))},function(e){return d[8]=c.i64.random(),d[9]=c.i64.to_string(d[8]),d[10]=new c.Map(),d[10].set("wa_jid",a[0]),d[10].set("offline_thread_key",a[1]),d[10].set("thread_type",a[2]),d[10].set("folder_type",a[3]),d[10].set("bump_timestamp_ms",a[4]),d[10].set("tam_thread_subtype",c.i64.cast([0,0])),d[10].set("created_by_local_device",a[5]),d[10].set("device_context",d[7]),d[10].set("qpl_instance_key",d[9]),d[11]=d[10].get("offline_thread_key"),d[12]=c.toJSON(d[10]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[11]),c.i64.cast([0,388]),d[12],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return d[13]=c.i64.of_float(Date.now()),d[14]=c.i64.random(),d[16]="Finishing execution. Execution time: ",d[17]=c.i64.to_string(c.i64.sub(d[13],d[0])),d[18]=" ms",d[15]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][createE2EEMetadataThread] ",d[15],d[16],d[15],d[17],d[15],d[18]].join("")),c.i64.eq(c.i64.mod_(d[14],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[19]=",",d[20]=c.createArray(),void 0!==void 0?d[21]=(d[20].push(void 0),d[20]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"createE2EEMetadataThread",[d[16],d[19],d[17],d[19],d[18]].join(""),d[20],c.i64.cast([0,4]))):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxCreateE2EEMetadataThreadStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state","secure_encrypted_backups_epochs"];e.exports=a}),null);
__d("LSCreateE2EEMetadataThreadStoredProcedure",["LSCreateE2EEMetadataThread","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSCreateE2EEMetadataThread"),e.waJid,e.offlineThreadKey,e.threadType,e.folderType,e.bumpTimestampMs,e.createdByLocalDevice);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSCreateOfflineThreadingIDStoredProcedure",["LSCreateOfflineThreadingID","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSCreateOfflineThreadingID"),e.timestampMs);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSCutoverMappingQueryFromOpenThreadId",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("open_thread_id",a[0]),d[1]=d[0].get("open_thread_id"),d[2]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),["cutover_mapping_query_",c.i64.to_string(d[1])].join(""),c.i64.cast([0,180001]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxCutoverMappingQueryFromOpenThreadIdStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSCutoverMappingQueryFromOpenThreadIdStoredProcedure",["LSCutoverMappingQueryFromOpenThreadId","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSCutoverMappingQueryFromOpenThreadId"),e.openThreadId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSRefetchContactRowIfExists",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(e,f){var g=e.done;e=e.value;return g?0:(f=e.item,c.i64.le(f.authorityLevel,c.i64.cast([0,80]))?(d[0]=new c.Map(),d[0].set("contact_id",a[0]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"cpq_v2",c.i64.cast([0,207]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))):c.resolve())})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSContactRefetchContactRowIfExistsStoredProcedure";a.__tables__=["contacts"];e.exports=a}),null);
__d("LSRefetchContactRowIfExistsStoredProcedure",["LSRefetchContactRowIfExists","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSRefetchContactRowIfExists"),e.id);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSRtcCallState",[],(function(a,b,c,d,e,f){a=Object.freeze({NO_ONGOING_CALL:0,AUDIO_GROUP_CALL:1,VIDEO_GROUP_CALL:2,VIDEO_1TO1_CALL:3,AUDIO_1TO1_CALL:4});f["default"]=a}),66);
__d("LSThreadPointQueryAndRestoreMessagesWithJID",["LSArrayGetObjectAt","LSBase64Encode.nop","LSIsEncryptionVersionSecure","LSIssueNewTask","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][ThreadPointQueryAndRestoreMessagesWithJID] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?(d[19]=new c.Map(),d[19].set("error_msg","Expected a nonempty query result"),d[19].set("code",c.i64.cast([0,3])),d[19].set("src_line","MEBClientStateUtils.php:244 MEBClientStateUtils::maybeClientStateFromDatabaseDirectly()"),d[20]=c.createArray(),d[21]=(d[20].push(d[19]),d[20]),e=[void 0,d[20]],d[2]=e[0],d[3]=e[1],e):(b=a.item,d[19]=new c.Map(),d[19].set("backup_id",b.backupId),d[19].set("device_public_key_blob",b.devicePublicKeyBlob),d[19].set("device_private_key_blob",b.devicePrivateKeyBlob),d[19].set("epoch_storage_public_key_blob",b.epochStoragePublicKeyBlob),d[19].set("epoch_storage_private_key_blob",b.epochStoragePrivateKeyBlob),d[19].set("epoch_auth_public_key_blob",b.epochAuthPublicKeyBlob),d[19].set("epoch_auth_private_key_blob",b.epochAuthPrivateKeyBlob),d[19].set("mailbox_root_key_blob",b.mailboxRootKeyBlob),d[19].set("ocmf_client_state_blob",b.ocmfClientStateBlob),d[19].set("orf_client_state_v2_blob",void 0),d[19].set("orf_v2_authority_level",void 0),d[19].set("oblivious_validation_token_blob",b.obliviousValidationTokenBlob),d[19].set("device_id",b.deviceId),d[19].set("backup_tenancy",b.backupTenancy),d[19].set("encryption_version",b.encryptionVersion),d[19].set("revision_version",b.revisionVersion),d[19].set("initialize_restore_result",void 0),d[19].set("authority_level",b.authorityLevel),e=[d[19],void 0],d[2]=e[0],d[3]=e[1],e)})},function(a){return d[5]=new c.Map(),d[5].set("value",d[2]),d[5].set("errors",d[3]),d[6]=d[5].get("value"),d[6]!==void 0?c.sequence([function(a){return d[19]=d[6].get("backup_id"),d[20]=d[6].get("device_public_key_blob"),d[21]=d[6].get("device_private_key_blob"),d[22]=d[6].get("epoch_storage_public_key_blob"),d[23]=d[6].get("epoch_storage_private_key_blob"),d[24]=d[6].get("epoch_auth_public_key_blob"),d[25]=d[6].get("epoch_auth_private_key_blob"),d[26]=d[6].get("mailbox_root_key_blob"),d[27]=d[6].get("ocmf_client_state_blob"),d[28]=d[6].get("orf_client_state_v2_blob"),d[29]=d[6].get("orf_v2_authority_level"),d[30]=d[6].get("oblivious_validation_token_blob"),d[31]=d[6].get("device_id"),d[32]=d[6].get("backup_tenancy"),d[33]=d[6].get("encryption_version"),d[34]=d[6].get("revision_version"),d[35]=d[6].get("initialize_restore_result"),d[36]=d[6].get("authority_level"),c.i64.neq(d[31],void 0)?c.sequence([function(a){return d[38]=void 0,c.i64.neq(d[38],void 0)?c.resolve(d[39]=d[38]):c.sequence([function(a){return d[51]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[52]=a[0],a})},function(a){return d[52]?d[61]=(d[51].push(c.i64.cast([0,0])),d[51]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[53]=a[0],a})},function(a){return d[53]?d[61]=(d[51].push(c.i64.cast([0,2])),d[51]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[54]=a[0],a})},function(a){return d[54]?d[61]=(d[51].push(c.i64.cast([0,3])),d[51]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[55]=a[0],a})},function(a){return d[55]?d[61]=(d[51].push(c.i64.cast([0,4])),d[51]):0,d[56]=c.createArray(),d[57]=c.i64.of_int32(d[51].length),c.i64.gt(d[57],c.i64.cast([0,0]))?c.loopAsync(d[57],function(a){return d[61]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[51],d[61]).then(function(a){return a=a,d[62]=a[0],d[63]=a[1],a})},function(a){return d[64]=(d[56].push(d[62]),d[56])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[61]=c.createArray(),d[62]=c.i64.of_int32(d[56].length),c.i64.gt(d[62],c.i64.cast([0,0]))?c.loopAsync(d[62],function(a){return d[64]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[56],d[64]).then(function(a){return a=a,d[65]=a[0],d[66]=a[1],a})},function(a){return d[67]=(d[61].push(c.i64.to_string(d[65])),d[61])}])}):c.resolve()},function(a){return d[63]=d[61].join(","),d[58]=d[63]}])},function(a){return d[56].some(function(a){return c.i64.eq(d[33],a)})?d[59]=d[33]:d[59]=void 0,c.i64.neq(d[59],void 0)?d[60]=d[59]:d[60]=void 0,d[39]=d[60]}])},function(a){return c.i64.neq(d[39],void 0)?d[40]=d[39]:d[40]=c.i64.cast([0,0]),c.i64.neq(d[32],void 0)?d[41]=d[32]:d[41]=c.i64.cast([0,1]),c.nativeOperation(b("LSBase64Encode.nop"),d[27]).then(function(a){return a=a,d[42]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[26]).then(function(a){return a=a,d[43]=a[0],a})},function(a){return d[44]=new c.Map(),d[44].set("ocmf_client_state_blob",d[42]==null?"":d[42]),d[44].set("mailbox_root_key",d[43]==null?"":d[43]),d[45]=c.createArray(),c.forEach(c.filter(c.db.table(169).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),function(a){a=a.item;return d[51]=(d[45].push(a.epochId),d[45])})},function(a){return d[49]="Queried locally available epochs. Count: ",d[46]=c.i64.of_int32(d[45].length),d[50]=c.i64.to_string(d[46]),d[47]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][MEBEpochClientUtils] ",d[47],d[49],d[47],d[50]].join("")),c.resolve()},function(a){return d[48]=new c.Map(),d[48].set("device_id",d[31]),d[48].set("raw_tokens",d[44]),d[48].set("locally_available_epochs",d[45]),d[37]=d[48]}]):c.resolve(d[37]=void 0)},function(a){return d[7]=d[37]}]):c.resolve((d[19]=d[5].get("errors"),d[20]=d[5].get("errors"),d[7]=void 0))},function(e){return d[8]=c.i64.random(),d[9]=c.i64.to_string(d[8]),d[10]=new c.Map(),d[10].set("wa_jid",a[0]),d[10].set("tam_thread_subtype",c.i64.cast([0,0])),d[10].set("enable_logging_for_tpq",!1),d[10].set("device_context",d[7]),d[10].set("qpl_instance_key",d[9]),d[11]=d[10].get("wa_jid"),d[12]=c.toJSON(d[10]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[11]),c.i64.cast([0,556]),d[12],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return d[13]=c.i64.of_float(Date.now()),d[14]=c.i64.random(),d[16]="Finishing execution. Execution time: ",d[17]=c.i64.to_string(c.i64.sub(d[13],d[0])),d[18]=" ms",d[15]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][ThreadPointQueryAndRestoreMessagesWithJID] ",d[15],d[16],d[15],d[17],d[15],d[18]].join("")),c.i64.eq(c.i64.mod_(d[14],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[19]=",",d[20]=c.createArray(),void 0!==void 0?d[21]=(d[20].push(void 0),d[20]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"ThreadPointQueryAndRestoreMessagesWithJID",[d[16],d[19],d[17],d[19],d[18]].join(""),d[20],c.i64.cast([0,4]))):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state","secure_encrypted_backups_epochs"];e.exports=a}),null);
__d("LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure",["LSSynchronousPromise","LSThreadPointQueryAndRestoreMessagesWithJID","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSThreadPointQueryAndRestoreMessagesWithJID"),e.waJid);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSVerifyThreadExistsV2",["LSGetViewerFBID","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return[c.i64.cast([0,7]),c.i64.cast([0,8]),c.i64.cast([0,13]),c.i64.cast([0,10]),c.i64.cast([0,11]),c.i64.cast([0,16])].some(function(b){return c.i64.eq(a[1],b)})?c.resolve((b=[!1,!1,!1],d[0]=b[0],d[1]=b[1],d[2]=b[2],b)):c.sequence([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var f=b.done;b=b.value;return f?(f=[!0,!0,!1],d[3]=f[0],d[4]=f[1],d[5]=f[2],f):(e=b.item,d[12]=e.threadName,d[11]=e.authorityLevel,d[10]=e.threadType,e.folderName==="other"?(f=[!0,!1,!1],d[7]=f[0],d[8]=f[1],d[9]=f[2],f):(c.i64.eq(d[10],c.i64.cast([0,0]))&&c.i64.eq(d[11],c.i64.cast([0,40]))||[c.i64.cast([0,23]),c.i64.cast([0,21]),c.i64.cast([0,18]),c.i64.cast([0,26]),c.i64.cast([0,27])].some(function(a){return c.i64.eq(d[10],a)})&&c.i64.neq(d[11],c.i64.cast([0,20]))&&((d[12]===""?void 0:d[12])===void 0||c.i64.lt(d[11],c.i64.cast([0,80])))||[c.i64.cast([0,151]),c.i64.cast([0,155]),c.i64.cast([0,153])].some(function(a){return c.i64.eq(d[10],a)})||[c.i64.cast([0,24]),c.i64.cast([0,22]),c.i64.cast([0,19]),c.i64.cast([0,25]),c.i64.cast([0,28])].some(function(a){return c.i64.eq(d[10],a)})||[c.i64.cast([0,150]),c.i64.cast([0,154]),c.i64.cast([0,152])].some(function(b){return c.i64.eq(a[1],b)})&&c.i64.lt(d[11],c.i64.cast([0,80]))||[c.i64.cast([0,150]),c.i64.cast([0,154]),c.i64.cast([0,152])].some(function(b){return c.i64.eq(a[1],b)})&&c.i64.eq(a[6],c.i64.cast([0,205]))&&(c.i64.eq(e.syncGroup,void 0)||!1)?(b=[!0,!0,!1],d[13]=b[0],d[14]=b[1],d[15]=b[2],b):(c.i64.ge(d[11],a[4])||c.i64.eq(d[11],c.i64.cast([0,20]))&&([c.i64.cast([0,2]),c.i64.cast([0,202])].some(function(b){return c.i64.eq(a[1],b)})||[c.i64.cast([0,23]),c.i64.cast([0,21]),c.i64.cast([0,18]),c.i64.cast([0,26]),c.i64.cast([0,27])].some(function(b){return c.i64.eq(a[1],b)}))?(f=[!1,!1,!1],d[16]=f[0],d[17]=f[1],d[18]=f[2],f):(e=[!0,!1,!0],d[16]=e[0],d[17]=e[1],d[18]=e[2],e),b=[d[16],d[17],d[18]],d[13]=b[0],d[14]=b[1],d[15]=b[2],b),f=[d[13],d[14],d[15]],d[7]=f[0],d[8]=f[1],d[9]=f[2],f),e=[d[7],d[8],d[9]],d[3]=e[0],d[4]=e[1],d[5]=e[2],e)})},function(a){return a=[d[3],d[4],d[5]],d[0]=a[0],d[1]=a[1],d[2]=a[2],a}])},function(e){return d[0]?(d[3]=new c.Map(),d[3].set("thread_fbid",a[0]),d[3].set("force_upsert",a[5]),d[3].set("use_open_messenger_transport",!1),d[3].set("sync_group",a[6]),d[3].set("metadata_only",a[7]),d[3].set("preview_only",!1),d[4]=d[3].get("thread_fbid"),d[5]=c.toJSON(d[3]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[4]),c.i64.cast([0,209]),d[5],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))):c.resolve()},function(e){return d[1]?c.sequence([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var f=b.done;b=b.value;return f?c.sequence([function(b){return c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(b,e){var a=b.done;b=b.value;return a?d[22]=!1:(e=b.item,d[22]=c.i64.eq(e.contactTypeExact,c.i64.cast([0,16]))?!0:!1)})},function(a){return d[3]=d[22]}]):(e=b.item,d[3]=c.i64.eq(e.threadType,c.i64.cast([0,201]))?!0:!1)})},function(b){return d[5]=c.i64.cast([0,1083495711]),d[6]=c.i64.cast([0,1024]),d[7]=c.i64.cast([0,0]),d[8]=c.i64.cast([0,0]),d[9]=c.i64.cast([0,0]),c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(a,b){var e=a.done;a=a.value;return e?d[10]=!1:(b=a.item,d[10]=c.i64.eq(b.contactReachabilityStatusType,c.i64.cast([0,12]))?!0:!1)})},function(b){return d[12]=c.i64.cast([0,1083495711]),d[13]=c.i64.cast([0,1024]),d[14]=c.i64.cast([0,0]),d[15]=c.i64.cast([0,134217728]),d[16]=c.i64.cast([0,0]),d[17]=c.i64.cast([0,8650752]),d[18]=c.i64.cast([0,1024]),d[19]=c.i64.cast([0,0]),d[20]=c.i64.cast([0,0]),d[21]=c.i64.cast([0,0]),c.forEach(c.filter(c.db.table(9).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.lt(b.authorityLevel,a[4])}),function(a){return a["delete"]()})},function(b){return c.db.table(9).add({threadKey:a[0],mailboxType:c.i64.cast([0,0]),threadType:a[1],syncGroup:a[6],folderName:a[2],lastReadWatermarkTimestampMs:c.i64.cast([0,0]),removeWatermarkTimestampMs:c.i64.cast([-1,4294967295]),ongoingCallState:c.i64.cast([0,0]),parentThreadKey:a[3],authorityLevel:a[4],capabilities:d[3]?d[17]:d[12],capabilities2:d[3]?d[18]:d[13],capabilities3:d[3]?d[19]:d[14],capabilities4:d[3]?d[20]:d[15],capabilities5:d[3]?d[21]:d[16],unsendLimitMs:c.i64.cast([-1,4294967295])})},function(e){return[c.i64.cast([0,1]),c.i64.cast([0,201]),c.i64.cast([0,204])].some(function(b){return c.i64.eq(a[1],b)})?c.sequence([function(b){return c.forEach(c.filter(c.db.table(14).fetch([[[a[0],a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,a[0])&&c.i64.lt(b.authorityLevel,a[4])}),function(a){return a["delete"]()})},function(b){return c.db.table(14).add({threadKey:a[0],contactId:a[0],readWatermarkTimestampMs:c.i64.cast([0,0]),deliveredWatermarkTimestampMs:c.i64.cast([0,0]),authorityLevel:a[4],isModerator:!1})},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[22]=a[0],a})},function(b){return c.forEach(c.filter(c.db.table(14).fetch([[[a[0],d[22]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,d[22])&&c.i64.lt(b.authorityLevel,a[4])}),function(a){return a["delete"]()})},function(b){return c.db.table(14).add({threadKey:a[0],contactId:d[22],readWatermarkTimestampMs:c.i64.cast([0,0]),deliveredWatermarkTimestampMs:c.i64.cast([0,0]),authorityLevel:a[4],isModerator:!1})}]):c.resolve()}]):c.resolve()},function(b){return d[2]?c.forEach(c.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({authorityLevel:a[4]})}):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxVerifyThreadExistsV2StoredProcedure";a.__tables__=["threads","contacts","participants"];e.exports=a}),null);
__d("LSVerifyThreadExists",["LSVerifyThreadExistsV2"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[];return c.sequence([function(d){return c.storedProcedure(b("LSVerifyThreadExistsV2"),a[0],a[1],a[2],a[3],a[4],!1,a[5],!1,!1)},function(a){return c.resolve(d)}])}a.__sproc_name__="LSMailboxVerifyThreadExistsStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSVerifyThreadRowExists",["LSVerifyThreadExists"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[];return c.sequence([function(d){return c.storedProcedure(b("LSVerifyThreadExists"),a[0],a[1]==null?c.i64.cast([0,1]):a[1],"inbox",c.i64.cast([0,0]),c.i64.cast([0,40])==null?c.i64.cast([0,40]):c.i64.cast([0,40]),a[2])},function(a){return c.resolve(d)}])}a.__sproc_name__="LSMailboxVerifyThreadRowExistsStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSVerifyThreadRowExistsStoredProcedure",["LSSynchronousPromise","LSVerifyThreadRowExists","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSVerifyThreadRowExists"),e.threadKey,e.threadType,e.syncGroup);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MAWActThreadMapping",["I64","LSDatabaseSingleton","MAWBridgeOccamadilloVerifyThreadExistsHandler","MAWBridgeParticipantsUpdatedHandler","MAWBridgeSendAndReceive","MAWMiActOnActThreadReadyQueue","MAWThreadMappingQPL","WAJids","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=new Map();function k(){return c("gkx")("14178")}function l(a,b,e,g){var i=g.then(function(b){return(a!=null?Promise.resolve(a):(h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton).then(function(a){c("promiseDone")(a.runInTransaction(function(a){return q(a,o(b),e)},"readwrite",void 0,void 0,f.id+":61"));return b})});b.forEach(function(a){return j.set(a,i)})}function m(a){return Promise.all(Array.from(a).map(function(a){var b=a[0];a=a[1];return a.then(function(a){a=a.find(function(a){return((a=a.value)==null?void 0:a.chatJid)===b});return(a==null?void 0:a.status)==="fulfilled"?{status:"fulfilled",value:babelHelpers.extends({},a.value,{isCreated:!1})}:{reason:a==null?void 0:a.reason,status:"rejected"}})}))}function n(a){var b=new Map(),c=new Map();a.threads.forEach(function(a){var e=j.get(a.chatJid);e!=null?(a.instanceKey!=null&&d("MAWThreadMappingQPL").addPoint("reuse_existing_promise_for_act_mapping",a.instanceKey),c.set(a.chatJid,e)):b.set(a.chatJid,a)});return{cachedPromisesByJid:c,threadsToVerifyByJid:b}}function o(a){var b=new Map();a.forEach(function(a){a.status==="fulfilled"&&b.set(a.value.chatJid,a.value)});return b}async function p(a,b){var e=await d("MAWBridgeSendAndReceive").sendAndReceive("backend","bulkCreateOrUpdateThread",b);c("promiseDone")(((a=a)!=null?a:await (h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton).runInTransaction(function(a){return q(a,o(e),b)},"readwrite",void 0,void 0,f.id+":156"));return e}function a(a,b){if(!k)return p(a,b);var c=n(b),e=c.cachedPromisesByJid;c=c.threadsToVerifyByJid;e=m(e);if(c.size===0)return e;var f=d("MAWBridgeSendAndReceive").sendAndReceive("backend","bulkCreateOrUpdateThread",babelHelpers.extends({},b,{threads:Array.from(c.values())}));l(a,Array.from(c.keys()),b,f);return Promise.all([f,e]).then(function(a){var b=a[0];a=a[1];return b.concat(a)})}function b(a){var b=a.authoritativeThreadKey,e=a.description,f=a.instanceKey,g=a.jid;a=a.optimisticThreadKey;f!=null&&d("MAWMiActOnActThreadReadyQueue").logOnFlushQueue(a,b,f,e);a!=null&&c("promiseDone")(d("MAWMiActOnActThreadReadyQueue").processQueueOnActThreadReady((i||(i=d("I64"))).of_string(a),g,e,"clientThreadKey"));b!=null&&c("promiseDone")(d("MAWMiActOnActThreadReadyQueue").processQueueOnActThreadReady((i||(i=d("I64"))).of_string(b),g,e,"authoritativeThreadKey"))}async function q(a,b,e){var f=[];await Promise.all(e.threads.map(function(c){var e=c.authoritativeThreadKey,g=c.chatJid;c=c.instanceKey;var h=b.get(g);if(h==null)return Promise.resolve();var i=h.clientThreadKey,j=h.folder,k=h.lastActivityTs;h=h.participants;h.forEach(function(a){f.push(babelHelpers.extends({},a,{chatJid:g}))});return d("MAWBridgeOccamadilloVerifyThreadExistsHandler").callFromMainThread(a,{authoritativeThreadKey:e,clientThreadKey:i,description:"bulkCreateThreadWithoutAfterTxn",folder:j,instanceKey:c,isGroup:d("WAJids").switchOnMsgrChatJidType(g,{group:function(a){return!0},user:function(a){return!1}}),jid:g,lastActivityTs:k})}));c("gkx")("13628")&&await d("MAWBridgeParticipantsUpdatedHandler").callFromMainThread(a,f)}g.bulkVerifyThreadExistsInWorker=a;g.executePromisesBlockedOnActThreadMapping=b;g.runPostProcessing=q}),98);
__d("MAWCreateOptimisticThread",["I64","LSAuthorityLevel","LSCreateOfflineThreadingIDStoredProcedure","LSFactory","LSIntEnum","LSMailboxType","LSRtcCallState","MAWJids","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i;async function j(a){a=await c("LSCreateOfflineThreadingIDStoredProcedure")(c("LSFactory")(a),{timestampMs:(h||(h=d("I64"))).of_float(Date.now())});a=a[0];return a}async function k(a,b){var e={authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC),folderName:"inbox",lastReadWatermarkTimestampMs:(h||(h=d("I64"))).of_float(0),mailboxType:i.ofNumber(c("LSMailboxType").MESSENGER),ongoingCallState:i.ofNumber(c("LSRtcCallState").NO_ONGOING_CALL),parentThreadKey:h.zero,threadKey:b,threadType:i.ofNumber(15)};await a.threads.put(e);return b}async function l(a){var b=await j(a);await k(a,b);return b}async function m(a,b){b=d("MAWJids").convertChatJidToIntJid(b);return(a=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.mi_act_mapping_table.index("jid")).getKeyRange(b)))==null?void 0:a.serverThreadKey}async function a(a,b){var c=d("MAWJids").convertChatJidToIntJid(b);b=await m(a,b);if(b!=null)return b;b=await l(a);await a.mi_act_mapping_table.add({clientThreadPk:c,jid:c,serverThreadKey:b});return b}g.createOfflineThreadingId=j;g.createOptimisticThreadWithThreadKey=k;g.createOptimisticThread=l;g.getThreadKey=m;g.getOrCreateOptimisticThreadKey=a}),98);
__d("MessagingFolderTag",[],(function(a,b,c,d,e,f){a=Object.freeze({INBOX:"inbox",OTHER:"other",SPAM:"spam",PENDING:"pending",MONTAGE:"montage",HIDDEN:"hidden",LEGACY:"legacy",DISABLED:"disabled",PAGE_BACKGROUND:"page_background",PAGE_DONE:"page_done",BLOCKED:"blocked",COMMUNITY:"community",RESTRICTED:"restricted",BC_PARTNERSHIP:"bc_partnership",E2EE_CUTOVER:"e2ee_cutover",E2EE_CUTOVER_ARCHIVED:"e2ee_cutover_archived",E2EE_CUTOVER_PENDING:"e2ee_cutover_pending",E2EE_CUTOVER_OTHER:"e2ee_cutover_other",INTEROP:"interop",ARCHIVED:"archived",AI_ACTIVE:"ai_active",SALSA_RESTRICTED:"salsa_restricted",MESSENGER_MARKETING_MESSAGE:"messenger_marketing_message",SECRET_CONVERSATIONS:"secret_conversations",WEBCHAT_PLUGIN:"webchat_plugin",NFB_OVERFLOW:"nfb_overflow",UNKNOWN:""});f["default"]=a}),66);
__d("MAWFolderUtils",["I64","LSCoreClientFolderType","LSIntEnum","MAWFolderTypes","MessagingFolderTag","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){switch(a){case d("MAWFolderTypes").PENDING:return c("MessagingFolderTag").PENDING;case d("MAWFolderTypes").OTHER:return c("MessagingFolderTag").OTHER;case d("MAWFolderTypes").SPAM:return c("MessagingFolderTag").SPAM;case d("MAWFolderTypes").ARCHIVED:return c("MessagingFolderTag").UNKNOWN;default:return c("MessagingFolderTag").INBOX}}function b(a){switch(a){case d("MAWFolderTypes").PENDING:return(h||(h=d("LSIntEnum"))).ofNumber(-101);case d("MAWFolderTypes").OTHER:return(h||(h=d("LSIntEnum"))).ofNumber(-102);case d("MAWFolderTypes").SPAM:return(h||(h=d("LSIntEnum"))).ofNumber(-103);case d("MAWFolderTypes").ARCHIVED:return(h||(h=d("LSIntEnum"))).ofNumber(-110);default:return(h||(h=d("LSIntEnum"))).ofNumber(-100)}}function e(a){switch(a){case d("MAWFolderTypes").ARCHIVED:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSCoreClientFolderType").ARCHIVED);case d("MAWFolderTypes").INBOX:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSCoreClientFolderType").INBOX);case d("MAWFolderTypes").OTHER:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSCoreClientFolderType").SPAM);case d("MAWFolderTypes").PENDING:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSCoreClientFolderType").OTHER);case d("MAWFolderTypes").RESTRICTED:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSCoreClientFolderType").RESTRICTED);case d("MAWFolderTypes").SPAM:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSCoreClientFolderType").PENDING);default:a;throw c("err")("Unhandled folder ID: "+a)}}function f(a){switch(a){case(h||(h=d("LSIntEnum"))).ofNumber(-1):return(h||(h=d("LSIntEnum"))).ofNumber(-101);case(h||(h=d("LSIntEnum"))).ofNumber(-2):return(h||(h=d("LSIntEnum"))).ofNumber(-102);case(h||(h=d("LSIntEnum"))).ofNumber(-3):return(h||(h=d("LSIntEnum"))).ofNumber(-103);case(h||(h=d("LSIntEnum"))).ofNumber(-10):return(h||(h=d("LSIntEnum"))).ofNumber(-110);default:return(h||(h=d("LSIntEnum"))).ofNumber(-100)}}function j(a){switch(a){case"inbox":return d("MAWFolderTypes").FOLDER_ID.INBOX;case"pending":return d("MAWFolderTypes").FOLDER_ID.PENDING;case"spam":return d("MAWFolderTypes").FOLDER_ID.SPAM;case"archived":return d("MAWFolderTypes").FOLDER_ID.ARCHIVED;case"other":return d("MAWFolderTypes").FOLDER_ID.OTHER;case"restricted":return d("MAWFolderTypes").FOLDER_ID.RESTRICTED;default:return null}}function k(a){switch((i||(i=d("I64"))).to_int32(a)){case d("MAWFolderTypes").FOLDER_ID.INBOX:return 0;case d("MAWFolderTypes").FOLDER_ID.PENDING:return-1;case d("MAWFolderTypes").FOLDER_ID.SPAM:return-3;case d("MAWFolderTypes").FOLDER_ID.ARCHIVED:return-10;case d("MAWFolderTypes").FOLDER_ID.OTHER:return-2;default:return null}}g.getMessagingFolderTag=a;g.getClientSystemFolder=b;g.systemFolderToLSCoreClientFolder=e;g.systemFolderToClientSystemFolder=f;g.folderTagToFolderId=j;g.parentThreadKeyToLsSystemFolder=k}),98);
__d("MAWCreateOptimisticMiThreadForActThread",["DateConsts","FBLogger","I64","LSCoreClientFolderType","LSCreateE2EEMetadataThreadStoredProcedure","LSFactory","LSIntEnum","LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure","MAWCreateOptimisticThread","MAWFolderUtils","MAWLoggerDeferred","MAWThreadMappingQPL","MAWThreadMappingState","MAWThreadUpdateMiddlewareGatingUtil","MAWTimeUtils","WATimeUtils","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occam] Creating e2ee metadata optimistic thread.\n  threadKey: ","\n  bumpTimestampMs: ",",\n  description: ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occam] Notifying MI server about thread: int jid ",", state: ",". "]);k=function(){return a};return a}var l=(h||(h=d("I64"))).of_int32(c("LSCoreClientFolderType").INBOX);function m(a){if(a==null){c("FBLogger")("messenger_web").warn("[Occam] no folder ID was supplied to Occamadillo verify thread exists handler");return l}return d("MAWFolderUtils").systemFolderToLSCoreClientFolder(a)}async function a(a,b,e){var f=b.authoritativeThreadKey,g=b.clientThreadKey,i=b.description,j=b.folder,k=b.instanceKey,l=b.intJid,m=b.isGroup;b=b.lastActivityTs;var n=d("MAWThreadUpdateMiddlewareGatingUtil").isNewMiThreadCreationFlowEnabled("exposure_logging_enabled");k!=null&&d("MAWThreadMappingQPL").addAnnotations({bool:{isNewServerThreadCreationFlowEnabled:n}},k);if(n)g!=null&&(await d("MAWThreadMappingState").markActThreadMappingAsCompleted(a,{intJid:l,threadKey:(h||(h=d("I64"))).of_string(g)},k),await d("MAWThreadMappingQPL").measurePerformanceForNullableInstanceKey("thread_point_query_sproc",k,function(){return c("LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure")(c("LSFactory")(a),{waJid:l})}));else{n=g!=null?(h||(h=d("I64"))).of_string(g):await d("MAWCreateOptimisticThread").createOptimisticThread(a);await Promise.all([await o(a,{i64ClientThreadKey:n,intJid:l,mawThread:{authoritativeThreadKey:f,description:i,folder:j,instanceKey:k,isGroup:m,lastActivityTs:b},threadLifecycleState:e}),await d("MAWThreadMappingState").markActThreadMappingAsCompleted(a,{intJid:l,threadKey:n},k)])}}function n(a){a=d("MAWTimeUtils").millisTimeToTimestamp(a);return(h||(h=d("I64"))).equal(a,(h||(h=d("I64"))).zero)?d("MAWTimeUtils").millisTimeToTimestamp(d("WATimeUtils").millisTime()):a}function o(a,b){var e=b.i64ClientThreadKey,f=b.intJid,g=b.mawThread;b=b.threadLifecycleState;c("promiseDone")(d("MAWLoggerDeferred").LOG(k(),f,b==null?void 0:b.type));var l=c("LSFactory")(a),o=n(g.lastActivityTs),p=m(g.folder),q=g.isGroup?(i||(i=d("LSIntEnum"))).ofNumber(16):(i||(i=d("LSIntEnum"))).ofNumber(15);a=(h||(h=d("I64"))).to_string(e);var r=g.description;c("promiseDone")(d("MAWLoggerDeferred").LOG(j(),a,h.to_string(o),r));a=d("WATimeUtils").millisTime();var s=h.to_float(o);Math.abs(s-a)<d("DateConsts").MS_PER_SEC&&c("FBLogger")("messenger_web").warn("[GetOrCreateThread] bumpTimestampMs is too close to now. bumpTimestampMs: %s, lastActivityTs: %s, now: %s, description: %s, threadLifecycleState: %s, mawThread.authoritativeThreadKey is null: %s",s,g.lastActivityTs,a,r,b==null?void 0:b.type,g.authoritativeThreadKey==null?"true":"false");s=g.instanceKey;s!=null&&d("MAWThreadMappingQPL").pendingThreadCreationOnServer.set((h||(h=d("I64"))).to_string(f),s);return d("MAWThreadMappingQPL").measurePerformanceForNullableInstanceKey("create_e2ee_metadata_thread_sproc",s,function(){return c("LSCreateE2EEMetadataThreadStoredProcedure")(l,{bumpTimestampMs:o,createdByLocalDevice:null,folderType:p,offlineThreadKey:e,threadType:q,waJid:f})})}g.maybeUpdateMappingTableAndUpgradeOptimisticActThreadInMI=a;g.upgradeOptimisticActThreadInMI=o}),98);
__d("MAWThreadDefaults",["fbt","I64","LSBitOffset","LSIntEnum","qex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;function k(){if(c("qex")._("327")===!0)return!0;else return c("qex")._("121")===!0}function a(a){if(k())return d("LSBitOffset").set((j||(j=d("LSIntEnum"))).ofNumber(42),a);else return a}function b(a){return d("LSBitOffset").set((j||(j=d("LSIntEnum"))).ofNumber(4),a)}e=d("LSBitOffset").set((j||(j=d("LSIntEnum"))).ofNumber(18),d("LSBitOffset").set(j.ofNumber(56),d("LSBitOffset").set(j.ofNumber(14),d("LSBitOffset").set(j.ofNumber(23),d("LSBitOffset").set(j.ofNumber(8),d("LSBitOffset").set(j.ofNumber(15),d("LSBitOffset").set(j.ofNumber(2),d("LSBitOffset").empty)))))));f=a(b(d("LSBitOffset").set(j.ofNumber(7),d("LSBitOffset").set(j.ofNumber(6),d("LSBitOffset").set(j.ofNumber(9),d("LSBitOffset").set(j.ofNumber(10),d("LSBitOffset").set(j.ofNumber(19),d("LSBitOffset").set(j.ofNumber(35),d("LSBitOffset").set(j.ofNumber(3),d("LSBitOffset").set(j.ofNumber(43),e))))))))));a=d("LSBitOffset").set(j.ofNumber(17),d("LSBitOffset").set(j.ofNumber(60),d("LSBitOffset").set(j.ofNumber(16),d("LSBitOffset").set(j.ofNumber(26),d("LSBitOffset").set(j.ofNumber(28),d("LSBitOffset").clear(j.ofNumber(27),f))))));b=d("LSBitOffset").set((i||(i=d("I64"))).sub(j.ofNumber(103),i.of_string("64")),d("LSBitOffset").set(i.sub(j.ofNumber(85),i.of_string("64")),d("LSBitOffset").set(i.sub(j.ofNumber(109),i.of_string("64")),d("LSBitOffset").set(i.sub(j.ofNumber(74),i.of_string("64")),d("LSBitOffset").set(i.sub(j.ofNumber(65),i.of_string("64")),d("LSBitOffset").set(i.sub(j.ofNumber(64),i.of_string("64")),d("LSBitOffset").set(i.sub(j.ofNumber(106),i.of_string("64")),d("LSBitOffset").empty)))))));e=h._(/*BTDS*/"Messages are secured with end-to-end encryption.").toString();h=d("LSBitOffset").set(i.sub(j.ofNumber(172),i.of_string("64")),d("LSBitOffset").set(i.sub(j.ofNumber(170),i.of_string("64")),d("LSBitOffset").empty));g.defaultThreadCapabilities=f;g.defaultGroupThreadCapabilities=a;g.defaultThreadCapabilities_2=b;g.nullstateDescriptionText1=e;g.defaultThreadCapabilities_3=h;g.defaultThreadCapabilities_4=d("LSBitOffset").empty;g.defaultThreadCapabilities_5=d("LSBitOffset").empty}),226);
__d("MAWBridgeOccamadilloVerifyThreadExistsHandler",["FBLogger","I64","LSAuthorityLevel","LSThreadBitOffset","MAWActThreadMapping","MAWBridgeFireAndForget","MAWCreateOptimisticMiThreadForActThread","MAWJids","MAWLoggerDeferred","MAWMiActGetThreadLifecycleState","MAWMiActThreadLifecycleState","MAWThreadDefaults","MAWThreadMappingQPL","MAWThreadMappingState","MAWTimeUtils","WATimeUtils","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occam] Thread loading complete: jid ",", threadKey ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occam] New authoritative thread: jid ",", threadKey: ","), state: ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occam] Authoritative thread not found for clientThreadKey: ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occam] Thread is missing in verify thread exists"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["Last activity ts = 0 from MI for thread: ",", using local state ts: ",""]);m=function(){return a};return a}function n(a,b,c){a=a;(h||(h=d("I64"))).equal(a,(h||(h=d("I64"))).zero)&&(void d("MAWLoggerDeferred").WARN(m(),(h||(h=d("I64"))).to_string(c),h.to_string(b)),a=b);return a}var o=[105,17,25,24];function p(a,b){var c=o.filter(function(b){return d("LSThreadBitOffset").has(b,a)}),e=61,f=267,g=d("LSThreadBitOffset").has(e,a),h=d("LSThreadBitOffset").has(f,a);g&&c.push(e);h&&c.push(f);return d("LSThreadBitOffset").set(c,b?d("MAWThreadDefaults").defaultGroupThreadCapabilities:d("MAWThreadDefaults").defaultThreadCapabilities,d("MAWThreadDefaults").defaultThreadCapabilities_2,d("MAWThreadDefaults").defaultThreadCapabilities_3,d("MAWThreadDefaults").defaultThreadCapabilities_4,d("MAWThreadDefaults").defaultThreadCapabilities_5)}async function q(a,b,c){var e=await a.threads.get(b);if(e==null){void d("MAWLoggerDeferred").ERROR(l());return Promise.resolve()}var f=c.clientThreadKey!=null?(h||(h=d("I64"))).of_string(c.clientThreadKey):e.clientThreadKey,g=n(e.lastActivityTimestampMs,d("MAWTimeUtils").millisTimeToTimestamp(c.lastActivityTs),b);c=p(e,c.isGroup);return a.threads.upsert([b],babelHelpers.extends({},e,{capabilities:c[0],capabilities2:c[1],capabilities3:c[2],capabilities4:c[3],capabilities5:c[4],clientThreadKey:f,lastActivityTimestampMs:g}))}async function r(a,b,c,e){await Promise.all([d("MAWThreadMappingState").markActThreadMappingAsCompleted(a,{intJid:c,threadKey:b},e.instanceKey),t(a,b,e)])}async function s(a,b,c){(h||(h=d("I64"))).equal(b,c)||await a.threads.delete(c)}async function t(a,b,c){var e=c.clientThreadKey,f=c.instanceKey,g=c.isGroup,i=c.lastActivityTs;await d("MAWThreadMappingQPL").measurePerformanceForNullableInstanceKey("handle_existing_thread",f,function(){return Promise.all([q(a,b,{clientThreadKey:e,isGroup:g,lastActivityTs:i}),e!=null&&s(a,b,(h||(h=d("I64"))).of_string(e))])})}async function u(a,b,e){var f=await a.threads.get(b);f!=null&&(h||(h=d("I64"))).to_int32(f.authorityLevel)===c("LSAuthorityLevel").AUTHORITATIVE?await t(a,b,e):e.instanceKey!=null&&d("MAWThreadMappingQPL").handleExistingThreadFail(e.instanceKey,f);f==null&&void d("MAWLoggerDeferred").LOG(k(),e.clientThreadKey)}async function v(a,b){var e=b.authoritativeThreadKey,f=b.clientThreadKey,g=b.description,k=b.folder,l=b.instanceKey,m=b.isGroup,n=b.jid;b=b.lastActivityTs;var o=d("MAWJids").convertChatJidToIntJid(n),p=await d("MAWMiActGetThreadLifecycleState").getThreadLifecycleStateByJidOrThreadKey(a,o,e,"MAWBridgeOccamadilloVerifyThreadExistsHandler");l!=null&&d("MAWThreadMappingQPL").addAnnotations({string:{threadStateInOccamVTE:p.type.toString()}},l);switch(p.type){case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MAPPING_ROW:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_WITH_ACT:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD_WITH_ACT:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.SERVER_PARTIAL_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.THREAD_KEY_ONLY:return d("MAWCreateOptimisticMiThreadForActThread").maybeUpdateMappingTableAndUpgradeOptimisticActThreadInMI(a,{authoritativeThreadKey:e,clientThreadKey:f,description:g,folder:k,instanceKey:l,intJid:o,isGroup:m,lastActivityTs:b},p).then(function(){return{previousState:p.type}});case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_ONLY:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_MISSING_MAPPING_ROW:e=(h||(h=d("I64"))).to_string(p.serverThreadKey);void d("MAWLoggerDeferred").LOG(j(),n,e,p.type);return r(a,p.serverThreadKey,o,{clientThreadKey:f,instanceKey:l,isGroup:m,lastActivityTs:b}).then(function(){return{previousState:p.type}});case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.MI_AND_ACT_THREAD_COMPLETE:k=(h||(h=d("I64"))).to_string(p.serverThreadKey);void d("MAWLoggerDeferred").LOG(i(),n,k);return u(a,p.serverThreadKey,{clientThreadKey:f,instanceKey:l,isGroup:m,lastActivityTs:b}).then(function(){return{previousState:p.type}});case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_NO_ACT:throw c("FBLogger")("messenger_web").mustfixThrow("[Occam] Unimplemented VerifyThreadExists state: %s for JID: %s, from %s",p.type,n,g);default:p.type;throw c("FBLogger")("messenger_web").mustfixThrow("[Occam] Unhandled VerifyThreadExists state: %s for JID: %s, from %s",p.type,n,g)}}async function w(a,b,c,e){await d("MAWThreadMappingQPL").measurePerformanceForNullableInstanceKey("insert_ephemeral_cache",e,async function(){var e=await a.threads.get(b);if(e!=null){var f;e={ephemeralExpirationInSec:(h||(h=d("I64"))).to_int32((f=e.disappearingSettingTtl)!=null?f:(h||(h=d("I64"))).zero),ephemeralLastUpdatedOrSetTimestamp:d("WATimeUtils").castMilliSecondsToUnixTime(h.to_float((f=e.disappearingSettingUpdatedTs)!=null?f:(h||(h=d("I64"))).zero))};d("MAWBridgeFireAndForget").fireAndForget("backend","setEphemeralSettingCache",{jid:c,settings:e})}})}async function a(a,b){var c=b.authoritativeThreadKey,d=b.clientThreadKey,e=b.description,f=b.folder,g=b.instanceKey,h=b.isGroup,i=b.jid;b=b.lastActivityTs;await x(a,{authoritativeThreadKey:c,clientThreadKey:d,description:(a=e)!=null?a:"unknown",folder:f,instanceKey:g,isGroup:h,jid:i,lastActivityTs:b})}async function b(a,b){var c=b.authoritativeThreadKey,d=b.clientThreadKey,e=b.description,f=b.folder,g=b.instanceKey,h=b.isGroup,i=b.jid;b=b.lastActivityTs;await x(a,{authoritativeThreadKey:c,clientThreadKey:d,description:e,folder:f,instanceKey:g,isGroup:h,jid:i,lastActivityTs:b})}async function x(a,b){var e=b.authoritativeThreadKey,f=b.clientThreadKey,g=b.description,i=b.instanceKey,j=b.jid;i!=null&&d("MAWThreadMappingQPL").addPoint("occam_verify_thread_exists_start",i);var k=c("gkx")("11539");k&&d("MAWActThreadMapping").executePromisesBlockedOnActThreadMapping({authoritativeThreadKey:e,description:g,instanceKey:i,jid:j,optimisticThreadKey:f});var l=await v(a,b);l=l.previousState;k||d("MAWActThreadMapping").executePromisesBlockedOnActThreadMapping({authoritativeThreadKey:e,description:g,instanceKey:i,jid:j,optimisticThreadKey:f});g=(k=e)!=null?k:f;e=g!=null?(h||(h=d("I64"))).of_string(g):null;e!=null&&l!==d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.MI_AND_ACT_THREAD_COMPLETE&&await w(a,e,j,i);if(i!=null){d("MAWThreadMappingQPL").addPoint("occam_verify_thread_exists_end",i);k=d("MAWJids").convertChatJidToIntJid(b.jid);d("MAWThreadMappingQPL").pendingThreadCreationOnServer.has((h||(h=d("I64"))).to_string(k))||await d("MAWThreadMappingQPL").end({instanceKey:i,intJid:k,tables:a,threadKey:e})}}g.genUpdatesForAuthoritativeThread=t;g.insertEphemeralCache=w;g.call=a;g.callFromMainThread=b}),98);
__d("ReQLSubscribe",["ErrorGuard","ReQL","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){a=a.take(1);var e=(h||(h=c("ErrorGuard"))).guard(b),f=!1,g=null,i=a.subscribe(function(a,b){if(f)return;switch(b.operation){case"delete":(g==null||g.current!==void 0)&&(g={current:void 0},e(g.current));return;case"add":case"put":((a=g)==null?void 0:a.current)!==b.value&&(g={current:b.value},e(g.current))}});c("promiseDone")(d("ReQL").firstAsync(a),function(a){!f&&g==null&&(g={current:a},e(a))});return function(){f||(f=!0,i==null?void 0:i())}}g.subscribeToFirst=a}),98);
__d("MAWThreadMappingUtils",["FBLogger","LSMessagingThreadTypeUtil","MAWJids","MAWMiActOnActThreadReadyInstrumentation","ReQL","ReQLSubscribe","err","gkx","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=3e4;async function i(a,b){a=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(b));if(a==null){c("FBLogger")("messenger_web").mustfix("[onActThreadReady] Thread is not ready to be used.");return null}return d("LSMessagingThreadTypeUtil").isGroup(a.threadType)}function j(a,b){return Promise.all([i(a,b),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.mi_act_mapping_table).getKeyRange(b))]).then(function(a){var b=a[0];a=a[1];if(a==null||b==null){c("FBLogger")("messenger_web").mustfix("[onActThreadReady] Thread is not ready to be used.");return null}return d("MAWJids").convertIntJidToChatJid(a.jid,b)})}function k(a,b){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.mi_act_mapping_table).getKeyRange(b)).then(function(a){if(a==null){c("FBLogger")("messenger_web").mustfix("[onActThreadReady] Thread is not ready to be used.");return null}return a.jid})}async function a(a,b,e){var f,g=null,k=(f=d("MAWMiActOnActThreadReadyInstrumentation")).getOnActThreadReadyInstanceKey(e);f.startQPL(k,e,b,"getChatJidOnceInThreadMappingTable");f.addPointQPL(k,"get_existing_int_jid_from_mapping_table_start");e=await j(a.tables,b);f.addPointQPL(k,"get_existing_int_jid_from_mapping_table_end");if(e!=null){d("MAWMiActOnActThreadReadyInstrumentation").endSuccessQPL(k);return Promise.resolve(e)}var l=await i(a.tables,b);if(l==null){d("MAWMiActOnActThreadReadyInstrumentation").endFailureQPL(k,"thread_not_ready_to_be_used");throw c("err")("Thread is not ready to be used.")}d("MAWMiActOnActThreadReadyInstrumentation").addPointQPL(k,"subscribe_to_mapping_table_start");return new Promise(function(e,f){var i=d("ReQL").fromTableDescending(a.tables.mi_act_mapping_table).getKeyRange(b),j=d("ReQLSubscribe").subscribeToFirst(i,function(a){a!=null&&(g!=null&&window.clearTimeout(g),j(),d("MAWMiActOnActThreadReadyInstrumentation").addPointQPL(k,"subscribe_to_mapping_table_end"),d("MAWMiActOnActThreadReadyInstrumentation").endSuccessQPL(k),e(d("MAWJids").convertIntJidToChatJid(a.jid,l)))});g=c("setTimeout")(function(){j(),d("MAWMiActOnActThreadReadyInstrumentation").endFailureQPL(k,"subscribe_to_mapping_table_timeout"),f(c("err")("Timeout waiting for int jid to be populated in mapping table."))},h)})}async function b(a,b,e){var f,g=null,i=(f=d("MAWMiActOnActThreadReadyInstrumentation")).getOnActThreadReadyInstanceKey(e);f.startQPL(i,e,b,"getIntJidOnceInThreadMappingTable");f.addPointQPL(i,"get_existing_int_jid_from_mapping_table_start");e=await k(a.tables,b);f.addPointQPL(i,"get_existing_int_jid_from_mapping_table_end");if(e!=null){d("MAWMiActOnActThreadReadyInstrumentation").endSuccessQPL(i);return Promise.resolve(e)}d("MAWMiActOnActThreadReadyInstrumentation").addPointQPL(i,"subscribe_to_mapping_table_start");return new Promise(function(e,f){var j=d("ReQL").fromTableDescending(a.tables.mi_act_mapping_table).getKeyRange(b),k=d("ReQLSubscribe").subscribeToFirst(j,function(a){a!=null&&(g!=null&&window.clearTimeout(g),k(),d("MAWMiActOnActThreadReadyInstrumentation").addPointQPL(i,"subscribe_to_mapping_table_end"),d("MAWMiActOnActThreadReadyInstrumentation").endSuccessQPL(i),e(a.jid))});g=c("setTimeout")(function(){k(),d("MAWMiActOnActThreadReadyInstrumentation").endFailureQPL(i,"subscribe_to_mapping_table_timeout"),f(c("err")("Timeout waiting for int jid to be populated in mapping table."))},h)})}function e(){return c("gkx")("12587")}g.isThreadGroup=i;g.getChatJidFromMappingTable=j;g.getIntJidFromMappingTable=k;g.getChatJidOnceInThreadMappingTable=a;g.getIntJidOnceInThreadMappingTable=b;g.isDuplicateThreadCreationFixEnabled=e}),98);
__d("WABridgedAPI",["IWAAPI"],(function(a,b,c,d,e,f,g){"use strict";b={queryGroups:(a=d("IWAAPI")).makeBridgedApi("queryGroups"),getDevices:a.makeBridgedApi("getDevices"),removeCurrentDevice:a.makeBridgedApi("removeCurrentDevice"),removeDevice:a.makeBridgedApi("removeDevice"),getCurrentUserDeviceList:a.makeBridgedApi("getCurrentUserDeviceList")};c=b;g["default"]=c}),98);
__d("MAWCreateOneToOneThread",["I64","LSAuthorityLevel","LSFactory","LSIntEnum","MAWActThreadMapping","MAWBridgeOccamadilloVerifyThreadExistsHandler","MAWBridgeSendAndReceive","MAWJids","MAWMiActMappingTableAPI","MAWThreadMappingQPL","MAWThreadMappingState","MAWThreadMappingUtils","MAWThreadUpdateMiddlewareGatingUtil","MAWVerifyThreadExistsUtils","QPLUserFlow","ReQL","WABridgedAPI","WATimeUtils","gkx","qex","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b,c){if(a!=null)return a;a=b!=null?(h||(h=d("I64"))).of_string(b):void 0;b=d("MAWThreadMappingQPL").getInstanceKeyForThreadKey((b=a)!=null?b:(h||(h=d("I64"))).zero);d("MAWThreadMappingQPL").start({instanceKey:b,threadKey:a,trigger:"MAWCreateOneToOneThread_"+c});return b}async function a(a,b,e,g,m,q){var r=d("MAWJids").convertIntJidToChatJid(b,!1),s=await k(a,b,r,e,g,q);if(s!=null)return s;s=await l(a,r);if(s!=null)return s;var t=j(q,e,g),u=(h||(h=d("I64"))).to_string(b);s=function(){return a.runInTransaction(async function(e){var f=await d("MAWVerifyThreadExistsUtils").runVerifyThreadExistsSproc(c("LSFactory")(e),{authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC),threadType:i.ofNumber(15)},"MAWCreateOneToOneThread");f=f[0];p(a,r)&&(d("MAWThreadMappingQPL").addPoint("insert_placeholder_mapping_row",t),await d("MAWThreadMappingState").markActThreadMappingAsInProgress(e,f,b));return(h||(h=d("I64"))).to_string(f)},"readwrite",void 0,void 0,f.id+":123")};q=e!=null?Promise.resolve(e):d("MAWThreadMappingQPL").measurePerformance("running_verify_thread_exists",t,s);e=function(b){m!=null&&c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"verify-e2ee-metadata-thread-exists-end",{instanceKey:m});b={contactFbid:u,description:g,instanceKey:t,s2sInstanceKey:m,threadKey:b};b=c("gkx")("14153")?o(a,g,b):n(a,b);return Promise.all([b,c("WABridgedAPI").getDevices({ignoreDhash:!1,reason:"creating-1-1-thread: "+g,users:new Set().add(d("MAWJids").toUserJid(u))})])};return q.then(e).then(function(a){a=a[0];return a})}async function k(a,b,e,g,i,j){if(!c("gkx")("11539"))return;b=await Promise.all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.mi_act_mapping_table.index("jid")).getKeyRange(b)),g!=null?d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange((h||(h=d("I64"))).of_string(g))):Promise.resolve(null)]);var k=b[0],l=b[1];b=d("MAWThreadMappingState").getMappingStateForDbRows(l,k);b.actState===d("MAWThreadMappingState").ActState.READY&&d("MAWActThreadMapping").executePromisesBlockedOnActThreadMapping({authoritativeThreadKey:null,description:"MAWCreateOneToOneThread_"+i,instanceKey:j,jid:e,optimisticThreadKey:g});if(d("MAWThreadMappingState").isReady(b)&&l!=null){await a.runInTransaction(function(a){return d("MAWBridgeOccamadilloVerifyThreadExistsHandler").genUpdatesForAuthoritativeThread(a,l.threadKey,{clientThreadKey:l.clientThreadKey!=null?(h||(h=d("I64"))).to_string(l.clientThreadKey):null,instanceKey:j,isGroup:!1,lastActivityTs:d("WATimeUtils").castToMillisTime((h||(h=d("I64"))).to_float(l.lastActivityTimestampMs))})},"readwrite",void 0,void 0,f.id+":235");return{created:!1,jid:e}}}async function l(a,b){if(!d("MAWThreadMappingUtils").isDuplicateThreadCreationFixEnabled()||!d("MAWThreadUpdateMiddlewareGatingUtil").isNewMiThreadCreationFlowEnabled("exposure_logging_enabled"))return;a=await d("MAWThreadMappingState").genMappingStateFromJid(a.tables,b);if(a.miState!==d("MAWThreadMappingState").MiState.MISSING)return{created:!1,jid:b}}function m(a,b,c){var e=c.created,f=c.jid,g=d("MAWJids").convertChatJidToIntJid(f);return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.mi_act_mapping_table.index("jid")).getKeyRange(g)).then(function(c){return c!=null?Promise.resolve({created:e,jid:f}):a.mi_act_mapping_table.put({clientThreadPk:g,jid:g,serverThreadKey:(h||(h=d("I64"))).of_string(b)}).then(function(){return{created:e,jid:f}})})}function n(a,b){return d("MAWThreadMappingQPL").measurePerformance("maw_create_thread",b.instanceKey,function(){return d("MAWBridgeSendAndReceive").sendAndReceive("backend","createThread",b)}).then(function(c){var d=c.created,e=c.jid;return a.runInTransaction(function(a){return m(a,b.threadKey,{created:d,jid:e}).then(function(){return{created:d,jid:e}})},"readwrite",void 0,void 0,f.id+":325")})}function o(a,b,c){var e=c.instanceKey,g=babelHelpers.objectWithoutPropertiesLoose(c,["instanceKey"]);return d("MAWThreadMappingQPL").measurePerformance("maw_create_thread",e,function(){return d("MAWBridgeSendAndReceive").sendAndReceive("backend","createOrUpdateThread",g)}).then(function(c){var h=c.clientThreadKey,i=c.created,j=c.folder,k=c.jid,l=c.lastActivityTs;return a.runInTransaction(function(a){return d("MAWBridgeOccamadilloVerifyThreadExistsHandler").callFromMainThread(a,{authoritativeThreadKey:null,clientThreadKey:h,description:b,folder:j,instanceKey:e,isGroup:!1,jid:k,lastActivityTs:l}).then(function(){return m(a,g.threadKey,{created:i,jid:k}).then(function(){return{created:i,jid:k}})})},"readwrite",void 0,void 0,f.id+":353")})}async function p(a,b){var e;e=(e=c("qex")._("3438"))!=null?e:!1;if(e)return!0;e=await d("MAWMiActMappingTableAPI").getMappingRowForChatJid(a.tables,b);return e==null&&d("MAWThreadUpdateMiddlewareGatingUtil").isNewMiThreadCreationFlowEnabled("exposure_logging_enabled")}g.call=a}),98);
__d("MAWChatOpenTabForUser",["I64","LSDatabaseSingleton","LSIntEnum","MAWCreateOneToOneThread","MAWMiActGetThreadLifecycleState","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWMiActThreadLifecycleState","MWChatInteraction","MWChatStateActions","MWChatStateV2Types","cr:11022","dispatchOpenChatTabTraceLogging","gkx","isOfflineThreadingId","justknobx","qex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a){if(!c("gkx")("9459"))return{type:"continue"};if(a.type===d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.MI_AND_ACT_THREAD_COMPLETE||a.type===d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_ONLY){var b=a.serverThreadKey;if(c("isOfflineThreadingId")(b))return{existingThreadKey:b,reason:"otid",type:"continue"};return(h||(h=d("I64"))).le(b,(h||(h=d("I64"))).zero)?{reason:"negative",type:"continue"}:{existingThreadKey:b,type:"skipped"}}return{existingThreadKey:a.serverThreadKey,type:"continue"}}async function l(a,b,e){var g=await (i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton;e==null?void 0:e.addMarkerPoint("create_one_to_one_secure_thread_start","AppTiming");var j=await d("MAWMiActGetThreadLifecycleState").getThreadLifecycleStateByJid(g.tables,(h||(h=d("I64"))).of_string(a),b),l=j.type;l!=null&&(e==null?void 0:e.addAnnotation("mi_act_thread_state_type_before",l));l=await k(j);if(l.type==="skipped"){e==null?void 0:e.addMarkerPoint("create_one_to_one_secure_thread_end","AppTiming");return{dispatchEntrypoint:"MAWChatOpenTabForUser_skipped_create_thread",threadKey:l.existingThreadKey}}l.reason!=null&&(e==null?void 0:e.addAnnotation("invalid_server_thread_key_in_mawchatopentabforuser_check",l.reason));j=l.existingThreadKey;l=c("qex")._("3438");var m=await d("MAWCreateOneToOneThread").call(g,h.of_string(a),l===!0&&j!=null?(h||(h=d("I64"))).to_string(j):void 0,"MAWChatOpenTabForUser: "+b);l=await d("MAWMiActGetThreadLifecycleState").getThreadLifecycleStateByJid(g.tables,h.of_string(a),b);j=l.type;j!=null&&(e==null?void 0:e.addAnnotation("mi_act_thread_state_type_after",j));e==null?void 0:e.addMarkerPoint("create_one_to_one_secure_thread_end","AppTiming");a=await g.runInTransaction(function(a){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJid__DO_NOT_USE(a,m.jid,"MAWChatOpenTabForUser",function(a,b){return Promise.resolve(b)})},"readonly",void 0,void 0,f.id+":164");return{clientThreadKey:a,threadKey:a}}async function a(a,e,f){if(b("cr:11022")==null)return;a=await l(a,e,null);e=a.threadKey;a=await (i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton;return b("cr:11022").preloadSecureMessagesByThreadKey(a,e,f,c("justknobx")._("2038"))}function e(a,b,e,f,g){var i=function(a){var f=a.clientThreadKey,i=a.dispatchEntrypoint;a=a.threadKey;d("MWChatInteraction").set((h||(h=d("I64"))).to_string(a),g.getTraceId());f={clientThreadKey:f,threadKey:a,threadType:(j||(j=d("LSIntEnum"))).ofNumber(15)};c("dispatchOpenChatTabTraceLogging")(g,f,i);e(d("MWChatStateActions").openTab(Date.now(),{shouldFocus:!b},{threadKeyDescriptor:f,type:d("MWChatStateV2Types").MWChatStateTabType.ChatTab}))};void l(a,f,g).then(function(a){var b=a.clientThreadKey,c=a.dispatchEntrypoint;a=a.threadKey;i({clientThreadKey:b,dispatchEntrypoint:(b=c)!=null?b:"MAWChatOpenTabForUser",threadKey:a})})}g.getThreadKeyByContactId=l;g.preloadSecureThreadForUser=a;g.openChatTab=e}),98);
__d("MAWVerifyThreadCutover_ContactCapabilities2Query_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9592917614129945"}),null);
__d("MAWVerifyThreadCutover_ContactCapabilities2Query.graphql",["MAWVerifyThreadCutover_ContactCapabilities2Query_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"id"}],c=[{kind:"Variable",name:"id",variableName:"id"}],d={alias:null,args:null,kind:"ScalarField",name:"message_capabilities2_str",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MAWVerifyThreadCutover_ContactCapabilities2Query",selections:[{alias:null,args:c,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[d],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MAWVerifyThreadCutover_ContactCapabilities2Query",selections:[{alias:null,args:c,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("MAWVerifyThreadCutover_ContactCapabilities2Query_facebookRelayOperation"),metadata:{},name:"MAWVerifyThreadCutover_ContactCapabilities2Query",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("getMAWCanThreadBeCutoverOnDemandV2Deferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";a=c("requireDeferred")("getMAWCanThreadBeCutoverOnDemandV2").__setRef("getMAWCanThreadBeCutoverOnDemandV2Deferred");b=a;g["default"]=b}),98);
__d("MAWVerifyThreadCutover",["CometRelay","FBLogger","I64","LSAuthorityLevel","LSContactBitOffset","LSCutoverMappingQueryFromOpenThreadIdStoredProcedure","LSFactory","LSPlatformWaitForTaskCompletion","LSVerifyContactExistsWithID","MAWDefaultE2eeOneToOneEligibility","MAWVerifyThreadCutover_ContactCapabilities2Query.graphql","ReQL","ReQLSubscribe","ensureContactsExistAndUpdatedSync","err","getMAWCanThreadBeCutoverOnDemandV2Deferred","gkx","isThreadLevelCutoverEnabled","justknobx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("justknobx")._("2730"),k=c("justknobx")._("2731"),l=h!==void 0?h:h=b("MAWVerifyThreadCutover_ContactCapabilities2Query.graphql");async function a(a,b){if(c("isThreadLevelCutoverEnabled")()){a=await a;a=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.mi_act_mapping_table.index("jid")).getKeyRange(b));return a}return Promise.resolve()}async function m(a,b){if(c("isThreadLevelCutoverEnabled")()){var e;a=await a;e=await Promise.all([(e=d("ReQL")).firstAsync(e.fromTableAscending(a.tables.cutover_threads).getKeyRange(b)),e.firstAsync(e.fromTableAscending(a.tables.contacts).getKeyRange(b))]);a=e[0];b=e[1];e=b!=null&&d("LSContactBitOffset").has(76,b);return a!=null||e}return!1}async function n(a,b){var e=await a;a=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.tables.mi_act_mapping_table).getKeyRange(b));if(a!=null)return;var f=null;a=new Promise(function(a,g){var h=d("ReQLSubscribe").subscribeToFirst(d("ReQL").fromTableAscending(e.tables.mi_act_mapping_table.index("jid")).getKeyRange(b),function(b){b!=null&&(f!=null&&window.clearTimeout(f),h(),a())});f=window.setTimeout(function(){h(),g(c("err")("Timeout"))},k);c("promiseDone")(c("LSPlatformWaitForTaskCompletion")(e,function(a){return c("LSCutoverMappingQueryFromOpenThreadIdStoredProcedure")(c("LSFactory")(a),{openThreadId:b})},"readwrite","cutover_mapping_query_"+(i||(i=d("I64"))).to_string(b)),function(){f!=null&&window.clearTimeout(f),h(),a()})});try{await a}catch(a){c("FBLogger")("messenger_web").warn("Issue waiting for ACT thread to be ready",a)}await a}async function o(a,b,e){var f=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(e));if(f!=null&&(i||(i=d("I64"))).ge(f.authorityLevel,(i||(i=d("I64"))).of_int32(c("LSAuthorityLevel").AUTHORITATIVE)))return f;c("promiseDone")(c("ensureContactsExistAndUpdatedSync")(a,b,e));b=new Promise(function(b,f){var g=null,h=d("ReQLSubscribe").subscribeToFirst(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(e),function(a){a!=null&&(i||(i=d("I64"))).ge(a.authorityLevel,(i||(i=d("I64"))).of_int32(c("LSAuthorityLevel").AUTHORITATIVE))&&(c("FBLogger")("messenger_web").info("Contact retrieval was successful"),g!=null&&window.clearTimeout(g),h(),b(a))});g=window.setTimeout(function(){h(),f(c("err")("Timeout"))},j)});try{f=await b}catch(f){b=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(e));c("FBLogger")("messenger_web").warn("Error retrieving and navigating to the most recent thread: contact exists in LSDB is %s and AuthorityLevel is %s",b!=null,(b==null?void 0:b.authorityLevel)!=null?(i||(i=d("I64"))).to_string(b==null?void 0:b.authorityLevel):"null",f)}return f}async function p(a,b,e,g){a=await a;g==null?void 0:g("update_contact_capabilities2_db_ready");b=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(b));g==null?void 0:g("update_contact_capabilities2_contact_ready");var h=d("LSContactBitOffset").contactCapabilitiesHas(83,(i||(i=d("I64"))).of_string(e)),j=d("LSContactBitOffset").contactCapabilitiesHas(76,i.of_string(e));if(b==null){c("FBLogger")("messenger_web").warn("contact is null in maybeUpdateContactCapabilities2IfOutOfSync");(h||j)&&c("FBLogger")("messenger_web").warn("contact is null and they have hasServerCutoverCapabilities as %s and hasServerDefaultE2eeCapabilities as %s from server",j,h);return null}var k=d("LSContactBitOffset").contactCapabilitiesHas(83,b.capabilities2),l=d("LSContactBitOffset").contactCapabilitiesHas(76,b.capabilities2);if(h&&!k&&!l||j&&!l){j=h?"default_e2ee":"cutover";c("FBLogger")("messenger_web").info("sync LS contactCapabilities2 with server value where contactAuthoritativeLevel is %s and serverContactCapabilities2 is %s",(i||(i=d("I64"))).to_string(b.authorityLevel),j);var m=babelHelpers.extends({},b,{capabilities2:i.of_string(e)});g==null?void 0:g("fetch_contact_from_lsdb_start");await a.runInTransaction(async function(a){await a.contacts.put(m)},"readwrite",void 0,void 0,f.id+":297");return m}else c("gkx")("9396")&&c("FBLogger")("messenger_web").info("LS contactCapabilities2 isDefaultE2ee: %s and isCutover: %s is synced with server values where contactAuthoritativeLevel is %s",k,l,(i||(i=d("I64"))).to_string(b.authorityLevel));return b}async function q(a,b,e,g,h){var j=null,k=null;await d("LSVerifyContactExistsWithID").runInTransaction(a,e,!1,void 0,f.id+":324");g==null?void 0:g("verify_contact_exists_with_id_complete");if(h!=null){k=await h[0];j=await h[1];g==null?void 0:g("fetch_contact_completed_from_preload");if(k!=null&&(i||(i=d("I64"))).ge(k.authorityLevel,(i||(i=d("I64"))).of_int32(c("LSAuthorityLevel").AUTHORITATIVE))){g==null?void 0:g("contact_not_available");return k}}else{k=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(e));g==null?void 0:g("fetch_contact_from_db_complete");if(k!=null&&(i||(i=d("I64"))).ge(k.authorityLevel,(i||(i=d("I64"))).of_int32(c("LSAuthorityLevel").AUTHORITATIVE))){g==null?void 0:g("contact_not_available");return k}h=await d("CometRelay").fetchQuery(b,l,{id:(i||(i=d("I64"))).to_string(e)},{fetchPolicy:"store-or-network"}).toPromise();g==null?void 0:g("fetch_contact_capability_from_graphql_complete");j=h==null?void 0:(b=h.user)==null?void 0:b.message_capabilities2_str}if(j==null){c("gkx")("9396")&&c("FBLogger")("messenger_web").warn("messageCapabilities2Str is null in makeSureContactCapabilitiesIsLoaded");g==null?void 0:g("contact_capability_not_available");return k}h=await p(Promise.resolve(a),e,j,g);g==null?void 0:g("update_contact_complete");return h}async function e(a,b,e,f,g){a=await a;var h=null;c("gkx")("8618")?(h=await q(a,b,e),h==null&&c("gkx")("9396")&&c("FBLogger")("messenger_web").warn("contact is null in makeSureContactCapabilitiesIsLoaded")):(h=await o(a,b,e),h==null&&c("gkx")("9396")&&c("FBLogger")("messenger_web").warn("contact is null in verifyContactCutoverOrOndemandCutover"));if(g!=null){b=await p(Promise.resolve(a),e,g);b!=null&&(h=b)}g=g!=null?(i||(i=d("I64"))).of_string(g):(b=h)==null?void 0:b.capabilities2;b=g!=null&&d("LSContactBitOffset").contactCapabilitiesHas(76,g);g=b||await m(Promise.resolve(a),e);if(g)return f===!0?"on_demand_cutover":"cutover";return d("MAWDefaultE2eeOneToOneEligibility").isContactDefaultE2eeOneToOneEligible({contactId:e,maybeContact:h})?"default_e2ee":null}async function r(a,b,e){a=await a;var f=null;c("gkx")("8618")?(f=await q(a,b,e),f==null&&c("gkx")("9396")&&c("FBLogger")("messenger_web").warn("contact is null in makeSureContactCapabilitiesIsLoaded")):(f=await o(a,b,e),f==null&&c("gkx")("9396")&&c("FBLogger")("messenger_web").warn("contact is null in verifyContactCutoverOrOndemandCutover"));b=await m(Promise.resolve(a),e);if(b){await n(Promise.resolve(a),e);if(c("gkx")("7867")){b=await c("getMAWCanThreadBeCutoverOnDemandV2Deferred").load();b=await b({isTargetE2E:!1,targetID:(i||(i=d("I64"))).to_string(e),targetType:"USER"},a);if(b)return"on_demand_cutover"}b=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.mi_act_mapping_table).getKeyRange(e));return b==null?"default_e2ee":"cutover"}return d("MAWDefaultE2eeOneToOneEligibility").isContactDefaultE2eeOneToOneEligible({contactId:e,maybeContact:f})?"default_e2ee":null}function s(a,b){return b==null?Promise.resolve(!1):m(a,(i||(i=d("I64"))).of_string(b))}g.getCutoverThread=a;g.verifyThreadCutover=m;g.ensureContactCapabilities2IsLoaded=q;g.verifyContactCutoverOrOndemandCutoverOrDefaultE2EE=e;g.verifyContactCutoverOrDefaultE2EEWhenReady=r;g.verifyThreadCutoverWithStringInput=s}),98);
__d("ensureContactsExistAndUpdatedSync",["LSFactory","LSPlatformWaitForTaskCompletion","LSRefetchContactRowIfExistsStoredProcedure","LSVerifyContactExistsWithID","MAWVerifyThreadCutover","gkx"],(function(a,b,c,d,e,f,g){"use strict";async function a(a,b,e,f,g){if(e==null)return;if(c("gkx")("231")){f==null?void 0:f("update_target_ensure_contact_exists_with_improvements_start");await d("MAWVerifyThreadCutover").ensureContactCapabilities2IsLoaded(a,b,e,f,g);return}await Promise.allSettled([d("LSVerifyContactExistsWithID").waitForTaskFinish(a,e,!1),c("LSPlatformWaitForTaskCompletion")(a,function(a){return c("LSRefetchContactRowIfExistsStoredProcedure")(c("LSFactory")(a),{id:e})},"readwrite")])}g.default=a}),98);
__d("MWChatOpenSecureTabForUserCallback",["Promise","cr:312"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,c,d,e,f){if(b("cr:312")!=null)return b("cr:312").openChatTab(a,c,d,e,f)}function c(a,c,d){return b("cr:312")!=null?b("cr:312").preloadSecureThreadForUser(a,c,d):(h||(h=b("Promise"))).resolve()}g.openChatTab=a;g.preloadSecureThreadForUser=c}),98);
__d("MWLSPreloadThreadForContact",["FBLogger","I64","LSDatabaseSingleton","LSFactory","LSIntEnum","LSIssueMessagesRangeQueryStoredProcedure","LSMailboxMessagesRangeQueryDirection","LSVerifyThreadRowExistsStoredProcedure","MAWVerifyThreadCutover","Promise","ReQL","ReStoreDbClosedError","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function l(a){c("promiseDone")((i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(e){return e.runInTransaction(function(f){var g=(k||(k=d("I64"))).of_string(a);return d("MAWVerifyThreadCutover").verifyThreadCutover((h||(h=b("Promise"))).resolve(e),g).then(function(a){if(a)return;else return d("ReQL").firstAsync(d("ReQL").fromTableAscending(f.messages_ranges_v2__generated).getKeyRange(g)).then(function(a){if(a!=null)if(a.minMessageId===a.maxMessageId&&a.minMessageId!=="")return c("LSIssueMessagesRangeQueryStoredProcedure")(c("LSFactory")(f),{direction:(j||(j=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE),referenceTimestampMs:a.minTimestampMs,threadKey:g});else return;else return c("LSVerifyThreadRowExistsStoredProcedure")(c("LSFactory")(f),{syncGroup:(j||(j=d("LSIntEnum"))).ofNumber(1),threadKey:g})})})},"readwrite",void 0,void 0,f.id+":29")["catch"](function(a){if(a instanceof c("ReStoreDbClosedError"))c("FBLogger")("messenger_web").info("Failed to preload thread, db closed.");else throw a})}))}function a(){return l}g.verifyThreadExists=l;g.usePreloaderForUser=a}),98);
__d("MWV2OnAuthoritativeThreadInsert",["I64","LSAuthorityLevel","LSIntEnum","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,e){a=a[0];var f=d("ReQL").fromTableAscending(b.tables.threads.index("clientThreadKey")).getKeyRange(a).subscribe(function(a,b){if(b.operation==="delete")return;a=b.value;if((h||(h=d("I64"))).equal(a.authorityLevel,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))){e(a);return f()}})}g.onAuthoritativeThreadInsert=a}),98);
__d("getMAWCanThreadBeCutoverOnDemandV2",["I64","LSContactBitOffset","MWPreloadableQueries","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h;async function a(a,b){if(a.isTargetE2E===!0||a.targetType!=="USER")return!1;a=(h||(h=d("I64"))).of_string(a.targetID);var c=await Promise.resolve(d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.tables.contacts).getKeyRange(a)));c=c!=null&&d("LSContactBitOffset").has(76,c);if(!c)return!1;c=await Promise.resolve(d("ReQL").firstAsync(d("MWPreloadableQueries").getCutoverThreadByThreadKey(b,a)));return c?!1:!0}g.default=a}),98);/*FB_PKG_DELIM*/
__d("BaseTypeaheadInMemoryListDataCache",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=[]}var b=a.prototype;b.clear=function(){this.$1=[]};b.get=function(a){var b=this.$1.find(function(b){return b.key===a});return b?b.value:null};b.has=function(a){return this.$1.some(function(b){return b.key===a})};b.set=function(a,b){var c=this.$1.findIndex(function(b){return b.key===a});if(c===-1){this.$1.push({key:a,value:b});return}this.$1[c]={key:a,value:b}};b.remove=function(a){var b=this.$1.findIndex(function(b){return b.key===a});this.$1.splice(b,1)};b.values=function(){return this.$1.map(function(a){return a.value})};return a}();f["default"]=a}),66);
__d("CometAddTypeaheadRecentSearchMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9552671701468719"}),null);
__d("CometAddTypeaheadRecentSearchMutation.graphql",["CometAddTypeaheadRecentSearchMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"SearchTypeaheadAddRecentSearchResponsePayload",kind:"LinkedField",name:"search_typeahead_add_recent_search",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometAddTypeaheadRecentSearchMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometAddTypeaheadRecentSearchMutation",selections:c},params:{id:b("CometAddTypeaheadRecentSearchMutation_facebookRelayOperation"),metadata:{},name:"CometAddTypeaheadRecentSearchMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("RelayModernOrCometRelay",["cr:1012418"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:1012418")}),98);
__d("CometAddTypeaheadRecentSearchMutation",["CometAddTypeaheadRecentSearchMutation.graphql","RelayModernOrCometRelay"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("CometAddTypeaheadRecentSearchMutation.graphql");function a(a){var b=a.onBeforeCommitMutation,d=a.onError,e=a.onSuccess,f=a.relayEnvironment,g=a.searchScopeEntityID,h=a.selectedID,j=a.selectedText,k=a.selectedType,l=a.source,m=a.stsDirectNavType,n=a.stsDisambiguationType,o=a.stsHighConfidenceSource,p=a.userID;a=a.userInput;b&&b();c("RelayModernOrCometRelay").commitMutation(f,{mutation:i,onCompleted:function(a,b){b&&b.length?d&&d(new Error("Payload errors while executing `addTypeaheadRecentSearchMutation`.")):e&&e(a)},onError:d,variables:{input:babelHelpers["extends"]({},p!=null?{actor_id:p}:null,{search_scope_entity_id:g,selected_id:h,selected_text:j,selected_type:k,source:l,sts_direct_nav_type_for_graphql:m,sts_disambiguation_type_for_graphql:n,sts_high_confidence_source_for_graphql:o,user_input:a})}})}g.commit=a}),98);
__d("CometDeleteRecentSearchMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9360833174026215"}),null);
__d("CometDeleteRecentSearchMutation.graphql",["CometDeleteRecentSearchMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"SearchTypeaheadDeleteRecentResponsePayload",kind:"LinkedField",name:"search_typeahead_delete_recent",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometDeleteRecentSearchMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometDeleteRecentSearchMutation",selections:c},params:{id:b("CometDeleteRecentSearchMutation_facebookRelayOperation"),metadata:{},name:"CometDeleteRecentSearchMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometDeleteRecentSearchMutation",["CometDeleteRecentSearchMutation.graphql","RelayModernOrCometRelay"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("CometDeleteRecentSearchMutation.graphql");function a(a){var b=a.onBeforeCommitMutation,d=a.onError,e=a.onSuccess,f=a.relayEnvironment,g=a.searchEntityType,h=a.searchText;a=a.userID;b&&b();c("RelayModernOrCometRelay").commitMutation(f,{mutation:i,onCompleted:function(a,b){b&&b.length?d&&d(new Error("Payloads error while executing `deleteSearchMutation`.")):e&&e(a)},onError:d,variables:{input:babelHelpers["extends"]({},a!=null?{actor_id:a}:null,{search_entity_type:g,search_text:h})}})}g.commit=a}),98);
__d("CometSearchBootstrapKeywordsDataSourceQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"first"}],b=[{kind:"Variable",name:"first",variableName:"first"}],c={alias:null,args:null,kind:"ScalarField",name:"keyword_text",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"item_logging_id",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"item_logging_info",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"link_url",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"snippet",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null};g=[{alias:null,args:null,concreteType:"STSDirectNavResult",kind:"LinkedField",name:"direct_nav_result",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ent_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"img_url",storageKey:null},f,{alias:null,args:null,kind:"ScalarField",name:"entity_type",storageKey:null},g,h,i],storageKey:null},{alias:null,args:null,concreteType:"STSHighConfidenceResult",kind:"LinkedField",name:"high_confidence_result",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hcm_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"picture_url",storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"source_as_enum",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"STSDisambiguationResult",kind:"LinkedField",name:"disambiguation_result",plural:!1,selections:[h,{alias:null,args:null,concreteType:"STSDisambiguationInfo",kind:"LinkedField",name:"disambiguation_info_list",plural:!0,selections:[{alias:"snippet",args:null,kind:"ScalarField",name:"text",storageKey:null},f,i],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TypeaheadBadgeInfo",kind:"LinkedField",name:"badge_info",plural:!1,selections:[{alias:"badge_text",args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null}];h={alias:null,args:null,concreteType:"SearchTypeaheadSuggestionKeys",kind:"LinkedField",name:"suggestion_keys",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"tier",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"keys",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"default_key",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometSearchBootstrapKeywordsDataSourceQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:b,concreteType:"BootstrapKeywordsConnection",kind:"LinkedField",name:"bootstrap_keywords",plural:!1,selections:[{alias:null,args:null,concreteType:"BootstrapKeywordsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BootstrapResult",kind:"LinkedField",name:"node",plural:!1,selections:[c,d,e,{alias:null,args:null,concreteType:"StructuredTypeaheadInfo",kind:"LinkedField",name:"sts_info",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo",selections:g,args:null,argumentDefinitions:[]}],storageKey:null},h],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometSearchBootstrapKeywordsDataSourceQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:b,concreteType:"BootstrapKeywordsConnection",kind:"LinkedField",name:"bootstrap_keywords",plural:!1,selections:[{alias:null,args:null,concreteType:"BootstrapKeywordsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BootstrapResult",kind:"LinkedField",name:"node",plural:!1,selections:[c,d,e,{alias:null,args:null,concreteType:"StructuredTypeaheadInfo",kind:"LinkedField",name:"sts_info",plural:!1,selections:g,storageKey:null},h],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"7163385847088980",metadata:{},name:"CometSearchBootstrapKeywordsDataSourceQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo"};e.exports=a}),null);
__d("getSearchCometKeywordDataSourceStructuredSuggestionKey",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b;if(((b=a.direct_nav_result)==null?void 0:b.ent_id)!=null){return"dir_nav_sts:"+((b=a.direct_nav_result)==null?void 0:b.ent_id)}if(((b=a.high_confidence_result)==null?void 0:b.hcm_id)!=null){return"hc_sts:"+((b=a.high_confidence_result)==null?void 0:b.hcm_id)}return((b=a.disambiguation_result)==null?void 0:b.title)!=null&&((b=a.disambiguation_result)==null?void 0:(b=b.disambiguation_info_list[0])==null?void 0:b.type)!=null?a.disambiguation_result.disambiguation_info_list[0].type+":"+a.disambiguation_result.title:null}f["default"]=a}),66);
__d("getSearchCometKeywordDataSourceStructuredInfoForEntry",["CometRelay","getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo.graphql","getSearchCometKeywordDataSourceStructuredSuggestionKey"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=a.structuredTypeaheadInfo;if(a==null)return{entryKey:null,extraLoggingInfo:null,label:null,markers:[],structuredInfo:null};a=d("CometRelay").readInlineData(h!==void 0?h:h=b("getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo.graphql"),a);var e=a.badge_info,f=a.direct_nav_result,g=a.disambiguation_result;a=a.high_confidence_result;var i=[],j,k,l;if(f!=null){i=["direct_nav"];var m=f.ent_id,n=f.entity_type,o=f.img_url,p=f.link_url,q=f.snippet,r=f.title;f=f.type;l=r;j={direct_nav_result:{ent_id:m,entity_type:n,img_url:o,link_url:p,snippet:q,title:r,type:f}};k={stsDirectNavEntityID:m,stsDirectNavEntityType:n,stsDirectNavType:f}}if(a!=null){i=["high_confidence"];o=a.hcm_id;p=a.picture_url;q=a.snippet;r=a.source_as_enum;m=a.text;l=m;j={high_confidence_result:{hcm_id:o,picture_url:p,snippet:q,source_as_enum:r,text:m}};k={stsHighConfidenceID:o,stsHighConfidenceSource:r}}if(g!=null){i=["disambiguation"];n=g.disambiguation_info_list;f=g.title;l=f;j={disambiguation_result:{disambiguation_info_list:n,title:f}};k={stsDisambiguationType:n[0].type}}return{badgeSnippet:(a=e==null?void 0:e.badge_text)!=null?a:void 0,entryKey:j!=null?c("getSearchCometKeywordDataSourceStructuredSuggestionKey")(j):null,extraLoggingInfo:k,label:l,markers:i,structuredInfo:j}}g["default"]=a}),98);
__d("CometSearchBootstrapKeywordsDataSource.query",["CometSearchBootstrapKeywordsDataSourceQuery.graphql","filterNulls","getSearchCometKeywordDataSourceStructuredInfoForEntry","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h;d=h!==void 0?h:h=b("CometSearchBootstrapKeywordsDataSourceQuery.graphql");function a(a){if(!a)return[];a=a.viewer;a=((a=a==null?void 0:(a=a.bootstrap_keywords)==null?void 0:a.edges)!=null?a:[]).map(function(a){return a.node}).filter(Boolean);return c("filterNulls")(a.map(function(a){var b,d=a.item_logging_id,e=a.item_logging_info,f=a.keyword_text,g=a.sts_info;a=a.suggestion_keys;if(f==null){c("recoverableViolation")("Cannot have TA bootstrap entry without keyword_text","search");return null}g=c("getSearchCometKeywordDataSourceStructuredInfoForEntry")({structuredTypeaheadInfo:g});var h=g.badgeSnippet,i=g.entryKey,j=g.extraLoggingInfo,k=g.label,l=g.markers;g=g.structuredInfo;b=(b=a)!=null?b:{};var m=b.default_key,n=b.keys;b=b.tier;return{key:(i=(i=i)!=null?i:g&&(a==null?void 0:a.default_key))!=null?i:f,label:(a=k)!=null?a:f,metaData:{logging:babelHelpers["extends"]({},j,{loggingID:(i=d)!=null?i:"",loggingInfo:e}),markers:new Set(["bootstrap","keyword"].concat(l))},rawData:{badgeSnippet:h,structuredInfo:g,suggestion_keys:b!=null?{default_key:m,keys:n,tier:b}:null},subtype:"bootstrap",type:"entry"}}))}g.query=d;g.normalize=a}),98);
__d("CometSearchBootstrapKeywordsDataSource",["BaseTypeaheadDataCacheProvider","BaseTypeaheadDataProvider","BaseTypeaheadDataProviderQueryVariablesBuilder","BaseTypeaheadInMemoryMapDataCache","BaseTypeaheadPayloadDecoratorAddLimit","CometSearchBootstrapKeywordsDataSource.query","baseTypeaheadStartsWithMatchBuilder","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.limit,e=a.queryVariables;a=a.relayEnvironment;this.$2=new(c("BaseTypeaheadDataCacheProvider"))({cache:new(c("BaseTypeaheadInMemoryMapDataCache"))(),matchBuilder:c("baseTypeaheadStartsWithMatchBuilder")});this.$3=b;b=new(c("BaseTypeaheadDataProviderQueryVariablesBuilder"))(function(){return function(){return e}});this.$1=new(c("BaseTypeaheadDataProvider"))({query:d("CometSearchBootstrapKeywordsDataSource.query").query,queryVariablesBuilder:b,relayEnvironment:a})}var b=a.prototype;b.bootstrap=function(){var a=this;c("promiseDone")(this.$1.fetch({query:""}).then(function(a){a=a.response;return d("CometSearchBootstrapKeywordsDataSource.query").normalize(a)}).then(function(b){a.$2.clear(),a.$2.add(b,null)}))};b.fetchCache=function(a){var b=a.query;b=this.$2.match(b);var d=c("BaseTypeaheadPayloadDecoratorAddLimit")(this.$3);return d({entries:b,params:a})};b.clear=function(){this.$2.clear()};b.removeEntriesByEntID=function(a){var b=this.$2.values();for(b of b){var c;a===((c=b.rawData.structuredInfo)==null?void 0:(c=c.direct_nav_result)==null?void 0:c.ent_id)&&this.$2.remove(b)}};return a}();g["default"]=a}),98);
__d("CometSearchKeywordDataSourceQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="29730949296490326"}),null);
__d("CometSearchKeywordDataSourceQuery.graphql",["CometSearchKeywordDataSourceQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"query"}],c=[{kind:"Variable",name:"query",variableName:"query"}],d={alias:"name",args:null,kind:"ScalarField",name:"text",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"logging_id",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"logging_info",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"link_url",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"snippet",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null};h=[{alias:null,args:null,concreteType:"STSDirectNavResult",kind:"LinkedField",name:"direct_nav_result",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ent_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"img_url",storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"entity_type",storageKey:null},h,i,j],storageKey:null},{alias:null,args:null,concreteType:"STSHighConfidenceResult",kind:"LinkedField",name:"high_confidence_result",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hcm_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"picture_url",storageKey:null},h,{alias:null,args:null,kind:"ScalarField",name:"source_as_enum",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"STSDisambiguationResult",kind:"LinkedField",name:"disambiguation_result",plural:!1,selections:[i,{alias:null,args:null,concreteType:"STSDisambiguationInfo",kind:"LinkedField",name:"disambiguation_info_list",plural:!0,selections:[{alias:"snippet",args:null,kind:"ScalarField",name:"text",storageKey:null},g,j],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TypeaheadBadgeInfo",kind:"LinkedField",name:"badge_info",plural:!1,selections:[{alias:"badge_text",args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null}];i={alias:null,args:null,concreteType:"SearchTypeaheadSuggestionKeys",kind:"LinkedField",name:"suggestion_keys",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"tier",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"keys",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"default_key",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometSearchKeywordDataSourceQuery",selections:[{alias:null,args:c,concreteType:"KeywordsSearchSuggestionSet",kind:"LinkedField",name:"search_keywords_suggestion",plural:!1,selections:[{alias:null,args:null,concreteType:"KeywordsSearchSuggestionsConnection",kind:"LinkedField",name:"suggestions",plural:!1,selections:[{alias:null,args:null,concreteType:"KeywordsSearchSuggestionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"KeywordSuggestionUnit",kind:"LinkedField",name:"node",plural:!1,selections:[d,e,f,{alias:null,args:null,concreteType:"StructuredTypeaheadInfo",kind:"LinkedField",name:"structured_info",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo",selections:h,args:null,argumentDefinitions:[]}],storageKey:null},i],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometSearchKeywordDataSourceQuery",selections:[{alias:null,args:c,concreteType:"KeywordsSearchSuggestionSet",kind:"LinkedField",name:"search_keywords_suggestion",plural:!1,selections:[{alias:null,args:null,concreteType:"KeywordsSearchSuggestionsConnection",kind:"LinkedField",name:"suggestions",plural:!1,selections:[{alias:null,args:null,concreteType:"KeywordsSearchSuggestionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"KeywordSuggestionUnit",kind:"LinkedField",name:"node",plural:!1,selections:[d,e,f,{alias:null,args:null,concreteType:"StructuredTypeaheadInfo",kind:"LinkedField",name:"structured_info",plural:!1,selections:h,storageKey:null},i],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("CometSearchKeywordDataSourceQuery_facebookRelayOperation"),metadata:{},name:"CometSearchKeywordDataSourceQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometSearchKeywordDataSource.query",["CometSearchKeywordDataSourceQuery.graphql","cometUniqueID","getSearchCometKeywordDataSourceStructuredInfoForEntry"],(function(a,b,c,d,e,f,g){"use strict";var h;d=h!==void 0?h:h=b("CometSearchKeywordDataSourceQuery.graphql");function a(a,b){if(!a)return[];a=a.search_keywords_suggestion;var d=b.query.request_id;a=((a=a==null?void 0:(a=a.suggestions)==null?void 0:a.edges)!=null?a:[]).map(function(a){return a.node}).filter(Boolean);var e;try{b=JSON.parse(b.query.query_text);e=b!=null?b[0]:null}catch(a){}return a.map(function(a){var b,f=a.logging_id,g=a.logging_info,h=a.name,i=a.structured_info;a=a.suggestion_keys;i=c("getSearchCometKeywordDataSourceStructuredInfoForEntry")({structuredTypeaheadInfo:i});var j=i.badgeSnippet,k=i.entryKey,l=i.extraLoggingInfo,m=i.label,n=i.markers;i=i.structuredInfo;b=(b=a)!=null?b:{};var o=b.default_key,p=b.keys;b=b.tier;return{key:(a=(k=(k=k)!=null?k:i&&(a==null?void 0:a.default_key))!=null?k:h)!=null?a:c("cometUniqueID")(),label:(a=(k=m)!=null?k:h)!=null?a:"",metaData:{logging:babelHelpers["extends"]({},l,{loggingID:f,loggingInfo:g,query:e,sequenceID:d}),markers:new Set(["keyword"].concat(n))},rawData:{badgeSnippet:j,structuredInfo:i,suggestion_keys:b!=null?{default_key:o,keys:p,tier:b}:null},subtype:"keyword",type:"entry"}})}g.query=d;g.normalize=a}),98);
__d("cometSearchKeywordDataSourceQueryVariablesBuilder",[],(function(a,b,c,d,e,f){"use strict";var g=10,h="blended";function a(a){return function(b){var c,d=b.loggingEventTrace;b=b.query;c=(c=a)!=null?c:{};var e=c.fetch_count,f=c.fetch_mode;c=c.group_id;c=JSON.stringify(c!=null?[{text:"",type:"group",uid:c},b]:[b]);return{query:{fetch_count:(b=e)!=null?b:g,fetch_mode:(e=f)!=null?e:h,query_text:c,request_id:d==null?void 0:d.sequenceID,session_id:(b=d==null?void 0:d.sessionID)!=null?b:""}}}}f["default"]=a}),66);
__d("CometSearchKeywordDataSource",["BaseCacheEntryKeyBuilder","BaseTypeaheadDataProvider","BaseTypeaheadDataProviderQueryVariablesBuilder","BaseTypeaheadNetworkCacheDataSource","BaseTypeaheadQueryDataCacheProvider","CometSearchKeywordDataSource.query","baseTypeaheadDedupEntriesBuilder","baseTypeaheadLabelSuffixBuilder","cometSearchKeywordDataSourceQueryVariablesBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.dedupe,e=a.onError,f=a.queryVariables;a=a.relayEnvironment;f=new(c("BaseTypeaheadDataProviderQueryVariablesBuilder"))(c("cometSearchKeywordDataSourceQueryVariablesBuilder")).setDefaultVariables(f);e=new(c("BaseTypeaheadDataProvider"))({onError:e,query:d("CometSearchKeywordDataSource.query").query,queryVariablesBuilder:f,relayEnvironment:a});this.$1=new(c("BaseTypeaheadQueryDataCacheProvider"))({dedupe:(f=b)!=null?f:c("baseTypeaheadDedupEntriesBuilder")(c("BaseCacheEntryKeyBuilder")),suffixBuilder:function(){return c("baseTypeaheadLabelSuffixBuilder").apply(void 0,arguments)}});this.$2=new(c("BaseTypeaheadNetworkCacheDataSource"))(e,this.$1,{normalizeFunc:d("CometSearchKeywordDataSource.query").normalize})}var b=a.prototype;b.fetchCache=function(a){return this.$2.fetchCache(a)};b.fetchNetwork=function(a){return this.$2.fetchNetwork(a)};b.clearQueryCache=function(){this.$1.clear()};return a}();g["default"]=a}),98);
__d("searchCometTypeaheadSubtractSections",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=new Set(a.entries.map(function(a){return a.key}));b.entries=b.entries.filter(function(a){return!c.has(a.key)})}f["default"]=a}),66);
__d("searchCometTypeaheadMergeSections",["searchCometTypeaheadSubtractSections"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){c("searchCometTypeaheadSubtractSections")(a,b),b.entries=a.entries.concat(b.entries)}g["default"]=a}),98);
__d("CometSearchRecentDataCacheProvider",["BaseDataEntryLabelKeyBuilder","searchCometTypeaheadMergeSections","searchCometTypeaheadSubtractSections"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.cache,d=a.matchBuilder;a=a.keyBuilder;a=a===void 0?c("BaseDataEntryLabelKeyBuilder"):a;this.$1=b;this.$2=d;this.$3=a}var b=a.prototype;b.add=function(a,b,d){var e=this;if(d==="network"){this.$1.clear();[].concat(a).reverse().forEach(function(a){var b=e.$3(a);e.$1.set(b,a)});return}a.forEach(function(a){var b=e.$3(a),d=e.$1.get(b);if(d)if(d.type==="section"&&a.type==="section"){c("searchCometTypeaheadMergeSections")(a,d);return}else e.$1.remove(b);e.$1.set(b,a)})};b.clear=function(){this.$1.clear()};b.remove=function(a){var b=this.$3(a),d=this.$1.get(b);d&&d.type==="section"&&a.type==="section"&&d.entries.length!==0?c("searchCometTypeaheadSubtractSections")(a,d):this.$1.remove(b)};b.match=function(a){var b=this.$2({query:a});return this.$1.values().map(function(a){return babelHelpers["extends"]({},a)}).reverse().filter(function(a){if(a.type==="section"){a.entries=a.entries.filter(b);return!0}else return b(a)})};b.values=function(){return this.$1.values()};return a}();g["default"]=a}),98);
__d("cometSearchNullStateMatchBuilder",[],(function(a,b,c,d,e,f){"use strict";function a(){return function(a){a=a.metaData.markers;return a.has("recent")||a.has("nullstate_explore")||a.has("keyword")}}f["default"]=a}),66);
__d("CometSearchRecentDataSource",["fbt","BaseDataEntryKeyBuilder","BaseTypeaheadDataProvider","BaseTypeaheadDataProviderQueryVariablesBuilder","BaseTypeaheadInMemoryListDataCache","BaseTypeaheadNetworkDataSource","CometAddTypeaheadRecentSearchMutation","CometDeleteRecentSearchMutation","CometSearchRecentDataCacheProvider","Promise","cometSearchNullStateMatchBuilder","filterNulls","qex"],(function(a,b,c,d,e,f,g,h){"use strict";var i;a=function(){var a=e.prototype;a.$8=function(){var a=c("filterNulls")(this.$2.values().map(function(a){return a.type==="section"&&a.subtype==="recent_searches"?a:null}));return a.length!==0?a[0]:null};function e(a){var b=a.activityLogURL,d=a.gqlQuery,e=a.limit,f=a.normalize,g=a.options,h=a.queryVariablesBuilderFunction;a=a.relayEnvironment;this.$4=a;this.$5=e;this.$6=h({query:""}).filter;this.$7=b;a=function(){return h};e=new(c("BaseTypeaheadDataProviderQueryVariablesBuilder"))(a);b=new(c("BaseTypeaheadDataProvider"))({options:g,query:d,queryVariablesBuilder:e,relayEnvironment:this.$4});this.$2=new(c("CometSearchRecentDataCacheProvider"))({cache:new(c("BaseTypeaheadInMemoryListDataCache"))(),keyBuilder:c("BaseDataEntryKeyBuilder"),matchBuilder:c("cometSearchNullStateMatchBuilder")});this.$1=new(c("BaseTypeaheadNetworkDataSource"))(b,f)}a.add=function(a,b,c){c=c===void 0?{}:c;var e=c.onBeforeCommitMutation,f=c.onError;c=c.onSuccess;var g=a.metaData,h=this.$8();h!=null?this.$2.add([babelHelpers["extends"]({},h,{entries:[a]})],""):this.$2.add([a],"");g=(h=g==null?void 0:g.logging)!=null?h:{};h=g.entityID;var i=g.entityType,j=g.searchScopeEntityID,k=g.stsDirectNavEntityID,l=g.stsDirectNavType,m=g.stsDisambiguationType,n=g.stsHighConfidenceID;g=g.stsHighConfidenceSource;d("CometAddTypeaheadRecentSearchMutation").commit({onBeforeCommitMutation:e,onError:f,onSuccess:c,relayEnvironment:this.$4,searchScopeEntityID:j,selectedID:(f=(e=h)!=null?e:k)!=null?f:n,selectedText:a.label.toLowerCase(),selectedType:(c=i)!=null?c:"keyword",source:b,stsDirectNavType:l,stsDisambiguationType:m,stsHighConfidenceSource:g,userInput:a.label.toLowerCase()})};a.bootstrap=function(){var a;a=(a=c("qex")._("1300"))!=null?a:!1;if(a&&this.$6==="all")return;this.fetchNetwork({query:""})};a.fetchCache=function(a){var b=a.query;b=this.$2.match(b);return{entries:b,params:a}};a.fetchNetwork=function(a){var c=this;return this.$3!=null&&this.$3<this.$5?(i||(i=b("Promise"))).resolve({entries:this.$2.match(a.query),params:a}):this.$1.fetchNetwork(a).then(function(b){var d=b.entries;b=b.params.query;d!=null&&(d.forEach(function(a){var b=c.$7;["all","group_scoped_search"].includes(c.$6)&&b!=null&&a.type==="section"&&a.subtype==="recent_searches"&&(a.action={label:h._(/*BTDS*/"Edit"),type:"link",url:b})}),c.$3=d.length,c.$2.add(d,b,"network"));return{entries:c.$2.match(b),params:a}})};a.remove=function(a,b){b=b===void 0?{}:b;var c=b.onBeforeCommitMutation,e=b.onError;b=b.onSuccess;var f=this.$8();f!=null?this.$2.remove(babelHelpers["extends"]({},f,{entries:[a]})):this.$2.remove(a);d("CometDeleteRecentSearchMutation").commit({onBeforeCommitMutation:c,onError:e,onSuccess:b,relayEnvironment:this.$4,searchText:a.label})};a.clear=function(){this.$3=null;var a=this.$8();if(a==null){this.$2.clear();return}a.entries.length!==0&&this.$2.remove(a)};a.refresh=function(){this.clear(),this.fetchNetwork({query:""})};return e}();g["default"]=a}),226);
__d("CometSearchRecentDataSourceQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"fetch_nullstate"},b={defaultValue:null,kind:"LocalArgument",name:"fetch_recent_searches"},c={defaultValue:null,kind:"LocalArgument",name:"fetch_search_badge"},d={defaultValue:null,kind:"LocalArgument",name:"filter"},e={defaultValue:null,kind:"LocalArgument",name:"first"},f={defaultValue:null,kind:"LocalArgument",name:"scale"},g={defaultValue:null,kind:"LocalArgument",name:"search_null_state_argument"},h={defaultValue:null,kind:"LocalArgument",name:"search_scope_entity_id"},i=[{kind:"Variable",name:"filter",variableName:"filter"},{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"search_scope_entity_id",variableName:"search_scope_entity_id"}],j={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},l={kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:36}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],type:"Profile",abstractKey:"__isProfile"},m=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],n={kind:"InlineFragment",selections:m,type:"Application",abstractKey:null},o={kind:"InlineFragment",selections:m,type:"Event",abstractKey:null},p={kind:"InlineFragment",selections:m,type:"Group",abstractKey:null},q={kind:"InlineFragment",selections:m,type:"Page",abstractKey:null};m={kind:"InlineFragment",selections:m,type:"User",abstractKey:null};var r={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"link_url",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"snippet",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null};u=[{alias:null,args:null,concreteType:"STSDirectNavResult",kind:"LinkedField",name:"direct_nav_result",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ent_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"img_url",storageKey:null},s,{alias:null,args:null,kind:"ScalarField",name:"entity_type",storageKey:null},t,u,v],storageKey:null},{alias:null,args:null,concreteType:"STSHighConfidenceResult",kind:"LinkedField",name:"high_confidence_result",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hcm_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"picture_url",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"source_as_enum",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"STSDisambiguationResult",kind:"LinkedField",name:"disambiguation_result",plural:!1,selections:[u,{alias:null,args:null,concreteType:"STSDisambiguationInfo",kind:"LinkedField",name:"disambiguation_info_list",plural:!0,selections:[{alias:"snippet",args:null,kind:"ScalarField",name:"text",storageKey:null},s,v],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TypeaheadBadgeInfo",kind:"LinkedField",name:"badge_info",plural:!1,selections:[{alias:"badge_text",args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null}];s={alias:null,args:null,concreteType:"StructuredTypeaheadInfo",kind:"LinkedField",name:"sts_info",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo",selections:u,args:null,argumentDefinitions:[]}],storageKey:null};v={alias:null,args:null,kind:"ScalarField",name:"item_logging_info",storageKey:null};t={condition:"fetch_search_badge",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"XFBSearchEntityBadge",kind:"LinkedField",name:"search_badge",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"enabled",storageKey:null},t],storageKey:null}]};var w=[{kind:"Variable",name:"input",variableName:"search_null_state_argument"}],x={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},y=[x,{alias:null,args:null,concreteType:"XFBSearchNullStateSectionResult",kind:"LinkedField",name:"result",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"header_text",storageKey:null}],storageKey:null}],z={kind:"InlineFragment",selections:y,type:"XFBSearchNullStateSearchHistoryHeaderRenderingStrategy",abstractKey:null};y={kind:"InlineFragment",selections:y,type:"XFBSearchNullStateGeneralHeaderRenderingStrategy",abstractKey:null};var A={alias:null,args:null,kind:"ScalarField",name:"display_text",storageKey:null},B={alias:"suggestion_logging_info",args:null,concreteType:"XFBSearchSuggestionLoggingSuggestion",kind:"LinkedField",name:"logging_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fetch_source",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"logging_info",storageKey:null}],storageKey:null};u={alias:null,args:null,concreteType:"StructuredTypeaheadInfo",kind:"LinkedField",name:"sts_info",plural:!1,selections:u,storageKey:null};return{fragment:{argumentDefinitions:[a,b,c,d,e,f,g,h],kind:"Fragment",metadata:null,name:"CometSearchRecentDataSourceQuery",selections:[{condition:"fetch_recent_searches",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:i,concreteType:"RecentSearchConnection",kind:"LinkedField",name:"recent_searches",plural:!1,selections:[{alias:null,args:null,concreteType:"RecentSearchEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[j,k],type:"Node",abstractKey:"__isNode"},l,n,o,p,q,m,r,{kind:"InlineFragment",selections:[s,v],type:"GraphSearchQuery",abstractKey:null}],storageKey:null},t],storageKey:null}],storageKey:null}],storageKey:null}]},{condition:"fetch_nullstate",kind:"Condition",passingValue:!0,selections:[{alias:null,args:w,concreteType:"SearchNullStatePage",kind:"LinkedField",name:"search_null_state",plural:!1,selections:[{alias:null,args:null,concreteType:"SearchNullStatePageResultsConnection",kind:"LinkedField",name:"results",plural:!1,selections:[{alias:null,args:null,concreteType:"SearchNullStatePageResultsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"rendering_strategy",plural:!1,selections:[j,z,y,{kind:"InlineFragment",selections:[x,{alias:null,args:null,concreteType:"XFBSearchNullStateSectionResult",kind:"LinkedField",name:"result",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"suggestions",plural:!0,selections:[j,{kind:"InlineFragment",selections:[x,A,s,B],type:"XFBSearchNullStateQuerySuggestion",abstractKey:null}],storageKey:null}],storageKey:null}],type:"XFBSearchNullStateListRenderingStrategy",abstractKey:null}],storageKey:null}],type:"XFBSearchNullStateRenderingStrategyResult",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[d,e,f,h,c,g,a,b],kind:"Operation",name:"CometSearchRecentDataSourceQuery",selections:[{condition:"fetch_recent_searches",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:i,concreteType:"RecentSearchConnection",kind:"LinkedField",name:"recent_searches",plural:!1,selections:[{alias:null,args:null,concreteType:"RecentSearchEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[j,r,{kind:"InlineFragment",selections:[k],type:"Node",abstractKey:"__isNode"},l,n,o,p,q,m,{kind:"InlineFragment",selections:[u,v],type:"GraphSearchQuery",abstractKey:null}],storageKey:null},t],storageKey:null}],storageKey:null}],storageKey:null}]},{condition:"fetch_nullstate",kind:"Condition",passingValue:!0,selections:[{alias:null,args:w,concreteType:"SearchNullStatePage",kind:"LinkedField",name:"search_null_state",plural:!1,selections:[{alias:null,args:null,concreteType:"SearchNullStatePageResultsConnection",kind:"LinkedField",name:"results",plural:!1,selections:[{alias:null,args:null,concreteType:"SearchNullStatePageResultsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[j,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"rendering_strategy",plural:!1,selections:[j,z,y,{kind:"InlineFragment",selections:[x,{alias:null,args:null,concreteType:"XFBSearchNullStateSectionResult",kind:"LinkedField",name:"result",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"suggestions",plural:!0,selections:[j,{kind:"InlineFragment",selections:[x,A,u,B],type:"XFBSearchNullStateQuerySuggestion",abstractKey:null}],storageKey:null}],storageKey:null}],type:"XFBSearchNullStateListRenderingStrategy",abstractKey:null}],storageKey:null}],type:"XFBSearchNullStateRenderingStrategyResult",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]}]},params:{id:"6951168598253150",metadata:{},name:"CometSearchRecentDataSourceQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("searchCometIsValidRecentSearchEntityType",[],(function(a,b,c,d,e,f){"use strict";var g=["app","application","event","group","page","user"];function a(a){return g.includes(a==null?void 0:a.toLowerCase())}f["default"]=a}),66);
__d("CometSearchRecentDataSource.query",["fbt","CometSearchRecentDataSourceQuery.graphql","FBLogger","filterNulls","getSearchCometKeywordDataSourceStructuredInfoForEntry","searchCometIsValidRecentSearchEntityType"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j={__typename:"XFBSearchNullStateSearchHistoryHeaderRenderingStrategy",key:"recent-searches",result:{header_text:String(h._(/*BTDS*/"Recent searches"))}};d=i!==void 0?i:i=b("CometSearchRecentDataSourceQuery.graphql");function a(a){var b;if(!a)return[];b=c("filterNulls")(((b=(b=a.search_null_state)==null?void 0:(b=b.results)==null?void 0:b.edges)!=null?b:[{node:{rendering_strategy:j}}]).map(function(a){return(a=a.node)==null?void 0:a.rendering_strategy}));var d=[],e=null;for(b of b){if(b.__typename==="%other")continue;var f=b.key,g=b.result;if(g==null||f==null)continue;g=g.header_text;if(b.__typename==="XFBSearchNullStateSearchHistoryHeaderRenderingStrategy"&&g!=null){var h;d.push({entries:k((h=(h=a.viewer)==null?void 0:(h=h.recent_searches)==null?void 0:h.edges)!=null?h:[]),key:f,label:g,subtype:"recent_searches",type:"section"})}else if(b.__typename==="XFBSearchNullStateGeneralHeaderRenderingStrategy"&&g!=null)e={header_text:g,key:f};else if(b.__typename==="XFBSearchNullStateListRenderingStrategy"&&e!=null){h=e;g=h.header_text;f=h.key;d.push({entries:l(b),key:f,label:g,subtype:"other",type:"section"});e=null}}return d}function k(a){return c("filterNulls")(a.map(function(a){var b=a.node;a=a.search_badge;if(b==null)return null;var d=b.__typename,e=b.id,f=b.item_logging_info,g=b.name,h=b.profile_picture,i=b.sts_info;b=b.url;var j=c("searchCometIsValidRecentSearchEntityType")(d);i=c("getSearchCometKeywordDataSourceStructuredInfoForEntry")({structuredTypeaheadInfo:i});var k=i.extraLoggingInfo,l=i.label,m=i.markers;i=i.structuredInfo;if(g==null){c("FBLogger")("search").mustfix("Missing name for recent search data with __typename: %s",d);return null}var n=g.toLocaleLowerCase();return{hasSecondaryAction:!0,key:n,label:(n=l)!=null?n:g,metaData:{logging:babelHelpers["extends"]({},k,{entityID:j?e:null,entityType:j&&d!=null?d.toLowerCase():null,loggingInfo:f}),markers:new Set(c("filterNulls")(["recent",j?"entity":null].concat(m)))},rawData:{badgeSnippet:(a==null?void 0:a.enabled)===!0?a.snippet:null,profile:j&&e!=null&&(h==null?void 0:h.uri)!=null&&b!=null?{id:e,profilePictureURL:h.uri,url:b}:void 0,structuredInfo:i},subtype:"recent",type:"entry"}}))}function l(a){if(a.__typename!=="XFBSearchNullStateListRenderingStrategy")return[];a=(a=a.result)!=null?a:{};a=a.suggestions;return c("filterNulls")(((a=a)!=null?a:[]).map(function(a){if(a.__typename!=="XFBSearchNullStateQuerySuggestion")return null;var b=a.display_text,d=a.key,e=a.sts_info,f=a.suggestion_logging_info;if(b==null){c("FBLogger")("search").mustfix("Missing name for nullstate suggestion search data with __typename: %s",a.__typename);return null}if(d==null){c("FBLogger")("search").mustfix("Missing key for nullstate suggestion search data with __typename: %s",a.__typename);return null}a=c("getSearchCometKeywordDataSourceStructuredInfoForEntry")({structuredTypeaheadInfo:e});e=a.extraLoggingInfo;var g=a.markers;a=a.structuredInfo;f=(f=f)!=null?f:{};var h=f.fetch_source;f=f.logging_info;return{key:d,label:b,metaData:{logging:babelHelpers["extends"]({fetchSource:h,loggingInfo:((d=f)!=null?d:[])[0]},e),markers:new Set(new Set(["keyword","nullstate_explore"].concat(g)))},rawData:{structuredInfo:a},subtype:"keyword",type:"entry"}}))}g.query=d;g.normalize=a}),226);
__d("CometSearchRecentDataSourceDispatcherContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext();g["default"]=b}),98);
__d("FBNucleusCrossFilled20Icon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M15.543 3.043a1 1 0 1 1 1.414 1.414L11.414 10l5.543 5.542a1 1 0 0 1-1.414 1.415L10 11.414l-5.543 5.543a1 1 0 0 1-1.414-1.415L8.586 10 3.043 4.457a1 1 0 1 1 1.414-1.414L10 8.586l5.543-5.543z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react",["fbt","CometPressable.react","CometSearchRecentDataSourceDispatcherContext","FBNucleusCrossFilled20Icon.react","FDSIcon.react","XPlatReactEnvironment","react","react-compiler-runtime","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.useContext,l=b.useState,m={buttonContainer:{alignItems:"x6s0dn4",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",display:"x78zum5",height:"x1fgtraw",justifyContent:"xl56j7k",width:"xgd8bvy",$$css:!0},buttonContainerActive:{boxShadow:"xpud6h4",outline:"x1a2a7pz xvetz19",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(15),e=a.entry;a=a.testid;var f=k(c("CometSearchRecentDataSourceDispatcherContext")),g=l(!1),i=g[0],n=g[1];g=c("useCometInternalTypeaheadState")();var o=g.highlightedEntry;g=g.secondaryActionHighlighted;var p;b[0]!==e||b[1]!==f?(p=function(a){a&&a.type!=="press"&&a.stopPropagation(),n(!0),f==null?void 0:f.dispatchRemoveRecentEntry(e)},b[0]=e,b[1]=f,b[2]=p):p=b[2];p=p;var q;b[3]!==e.label?(q=h._(/*BTDS*/"{search_term}, Delete",[h._param("search_term",e.label)]),b[3]=e.label,b[4]=q):q=b[4];q=q;o=o===e&&g===!0&&m.buttonContainerActive;b[5]!==o?(g=[m.buttonContainer,o],b[5]=o,b[6]=g):g=b[6];b[7]!==q||b[8]!==i?(o=j.jsx(c("FDSIcon.react"),{"aria-label":q,color:"secondary",disabled:i,focusable:!1,icon:c("FBNucleusCrossFilled20Icon.react"),size:d("XPlatReactEnvironment").isWeb()?12:20}),b[7]=q,b[8]=i,b[9]=o):o=b[9];b[10]!==p||b[11]!==g||b[12]!==o||b[13]!==a?(q=j.jsx(c("CometPressable.react"),{dynamicHoverTiltAngle:15,dynamicHoverTranslationPercent:.15,onPress:p,overlayRadius:999,showDynamicHover:!0,testid:void 0,xstyle:g,children:o}),b[10]=p,b[11]=g,b[12]=o,b[13]=a,b[14]=q):q=b[14];return q}g["default"]=a}),226);
__d("CometSearchTypeaheadBaseSurfaceRecentViewItem.react",["CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react","CometTypeaheadFocusLockRegion.react","CometTypeaheadRecentViewItem.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(9),e,f;b[0]!==a?(e=a.entry,f=babelHelpers.objectWithoutPropertiesLoose(a,["entry"]),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);b[3]!==e?(a=i.jsx(c("CometTypeaheadFocusLockRegion.react"),{children:i.jsx(c("CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react"),{entry:e,testid:void 0})}),b[3]=e,b[4]=a):a=b[4];var g;b[5]!==e||b[6]!==f||b[7]!==a?(g=i.jsx(c("CometTypeaheadRecentViewItem.react"),babelHelpers["extends"]({},f,{entry:e,itemEndContent:a,itemEndContentKeyboardFocusable:!0,testid:void 0})),b[5]=e,b[6]=f,b[7]=a,b[8]=g):g=b[8];return g}g["default"]=a}),98);
__d("getCometSearchTypeaheadStructuredInfoKey",["getSearchCometKeywordDataSourceStructuredSuggestionKey"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.rawData.structuredInfo;return a==null?null:c("getSearchCometKeywordDataSourceStructuredSuggestionKey")(a)}g["default"]=a}),98);
__d("CometSearchTypeaheadDefaultEntryComparator",["BaseDataEntryLabelKeyBuilder","getCometSearchTypeaheadStructuredInfoKey","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var d=c("getCometSearchTypeaheadStructuredInfoKey")(a),e=c("getCometSearchTypeaheadStructuredInfoKey")(b);return d!=null&&e!=null?d===e:c("BaseDataEntryLabelKeyBuilder")(a)===c("BaseDataEntryLabelKeyBuilder")(b)}function a(a,b){if(!h(a,b)){c("recoverableViolation")("The suggestions are not dupes: "+a.key+" compared to "+b.key,"search");return a}var d=c("getCometSearchTypeaheadStructuredInfoKey")(a),e=c("getCometSearchTypeaheadStructuredInfoKey")(b);return d!=null&&e!=null?b:e!=null?b:a}g.areEntriesDupes=h;g.pickEntryToKeep=a}),98);
__d("CometSearchTypeaheadServerDrivenEntryComparator",["FBLogger","getCometSearchTypeaheadStructuredInfoKey"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=(a=a.rawData)!=null?a:{};a=a.suggestion_keys;if(a==null)throw c("FBLogger")("search").mustfixThrow("Unexpected missing keys");return a}function a(a,b){var d=h(a),e=d.default_key;d=d.keys;var f=h(b),g=f.default_key,i=f.keys;if(d.some(function(a){return i.includes(a)}))return!0;f=c("getCometSearchTypeaheadStructuredInfoKey")(a);var k=c("getCometSearchTypeaheadStructuredInfoKey")(b);f!=null&&f===k&&j("STS dupe: same STS UI key but no keys overlap",a,b);if(d.length>0&&i.length>0)return!1;if(e==null||g==null)return!1;e===g&&a.label.toLowerCase()!==b.label.toLowerCase()&&j("STS dupe: same default key but different label",a,b);return e.toLowerCase()===g.toLowerCase()}function b(a,b){var c=h(a);c=c.tier;var d=h(b);d=d.tier;return c<=d?b:a}function i(a){var b=h(a),c=b.default_key;b=b.keys;return"ui key: "+a.key+", keys: "+(b.join(",")||"empty")+", default key: "+((b=c)!=null?b:"null")+", label: "+a.label}function j(a,b,d){c("FBLogger")("search").warn(a+": ("+i(b)+") vs ("+i(d)+")")}g.areEntriesDupes=a;g.pickEntryToKeep=b}),98);
__d("CometTypeaheadEchoViewItem.react",["CometTypeaheadViewItem.react","CometTypeaheadViewItemIcon.react","FDSText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(18),e,f,g,h;b[0]!==a?(e=a.entry,f=a.isActive,h=a.queryString,g=babelHelpers.objectWithoutPropertiesLoose(a,["entry","isActive","queryString"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h):(e=b[1],f=b[2],g=b[3],h=b[4]);b[5]!==e.label||b[6]!==f?(a=i.jsx(d("CometTypeaheadViewItemIcon.react").CometTypeaheadViewTypedIcon,{isActive:f,label:e.label}),b[5]=e.label,b[6]=f,b[7]=a):a=b[7];h=String(h);var j;b[8]!==h?(j=h.toLowerCase(),b[8]=h,b[9]=j):j=b[9];b[10]!==j?(h=i.jsx(c("FDSText.react"),{numberOfLines:1,type:"body3",children:j}),b[10]=j,b[11]=h):h=b[11];b[12]!==e||b[13]!==f||b[14]!==g||b[15]!==a||b[16]!==h?(j=i.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},g,{entry:e,isActive:f,itemStartContent:a,children:h})),b[12]=e,b[13]=f,b[14]=g,b[15]=a,b[16]=h,b[17]=j):j=b[17];return j}g["default"]=a}),98);
__d("CometTypeaheadSeeAllViewItem.react",["fbt","CometTypeaheadViewItem.react","FDSIcon.react","FDSMagnifyingGlassFilled16Icon","FDSText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));i.useMemo;function a(a){var b=d("react-compiler-runtime").c(15),e,f,g,h;b[0]!==a?(e=a.entry,f=a.extraViewItemProps,h=a.queryString,g=babelHelpers.objectWithoutPropertiesLoose(a,["entry","extraViewItemProps","queryString"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h):(e=b[1],f=b[2],g=b[3],h=b[4]);(a=f)==null?void 0:a.placeholderBuilder;a=(f=(a=f)==null?void 0:a.placeholderBuilder)!=null?f:k;f=a;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 xwnonoy x1o1ewxj x3x9cwd x1e5q0jg x13rtm0m x78zum5 xc9qbxq xl56j7k x14qfxbe"},{children:j.jsx(c("FDSIcon.react"),{color:"white",icon:c("FDSMagnifyingGlassFilled16Icon"),size:16})})),b[5]=a):a=b[5];var i;b[6]!==f||b[7]!==h?(i=f(h),b[6]=f,b[7]=h,b[8]=i):i=b[8];b[9]!==i?(f=j.jsx(c("FDSText.react"),{color:"blueLink",numberOfLines:1,type:"body3",children:i}),b[9]=i,b[10]=f):f=b[10];b[11]!==e||b[12]!==g||b[13]!==f?(h=j.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},g,{entry:e,itemStartContent:a,children:f})),b[11]=e,b[12]=g,b[13]=f,b[14]=h):h=b[14];return h}function k(a){return h._(/*BTDS*/"Search for {=m1}",[h._implicitParam("=m1",j.jsx("strong",{children:h._(/*BTDS*/"{query}",[h._param("query",a.toLowerCase())])}))])}k.displayName=k.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("cometSearchTypeaheadEchoViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("echo")?a:null}f["default"]=a}),66);
__d("cometSearchTypeaheadKeywordViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("keyword")?a:null}f["default"]=a}),66);
__d("cometSearchTypeaheadRecentViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.subtype==="recent"?a:null}f["default"]=a}),66);
__d("cometSearchTypeaheadSeeAllViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("see_all")?a:null}f["default"]=a}),66);
__d("SearchCometTypeaheadViewItemResolver.react",["CometSearchTypeaheadBaseSurfaceRecentViewItem.react","CometTypeaheadEchoViewItem.react","CometTypeaheadKeywordViewItem.react","CometTypeaheadSeeAllViewItem.react","cometSearchTypeaheadEchoViewItem.resolver","cometSearchTypeaheadKeywordViewItem.resolver","cometSearchTypeaheadRecentViewItem.resolver","cometSearchTypeaheadSeeAllViewItem.resolver","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(a){var b=a.additionalEntryMappings,d=a.seeAllLabelBuilder,e=a.children,f=a.entry;a=a.fallbackViewItem;a=a===void 0?c("CometTypeaheadKeywordViewItem.react"):a;var g=i(function(){var a;return[].concat((a=b)!=null?a:[],j({seeAllLabelBuilder:d}))},[b,d]);g=g.find(function(a){a=a.resolver;return a(f)});if(g){var h=g.viewItem;g=g.viewItemProps;return e(h,g)}return e(a)}function j(a){a=a.seeAllLabelBuilder;return[{resolver:c("cometSearchTypeaheadEchoViewItem.resolver"),viewItem:c("CometTypeaheadEchoViewItem.react")},{resolver:c("cometSearchTypeaheadSeeAllViewItem.resolver"),viewItem:c("CometTypeaheadSeeAllViewItem.react"),viewItemProps:{placeholderBuilder:a}},{resolver:c("cometSearchTypeaheadRecentViewItem.resolver"),viewItem:c("CometSearchTypeaheadBaseSurfaceRecentViewItem.react")},{resolver:c("cometSearchTypeaheadKeywordViewItem.resolver"),viewItem:c("CometTypeaheadKeywordViewItem.react")}].filter(Boolean)}g["default"]=a}),98);
__d("cometTypeaheadMemoizeEntryKey",["cometUniqueID","memoizeStringOnly"],(function(a,b,c,d,e,f,g){"use strict";var h=c("memoizeStringOnly")(function(a){return c("cometUniqueID")()});function a(a){return h(a)}g["default"]=a}),98);
__d("cometSearchTypeaheadPayloadDecoratorAddEcho",["BaseDataEntryKeyBuilder","cometTypeaheadMemoizeEntryKey"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.keyBuilder,d=b===void 0?c("BaseDataEntryKeyBuilder"):b,e=a.limit;return function(a){var b=a.entries,f=a.params.query;b=(b=b)!=null?b:[];var g=b.find(function(a){return d(a).trim().toLowerCase()===f.trim().toLowerCase()})!=null,h=[];if(!g&&b.length<e){g=c("cometTypeaheadMemoizeEntryKey")(f+"-echo");g={key:g,label:f,metaData:{markers:new Set(["echo"])},rawData:{type:"echo"}};h.push(g)}return babelHelpers["extends"]({},a,{entries:[].concat(b,h)})}}g["default"]=a}),98);
__d("cometSearchTypeaheadPayloadDecoratorAddSeeAll",["cometTypeaheadMemoizeEntryKey"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.position;return function(a){var d=a.entries,e=a.params.query;d=(d=d)!=null?d:[];var f=c("cometTypeaheadMemoizeEntryKey")(e+"-see_all");f={key:f,label:e,metaData:{markers:new Set(["see_all"])},rawData:{type:"see_all"}};e=[];switch(b){case"bottom":e=[].concat(d,[f]);break;case"top":e=[f].concat(d);break}return babelHelpers["extends"]({},a,{entries:e})}}g["default"]=a}),98);
__d("cometSearchTypeaheadDecorateMixedPayload",["BaseTypeaheadPayloadDecoratorAddLimit","baseTypeaheadFetchPayloadDecorate","cometSearchTypeaheadPayloadDecoratorAddEcho","cometSearchTypeaheadPayloadDecoratorAddSeeAll"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=b.excludeSeeAllAndEcho;d=d===void 0?!1:d;var e=b.keyBuilder,f=b.limit;b=b.seeAllPosition;b=b===void 0?"bottom":b;return c("baseTypeaheadFetchPayloadDecorate")(a,[c("BaseTypeaheadPayloadDecoratorAddLimit")(f),d?null:c("cometSearchTypeaheadPayloadDecoratorAddEcho")({keyBuilder:e,limit:f}),d?null:c("cometSearchTypeaheadPayloadDecoratorAddSeeAll")({position:b})].filter(Boolean))}g["default"]=a}),98);
__d("cometSearchTypeaheadPayloadDecoratorApplySectionLimits",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return function(c){for(var d of c.entries){var e=b(d);e=e!=null?a.get(e):null;e!=null&&d.type==="section"&&(d.entries=d.entries.slice(0,e))}return c}}f["default"]=a}),66);
__d("cometSearchTypeaheadDecorateRecentPayload",["BaseTypeaheadPayloadDecoratorAddLimit","baseTypeaheadFetchPayloadDecorate","cometSearchTypeaheadPayloadDecoratorApplySectionLimits"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=b.getSectionLimitKey,e=b.limit;b=b.sectionLimits;var f=a.entries.every(function(a){return a.type==="section"});return c("baseTypeaheadFetchPayloadDecorate")(a,[f&&b!=null?c("cometSearchTypeaheadPayloadDecoratorApplySectionLimits")(b,d):c("BaseTypeaheadPayloadDecoratorAddLimit")(e)])}g["default"]=a}),98);
__d("cometSearchTypeaheadDedupeAndLog",["FBLogger","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("ODS").__setRef("cometSearchTypeaheadDedupeAndLog");function a(a,b,c){var d=new Map(),e=[];for(b of b){var f=d.get(b.key);f!=null?i({caller:c,dupeEntry:b,existingEntry:f,strategy:a}):(d.set(b.key,b),e.push(b))}return e}function i(a){var b=a.caller,d=a.dupeEntry,e=a.existingEntry;a=a.strategy;var f=e.metaData.markers,g=d.metaData.markers;c("FBLogger")("search").warn("STS Dupe encountered: "+e.key+" ("+Array.from(f).join("_")+", label: "+e.label+") compared to "+d.key+"\n    ("+Array.from(g).join("_")+", label: "+d.label+")");var i="comet_ta_sts_dupe_v4."+a,j=["react_key_"+(Array.from(f).join("_")||"plain_keyword"),b,"existing_kind_"+Array.from(f).join("_"),"dupe_kind_"+Array.from(g).join("_")].join(".");h.onReady(function(a){a.bumpEntityKey(354,i,j,1)})}g["default"]=a}),98);
__d("cometSearchTypeaheadSTSDedupeEntries",["CometSearchTypeaheadDefaultEntryComparator","CometSearchTypeaheadServerDrivenEntryComparator","cometSearchTypeaheadDedupeAndLog","filterNulls"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){c===void 0&&(c="bootstrap_and_backend_merge");var e=a.concat(b).every(function(a){return a.rawData.suggestion_keys!=null});return h.apply(void 0,[a,b,c].concat(e?[d("CometSearchTypeaheadServerDrivenEntryComparator").areEntriesDupes,d("CometSearchTypeaheadServerDrivenEntryComparator").pickEntryToKeep]:[d("CometSearchTypeaheadDefaultEntryComparator").areEntriesDupes,d("CometSearchTypeaheadDefaultEntryComparator").pickEntryToKeep]))}function h(a,b,e,f,g){var h=d("CometSearchTypeaheadServerDrivenEntryComparator").areEntriesDupes,i=[],j=new Set(b);for(a of a)i.push(a);for(a of b){b=[];for(var k=0;k<i.length;k++){var l=i[k];l!=null&&f(l,a)&&b.push(k)}l=b[0];k=l!=null?i[l]:null;if(k!=null&&!j.has(k)){k=g(k,a);i[l]=k;for(l of b){b=i[l];b!=null&&b!==k&&b!==g(b,a)&&(i[l]=null)}}else i.push(a)}return c("cometSearchTypeaheadDedupeAndLog")(h?"with_keys":"without_keys",c("filterNulls")(i),e)}g["default"]=a}),98);
__d("cometSearchTypeaheadSTSDedupeCachedEntries",["cometSearchTypeaheadSTSDedupeEntries","filterNulls"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=c("cometSearchTypeaheadSTSDedupeEntries")(a.map(function(a){return a.entry}),b.map(function(a){return a.entry}),"query_cache"),e=[].concat(a,b);return c("filterNulls")(d.map(function(a){return e.find(function(b){return b.entry===a})}))}g["default"]=a}),98);
__d("searchCometTypeaheadGetHighConfidenceResult",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData,c=a.rawData;b=b.markers;if((a.subtype==="keyword"||a.subtype==="recent")&&b.has("high_confidence")){c=(b=(a=c.structuredInfo)==null?void 0:a.high_confidence_result)!=null?b:{};a=c.hcm_id;b=c.source_as_enum;if(a!=null&&b!=null)return{id:a,source:b}}}f["default"]=a}),66);
__d("searchCometTypeaheadGetStsDisambiguation",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData,c=a.rawData;b=b.markers;if(a.subtype==="keyword"&&b.has("disambiguation")){a=(c=(a=c.structuredInfo)==null?void 0:(b=a.disambiguation_result)==null?void 0:b.disambiguation_info_list[0])!=null?c:{};b=a.type;if(b!=null)return{primary:{type:b}}}}f["default"]=a}),66);
__d("searchCometTypeaheadPushErrorToast",["fbt","cometPushToast"],(function(a,b,c,d,e,f,g,h){"use strict";function a(){d("cometPushToast").cometPushErrorToast({message:h._(/*BTDS*/"Sorry, something went wrong. Please try again at a later time.")})}g["default"]=a}),226);
__d("searchCometTypeaheadWithRecentDataSourceContext",["CometSearchRecentDataSourceDispatcherContext","SearchCometTypeaheadEventEmitterContext","react","react-compiler-runtime","useCometInternalTypeaheadFetch","useCometInternalTypeaheadStateDispatcher","useSearchCometEventEmitterContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useEffect;b.useMemo;function a(a,b){var e=b.dataSource,f=b.shouldSubscribeToRecentSearches;function g(b){var g=d("react-compiler-runtime").c(28),k,l,m,n,o;g[0]!==b?(k=b.inputRef,l=b.onChange,m=b.onPressEntry,n=b.onSelectFreeformQuery,o=babelHelpers.objectWithoutPropertiesLoose(b,["inputRef","onChange","onPressEntry","onSelectFreeformQuery"]),g[0]=b,g[1]=k,g[2]=l,g[3]=m,g[4]=n,g[5]=o):(k=g[1],l=g[2],m=g[3],n=g[4],o=g[5]);b=c("useCometInternalTypeaheadFetch")();var p=b.refetch;b=c("useCometInternalTypeaheadStateDispatcher")();var q=b.dispatchHighlightedEntry;b=(b=c("useSearchCometEventEmitterContext")(c("SearchCometTypeaheadEventEmitterContext")))!=null?b:{};var r=b.subscribeToRecentSearchEntryAdded,s;g[6]!==r?(b=function(){if(f)return r==null?void 0:r(h)},s=[r],g[6]=r,g[7]=b,g[8]=s):(b=g[7],s=g[8]);j(b,s);g[9]!==n?(b=function(a){var b={hasSecondaryAction:!0,key:a,label:a,metaData:{markers:new Set(["recent"])},rawData:{},subtype:"recent",type:"entry"};e.addRecentEntry(b);n&&n(a)},g[9]=n,g[10]=b):b=g[10];s=b;g[11]!==p?(b=function(a){e.removeRecentEntry(a,{onBeforeCommitMutation:function(){p({source:"cache"})}})},g[11]=p,g[12]=b):b=g[12];var t=b;g[13]!==q||g[14]!==m||g[15]!==t?(b=function(a,b){var c,d=a.label,f=a.metaData;c=(c=f==null?void 0:f.markers)!=null?c:new Set();if(b===!0&&a.subtype==="recent"){t(a);q({entry:null,secondaryActionHighlighted:null,source:null});return}if(c.has("nullstate_explore")){m&&m(a);return}var g=new Set(["recent"]);c.has("entity")&&g.add("entity");c.has("direct_nav")&&g.add("direct_nav");c.has("high_confidence")&&g.add("high_confidence");a.subtype==="recent"||a.subtype==="bootstrap"||a.subtype==="keyword"?c=babelHelpers["extends"]({},a.rawData,{badgeSnippet:null}):c={};f=(f=f==null?void 0:f.logging)!=null?f:{};var h=f.entityID,i=f.entityType,j=f.loggingInfo,k=f.stsDirectNavEntityID,l=f.stsDirectNavType,n=f.stsDisambiguationType,o=f.stsHighConfidenceID;f=f.stsHighConfidenceSource;e.addRecentEntry({hasSecondaryAction:!0,key:d.toLocaleLowerCase(),label:d,metaData:{logging:{entityID:h,entityType:i,loggingInfo:j,stsDirectNavEntityID:k,stsDirectNavType:l,stsDisambiguationType:n,stsHighConfidenceID:o,stsHighConfidenceSource:f},markers:g},rawData:c,subtype:"recent",type:"entry"});m==null?void 0:m(a,b)},g[13]=q,g[14]=m,g[15]=t,g[16]=b):b=g[16];b=b;var u;g[17]!==t?(u={dispatchRemoveRecentEntry:t},g[17]=t,g[18]=u):u=g[18];u=u;u=u;var v;g[19]!==k||g[20]!==s||g[21]!==b||g[22]!==l||g[23]!==o?(v=i.jsx(a,babelHelpers["extends"]({},o,{inputRef:k,onChange:l,onPressEntry:b,onSelectFreeformQuery:s})),g[19]=k,g[20]=s,g[21]=b,g[22]=l,g[23]=o,g[24]=v):v=g[24];g[25]!==u||g[26]!==v?(k=i.jsx(c("CometSearchRecentDataSourceDispatcherContext").Provider,{value:u,children:v}),g[25]=u,g[26]=v,g[27]=k):k=g[27];return k}function h(a){e.addRecentEntry(a)}return g}g["default"]=a}),98);
__d("useCometTypeaheadStateQueryString",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState;function a(a){var b=d("react-compiler-runtime").c(5),c=j(a),e=c[0],f=c[1],g;b[0]!==a?(c=function(){return f(a)},g=[a],b[0]=a,b[1]=c,b[2]=g):(c=b[1],g=b[2]);i(c,g);b[3]!==e?(c=[e,f],b[3]=e,b[4]=c):c=b[4];return c}g["default"]=a}),98);
__d("useHostedRouteEntityKey",["getCometEntityKey","react","react-compiler-runtime","useHostedRoute"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;function a(){var a=d("react-compiler-runtime").c(2),b=c("useHostedRoute")(),e;a[0]!==b?(e=b?c("getCometEntityKey")(b):null,a[0]=b,a[1]=e):e=a[1];b=e;a=b;return a}g["default"]=a}),98);
__d("useSearchCometRecentSearchDataSource",["Actor","CometRelay","CometSearchRecentDataSource","CometSearchRecentDataSource.query","WebPixelRatio","XCometActivityLogControllerRouteBuilder","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo,j=16;function a(a){var b=a.fetchSearchBadge,e=b===void 0?!1:b,f=a.filter,g=a.nullStateSurface,h=a.searchScopeEntityID,k=d("CometRelay").useRelayEnvironment();b=d("Actor").useActor();a=b[0];var l=c("XCometActivityLogControllerRouteBuilder").buildURL({category_key:"SEARCH",entry_point:"edit_search_history",log_filter:"search",vanity:a});return i(function(){return new(c("CometSearchRecentDataSource"))({activityLogURL:l,gqlQuery:d("CometSearchRecentDataSource.query").query,limit:j,normalize:d("CometSearchRecentDataSource.query").normalize,queryVariablesBuilderFunction:function(){return{fetch_nullstate:g!=null,fetch_recent_searches:f!=null,fetch_search_badge:e,filter:f,first:j,scale:d("WebPixelRatio").get(),search_null_state_argument:g!=null?{surface:{name:g}}:{surface:{name:"GLOBAL"}},search_scope_entity_id:h}},relayEnvironment:k})},[l,e,f,g,k,h])}g["default"]=a}),98);
__d("useSearchCometTypeaheadCompositeDataSource",["BaseDataEntryLabelKeyBuilder","CometRelay","CometSearchBootstrapKeywordsDataSource","CometSearchKeywordDataSource","Promise","cometSearchTypeaheadDecorateMixedPayload","cometSearchTypeaheadDecorateRecentPayload","cometSearchTypeaheadSTSDedupeCachedEntries","cometSearchTypeaheadSTSDedupeEntries","justknobx","react","react-compiler-runtime","searchCometTypeaheadPushErrorToast"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");e.useCallback;e.useMemo;function a(a){var e=d("react-compiler-runtime").c(51),f=a.config,g=a.recentDataSource,i=a.searchScopeEntityID;a=f.dataSources;var n=f.logging;f=f.view;var o=a.bootstrapKeywordsDataSourceParams;a=a.keywordDataSourceParams;var p=n.sessionContext,q=f.renderLimit,r=f.sectionLimits;n=d("CometRelay").useRelayEnvironment();e[0]!==o||e[1]!==q||e[2]!==n?(f=o!=null?new(c("CometSearchBootstrapKeywordsDataSource"))(babelHelpers["extends"]({},o,{limit:q,relayEnvironment:n})):null,e[0]=o,e[1]=q,e[2]=n,e[3]=f):f=e[3];o=f;var s=o;e[4]!==a||e[5]!==q||e[6]!==n?(f=new(c("CometSearchKeywordDataSource"))(babelHelpers["extends"]({},a,{dedupe:c("cometSearchTypeaheadSTSDedupeCachedEntries"),limit:q,onError:m,relayEnvironment:n})),e[4]=a,e[5]=q,e[6]=n,e[7]=f):f=e[7];o=f;var t=o;e[8]!==q?(a=function(a){var b=a.entries;a=a.params;return c("cometSearchTypeaheadDecorateMixedPayload")({entries:b,params:a},{excludeSeeAllAndEcho:(b=c("justknobx")._("1509"))!=null?b:!1,keyBuilder:c("BaseDataEntryLabelKeyBuilder"),limit:q})},e[8]=q,e[9]=a):a=e[9];var u=a,v=l;e[10]!==s||e[11]!==g?(n=function(){s==null?void 0:s.bootstrap(),g==null?void 0:g.bootstrap()},e[10]=s,e[11]=g,e[12]=n):n=e[12];f=n;e[13]!==p||e[14]!==g||e[15]!==i?(o=function(a,b){if(g==null)return;if(i==null){g.add(a,p,b);return}var c=a.key,d=a.label,e=a.metaData;a=a.rawData;e={logging:{searchScopeEntityID:i},markers:e.markers};c={hasSecondaryAction:!0,key:c,label:d,metaData:e,rawData:a,subtype:"recent",type:"entry"};g.add(c,p,b)},e[13]=p,e[14]=g,e[15]=i,e[16]=o):o=e[16];a=o;e[17]!==s||e[18]!==u||e[19]!==t||e[20]!==q||e[21]!==g||e[22]!==r?(n=function(a){var b=a.query;if(b===""&&g!=null){var d=g.fetchCache(a),e=d.entries;d=d.params;return c("cometSearchTypeaheadDecorateRecentPayload")({entries:e,params:d},{getSectionLimitKey:k,limit:q,sectionLimits:r})}if(b==="")return{entries:[],params:a};if(s==null){e=t.fetchCache(a);return u(babelHelpers["extends"]({},e))}d=s.fetchCache(a);b=d.entries;e=d.params;if(b.length>=q)return u({entries:b,params:e});d=t.fetchCache(a);e=d.entries;a=d.params;d=v(b,e);return u({entries:d,params:a})},e[17]=s,e[18]=u,e[19]=t,e[20]=q,e[21]=g,e[22]=r,e[23]=n):n=e[23];o=n;e[24]!==s||e[25]!==u||e[26]!==t||e[27]!==q||e[28]!==g||e[29]!==r?(n=function(a){var d=a.query;if(d===""&&g!=null)return g.fetchNetwork(a).then(function(a){return c("cometSearchTypeaheadDecorateRecentPayload")({entries:a.entries,params:a.params},{getSectionLimitKey:j,limit:q,sectionLimits:r})});if(d==="")return(h||(h=b("Promise"))).resolve({entries:[],params:a});return s==null?t.fetchNetwork(a).then(function(a){return u(babelHelpers["extends"]({},a))}):t.fetchNetwork(a).then(function(b){var c=s.fetchCache(a);c=c.entries;var d=b.entries;b=b.params;c=v(c,d);return u({entries:c,params:b})})},e[24]=s,e[25]=u,e[26]=t,e[27]=q,e[28]=g,e[29]=r,e[30]=n):n=e[30];n=n;var w;e[31]!==g?(w=function(a,b){g!=null&&g.remove(a,b)},e[31]=g,e[32]=w):w=e[32];w=w;var x;e[33]!==t?(x=function(){return t.clearQueryCache()},e[33]=t,e[34]=x):x=e[34];var y;e[35]!==g?(y=function(){return g==null?void 0:g.clear()},e[35]=g,e[36]=y):y=e[36];var z;e[37]!==s?(z=function(){return s},e[37]=s,e[38]=z):z=e[38];var A;e[39]!==g?(A=function(){return g==null?void 0:g.refresh()},e[39]=g,e[40]=A):A=e[40];var B;e[41]!==a||e[42]!==f||e[43]!==o||e[44]!==n||e[45]!==w||e[46]!==x||e[47]!==y||e[48]!==z||e[49]!==A?(B={addRecentEntry:a,bootstrap:f,clearQueryCache:x,clearRecentSearches:y,fetchCache:o,fetchNetwork:n,getBootstrapKeywordsDataSource:z,refreshRecentSearches:A,removeRecentEntry:w},e[41]=a,e[42]=f,e[43]=o,e[44]=n,e[45]=w,e[46]=x,e[47]=y,e[48]=z,e[49]=A,e[50]=B):B=e[50];a=B;return a}function j(a){return a.type==="section"?a.subtype:null}function k(a){return a.type==="section"?a.subtype:null}function l(a,b){return c("cometSearchTypeaheadSTSDedupeEntries")(a,b,"bootstrap_and_backend_merge")}function m(){return c("searchCometTypeaheadPushErrorToast")()}g["default"]=a}),98);
__d("useSearchCometTypeaheadRecentDataSourceContextDecorator",["react","searchCometTypeaheadWithRecentDataSourceContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(a,b){b===void 0&&(b=!0);return i(function(){return{decorate:function(){return c("searchCometTypeaheadWithRecentDataSourceContext").apply(void 0,arguments)},params:{dataSource:a,shouldSubscribeToRecentSearches:b}}},[a,b])}g["default"]=a}),98);
__d("useSearchCometTypeaheadViewItem",["SearchCometTypeaheadViewItemResolver.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;function a(a){var b=d("react-compiler-runtime").c(4),e=a.additionalEntryMappings,f=a.getLinkProps,g=a.seeAllLabelBuilder;b[0]!==e||b[1]!==f||b[2]!==g?(a=function(a){var b=a.entry,d=a.queryString,h=babelHelpers.objectWithoutPropertiesLoose(a,["entry","queryString"]);return i.jsx(c("SearchCometTypeaheadViewItemResolver.react"),{additionalEntryMappings:e,entry:b,seeAllLabelBuilder:g,children:function(a,c){return i.jsx(a,babelHelpers["extends"]({},h,{entry:b,extraViewItemProps:c,linkProps:f==null?void 0:f({entry:b,queryString:d}),queryString:d}))}})},b[0]=e,b[1]=f,b[2]=g,b[3]=a):a=b[3];return a}g["default"]=a}),98);
__d("useSearchCometTypeaheadViewListStrategy",["CometScrollableArea.react","FocusInertRegion.react","focusScopeQueries","react","react-compiler-runtime","react-strict-dom","useCometTypeaheadSectionedViewListStrategy","useSearchCometTypeaheadViewItem"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;function a(a){var b=d("react-compiler-runtime").c(15),e=a.additionalEntryMappings,f=a.afterNullstateContent,g=a.emptyStateContent,h=a.getLinkProps,j=a.isScrollable,k=a.nullstateContent,l=a.onHeaderActionPress,m=a.scrollableXStyle,n=a.seeAllLabelBuilder,o=a.xstyle;b[0]!==e||b[1]!==h||b[2]!==n?(a={additionalEntryMappings:e,getLinkProps:h,seeAllLabelBuilder:n},b[0]=e,b[1]=h,b[2]=n,b[3]=a):a=b[3];e=c("useSearchCometTypeaheadViewItem")(a);b[4]!==g||b[5]!==k||b[6]!==l||b[7]!==e?(h={emptyStateContent:g,nullstateContent:k,onHeaderActionPress:l,viewItemStrategyRenderer:e},b[4]=g,b[5]=k,b[6]=l,b[7]=e,b[8]=h):h=b[8];var p=c("useCometTypeaheadSectionedViewListStrategy")(h);b[9]!==p||b[10]!==f||b[11]!==j||b[12]!==m||b[13]!==o?(n=function(a){var b=a.ariaProps,e=a.entries,g=a.highlightedEntry,h=a.isLoading,k=a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,["ariaProps","entries","highlightedEntry","isLoading","queryString"]);b=i.jsxs(i.Fragment,{children:[i.jsx(p,babelHelpers["extends"]({ariaProps:b,entries:e,highlightedEntry:g,isLoading:h,queryString:k},a)),f!=null&&k.length===0&&e.length>0?f:null]});g=k==="";return i.jsx(c("FocusInertRegion.react"),{focusQuery:d("focusScopeQueries").tabbableScopeQuery,children:i.jsx(d("react-strict-dom").html.div,{style:o,"data-testid":void 0,children:j?i.jsx(c("CometScrollableArea.react"),{horizontal:!1,xstyle:m,children:b}):b})})},b[9]=p,b[10]=f,b[11]=j,b[12]=m,b[13]=o,b[14]=n):n=b[14];return n}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("LSAppendDataTraceAddon",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return c[0]=b.i64.of_float(Date.now()),b.db.table(154).add({addonId:void 0,traceId:a[0],timestampMs:c[0],checkPointId:a[1],syncChannel:a[2],errorMessage:a[3],tags:a[4]})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSDataTraceAppendDataTraceAddonStoredProcedure";a.__tables__=["data_trace_addon"];e.exports=a}),null);
__d("LSBase64Encode.nop",["Base64Utils","LSResult","LSSynchronousPromise"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b,e){return d("LSSynchronousPromise").maybeMakeSynchronousPromise(c("LSResult")(e?d("Base64Utils").fromArrayBuffer(e):void 0))};a.__nop_name__="LSBase64Encode";g["default"]=a}),98);
__d("LSClearMessagePlaceholderRange",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(13).fetch([[[a[0],b.i64.cast([0,0])]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&c.minMessageId===a[1]&&b.i64.eq(b.i64.cast([0,0]),c.minTimestampMs)&&b.i64.eq(a[2],c.maxTimestampMs)}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxClearMessagePlaceholderRangeStoredProcedure";a.__tables__=["messages_ranges_v2__generated"];e.exports=a}),null);
__d("LSGetViewerFBID",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(a){return b.sequence([function(a){return b.db.table(4).fetch([[[b.i64.cast([0,1])]]]).next().then(function(a,d){var e=a.done;a=a.value;return e?c[0]=b.i64.cast([-1,4294967295]):(d=a.item,c[0]=d.facebookUserId)})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreGetViewerFBIDStoredProcedure";a.__tables__=["_user_info"];e.exports=a}),null);
__d("LSComputeParticipantCapabilities",["LSGetViewerFBID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[0]=a[0],a})},function(b){return c.filter(c.db.table(14).fetch([[[a[1],d[0]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,d[0])}).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1,!1],d[1]=c[0],d[2]=c[1],c):(b=a.item,c=[b.isAdmin==null?!1:b.isAdmin,b.isModerator],d[1]=c[0],d[2]=c[1],c)})},function(b){return c.filter(c.db.table(14).fetch([[[a[1],a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,a[0])}).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1,!1],d[4]=c[0],d[5]=c[1],c):(b=a.item,c=[b.isAdmin==null?!1:b.isAdmin,b.isModerator],d[4]=c[0],d[5]=c[1],c)})},function(b){return c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(a,b){var e=a.done;a=a.value;return e?(e=[c.i64.cast([0,1073741823]),c.i64.cast([0,0]),!1],d[7]=e[0],d[8]=e[1],d[9]=e[2],e):(b=a.item,e=[b.capabilities==null?c.i64.cast([0,1073741823]):b.capabilities,b.contactTypeExact==null?c.i64.cast([0,0]):b.contactTypeExact,b.isManagedByViewer==null?!1:b.isManagedByViewer],d[7]=e[0],d[8]=e[1],d[9]=e[2],e)})},function(a){return d[12]=c.i64.eq(d[8],c.i64.cast([0,4]))?d[9]?c.i64.cast([0,2612119]):c.i64.or_(c.i64.cast([0,2612119]),c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,3])))):d[7],c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[11]=a[0],a})},function(e){return d[13]=c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,20]))),d[15]=d[1]&&!d[4]&&c.i64.neq(d[11],a[0])?d[12]:c.i64.eq(c.i64.and_(d[12],d[13]),c.i64.cast([0,0]))?d[12]:c.i64.sub(d[12],d[13]),c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[14]=a[0],a})},function(e){return d[16]=c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,22]))),d[19]=d[4]&&d[1]&&c.i64.neq(d[14],a[0])?d[15]:c.i64.eq(c.i64.and_(d[15],d[16]),c.i64.cast([0,0]))?d[15]:c.i64.sub(d[15],d[16]),d[2]?d[17]=!(d[4]||d[5]):d[17]=!0,c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[18]=a[0],a})},function(b){return d[20]=c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,21]))),e[0]=(d[1]||d[2])&&d[17]&&c.i64.neq(a[0],d[18])?d[19]:c.i64.eq(c.i64.and_(d[19],d[20]),c.i64.cast([0,0]))?d[19]:c.i64.sub(d[19],d[20])}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxComputeParticipantCapabilitiesStoredProcedure";a.__tables__=["participants","contacts"];e.exports=a}),null);
__d("LSVec",[],(function(a,b,c,d,e,f){"use strict";var g={tag:{value:"ls-array"}};function h(a){return Object.defineProperties([].concat(a),g)}function a(a){return h(a)}function b(a){return Array.from(a)}c={from:h,ofArray:a,toArray:b};f["default"]=c}),66);
__d("LSDict",["FBLogger","I64","LSVec"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){if(a==null)return void 0;var b=(h||(h=d("I64"))).cast(a);return b!=null?JSON.stringify([(h||(h=d("I64"))).to_string(b)]):JSON.stringify(a)}function j(a){if(a==null)return void 0;a=JSON.parse(a);return Array.isArray(a)?(h||(h=d("I64"))).of_string(a[0]):a}a=function(){function a(a){this.size=0;var b=new Map(Array.from(a||[]).map(function(a){var b=a[0];a=a[1];return b==null?null:[i(b),a]}).filter(Boolean));this.$1=b;Object.defineProperties(this,{size:{get:function(){return b.size}}})}var b=a.prototype;b.get=function(a){return a==null?void 0:this.$1.get(i(a))};b.set=function(a,b){if(a==null)return this;this.$1.set(i(a),b);return this};b["delete"]=function(a){return a==null?!1:this.$1["delete"](i(a))};b.clear=function(){return this.$1.clear()};b.forEach=function(a){var b=this;this.$1.forEach(function(c,d){return a(c,j(d),b)})};b.has=function(a){return a==null?!1:this.$1.has(i(a))};b.entries=function*(){for(var a of this.$1.entries()){var b=a[0],c=a[1];yield [j(b),c]}};b.keys=function(){return c("LSVec").from(Array.from(this.$1.keys()).map(function(a){return j(a)}))};b.values=function(){return this.$1.values()};a.fromObject=function(b){return new a(Object.entries(b))};a.shapeToRecord=function(a){return Array.from(a.entries()).reduce(function(a,b){var d=b[0];b=b[1];if(typeof d!=="string")throw c("FBLogger")("messenger_web").mustfixThrow("Cannot convert dicts with mixed keys to records");return babelHelpers["extends"]({},a,(a={},a[d]=b,a))},{})};return a}();g["default"]=a}),98);
__d("LSJson",["FBLogger","I64","LSDict","LSVec"],(function(a,b,c,d,e,f,g){"use strict";var h,i=512,j={useLSTypes:!1};function a(a,b){b=b===void 0?j:b;var e=b.useLSTypes;function f(a,b){return function(){return function(c){c=a()(c);if(c!=null){var d=c[0];c=c[1];return[b(d),c]}}}}function g(a){return JSON.parse('"'+a+'"')}function i(a){return function(){return function(b){var c=g(a);if(b.startsWith(c))return[c,b.substr(c.length)];else return void 0}}}function k(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return function(){return function(a){var c=[];a=a;for(var d of b){var e=d()(a);if(e==null)return void 0;a=e[1];c.push(e[0])}return[c,a]}}}function l(a){return function(){return function(b){var c=a.exec(b);return c!=null?[c,b.substr(c[0].length)]:void 0}}}function m(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return function(){return function(a){for(var c of b){var d=c()(a);if(d!=null)return d}}}}function n(a){return function(){return function(b){var c=a()(b);return c!=null?c:[void 0,b]}}}function o(a){return function(){return function(b){var c=a()(b),d=[];b=b;while(c!=null)b=c[1],d.push(c[0]),c=a()(b);return[d,b]}}}b=l(/^[\n\r\s]*/);var p=f(l(/^\"((?:[^\"\\]|\\.)*)\"/),function(a){a=a[1];return g(a)}),q=f(l(/^-?\d+(?:(?:\.\d+)?[eE][-\+]?\d+|\.\d+)/),function(a){a=a[0];return Number(a)});l=f(l(/^-?\d+/),function(a){a=a[0];return(h||(h=d("I64"))).of_string(a)});var r=f(i("null"),function(a){return null}),s=f(i("true"),function(a){return!0}),t=f(i("false"),function(a){return!1}),u=f(k(b,p,b,i(":"),function(){return v()}),function(a){var b=a[1];a=a[4];return[b,a]});u=f(k(u,o(k(b,i(","),u))),function(a){var b=a[0];a=a[1];return[b].concat(a.map(function(a){a=a[2];return a}))});u=f(k(i("{"),n(u),b,i("}")),function(a){a=a[1];a=a===void 0?[]:a;return e?new(c("LSDict"))(a):Object.fromEntries(a)});o=f(k(function(){return v()},o(k(b,i(","),function(){return v()}))),function(a){var b=a[0];a=a[1];return[b].concat(a.map(function(a){a=a[2];return a}))});n=f(k(i("["),b,n(o),b,i("]")),function(a){a=a[2];a=a===void 0?[]:a;return e?c("LSVec").ofArray(a):a});var v=f(k(b,m(u,p,q,l,n,r,s,t),b),function(a){a=a[1];return a});o=v()(a);if(o==null)throw c("FBLogger")("messenger_web").mustfixThrow("error parsing string");if(o[1]!=="")throw c("FBLogger")("messenger_web").mustfixThrow("unexpected %s",o[1]);return o[0]}function k(a,b,e){b===void 0&&(b=0);e===void 0&&(e="");if(b>i)throw c("FBLogger")("messenger_web").mustfixThrow("recursion limit exceeded");if(typeof a==="string"||typeof a==="number")return JSON.stringify(a);else if(typeof a==="boolean")return a?"1":"0";else if(a==null)return"null";else if(typeof a==="object")if(Array.isArray(a)){if(a.tag==="ls-array")return"["+a.map(function(a,c){return k(a,b+1,e+"/"+c.toString())}).join(",")+"]";a._tag!=="i64"&&c("FBLogger")("messenger_web").warn("LSJson payload contains untagged i64: %s",e);return(h||(h=d("I64"))).to_string(a)}else if(a instanceof c("LSDict"))return"{"+Array.from(a.entries()).map(function(a){var d=a[0];a=a[1];if(typeof d==="string")return JSON.stringify(d)+":"+k(a,b+1,e+"/"+d);else throw c("FBLogger")("messenger_web").mustfixThrow("key must be a string")}).join(",")+"}";throw c("FBLogger")("messenger_web").mustfixThrow("type not supported: %s, path: %s",a===null?"null":typeof a,e)}g.parse=a;g.stringify=k}),98);
__d("LSDeserializeFromJsonIntoDictionaryV2.nop",["FBLogger","LSDict","LSJson","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,e,f){a=d("LSJson").parse(f,{useLSTypes:!0});if(a instanceof c("LSDict"))return(h||(h=b("Promise"))).resolve([a]);throw c("FBLogger")("messenger_web").mustfixThrow("unexpected Dictionary type")};a.__nop_name__="LSDeserializeFromJsonIntoDictionary";g["default"]=a}),98);
__d("LSGetCursor",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return b.db.table(1).fetch([[[a[0]]]]).next().then(function(a,b){var d=a.done;a=a.value;return d?c[0]=void 0:(b=a.item,c[0]=b.currentCursor)})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreGetCursorStoredProcedure";a.__tables__=["sync_groups"];e.exports=a}),null);
__d("LSGetFirstAvailableAttachmentCTAID",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(a){return b.sequence([function(a){return b.db.table(19).fetchDesc().next().then(function(a,d){var e=a.done;a=a.value;return e?c[0]=b.i64.cast([0,1]):(d=a.item,c[0]=b.i64.add(d.ctaId,b.i64.cast([0,1])))})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxGetFirstAvailableAttachmentCTAIDStoredProcedure";a.__tables__=["attachment_ctas"];e.exports=a}),null);
__d("LSInsertAttachmentItem",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(18).add({attachmentFbid:a[0],attachmentIndex:a[1],threadKey:a[2],messageId:a[4],defaultActionEnableExtensions:a[31],originalPageSenderId:a[7],titleText:a[8],subtitleText:a[9],bodyText:a[12],playableUrl:a[13],playableUrlFallback:a[14],playableUrlExpirationTimestampMs:a[15],playableUrlMimeType:a[16],dashManifest:a[17],previewUrl:a[18],previewUrlFallback:a[19],previewUrlExpirationTimestampMs:a[20],previewUrlMimeType:a[21],previewWidth:a[22],previewHeight:a[23],imageUrl:a[24],defaultCtaId:a[25],defaultCtaTitle:a[26],defaultCtaType:a[27],defaultButtonType:a[29],defaultActionUrl:a[30],defaultWebviewHeightRatio:a[33],attachmentCta1Id:a[35],cta1Title:a[36],cta1IconType:a[37],cta1Type:a[38],attachmentCta2Id:a[40],cta2Title:a[41],cta2IconType:a[42],cta2Type:a[43],attachmentCta3Id:a[45],cta3Title:a[46],cta3IconType:a[47],cta3Type:a[48],faviconUrl:a[49],faviconUrlFallback:a[50],faviconUrlExpirationTimestampMs:a[51],previewUrlLarge:a[52]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxInsertAttachmentItemStoredProcedure";a.__tables__=["attachment_items"];e.exports=a}),null);
__d("LSInsertNewMessageRange",["LSClearMessagePlaceholderRange"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(d){return c.storedProcedure(b("LSClearMessagePlaceholderRange"),a[0],a[9],c.i64.cast([0,0]))},function(b){return c.filter(c.db.table(13).fetch([[[a[0],{lte:a[5]}]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.le(b.minTimestampMs,a[5])&&c.i64.ge(b.maxTimestampMs,a[5])}).next().then(function(b,c){var e=b.done;b=b.value;return e?(e=[a[1],a[3],a[7]],d[0]=e[0],d[1]=e[1],d[2]=e[2],e):(c=b.item,e=[c.minTimestampMs,c.minMessageId,c.hasMoreBefore],d[0]=e[0],d[1]=e[1],d[2]=e[2],e)})},function(b){return c.filter(c.db.table(13).fetch([[[a[0],{lte:a[6]}]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.le(b.minTimestampMs,a[6])&&c.i64.ge(b.maxTimestampMs,a[6])}).next().then(function(b,c){var e=b.done;b=b.value;return e?(e=[a[2],a[4],a[8]],d[4]=e[0],d[5]=e[1],d[6]=e[2],e):(c=b.item,e=[c.maxTimestampMs,c.maxMessageId,c.hasMoreAfter],d[4]=e[0],d[5]=e[1],d[6]=e[2],e)})},function(b){return c.forEach(c.filter(c.db.table(13).fetch([[[a[0],{lte:a[6]}]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.ge(a[6],b.minTimestampMs)&&c.i64.le(a[5],b.maxTimestampMs)}),function(a){return a["delete"]()})},function(b){return c.db.table(13).put({threadKey:a[0],minTimestampMs:d[0],minMessageId:d[1],maxTimestampMs:d[4],maxMessageId:d[5],isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:d[2],hasMoreAfter:d[6]})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxInsertNewMessageRangeStoredProcedure";a.__tables__=["messages_ranges_v2__generated"];e.exports=a}),null);
__d("LSIsEncryptionVersionSecure",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.i64.eq(a[0],b.i64.cast([0,4]))?c[0]=!1:(b.i64.eq(a[0],b.i64.cast([0,3]))?c[1]=!0:(b.i64.eq(a[0],b.i64.cast([0,2]))?c[2]=!0:(b.i64.eq(a[0],b.i64.cast([0,0]))?c[3]=!0:(b.i64.eq(a[0],b.i64.cast([0,99]))?c[4]=!1:c[4]=!1,c[3]=c[4]),c[2]=c[3]),c[1]=c[2]),c[0]=c[1]),d[0]=c[0],b.resolve(d)}a.__sproc_name__="LSEncryptedBackupsVersioningIsEncryptionVersionSecureStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSIssueMessagesRangeQuery",["LSGetCursor","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[2]=c.i64.eq(a[2],c.i64.cast([-1,4294967295]))?c.i64.cast([0,0]):a[2],c.islc(c.filter(c.db.table(13).fetchDesc([[[a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&(c.i64.eq(b.minTimestampMs,void 0)||c.i64.le(b.minTimestampMs,a[1]))}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(e,f){var g=e.done;e=e.value;return g?d[0]=!1:(f=e.item,c.sequence([function(e){return d[5]=f.threadKey,d[6]=c.i64.cast([0,0]),d[7]=f.minTimestampMs,d[8]=f.minMessageId,c.i64.eq(d[2],c.i64.cast([0,1]))?d[3]=!f.isLoadingAfter:d[3]=!f.isLoadingBefore,d[3]?c.sequence([function(e){return c.i64.eq(d[2],c.i64.cast([0,1]))?d[9]=f.hasMoreAfter:d[9]=f.hasMoreBefore,d[9]?c.sequence([function(a){return c.i64.eq(d[2],c.i64.cast([0,1]))?c.sequence([function(a){return c.forEach(c.filter(c.db.table(13).fetch([[[d[5],d[7],d[8]]]]),function(a){return c.i64.eq(a.threadKey,d[5])&&c.i64.eq(c.i64.cast([0,0]),d[6])&&c.i64.eq(a.minTimestampMs,d[7])&&a.minMessageId===d[8]}),function(a){var b=a.update;a.item;return b({isLoadingAfter:!0})})},function(a){return a=[f.maxTimestampMs,f.maxMessageId],d[10]=a[0],d[11]=a[1],a}]):c.sequence([function(a){return c.forEach(c.filter(c.db.table(13).fetch([[[d[5],d[7],d[8]]]]),function(a){return c.i64.eq(a.threadKey,d[5])&&c.i64.eq(c.i64.cast([0,0]),d[6])&&c.i64.eq(a.minTimestampMs,d[7])&&a.minMessageId===d[8]}),function(a){var b=a.update;a.item;return b({isLoadingBefore:!0})})},function(a){return a=[d[7],d[8]],d[10]=a[0],d[11]=a[1],a}])},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[12]=c.i64.cast([0,1]):(e=b.item,d[19]=e.syncGroup,c.i64.neq(d[19],void 0)?d[18]=d[19]:d[18]=c.i64.cast([0,1]),d[12]=d[18])})},function(a){return c.storedProcedure(b("LSGetCursor"),d[12]).then(function(a){return a=a,d[14]=a[0],a})},function(e){return d[15]=new c.Map(),d[15].set("thread_key",a[0]),d[15].set("direction",d[2]),d[15].set("reference_timestamp_ms",d[10]),d[15].set("reference_message_id",d[11]),d[15].set("sync_group",d[12]),d[15].set("cursor",d[14]),d[16]=d[15].get("thread_key"),d[17]=c.toJSON(d[15]),c.storedProcedure(b("LSIssueNewTask"),"mrq.{}".split("{}").join(c.i64.to_string(d[16])),c.i64.cast([0,228]),d[17],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):c.resolve()},function(a){return d[4]=!0}]):c.resolve(d[4]=!1)},function(a){return d[0]=d[4]}]))})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxIssueMessagesRangeQueryStoredProcedure";a.__tables__=["messages_ranges_v2__generated","threads"];e.exports=a}),null);
__d("LSIssueMessagesRangeQueryStoredProcedure",["LSIssueMessagesRangeQuery","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSIssueMessagesRangeQuery"),e.threadKey,e.referenceTimestampMs,e.direction);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSSyncError",[],(function(a,b,c,d,e,f){"use strict";var g=new Map();function a(a,b){g.set(a,b)}function b(a){return g.get(a)}f.setSyncError=a;f.getLastSyncError=b}),66);
__d("LSLogEventAnnotate.nop",["FBLogger","I64","LSDict","LSSyncError","LSSynchronousPromise","MAWMIC"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,b,e,f,g,i){a=i.has("error_msg");if(a){c("FBLogger")("messenger_web").warn("[LS] LS log event for logCategory %s, logEventId %s, logEventInstanceId %s, annotations %s, is during MIC: %s",(h||(h=d("I64"))).to_string(e),h.to_string(f),h.to_string(g),JSON.stringify(c("LSDict").shapeToRecord(i)),d("MAWMIC").duringMIC());b=i.get("database_id");b!=null&&(h||(h=d("I64"))).isI64(b)&&d("LSSyncError").setSyncError(b,i)}return d("LSSynchronousPromise").maybeMakeSynchronousPromise()};a.__nop_name__="LSLogEventAnnotate";g["default"]=a}),98);
__d("LSIssueNewTaskAndGetTaskID",["LSIssueNewTask","LSLogEventAnnotate.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(d){return c.storedProcedure(b("LSIssueNewTask"),a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10])},function(b){return d[3]=c.i64.to_string(a[1]),c.filter(c.db.table(2).fetchDesc([[[a[0]]],"queueNameTaskId"]),function(b){return b.queueName===a[0]&&b.context===d[3]&&b.taskValue===a[2]}).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([-1,4294967295]):(b=a.item,d[0]=b.taskId)})},function(e){return d[2]=new c.Map(),d[2].set("task_id",d[0]),d[2].set("task_queue_name",a[0]),d[2].set("task_label",d[3]),c.nativeOperation(b("LSLogEventAnnotate.nop"),c.i64.cast([0,16]),c.i64.cast([0,23]),c.i64.cast([0,0]),d[2])},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSCoreIssueNewTaskAndGetTaskIDStoredProcedure";a.__tables__=["pending_tasks"];e.exports=a}),null);
__d("MebClientLogsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3226");b=d("FalcoLoggerInternal").create("meb_client_logs",a);e=b;g["default"]=e}),98);
__d("LSLogMebClientEvent.nop",["I64","LSVec","MebClientLogsFalcoEvent","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i;a=function(a,e,f,g,j,k){c("MebClientLogsFalcoEvent").log(function(){return{calling_class:f,device_family_id:void 0,device_registration_id:void 0,log_level:(i||(i=d("I64"))).to_string(k),msg:g,trace_ids:c("LSVec").toArray(j)}});return(h||(h=b("Promise"))).resolve()};a.__nop_name__="LSLogMebClientEvent";g["default"]=a}),98);
__d("LSMailboxMessagesRangeQueryDirection",[],(function(a,b,c,d,e,f){a=Object.freeze({BEFORE_LEGACY:-1,BEFORE:0,AFTER:1});f["default"]=a}),66);
__d("LSSetMessageDisplayedContentTypes",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.sequence([function(d){return b.db.table(16).fetch([[[a[0],a[1]]]]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[void 0,void 0],c[0]=d[0],c[1]=d[1],d):(b=a.item,d=[b.attachmentType,b.xmaLayoutType],c[0]=d[0],c[1]=d[1],d)})},function(d){return b.filter(b.db.table(12).fetch([[[a[0],a[2],a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(c.timestampMs,a[2])&&c.messageId===a[1]}).next().then(function(a,d){var e=a.done;a=a.value;return e?(e=[b.i64.cast([0,0]),void 0,void 0],c[3]=e[0],c[4]=e[1],c[5]=e[2],e):(d=a.item,e=[d.replySourceTypeV2,d.replySourceId,d.text],c[3]=e[0],c[4]=e[1],c[5]=e[2],e)})},function(d){return b.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var d=a.done;a=a.value;return d?c[7]=void 0:(b=a.item,c[7]=b.customEmoji)})},function(d){return b.i64.eq(c[0],b.i64.cast([0,6]))?c[9]=b.i64.cast([0,64]):(b.i64.eq(c[0],b.i64.cast([0,5]))?c[16]=b.i64.cast([0,4]):(b.i64.eq(c[0],b.i64.cast([0,3]))?c[17]=b.i64.cast([0,16384]):(b.i64.eq(c[0],b.i64.cast([0,2]))?c[18]=b.i64.cast([0,2]):(b.i64.eq(c[0],b.i64.cast([0,4]))?c[19]=b.i64.cast([0,2]):c[19]=a[5]?b.i64.cast([0,4096]):b.i64.cast([0,0]),c[18]=c[19]),c[17]=c[18]),c[16]=c[17]),c[9]=c[16]),c[10]=c[5]!==void 0&&c[5]!==""&&c[5]!==c[7]?b.i64.or_(c[9],b.i64.cast([0,1])):c[9],c[11]=c[7]!==void 0&&c[7]===c[5]?b.i64.or_(c[10],b.i64.cast([0,128])):c[10],c[12]=b.i64.eq(c[0],b.i64.cast([0,7]))?b.i64.or_(c[11],b.i64.cast([0,8])):c[11],c[13]=b.i64.eq(c[1],b.i64.cast([0,0]))?b.i64.or_(c[12],b.i64.cast([0,1024])):b.i64.eq(c[1],b.i64.cast([0,1]))?b.i64.or_(c[12],b.i64.cast([0,2048])):c[12],c[14]=b.i64.eq(c[3],b.i64.cast([0,2]))&&c[4]!==void 0?b.i64.or_(c[13],b.i64.cast([0,512])):c[13],c[15]=c[5]!==void 0&&c[5]!==""&&c[5]!==c[7]&&b.i64.eq(c[3],b.i64.cast([0,5]))?b.i64.or_(c[14],b.i64.cast([0,512])):c[14],b.forEach(b.filter(b.db.table(12).fetch([[[a[0],a[2],a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(c.timestampMs,a[2])&&c.messageId===a[1]}),function(d){var e=d.update;d.item;return e({displayedContentTypes:a[4]?b.i64.cast([0,32]):b.i64.eq(c[3],b.i64.cast([0,3]))?b.i64.or_(c[15],b.i64.cast([0,8192])):c[15]})})}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxSetMessageDisplayedContentTypesStoredProcedure";a.__tables__=["attachments","messages","threads"];e.exports=a}),null);
__d("LSSuspense",["PromiseAnnotate"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return{current:{error:a,state:"Error"}}}function b(a){return{current:{state:"Done",value:a}}}function c(a){var b={current:{promise:a.then(function(a){b.current={state:"Done",value:a};return a})["catch"](function(a){b.current={error:a,state:"Error"}}),state:"Loading"}};return b}function e(){return new WeakMap()}function i(a){if(a.state==="Loading")throw a.promise;else if(a.state==="Error")throw a.error;else return a.value}function f(a){return i(a.current)}function j(a,b,c){var e=a.get(b);if(e!=null)return i(e);e=c();c={promise:e.then(function(c){a.set(b,{state:"Done",value:c});return c})["catch"](function(c){a.set(b,{error:c,state:"Error"})}),state:"Loading"};var f=c.promise;if(f){void (h||(h=d("PromiseAnnotate"))).setDisplayName(f,(f=(h||(h=d("PromiseAnnotate"))).getDisplayName(e))!=null?f:"LSCollection")}a.set(b,c);return i(c)}j={getFromCollection:j,getOrSuspend:f,makeCollection:e,makeWithError:a,makeWithPromise:c,makeWithValue:b};g["default"]=j}),98);
__d("LSUpsertReaction",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(8).put({threadKey:a[0],messageId:a[2],actorId:a[3],timestampMs:a[1],reaction:a[4],authorityLevel:a[5],reactionCreationTimestampMs:a[6]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxUpsertReactionStoredProcedure";a.__tables__=["reactions"];e.exports=a}),null);
__d("LSVerifyContactRowExists",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(e){var f=e.done;e.value;return f?c.sequence([function(b){return d[0]=a[3]==null?"":a[3],c.forEach(c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))&&c.i64.lt(b.authorityLevel,a[14])}),function(a){return a["delete"]()})},function(b){return c.db.table(7).add({id:a[0],profilePictureUrl:a[2]==null?"":a[2],profilePictureFallbackUrl:a[5],name:d[0],secondaryName:a[20],normalizedNameForSearch:d[0],isMemorialized:a[9],blockedByViewerStatus:a[11],canViewerMessage:a[12],profilePictureLargeUrl:"",isMessengerUser:!0,rank:0,contactType:a[4],contactTypeExact:c.i64.cast([0,0]),requiresMultiway:!1,authorityLevel:a[14],workForeignEntityType:c.i64.cast([0,0]),capabilities:a[15],capabilities2:a[16],contactViewerRelationship:a[19],gender:a[18],firstName:a[21]})},function(e){return d[1]=new c.Map(),d[1].set("contact_id",a[0]),d[2]=c.toJSON(d[1]),c.storedProcedure(b("LSIssueNewTask"),"cpq_v2",c.i64.cast([0,207]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):0})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSContactVerifyContactRowExistsStoredProcedure";a.__tables__=["contacts"];e.exports=a}),null);
__d("ReQLSuspenseSupportedContextTracking",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;d=h||c("react");var i=d.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j;function a(){j=i.H}function b(){var a=i.H;return a!=null&&a===j}g.useReStoreTrackInRender=a;g.isWithinReactRenderingContext=b}),98);
__d("SortedAsyncIterable",["PromiseAnnotate","PromiseOrValue","ReQLGlobalQueryContext","isPromise"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function l(a){var b;if((i||(i=d("ReQLGlobalQueryContext"))).globalQueryContext.contents==null){var c=new WeakMap();(i||(i=d("ReQLGlobalQueryContext"))).globalQueryContext.contents=c;return c}c=(i||(i=d("ReQLGlobalQueryContext"))).globalQueryContext.contents;(b=(i||(i=d("ReQLGlobalQueryContext"))).getDependencies(c))==null?void 0:b.push(a);return c}function a(a){var b=[],e=a.iterator(l(a)),f=(k||(k=d("PromiseOrValue"))).loop(function(){return(k||(k=d("PromiseOrValue"))).map(e.next(),function(a){if(a.done)return{action:"break",value:b};b.push(a.value);return{action:"continue",value:void 0}})});return(h||(h=c("isPromise")))(f)?(j||(j=d("PromiseAnnotate"))).setDisplayName(f,"ReQL"+(a.uniqueId!=null?"_"+a.uniqueId:"")):f}g.getOrCreateContext=l;g.toArray=a}),98);
__d("applyChangesToBPlusTree",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var c=!1;for(var e of b){var f=e[0],g=e[1];switch(g.operation){case"delete":a["delete"](f);break;case"put":var i=a.getWithDefault(f,void 0);if(i===g.value)continue;i=(h||(h=d("I64"))).cast(i);if(i!=null){var j=(h||(h=d("I64"))).cast(g.value);if(j!=null&&(h||(h=d("I64"))).equal(i,j))continue}case"add":a.set(f,g.value);break}c=!0}b.length=0;return c}g["default"]=a}),98);
__d("createBPlusTreeFromSorted",["BPlusTree","ReStoreKeyComparer"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return c("BPlusTree").fromSorted(a,b==="asc"?(h||(h=d("ReStoreKeyComparer"))).compareKey:(h||(h=d("ReStoreKeyComparer"))).compareKeyDesc,64)}g["default"]=a}),98);
__d("shallowEqualI64",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){return Array.isArray(a)&&a.length===2&&Number.isInteger(a[0])&&Number.isInteger(a[1])}function j(a,b){if(a===b)return!0;return i(a)&&i(b)?(h||(h=d("I64"))).equal(a,b):!1}function a(a,b){return k(a,b,j)}function k(a,b,c){c===void 0&&(c=function(a,b){return a===b});if(c(a,b))return!0;if(typeof a!=="object"||a===null||typeof b!=="object"||b===null)return!1;var d=Object.keys(a),e=Object.keys(b);if(d.length!==e.length)return!1;for(e=0;e<d.length;e++)if(!c(a[d[e]],b[d[e]],d[e]))return!1;return!0}g.shallowEqualI64=a;g.shallowEqual=k}),98);
__d("useReStore",["InteractionTracingMetrics","LSDatabaseSingleton","LSSuspense","PromiseAnnotate","ReQLSuspenseSupportedContextTracking","ReStoreProvider.react","react","react-compiler-runtime","suspendOrThrowIfUsedInSSR"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n=(m||d("react")).useContext,o=(h||(h=c("LSSuspense"))).makeCollection();function a(){var a=d("react-compiler-runtime").c(1);d("ReQLSuspenseSupportedContextTracking").useReStoreTrackInRender();var b=n((l||(l=d("ReStoreProvider.react"))).context);if(b!=null)return b;(i||(i=c("suspendOrThrowIfUsedInSSR")))("useReStore: LSDB is not available in SSR. Switching to client side render");(j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton==null&&c("InteractionTracingMetrics").currentInteractionLogger().forEach(q);(k||(k=d("PromiseAnnotate"))).setDisplayName((j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton,"LSDatabaseSingleton");a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=(h||(h=c("LSSuspense"))).getFromCollection(o,(j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton,p),a[0]=b):b=a[0];return b}function p(){return(j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton}function q(a){c("InteractionTracingMetrics").addAnnotationBoolean(a.traceId,"is_lsdb_null",!0)}g["default"]=a}),98);
__d("ReQLSuspense",["FBLogger","I64","Promise","PromiseAnnotate","PromiseOrValue","ReQL","ReQLGlobalQueryContext","ReQLSuspenseSupportedContextTracking","SortedAsyncIterable","applyChangesToBPlusTree","createBPlusTreeFromSorted","isPromise","promiseDone","react","shallowEqualI64","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o,p=m||d("react"),q=p.startTransition,r=p.useEffect,s=p.useMemo,t=p.useState;function u(){var a=(o||(o=d("ReQLGlobalQueryContext"))).globalQueryContext.withinSupportedContext===!0;return a?!0:d("ReQLSuspenseSupportedContextTracking").isWithinReactRenderingContext()}function v(a,b,e){e===!0&&!u()&&c("FBLogger")("messenger_web","reqlsuspense_unsupported_use").blameToPreviousFile().mustfix("Detected use of ReQLSuspense method in unsupported context.\ntoArray/first/firstExn can only be used inside the body of a projection function passed to ReQL map operator.\nFor React rendering contexts, please use appropriate hook (useArray/useFirst/useFirstExn) variants instead.");if((i||(i=c("isPromise")))(a))if(b!=null)throw(n||(n=d("PromiseAnnotate"))).setDisplayName(a,b);else throw a;return a}function w(a){var b=[];for(a of a)Array.isArray(a)&&a.length===2&&Number.isInteger(a[0])&&Number.isInteger(a[1])?b.push(a[0],a[1]):b.push(a,void 0);return b}function x(a){var b=arguments[1];return v(d("SortedAsyncIterable").toArray(a),b,!0).map(function(a){a[0];a=a[1];return a})}function y(a){var b=arguments[1];return x(d("ReQL").prototype.take.call(a,1),b)[0]}function z(a){var b=arguments[1],d=y(a,b);if(d==null)throw c("FBLogger")("messenger_web").mustfixThrow("expected result");return d}function a(a,e){var f=arguments[2],g=s(function(){var b=a();b.uniqueId=f;return b},e==null?[a]:w(e)),i=s(function(){return v(d("SortedAsyncIterable").toArray(g)).map(function(a){a[0];a=a[1];return a})},[g]),l=t([i,g]),m=l[0],n=l[1],o=(j||(j=c("useReStore")))();r(function(){var a,e=[],f=g.subscribe(function(a,b){return void e.push([a,b])});function i(){if(e.length&&a!=null){var b=a;c("applyChangesToBPlusTree")(b,e)&&n([Array.from(b.entries(),function(a){return a[1]}),g])}}var j=F(o,i);c("promiseDone")((h||(h=b("Promise"))).resolve((k||(k=d("PromiseOrValue"))).map(d("SortedAsyncIterable").toArray(g),function(b){a=c("createBPlusTreeFromSorted")(b,g.direction);var f=a;c("applyChangesToBPlusTree")(f,e);q(function(){return n(function(a){var b=Array.from(f.entries(),function(a){return a[1]});return d("shallowEqualI64").shallowEqualI64(a[0],b)&&a[1]===g?a:[b,g]})})})));return function(){j(),f()}},[g,o]);return g===m[1]?m[0]:i}function A(a,e){var f=arguments[2],g=s(function(){var b=a().take(1);b.uniqueId=f;return b},e==null?[a]:w(e)),i=s(function(){var a;return(a=v(g.iterator(d("SortedAsyncIterable").getOrCreateContext(g)).next(),f).value)==null?void 0:a[1]},[g,f]),m=t([i,g]),n=m[0],o=m[1],p=(j||(j=c("useReStore")))();r(function(){var a,e=!1,f=g.subscribe(function(b,c){switch(c.operation){case"delete":a=void 0;break;case"put":if(a===c.value)return;b=(l||(l=d("I64"))).cast(a);if(b!=null){var f=(l||(l=d("I64"))).cast(c.value);if(f!=null&&(l||(l=d("I64"))).equal(b,f))return}case"add":a=c.value;break}e=!0}),i=F(p,function(){e&&(e=!1,o([a,g]))});c("promiseDone")((h||(h=b("Promise"))).resolve((k||(k=d("PromiseOrValue"))).map(g.iterator(d("SortedAsyncIterable").getOrCreateContext(g)).next(),function(b){var c;q(function(){return o(function(a){var c;return a[0]===((c=b.value)==null?void 0:c[1])&&a[1]===g?a:[(c=b.value)==null?void 0:c[1],g]})});a=(c=b.value)==null?void 0:c[1]})));return function(){i(),f()}},[g,p]);return g===n[1]?n[0]:i}function e(a,b){var d=arguments[2],e=A(a,b,d);if(e==null)throw c("FBLogger")("messenger_web").mustfixThrow("expected result");return e}function B(a,b,c,e){var f=s(function(){var b=a();b.uniqueId=c;return b},b==null?[a]:w(b));return s(function(){return(o||(o=d("ReQLGlobalQueryContext"))).runFromContextThatHandlesThrownPromise(function(){return e(f)})},[f,e])}function f(a,b){return B(a,b,arguments[2],x)}function C(a,b){return B(a,b,arguments[2],y)}function D(a,b){return B(a,b,arguments[2],z)}var E=new Map();function F(a,b){var c=E.get(a);if(c==null){var d=new Map();c={handlers:d,unsubscribe:a.subscribeToCommit(function(){q(function(){return d.forEach(function(a){return a()})})})};E.set(a,c)}var e={};c.handlers.set(e,b);var f=c;return function(){f.handlers["delete"](e),f.handlers.size===0&&(f.unsubscribe(),E["delete"](a))}}g.toArray=x;g.first=y;g.firstExn=z;g.useArray=a;g.useFirst=A;g.useFirstExn=e;g.useArrayWithoutSubscribing=f;g.useFirstWithoutSubscribing=C;g.useFirstExnWithoutSubscribing=D}),98);
__d("MWEncryptedBackupsSharedState",["ReQL","ReQLSuspense","WebStorage","getMWEncryptedBackupsIsLocalStorageSupported","promiseDone","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;(j||d("react")).useCallback;function k(a){var b=a.db,c=a.stateKey;a=a.stateValue;var d=a===void 0?"true":a;return b.runInTransaction(function(a){return a.experiences_shared_state.upsert([c],{stateKey:c,stateValue:d})},"readwrite","background",void 0,f.id+":37")}function l(a){var b,e=a.db;a=a.stateKey;if(!d("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported())return;b=(b=(h||(h=c("WebStorage"))).getLocalStorageForRead())==null?void 0:b.getItem(a);if(b!=null){var f;(f=(h||(h=c("WebStorage"))).getLocalStorage())==null?void 0:f.removeItem(a);c("promiseDone")(k({db:e,stateKey:a,stateValue:b}))}return b}function a(a){var b=a.db,c=a.sharedStateTable,d=a.stateKey;a=c.filter(function(a){return a.stateKey===d});if(a.length===0){c=l({db:b,stateKey:d});return c!=null}return!0}function b(a){var b=a.db,c=a.sharedStateTable,d=a.stateKey;a=c.filter(function(a){return a.stateKey===d});c=a[0];return(c==null?void 0:c.stateValue)!=null?c.stateValue:l({db:b,stateKey:d})}function e(a){var b=a.db,c=a.sharedStateRow;a=a.stateKey;return c==null?l({db:b,stateKey:a}):c.stateValue}function m(a){var b=a.db,c=a.stateKey;return b.runInTransaction(function(a){return a.experiences_shared_state["delete"](c)},"readwrite","background",void 0,f.id+":131")}function n(a){var b,e=d("react-compiler-runtime").c(6),g=(i||(i=c("useReStore")))();b=(b=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.tables.experiences_shared_state).getKeyRange(a)},[g.tables.experiences_shared_state,a],f.id+":142"))==null?void 0:b.stateValue;var h;e[0]!==g||e[1]!==a?(h=function(b){return k({db:g,stateKey:a,stateValue:b})},e[0]=g,e[1]=a,e[2]=h):h=e[2];h=h;var j;e[3]!==h||e[4]!==b?(j=[b,h],e[3]=h,e[4]=b,e[5]=j):j=e[5];return j}function o(a){var b=d("react-compiler-runtime").c(5);a=n(a);var c=a[0],e=a[1];b[0]!==e?(a=function(){e("true")},b[0]=e,b[1]=a):a=b[1];a=a;c=c==="true";var f;b[2]!==a||b[3]!==c?(f=[c,a],b[2]=a,b[3]=c,b[4]=f):f=b[4];return f}g.upsertEBSharedStateEntry=k;g.getEntryPresentInLocalStorage=l;g.getIsEntryPresentInSharedState=a;g.getEntryValueFromSharedState=b;g.getEntryValue=e;g.deleteEntry=m;g.useEBSharedStateEntry=n;g.useEBSharedStateEntryBoolean=o}),98);
__d("MWPreloadableQueries",["I64","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h;b=function(a,b){return d("ReQL").fromTableAscending(a.tables.thread_nullstate).getKeyRange(b)};c=function(a,b){return d("ReQL").fromTableAscending(a.tables.thread_nullstate_ctas.index("threadKeyCtaId")).getKeyRange(b)};e=function(a,b){return d("ReQL").fromTableAscending(a.tables.cutover_threads).getKeyRange(b)};f=function(a,b){return d("ReQL").fromTableAscending(a.tables.community_folders).getKeyRange(b)};var i=function(a,b){return d("ReQL").fromTableAscending(a.tables.thread_proactive_warning_settings).getKeyRange(b)},j=function(a,b){return d("ReQL").fromTableAscending(a.tables.in_thread_banner).getKeyRange(b)};function a(a,b){return d("ReQL").fromTableAscending(a.tables.media_staging).filter(function(a){return!a.isSent&&(h||(h=d("I64"))).equal(a.threadKey,b)})}g.threadNullStateQuery=b;g.threadNullStateCtaQuery=c;g.getCutoverThreadByThreadKey=e;g.getCommunityFolderQuery=f;g.getProactiveWarningsForThreadQuery=i;g.getThreadBannerQuery=j;g.getMediaStagingQuery=a}),98);
__d("hasDefaultThreadOneToOneCapabilityDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";a=c("requireDeferred")("hasDefaultThreadOneToOneCapability").__setRef("hasDefaultThreadOneToOneCapabilityDeferred");g["default"]=a}),98);
__d("useCometMessengerhasDefaultThreadOneToOneCapability",["FBLogger","hasDefaultThreadOneToOneCapabilityDeferred","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState;function a(a,b){var e=d("react-compiler-runtime").c(7),f=j(!1),g=f[0],h=f[1];e[0]!==a||e[1]!==b?(f=function(){c("hasDefaultThreadOneToOneCapabilityDeferred").load().then(function(c){b==null?h(!1):c(b,a).then(function(a){h(a)})["catch"](l)})["catch"](k)},e[0]=a,e[1]=b,e[2]=f):f=e[2];var m;e[3]!==a||e[4]!==g||e[5]!==b?(m=[a,g,b],e[3]=a,e[4]=g,e[5]=b,e[6]=m):m=e[6];i(f,m);return g}function k(a){c("FBLogger")("messenger_web").warn("Error loading hasDefaultThreadOneToOneCapability. %s",a)}function l(){}g["default"]=a}),98);
__d("MAWThreadCutover",["I64","LSAuthorityLevel","LSContactBitOffset","LSDatabaseSingleton","LSMessagingThreadTypeUtil","MWEncryptedBackupsLocalStorageEntryEnum","MWEncryptedBackupsSharedState","MWPActor.react","MWPreloadableQueries","ReQL","ReQLSuspense","WAJids","cr:13127","react-compiler-runtime","useCometMessengerhasDefaultThreadOneToOneCapability","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,b){var e=(j||(j=c("useReStore")))(),f=u(a);e=c("useCometMessengerhasDefaultThreadOneToOneCapability")(e,a);a=b!=null&&d("LSMessagingThreadTypeUtil").isGroup(b);return a?!0:f||e}async function e(a){return await C(a)!=null}function k(a){var b=d("react-compiler-runtime").c(4),e=(j||(j=c("useReStore")))(),g,h;b[0]!==e||b[1]!==a?(g=function(){return a!=null?d("MWPreloadableQueries").getCutoverThreadByThreadKey(e,a):d("ReQL").empty()},h=[e,a],b[0]=e,b[1]=a,b[2]=g,b[3]=h):(g=b[2],h=b[3]);return d("ReQLSuspense").useFirst(g,h,f.id+":64")!=null}function l(a){var b,e=(j||(j=c("useReStore")))();b=(b=d("ReQLSuspense").useFirst(function(){return a!=null?d("MWPreloadableQueries").getCutoverThreadByThreadKey(e,a):d("ReQL").empty()},[e,a],f.id+":76"))==null?void 0:b.showOpenMessageHistory;return b===!1}function m(a,b){return d("ReQL").fromTableAscending(a.tables.mi_act_mapping_table).getKeyRange(b)}function n(a,b){return d("ReQL").fromTableAscending(a.tables.cutover_threads).filter(function(a){return(h||(h=d("I64"))).equal(a.armadilloThreadId,b)})}function o(a){var b=d("react-compiler-runtime").c(8),e=(j||(j=c("useReStore")))(),g,h;b[0]!==e||b[1]!==a?(g=function(){return a==null?d("ReQL").empty():m(e,a)},h=[e,a],b[0]=e,b[1]=a,b[2]=g,b[3]=h):(g=b[2],h=b[3]);var i=d("ReQLSuspense").useFirst(g,h,f.id+":109");b[4]!==e||b[5]!==i?(g=function(){return i==null?d("ReQL").empty():n(e,i.jid)},h=[e,i],b[4]=e,b[5]=i,b[6]=g,b[7]=h):(g=b[6],h=b[7]);return d("ReQLSuspense").useFirst(g,h,f.id+":117")}function p(a,b){return d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(b.openThreadId)}function q(a){a=r(a);if(a==null||(h||(h=d("I64"))).lt(a.authorityLevel,(h||(h=d("I64"))).of_int32(c("LSAuthorityLevel").SERVER_PARTIAL)))return;return a}function r(a){var b=d("react-compiler-runtime").c(4),e=(j||(j=c("useReStore")))(),g=o(a),h;b[0]!==g||b[1]!==e?(a=function(){return g==null?d("ReQL").empty():p(e,g)},h=[e,g],b[0]=g,b[1]=e,b[2]=a,b[3]=h):(a=b[2],h=b[3]);return d("ReQLSuspense").useFirst(a,h,f.id+":159")}function s(a){var e=d("react-compiler-runtime").c(8),g=(j||(j=c("useReStore")))(),h,i;e[0]!==g||e[1]!==a?(h=function(){return a==null?d("ReQL").empty():m(g,a)},i=[g,a],e[0]=g,e[1]=a,e[2]=h,e[3]=i):(h=e[2],i=e[3]);h=d("ReQLSuspense").useFirst(h,i,f.id+":171");var k=h==null?void 0:h.jid;e[4]!==g.tables.threads||e[5]!==k?(i=function(){return k!=null?d("ReQL").fromTableAscending(g.tables.threads).getKeyRange(k):d("ReQL").empty()},h=[g.tables.threads,k],e[4]=g.tables.threads,e[5]=k,e[6]=i,e[7]=h):(i=e[6],h=e[7]);e=d("ReQLSuspense").useFirst(i,h,f.id+":180");i=b("cr:13127")(k);return i?e:void 0}function t(a){a=o(a);if(a!=null)return a.openThreadId}function u(a){return o(a)!=null}function v(a,b){b=d("WAJids").threadIdForChatJid(b);return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.cutover_threads).getKeyRange((h||(h=d("I64"))).of_string(b))).then(function(a){return a!=null})}function w(){var a=d("react-compiler-runtime").c(3),b=(j||(j=c("useReStore")))(),e=d("MWPActor.react").useActor();if(a[0]!==e||a[1]!==b.tables.contacts){var g=d("ReQLSuspense").first(d("ReQL").fromTableAscending(b.tables.contacts).getKeyRange(e),f.id+":220");g=g!=null&&((g=d("LSContactBitOffset").has(75,g))!=null?g:!1);a[0]=e;a[1]=b.tables.contacts;a[2]=g}else g=a[2];return g}function x(){var a=d("react-compiler-runtime").c(4),b=(j||(j=c("useReStore")))(),e;a[0]!==b.tables.experiences_shared_state?(e=function(){return d("ReQL").fromTableAscending(b.tables.experiences_shared_state).getKeyRange(c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_RESTORED_SUCCESSFULLY)},a[0]=b.tables.experiences_shared_state,a[1]=e):e=a[1];var g;a[2]!==b?(g=[b],a[2]=b,a[3]=g):g=a[3];a=d("ReQLSuspense").useFirst(e,g,f.id+":235");e=d("MWEncryptedBackupsSharedState").getEntryValue({db:b,sharedStateRow:a,stateKey:c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_RESTORED_SUCCESSFULLY});return e!=null}function y(a){var b=d("react-compiler-runtime").c(7),e=(j||(j=c("useReStore")))(),g;b[0]!==a?(g=a!=null?(h||(h=d("I64"))).of_string(a):void 0,b[0]=a,b[1]=g):g=b[1];var i=g,l=k(i);b[2]!==e||b[3]!==l||b[4]!==i?(a=function(){if(l&&i!=null)return d("ReQL").fromTableAscending(e.tables.mi_act_mapping_table).filter(function(a){return(h||(h=d("I64"))).equal(a.jid,i)}).map(z);else return d("ReQL").empty()},g=[e,i,l],b[2]=e,b[3]=l,b[4]=i,b[5]=a,b[6]=g):(a=b[5],g=b[6]);return d("ReQLSuspense").useFirst(a,g,f.id+":256")}function z(a){return(h||(h=d("I64"))).to_string(a.serverThreadKey)}function A(){return!0}function B(a){var b=d("react-compiler-runtime").c(8),e=(j||(j=c("useReStore")))(),g,h;b[0]!==e||b[1]!==a?(g=function(){if(a!=null)return d("MWPreloadableQueries").getCutoverThreadByThreadKey(e,a);else return d("ReQL").empty()},h=[e,a],b[0]=e,b[1]=a,b[2]=g,b[3]=h):(g=b[2],h=b[3]);g=d("ReQLSuspense").useFirst(g,h,f.id+":283");var i=g==null?void 0:g.armadilloThreadId;b[4]!==e.tables.mi_act_mapping_table||b[5]!==i?(h=function(){if(i!=null)return d("ReQL").fromTableAscending(e.tables.mi_act_mapping_table.index("jid")).getKeyRange(i);else return d("ReQL").empty()},g=[i,e.tables.mi_act_mapping_table],b[4]=e.tables.mi_act_mapping_table,b[5]=i,b[6]=h,b[7]=g):(h=b[6],g=b[7]);b=d("ReQLSuspense").useFirst(h,g,f.id+":294");return b==null?void 0:b.serverThreadKey}async function C(a){var b=await (i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton,c=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.tables.mi_act_mapping_table).getKeyRange(a));if(c==null)return void 0;a=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.tables.cutover_threads).filter(function(a){return(h||(h=d("I64"))).equal(a.armadilloThreadId,c.jid)}));return a}g.useShouldHideE2eeAttribution=a;g.isCutoverThreadKey=e;g.useIsCutoverOpenThread=k;g.useIsDualThreadCutoverOpenThread=l;g.getMiActMappings=m;g.getCutoverThreadsByJid=n;g.useGetCutoverMapping=o;g.getThreadByCutoverThread=p;g.useOpenThreadIfExistsFromCutoverThread=q;g.useCutoverOpenThread=r;g.useODCutoverEligibleOpenOneToOneThread=s;g.useGetCutoverOpenThreadKey=t;g.useIsCutoverSecureThread=u;g.isCutoverSecureThreadFromChatJid=v;g.useIsCurrentUserCutoverUser=w;g.useGetHasUserRestoredBefore=x;g.useGetCutoverSecureThreadKey=y;g.useSupportedCutoverEnvironment=A;g.useCutoverSecureThreadKeyForOpenThreadKey=B;g.getCutoverThreadBySecureThreadKey=C}),98);
__d("MessengerWebEntryPointsUtil",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==="pagesLikeInviteThem")return"pages_like_invite_item";else if(a==="pagesPrivateReply")return"pages_private_reply";else if(a==="inboxActiveContacts"||a==="inboxArchived"||a==="inboxSpam"||a==="inboxFolder"||a==="inboxThreadList"||a==="inboxRecentThreads"||a==="inboxRemainingThreads"||a==="pendingRequests"||a==="inboxRestricted"||a==="archieve"||a==="inboxInThread"||a==="inboxPendingRequests")return"inbox";else if(a==="jobs")return"jobs";else if(a==="storySeenByList"||a==="friendsTab")return"story_seen_by_list";else if(a==="chatParticipants")return"add_participants";else if(a==="compat")return"compat";else if(a==="cookie")return"cookie";else if(a==="pagesAdminInviteItem")return"pages_admin_invite_item";else if(a==="groupWelcomePost")return"group_welcome_post";else if(a==="sidebarContactsList"||a==="sidebarGroupsList")return"sidebar";else if(a==="sidebarCommunityChatsList")return"sidebar_community_chats";else if(a==="jewelNestedFolder"||a==="jewel")return"jewel";else if(a==="shop")return"shop";else if(a==="chatheadsOverflow")return"chat_heads_overflow";else if(a==="feedDynamicHoverCard")return"pages_hovercard";else if(a==="messengerUniversalSearch")return"search_result_page";else if(a==="mentorship")return"mentorship";else if(a==="reactorList")return"reactor_list";else if(a==="feedPoll")return"feed_poll";else if(a==="timeline"||a==="feedOrganicPost")return"timeline";else if(a==="pageResponsivenessCard"||a==="pageAboutCard")return"pages_about";else if(a==="inboxSearch"||a==="sidebarSearch"||a==="search")return"search";else if(a==="storyAggregatedUsers")return"story_aggregated_users";else if(a==="fundraiserMoreMenu")return"fundraiser_support:reactive_more_menu";else if(a==="fundraiserFaq")return"fundraiser_support:reactive_faq";else if(a==="notificationInThreadReply")return"message_received";else if(a==="roomsNullState")return"rooms_null_state";else if(a==="storyViewerSheetRow")return"stories_viewed_by_list";else if(a==="feedOrganicPostNewsfeedPagePostCta")return"pages_cta";else if(a==="chatheadsNewMessage")return"new_msg_button";else if(a==="groupExperts"||a==="groupCommunityFriendsDialog")return"group_experts_discovery_invite";else if(a==="hovercard")return"hovercard";else if(a==="crisisListingAttachment")return"crisis_listing_attachment";else if(a==="mentalHealth")return"mental_health";else if(a==="event")return"events_permalink";else if(a==="jewelSearch")return"jewel_search";else if(a==="pagePopupChat")return"pages_popup_chat";else if(a==="communityHelp")return"community_help";else if(a==="jewelNewMessage")return"jewel_new_message";else if(a==="fundraiser")return"fundraiser";else if(a==="memories")return"memories_home";else if(a==="fundraiserSupportersList")return"fundraiser_supporters_list";else if(a==="groupRemovePost")return"group_remove_post_tombstone";else if(a==="pagesHeader")return"pages_header";else if(a==="groupMembers")return"group_members_tab";else if(a==="chatheads")return"chat_heads";else if(a==="birthday")return"birthdays";else if(a==="localBusinessesNearby")return"local_businesses_nearby";else if(a==="marketplace"||a==="inboxMarketplace")return"marketplace";else if(a==="mutualFriendsDialog")return"mutual_friends_dialog";else if(a==="feedOrganicPostViewAndMessage")return"feed_story_cta";else if(a==="profileServicesMenu")return"profile_services_menu";else if(a==="adsCta")return"reshares_dialog";else if(a==="offer")return"offer";else if(a==="payments")return"p2p_payments";else if(a==="groupQuality")return"group_quality";else if(a==="pagesHomeFriendsDialog")return"pages_home_friends_dialog";else if(a==="communityFriendsDialog")return"pages_community_friends_dialog";else if(a==="groupChats")return"group_chats";else if(a==="groupTab")return"group_tab";else if(a==="gratitude")return"gratitude";else if(a==="inboxTrayActiveNow")return"inbox_tray";else return"unknown"}function b(a){switch(a){case"groupTab":case"inboxThreadList":case"jewel":return!0;default:return!1}}f.cast=a;f.getEntryPointShouldOverrideThreadSnippetRemoval=b}),66);
__d("MWChatLogOpenChatTab",["MessengerWebEntryPointsUtil","MessengerWebEventsFalcoEvent","ODS"],(function(a,b,c,d,e,f,g){"use strict";var h,i={};function a(a,b,e){a===void 0&&(a=!1);(h||(h=d("ODS"))).bumpEntityKey(3185,"mwchat_tab","open_user");var f=d("MessengerWebEntryPointsUtil").cast(e);i[b]=f;return c("MessengerWebEventsFalcoEvent").log(function(){return{entry_point:f,event_name:"open_chat_tab",is_secured:a,other_user_fbid:a?null:b}})}function b(a,b,e){a===void 0&&(a=!1);(h||(h=d("ODS"))).bumpEntityKey(3185,"mwchat_tab","open_group");var f=d("MessengerWebEntryPointsUtil").cast(e);i[b]=f;return c("MessengerWebEventsFalcoEvent").log(function(){return{entry_point:f,event_name:"open_chat_tab",is_secured:a,thread_fbid:a?null:b}})}function e(a,b,e){a===void 0&&(a=!1);(h||(h=d("ODS"))).bumpEntityKey(3185,"mwchat_tab","open_page");var f=d("MessengerWebEntryPointsUtil").cast(e);i[b]=f;return c("MessengerWebEventsFalcoEvent").log(function(){return{entry_point:f,event_name:"open_chat_tab",is_secured:a,other_user_fbid:a?null:b}})}g.logOpenUserTab=a;g.logOpenGroupTab=b;g.logOpenPageTab=e}),98);
__d("RetUtil",["LSResult"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("LSResult")(a)}g.getNullableRetResult=a}),98);
__d("useMAWCanThreadBeCutoverOnDemand",["LSContactBitOffset","LSMessagingThreadTypeUtil","MAWThreadCutover","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=d("react-compiler-runtime").c(12),e=(h||(h=c("useReStore")))(),g,i;b[0]!==e||b[1]!==a?(g=function(){return a!=null?d("ReQL").fromTableAscending(e.tables.contacts,d("LSContactBitOffset").contactCapabilityFields).getKeyRange(a):d("ReQL").empty()},i=[e,a],b[0]=e,b[1]=a,b[2]=g,b[3]=i):(g=b[2],i=b[3]);g=d("ReQLSuspense").useFirst(g,i,f.id+":34");b[4]!==g?(i=g!=null&&d("LSContactBitOffset").has(76,g),b[4]=g,b[5]=i):i=b[5];g=i;var j;b[6]!==e||b[7]!==a?(i=function(){return a!=null?d("ReQL").fromTableAscending(e.tables.threads,["threadType"]).getKeyRange(a):d("ReQL").empty()},j=[e,a],b[6]=e,b[7]=a,b[8]=i,b[9]=j):(i=b[8],j=b[9]);i=d("ReQLSuspense").useFirst(i,j,f.id+":53");b[10]!==i?(j=i?d("LSMessagingThreadTypeUtil").isOpenOneToOne(i.threadType):!1,b[10]=i,b[11]=j):j=b[11];i=j;b=((j=(b=d("ReQLSuspense").useFirst(function(){return a!=null?d("ReQL").fromTableAscending(e.tables.messages_ranges_v2__generated,["minMessageId"]).getKeyRange(a):d("ReQL").empty()},[e,a],f.id+":67"))==null?void 0:b.minMessageId)!=null?j:"")==="";j=d("MAWThreadCutover").useIsCutoverOpenThread(a);var k=d("MAWThreadCutover").useIsCutoverSecureThread(a);j=j||k;return g&&i&&!b&&!j}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("Box.react",["react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={box:{alignItems:"x1qjc9v5",boxSizing:"x9f619",display:"x78zum5",flexBasis:"xdl72j9",flexDirection:"xdt5ytf",flexShrink:"x2lah0s",minHeight:"x2lwn1j",minWidth:"xeuugli",position:"x1n2onr6",zIndex:"x1ja2u2z",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(14),e,f;b[0]!==a?(f=a.ref,e=babelHelpers.objectWithoutPropertiesLoose(a,["ref"]),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);var g,i;if(b[3]!==e){a=e;g=a.as;i=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["as","xstyle"]);b[3]=e;b[4]=a;b[5]=g;b[6]=i}else a=b[4],g=b[5],i=b[6];e=g===void 0?"div":g;b[7]!==i?(g=(h||(h=c("stylex")))(k.box,i),b[7]=i,b[8]=g):g=b[8];b[9]!==e||b[10]!==a||b[11]!==f||b[12]!==g?(i=j.jsx(e,babelHelpers["extends"]({},a,{className:g,ref:f})),b[9]=e,b[10]=a,b[11]=f,b[12]=g,b[13]=i):i=b[13];return i}g["default"]=a}),98);
__d("FBIconCautionTriangleFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{stroke:"none",strokeWidth:1,fillRule:"evenodd",children:i.jsx(d("XPlatReactSVG").Path,{d:"m104.999 920.516-.25 2.833c-.033.368-.358.65-.748.65s-.715-.282-.748-.65l-.25-2.833a.969.969 0 0 1 .998-1.016.969.969 0 0 1 .998 1.016zM104 926.5a1.001 1.001 0 0 1 0-2c.551 0 1 .449 1 1 0 .551-.449 1-1 1zm1.114-8.877a1.26 1.26 0 0 0-1.094-.623h-.002a1.26 1.26 0 0 0-1.096.62l-4.746 7.996c-.23.388-.235.853-.012 1.245.228.4.641.639 1.106.639h9.46c.464 0 .877-.238 1.105-.637.223-.39.22-.856-.009-1.244l-4.712-7.996z",transform:"translate(-450 -1073) translate(352 157)"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconGroupFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx(d("XPlatReactSVG").Path,{d:"M452.25 1079c-.69 0-1.25-.673-1.25-1.5 0-.911.49-1.5 1.25-1.5s1.25.589 1.25 1.5c0 .827-.56 1.5-1.25 1.5m6.25-1.5c0-.911.49-1.5 1.25-1.5s1.25.589 1.25 1.5c0 .827-.56 1.5-1.25 1.5s-1.25-.673-1.25-1.5m-2.5 1c-.827 0-1.5-.785-1.5-1.75 0-1.079.575-1.75 1.5-1.75s1.5.671 1.5 1.75c0 .965-.673 1.75-1.5 1.75m-4 3.478c0-.814.281-1.562.75-2.154a.2.2 0 0 0-.156-.324h-.64a1.957 1.957 0 0 0-1.953 1.9c-.016.603.474 1.1 1.076 1.1h.723a.2.2 0 0 0 .2-.2v-.322zm8 0c0-.814-.281-1.562-.75-2.154a.2.2 0 0 1 .156-.324h.64c1.059 0 1.925.848 1.954 1.9.015.603-.475 1.1-1.077 1.1h-.723a.2.2 0 0 1-.2-.2v-.322zm-1 .416c0 .61-.496 1.106-1.106 1.106h-3.788c-.61 0-1.106-.496-1.106-1.106v-.416a2.48 2.48 0 0 1 2.478-2.478h1.044a2.48 2.48 0 0 1 2.478 2.478v.416z"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("LSForceImmediateSync",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return c[0]=b.i64.of_float(Date.now()),b.forEach(b.db.table(1).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({minTimeToSyncTimestampMs:c[0]})})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreForceImmediateSyncStoredProcedure";a.__tables__=["sync_groups"];e.exports=a}),null);
__d("LSForceImmediateSyncStoredProcedure",["LSForceImmediateSync","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSForceImmediateSync"),e.dbType);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSRemoveError",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(6).fetch([[[a[0]]]]),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSCoreRemoveErrorStoredProcedure";a.__tables__=["user_visible_errors"];e.exports=a}),null);
__d("LSRemoveErrorStoredProcedure",["LSRemoveError","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSRemoveError"),e.errorId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MAWAbPropsClient",["WAAbPropsToUI"],(function(a,b,c,d,e,f,g){"use strict";var h={contents:d("WAAbPropsToUI").prepareAbPropsForUI()};function a(a){h.contents=a}function b(){return h.contents}g.rewrite=a;g.getAbProps=b}),98);
__d("MAWContactRelationshipType",["I64","LSContactBitOffset","WADbContact"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=d("LSContactBitOffset").hasWithDefault(64,a,!0);a=(h||(h=d("I64"))).ge(a.contactViewerRelationship,h.of_string("2"));if(a&&b)return d("WADbContact").ONE_WAY_CONTACT;else if(!a&&!b)return d("WADbContact").REVERSED_ONE_WAY_CONTACT;else if(a&&!b)return d("WADbContact").TWO_WAY_CONTACT;return d("WADbContact").NON_CONTACT}g.getContactRelationshipType=a}),98);
__d("MAWIsIDBOperational",["FBLogger","WebAsyncStorage","promiseDone","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState;async function k(a){a===void 0&&(a=!1);if(a&&!c("WebAsyncStorage").isOpenPromiseSettled())return!1;a=await c("WebAsyncStorage").isOperational();if(!a.success){c("FBLogger")("messenger_web").catching(a.error).warn("Marking MAW IDB as unavailable: %s",a.error.message);return!1}return!0}var l=!1;function a(){var a=d("react-compiler-runtime").c(2),b=j(l),e=b[0],f=b[1],g;a[0]===Symbol.for("react.memo_cache_sentinel")?(b=function(){c("promiseDone")(k().then(function(a){f(a),l=a}))},g=[f],a[0]=b,a[1]=g):(b=a[0],g=a[1]);i(b,g);return e}g.isIDBOperational=k;g.useIsIDBOperational=a}),98);
__d("MAWIssueNewUserVisibleErrors",["fbt","$InternalEnum","LSDatabaseSingleton","LSFactory","LSIssueNewErrorStoredProcedure","LSRemoveErrorStoredProcedure","ReQL","gkx","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function a(a,b,e,g){c("promiseDone")((i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(d){return d.runInTransaction(function(d){return c("LSIssueNewErrorStoredProcedure")(c("LSFactory")(d),{errorBodyText:a!=null?a.toString():void 0,errorExtraData:g,errorTitleText:b.toString(),presentationStyle:String(e)})},"readwrite",void 0,void 0,f.id+":37")}))}function j(a,b){return a.runInTransaction(function(a){return c("LSRemoveErrorStoredProcedure")(c("LSFactory")(a),{errorId:b})},"readwrite",void 0,void 0,f.id+":56")}function e(){c("promiseDone")(async function(){var a=await (i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton,b=await d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.user_visible_errors));await Promise.all(b.map(async function(b){await j(a,b.errorId)}))}())}function k(a){c("promiseDone")(async function(){var b=await (i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton,c=await d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(b.tables.user_visible_errors));await Promise.all(c.map(async function(c){c.errorExtraData===a&&await j(b,c.errorId)}))}())}b=b("$InternalEnum")({TOAST:"toast",BANNER:"banner"});var l=h._(/*BTDS*/"Couldn't load all end-to-end encrypted chats"),m=h._(/*BTDS*/"Try refreshing the page to see them."),n=h._(/*BTDS*/"You may need to refresh this page"),o=h._(/*BTDS*/"There may be issues sending or receiving messages on this page. Refresh it to reload your chats."),p=c("gkx")("4424")?h._(/*BTDS*/"This browser is not supported"):h._(/*BTDS*/"You may need to update your browser");h=c("gkx")("4424")?h._(/*BTDS*/"Some messages are missing and certain messaging features are not available. Try using another browser or mobile device."):h._(/*BTDS*/"End-to-end encrypted chats won't appear in this browser. Try updating your browser or use another one.");var q=new Map([[l.toString(),l],[n.toString(),n]]),r=new Map([[m.toString(),m],[o.toString(),o]]);g.issueError=a;g.deleteUserVisibleError=j;g.deleteAllErrors=e;g.deleteUserVisibleErrorByJSErrorMessage=k;g.MAWUserVisibleErrorPresentationType=b;g.MAWGeneralErrorMsgTitle=l;g.MAWGeneralErrorMsgBody=m;g.MAWLegacyUserErrorMsgTitle=n;g.MAWLegacyUserErrorMsgBody=o;g.MAWUnsupportedIndexedDBErrorMsgTitle=p;g.MAWUnsupportedIndexedDBErrorMsg=h;g.errorMsgTitleToFbtMap=q;g.errorMsgBodyToFbtMap=r}),226);
__d("useMAWUnrecoverableDbError",["MAWUnrecoverableDbErrors","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState;function a(){var a=d("react-compiler-runtime").c(3),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=d("MAWUnrecoverableDbErrors").getError(),a[0]=b):b=a[0];b=j(b);var c=b[0],e=b[1],f;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=function(){var a=function(a){e(a)},b=d("MAWUnrecoverableDbErrors").subscribe(a);return function(){b()}},f=[],a[1]=b,a[2]=f):(b=a[1],f=a[2]);i(b,f);return c}g["default"]=a}),98);
__d("useWAExceededStorageQuota",["MAWUnrecoverableDbErrors","WAExceededStorageQuota","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect;b.useMemo;var j=b.useState;function a(){var a=d("react-compiler-runtime").c(5),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=d("WAExceededStorageQuota").getExceededStorageQuota(),a[0]=b):b=a[0];b=j(b);var c=b[0],e=b[1],f;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=function(){var a=function(a){e(a)},b=d("WAExceededStorageQuota").subscribe(a);return function(){b()}},f=[],a[1]=b,a[2]=f):(b=a[1],f=a[2]);i(b,f);a[3]!==c?(b=c?new(d("MAWUnrecoverableDbErrors").WAExceededStorageQuotaError)():null,a[3]=c,a[4]=b):b=a[4];f=b;return f}g["default"]=a}),98);
__d("MAWUnrecoverableErrorBoundary.react",["react","react-compiler-runtime","useMAWUnrecoverableDbError","useWAExceededStorageQuota"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e=a.children;a=a.fallback;var f=c("useMAWUnrecoverableDbError")(),g=c("useWAExceededStorageQuota")();f=(f=f)!=null?f:g;if(f!=null&&a!=null){b[0]!==f||b[1]!==a?(g=a(f),b[0]=f,b[1]=a,b[2]=g):g=b[2];return g}else return e}g["default"]=a}),98);
__d("MAWWasmFeatureSupport",["Promise","react","react-compiler-runtime","wasm-feature-detect"],(function(a,b,c,d,e,f,g){"use strict";var h,i;c=i||d("react");var j=c.useEffect,k=c.useState,l=null;function a(){var a=d("react-compiler-runtime").c(2),c=k(l),e=c[0],f=c[1],g;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(c=function(){(h||(h=b("Promise"))).all([d("wasm-feature-detect").bulkMemory(),d("wasm-feature-detect").bigInt(),d("wasm-feature-detect").referenceTypes()]).then(function(a){var b=a[0],c=a[1];a=a[2];f({bigInt:c,bulkMemory:b,referenceTypes:a});l={bigInt:c,bulkMemory:b,referenceTypes:a}})},g=[f],a[0]=c,a[1]=g):(c=a[0],g=a[1]);j(c,g);return e}g.useWasmFeatureSupport=a}),98);
__d("MWPIsUserContact",["I64","LSContactViewerRelationship","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return a==null?!1:(h||(h=d("I64"))).equal(a.contactViewerRelationship,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").CONTACT_OF_VIEWER))||(h||(h=d("I64"))).equal(a.contactViewerRelationship,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").FACEBOOK_FRIEND))||(h||(h=d("I64"))).equal(a.contactViewerRelationship,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").SOFT_CONTACT))}g.isUserContact=a}),98);
__d("MWChatSearchTypeaheadDataEntry",["I64","LSContactBitOffset","LSContactTypeExact","LSIntEnum","LSRestrictionType","MWChatSearchResultType","MWPIsUserContact","MWSearchStandardResultTypeMappings"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b;return{key:(h||(h=d("I64"))).to_string(a.id),label:a.name,rawData:{displayName:a.name,id:h.to_string(a.id),imageUrl:a.profilePictureUrl,isAiBot:h.equal(a.contactTypeExact,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").GENERATIVE_AI_BOT)),isContact:d("MWPIsUserContact").isUserContact(a),isDisappearingModeSettingOn:!1,isE2EE:!0,isEPD:h.equal(a.restrictionType,i.ofNumber(c("LSRestrictionType").DATA_PRIVACY)),isInstamadilloCutover:d("LSContactBitOffset").has(95,a),isRestrictedByViewer:d("LSContactBitOffset").has(66,a),isTTLCClipEnabled:d("LSContactBitOffset").has(96,a),isTTLCGenericXMAShareEnabled:d("LSContactBitOffset").has(97,a),isTTLCMediaShareEnabled:d("LSContactBitOffset").has(98,a),isTTLCStoryShareEnabled:d("LSContactBitOffset").has(99,a),isViewerUnconnected:d("LSContactBitOffset").hasWithDefault(64,a,!0),reachabilityStatus:a.contactReachabilityStatusType,resultType:c("MWChatSearchResultType").USER,searchResultType:d("MWSearchStandardResultTypeMappings").mapContactToSearchStandardResultType(a),secondaryImageUrl:(b=a.profilePictureFallbackUrl)!=null?b:a.profilePictureUrl,subtext:"",subtextAdditional:"",threadType:i.ofNumber(1)},type:"entry"}}g.convertContactToSearchTypeaheadDataEntry=a}),98);
__d("MWCreatorMessagingUtils",["I64","LSIntEnum","MWLSThread","MessagingFolderTag","MessagingThreadSubtype"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){if(a.metadata==null||a.threadSubtype==null)return!1;var b=JSON.parse(a.metadata);b=b.thread_initiator_id;return b!=null&&a.threadSubtype!=null&&(h||(h=d("I64"))).equal(a.threadSubtype,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingThreadSubtype").PAGE_TO_USER))&&(h||(h=d("I64"))).equal((h||(h=d("I64"))).of_string(b),a.threadKey)}function k(a){var b=(h||(h=d("I64"))).equal(a.parentThreadKey,(i||(i=d("LSIntEnum"))).ofNumber(-1));return b&&j(a)}function a(a){if(a.folderName===c("MessagingFolderTag").INBOX)return"inbox";else if(a.folderName===c("MessagingFolderTag").PENDING)return"message_requests_ymk";else if(a.folderName===c("MessagingFolderTag").SPAM)return"message_requests_spam";else return"unknown"}function b(a){a=d("MWLSThread").useThread(a,l);return(a=a)!=null?a:!1}function l(a){return k(a)}g.isAPPlusInitiatedThread=j;g.isAPPlusMessageRequest=k;g.fetchQPLEntrypoint=a;g.useIsAPPlusMessageRequestFromThreadKey=b}),98);
__d("MWEncryptedBackupsDetermineInitialEBState",["gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=c("gkx")("23914");function a(a){var b=a.clientStateData,c=a.hasArmadilloError;a=a.xfb_backup;if(!h||c)return 0;if(a==null)return 2;return b.length>0?3:4}g.determineInitialEBState=a}),98);
__d("XCometArchivedThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/messages/archived/t/{thread_key}/",Object.freeze({}),["/messages/archived/"],void 0);b=a;g["default"]=b}),98);
__d("XMessengerDotComCometArchivedThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/archived/t/{thread_key}/",Object.freeze({}),["/archived/"],void 0);b=a;g["default"]=b}),98);
__d("MWInboxArchivedThreadsRouteBuilder",["CurrentEnvironment","XCometArchivedThreadsControllerRouteBuilder","XMessengerDotComCometArchivedThreadsControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=c("CurrentEnvironment").facebookdotcom?{buildURL:function(a){var b=a.focus_target;a=a.thread_key;return c("XCometArchivedThreadsControllerRouteBuilder").buildURL({focus_target:b,thread_key:a})},buildURLWithoutThread:function(){return c("XCometArchivedThreadsControllerRouteBuilder").buildExtraURL("/messages/archived/",{})}}:{buildURL:function(a){var b=a.focus_target;a=a.thread_key;return c("XMessengerDotComCometArchivedThreadsControllerRouteBuilder").buildURL({focus_target:b,thread_key:a})},buildURLWithoutThread:function(){return c("XMessengerDotComCometArchivedThreadsControllerRouteBuilder").buildExtraURL("/archived/",{})}};b=a.buildURL;d=a.buildURLWithoutThread;g.buildURL=b;g.buildURLWithoutThread=d}),98);
__d("XMessengerDotComCometBusinessSupportThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/support/t/{thread_key}/",Object.freeze({}),["/support/","/business_support/","/business_support/t/{thread_key}/"],void 0);b=a;g["default"]=b}),98);
__d("MWInboxBusinessSupportThreadsRouteBuilder",["XMessengerDotComCometBusinessSupportThreadsControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";a={buildURL:function(a){return c("XMessengerDotComCometBusinessSupportThreadsControllerRouteBuilder").buildURL(a)},buildURLWithoutThread:function(a){return c("XMessengerDotComCometBusinessSupportThreadsControllerRouteBuilder").buildExtraURL("/support/",a)}};b=a.buildURL;d=a.buildURLWithoutThread;g.buildURL=b;g.buildURLWithoutThread=d}),98);
__d("XCometMarketplaceThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/messages/marketplace/t/{thread_key}/",Object.freeze({}),["/messages/marketplace/"],void 0);b=a;g["default"]=b}),98);
__d("XMessengerDotComCometMarketplaceThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/marketplace/t/{thread_key}/",Object.freeze({}),["/marketplace/"],void 0);b=a;g["default"]=b}),98);
__d("MWInboxMarketplaceThreadsRouteBuilder",["CurrentEnvironment","XCometMarketplaceThreadsControllerRouteBuilder","XMessengerDotComCometMarketplaceThreadsControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=c("CurrentEnvironment").facebookdotcom?{buildURL:function(a){var b=a.focus_target;a=a.thread_key;return c("XCometMarketplaceThreadsControllerRouteBuilder").buildURL({focus_target:b,thread_key:a})},buildURLWithoutThread:function(){return c("XCometMarketplaceThreadsControllerRouteBuilder").buildExtraURL("/messages/marketplace/",{})}}:{buildURL:function(a){var b=a.focus_target;a=a.thread_key;return c("XMessengerDotComCometMarketplaceThreadsControllerRouteBuilder").buildURL({focus_target:b,thread_key:a})},buildURLWithoutThread:function(){return c("XMessengerDotComCometMarketplaceThreadsControllerRouteBuilder").buildExtraURL("/marketplace/",{})}};b=a.buildURL;d=a.buildURLWithoutThread;g.buildURL=b;g.buildURLWithoutThread=d}),98);
__d("XCometMessageRequestsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/messages/requests/t/{thread_key}/",Object.freeze({}),["/messages/requests/","/messages/e2ee/requests/t/{thread_key}/"],void 0);b=a;g["default"]=b}),98);
__d("XMessengerDotComCometMessageRequestsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/requests/t/{thread_key}/",Object.freeze({}),["/requests/","/e2ee/requests/t/{thread_key}/"],void 0);b=a;g["default"]=b}),98);
__d("MWInboxMessageRequestsRouteBuilder",["CurrentEnvironment","XCometMessageRequestsControllerRouteBuilder","XMessengerDotComCometMessageRequestsControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=c("CurrentEnvironment").facebookdotcom?{buildE2EEThreadURL:function(a){var b=a.focus_target;a=a.thread_key;return c("XCometMessageRequestsControllerRouteBuilder").buildExtraURL("/messages/e2ee/requests/t/{thread_key}/",{focus_target:b,thread_key:a})},buildURL:function(a){var b=a.focus_target;a=a.thread_key;return c("XCometMessageRequestsControllerRouteBuilder").buildURL({focus_target:b,thread_key:a})},buildURLWithoutThread:function(a){return c("XCometMessageRequestsControllerRouteBuilder").buildExtraURL("/messages/requests/",a)}}:{buildE2EEThreadURL:function(a){var b=a.focus_target;a=a.thread_key;return c("XMessengerDotComCometMessageRequestsControllerRouteBuilder").buildExtraURL("/e2ee/requests/t/{thread_key}/",{focus_target:b,thread_key:a})},buildURL:function(a){var b=a.focus_target;a=a.thread_key;return c("XMessengerDotComCometMessageRequestsControllerRouteBuilder").buildURL({focus_target:b,thread_key:a})},buildURLWithoutThread:function(a){return c("XMessengerDotComCometMessageRequestsControllerRouteBuilder").buildExtraURL("/requests/",a)}};b=a.buildE2EEThreadURL;d=a.buildURL;e=a.buildURLWithoutThread;g.buildE2EEThreadURL=b;g.buildURL=d;g.buildURLWithoutThread=e}),98);
__d("XCometRestrictedAccountsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/messages/restricted/t/{thread_key}/",Object.freeze({}),["/messages/restricted/","/messages/e2ee/restricted/t/{thread_key}/"],void 0);b=a;g["default"]=b}),98);
__d("XMessengerDotComCometRestrictedAccountsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/restricted/t/{thread_key}/",Object.freeze({}),["/restricted/","/e2ee/restricted/t/{thread_key}/"],void 0);b=a;g["default"]=b}),98);
__d("MWInboxRestrictedAccountsRouteBuilder",["CurrentEnvironment","XCometRestrictedAccountsControllerRouteBuilder","XMessengerDotComCometRestrictedAccountsControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=c("CurrentEnvironment").facebookdotcom?{buildE2EEThreadURL:function(a){var b=a.focus_target;a=a.thread_key;return c("XCometRestrictedAccountsControllerRouteBuilder").buildExtraURL("/messages/e2ee/restricted/t/{thread_key}/",{focus_target:b,thread_key:a})},buildURL:function(a){var b=a.focus_target;a=a.thread_key;return c("XCometRestrictedAccountsControllerRouteBuilder").buildURL({focus_target:b,thread_key:a})},buildURLWithoutThread:function(){return c("XCometRestrictedAccountsControllerRouteBuilder").buildExtraURL("/messages/restricted/",{})}}:{buildE2EEThreadURL:function(a){var b=a.focus_target;a=a.thread_key;return c("XMessengerDotComCometRestrictedAccountsControllerRouteBuilder").buildExtraURL("/e2ee/restricted/t/{thread_key}/",{focus_target:b,thread_key:a})},buildURL:function(a){var b=a.focus_target;a=a.thread_key;return c("XMessengerDotComCometRestrictedAccountsControllerRouteBuilder").buildURL({focus_target:b,thread_key:a})},buildURLWithoutThread:function(){return c("XMessengerDotComCometRestrictedAccountsControllerRouteBuilder").buildExtraURL("/restricted/",{})}};b=a.buildE2EEThreadURL;d=a.buildURL;e=a.buildURLWithoutThread;g.buildE2EEThreadURL=b;g.buildURL=d;g.buildURLWithoutThread=e}),98);
__d("MWLSDatabaseLazySync",["I64","Int64Hooks","LSFactory","LSForceImmediateSyncStoredProcedure","LSSyncGroupsUtils","Promise","ReQL","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,e){return a.runInTransaction(function(a){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.sync_groups).getKeyRange(e)).then(function(f){if(f!=null)if((j||(j=d("I64"))).equal(f.minTimeToSyncTimestampMs,d("LSSyncGroupsUtils").neverSyncTimestamp))return c("LSForceImmediateSyncStoredProcedure")(c("LSFactory")(a),{dbType:e});else return(i||(i=b("Promise"))).resolve();else return(i||(i=b("Promise"))).resolve()})},"readwrite",void 0,void 0,f.id+":28")}function a(a){var b=d("react-compiler-runtime").c(4),e=(h||(h=c("useReStore")))(),f,g;b[0]!==e||b[1]!==a?(f=function(){return k(e,a)},g=[a,e],b[0]=e,b[1]=a,b[2]=f,b[3]=g):(f=b[2],g=b[3]);return d("Int64Hooks").useCallbackInt64(f,g)}g.sync=k;g.useSync=a}),98);
__d("MWNavigationContext",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h.createContext;var j=b();function a(a){var b=d("react-compiler-runtime").c(3),c=a.children;a=a.value;var e=j.Provider;b[0]!==c||b[1]!==a?(e=i.jsx(e,{value:a,children:c}),b[0]=c,b[1]=a,b[2]=e):e=b[2];return e}c=a;g.context=j;g.Provider=c}),98);
__d("MWXButtonGroup.react",["cr:20121","cr:227","cr:5028","cr:6106","cr:8931","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var e=d("react-compiler-runtime").c(41),f=a.align,g=a.direction,h=a.expanding,j=a.paddingHorizontal,k=a.primary,l=a.secondary;g=g===void 0?"backward":g;h=h===void 0?!1:h;j=j===void 0?0:j;a=b("cr:20121")("primary",a.primary.disabled);if(b("cr:6106")!=null&&b("cr:8931")!=null){var m,n,o,p,q;e[0]!==k?(p=k.icon,n=k.loading,q=k.type,o=babelHelpers.objectWithoutPropertiesLoose(k,["icon","loading","type"]),e[0]=k,e[1]=n,e[2]=o,e[3]=p,e[4]=q):(n=e[1],o=e[2],p=e[3],q=e[4]);q=q==="destructive"?"fdsOverride_negative":q;var r=j===10?8:j;m=(m=f)!=null?m:"end";if(e[5]!==n||e[6]!==a){var s;s=n===!0?(s=a)!=null?s:i.jsx(b("cr:8931"),{color:c("gkx")("13045")?"dark":"disabled_DEPRECATED",size:16}):void 0;e[5]=n;e[6]=a;e[7]=s}else s=e[7];p=(n=p)==null?void 0:n.component;e[8]!==o||e[9]!==s||e[10]!==p||e[11]!==q?(n=babelHelpers["extends"]({},o,{addOnPrimary:s,icon:p,type:q}),e[8]=o,e[9]=s,e[10]=p,e[11]=q,e[12]=n):n=e[12];if(e[13]!==l){s=l!=null?babelHelpers["extends"]({},l,{icon:(o=l.icon)==null?void 0:o.component,reduceEmphasis:!0,type:"secondary"}):null;e[13]=l;e[14]=s}else s=e[14];e[15]!==g||e[16]!==h||e[17]!==r||e[18]!==m||e[19]!==n||e[20]!==s?(p=i.jsx(b("cr:6106"),{align:m,direction:g,expanding:h,paddingHorizontal:r,primary:n,secondary:s}),e[15]=g,e[16]=h,e[17]=r,e[18]=m,e[19]=n,e[20]=s,e[21]=p):p=e[21];return p}if(b("cr:227")!=null&&b("cr:5028")!=null){e[22]!==k?(q=k.icon,o=k.loading,h=babelHelpers.objectWithoutPropertiesLoose(k,["icon","loading"]),e[22]=k,e[23]=o,e[24]=h,e[25]=q):(o=e[23],h=e[24],q=e[25]);if(e[26]!==o||e[27]!==a){m=o===!0?(r=a)!=null?r:i.jsx(b("cr:5028"),{color:"grey",size:24}):void 0;e[26]=o;e[27]=a;e[28]=m}else m=e[28];s=(n=q)==null?void 0:n.originalComponent;e[29]!==h||e[30]!==m||e[31]!==s?(p=babelHelpers["extends"]({},h,{addOnStart:m,icon:s}),e[29]=h,e[30]=m,e[31]=s,e[32]=p):p=e[32];if(e[33]!==l){r=l!=null?babelHelpers["extends"]({},l,{icon:(k=l.icon)==null?void 0:k.originalComponent}):null;e[33]=l;e[34]=r}else r=e[34];e[35]!==f||e[36]!==g||e[37]!==j||e[38]!==p||e[39]!==r?(o=i.jsx(b("cr:227"),{align:f,direction:g,paddingHorizontal:j,primary:p,secondary:r}),e[35]=f,e[36]=g,e[37]=j,e[38]=p,e[39]=r,e[40]=o):o=e[40];return o}return null}g["default"]=a}),98);
__d("MWXListCellPressable.react",["MessengerWebUXLogger","cr:321","cr:8697","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;function a(a){var e=d("react-compiler-runtime").c(33),f,g;e[0]!==a?(g=a.ref,f=babelHelpers.objectWithoutPropertiesLoose(a,["ref"]),e[0]=a,e[1]=f,e[2]=g):(f=e[1],g=e[2]);var h,j,k,l,m,n,o;if(e[3]!==f){a=f;h=a.addOnBottom;j=a.addOnEnd;k=a.addOnStart;l=a.content;m=a.loggingEvent;n=a.onPress;o=a.size;a=babelHelpers.objectWithoutPropertiesLoose(a,["addOnBottom","addOnEnd","addOnStart","content","loggingEvent","onPress","size"]);e[3]=f;e[4]=h;e[5]=j;e[6]=k;e[7]=l;e[8]=m;e[9]=n;e[10]=a;e[11]=o}else h=e[4],j=e[5],k=e[6],l=e[7],m=e[8],n=e[9],a=e[10],o=e[11];var p=c("MessengerWebUXLogger").useInteractionLogger();e[12]!==p||e[13]!==m||e[14]!==n?(f=function(a){n==null?void 0:n(a),m&&(p==null?void 0:p(m))},e[12]=p,e[13]=m,e[14]=n,e[15]=f):f=e[15];f=f;if(b("cr:8697")!=null){var q;e[16]!==h||e[17]!==j||e[18]!==k||e[19]!==l||e[20]!==f||e[21]!==g||e[22]!==a?(q=i.jsx(b("cr:8697"),babelHelpers["extends"]({addOnBottom:h,addOnEnd:j,addOnStart:k,addOnStartMarginTop:0,content:l,onPress:f,overlayRadius:8,paddingVertical:8,verticalAlign:"center"},a,{ref:g})),e[16]=h,e[17]=j,e[18]=k,e[19]=l,e[20]=f,e[21]=g,e[22]=a,e[23]=q):q=e[23];return q}if(b("cr:321")!=null){o=(q=o)!=null?q:"medium";e[24]!==h||e[25]!==j||e[26]!==k||e[27]!==l||e[28]!==f||e[29]!==g||e[30]!==a||e[31]!==o?(q=i.jsx(b("cr:321"),babelHelpers["extends"]({addOnBottom:h,addOnEnd:j,addOnStart:k,content:l,onPress:f,size:o},a,{ref:g})),e[24]=h,e[25]=j,e[26]=k,e[27]=l,e[28]=f,e[29]=g,e[30]=a,e[31]=o,e[32]=q):q=e[32];return q}return null}e=a;g["default"]=e}),98);
__d("MWXTextPairing.react",["FDSTextWebUtils","cr:4853","cr:6725","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){return function(b){a!=null&&(typeof a==="function"?a(b):a.current=b)}}function a(a){var c=d("react-compiler-runtime").c(31);if(b("cr:6725")!=null){var e,f,g,h,k,l,m;c[0]!==a?(f=a.bodyColor,g=a.bodyRef,h=a.headlineColor,k=a.headlineRef,l=a.metaColor,m=a.metaRef,e=babelHelpers.objectWithoutPropertiesLoose(a,["bodyColor","bodyRef","headlineColor","headlineRef","metaColor","metaRef"]),c[0]=a,c[1]=e,c[2]=f,c[3]=g,c[4]=h,c[5]=k,c[6]=l,c[7]=m):(e=c[1],f=c[2],g=c[3],h=c[4],k=c[5],l=c[6],m=c[7]);var n;c[8]===Symbol["for"]("react.memo_cache_sentinel")?(n={className:"x9f619 x2lwn1j xeuugli x1n2onr6 x1ja2u2z"},c[8]=n):n=c[8];var o;c[9]!==f?(o=d("FDSTextWebUtils").getFDSBodyColor(f),c[9]=f,c[10]=o):o=c[10];c[11]!==g?(f=j(g),c[11]=g,c[12]=f):f=c[12];c[13]!==h?(g=d("FDSTextWebUtils").getFDSHeadlineColor(h),c[13]=h,c[14]=g):g=c[14];c[15]!==k?(h=j(k),c[15]=k,c[16]=h):h=c[16];c[17]!==l?(k=d("FDSTextWebUtils").getFDSMetaColor(l),c[17]=l,c[18]=k):k=c[18];c[19]!==m?(l=j(m),c[19]=m,c[20]=l):l=c[20];c[21]!==e||c[22]!==o||c[23]!==f||c[24]!==g||c[25]!==h||c[26]!==k||c[27]!==l?(m=i.jsx("div",babelHelpers["extends"]({},n,{children:i.jsx(b("cr:6725"),babelHelpers["extends"]({bodyColor:o,bodyRef:f,headlineColor:g,headlineRef:h,metaColor:k,metaRef:l},e))})),c[21]=e,c[22]=o,c[23]=f,c[24]=g,c[25]=h,c[26]=k,c[27]=l,c[28]=m):m=c[28];return m}if(b("cr:4853")!=null){c[29]!==a?(n=i.jsx(b("cr:4853"),babelHelpers["extends"]({},a)),c[29]=a,c[30]=n):n=c[30];return n}return null}g["default"]=a}),98);
__d("WAChatState",[],(function(a,b,c,d,e,f){"use strict";a="typing";b="recording_audio";c="idle";d={TYPING:a,RECORDING_AUDIO:b};e={IDLE:c};f.TYPING=a;f.RECORDING_AUDIO=b;f.IDLE=c;f.ACTIVE_CHAT_STATE_TYPE=d;f.IDLE_CHAT_STATE_TYPE=e}),66);
__d("isFacebookMessengerInboxURI",["isFacebookURI"],(function(a,b,c,d,e,f,g){function a(a){return c("isFacebookURI")(a)&&a.getPath().startsWith("/messages")}g["default"]=a}),98);
__d("useBroadcastChannelImpressionLogger",["MWLogBroadcastChannelFalcoEvent","react","react-compiler-runtime","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(10),e=a.action,f=a.clientExtras,g=a.event,h=a.parentSurface,i=a.source,j=a.surface,k=a.threadFbid;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==h||b[4]!==i||b[5]!==j||b[6]!==k?(a=function(){var a;d("MWLogBroadcastChannelFalcoEvent").logBroadcastChannelFalcoEvent({action:(a=e)!=null?a:2,clientExtras:f,event:g,parentSurface:h,source:i,surface:j,threadFbid:k})},b[0]=e,b[1]=f,b[2]=g,b[3]=h,b[4]=i,b[5]=j,b[6]=k,b[7]=a):a=b[7];a=a;var l;b[8]!==a?(l={onImpressionStart:a},b[8]=a,b[9]=l):l=b[9];return c("useSinglePartialViewImpression")(l)}g["default"]=a}),98);
__d("useEncryptedBackupsProcessStatePreLoaded_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useEncryptedBackupsProcessStatePreLoaded_query",selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"backup_state",storageKey:null}]}],storageKey:null},action:"THROW",path:"viewer"}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("useMAWHasUserVisibleErrors",["ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=d("react-compiler-runtime").c(4),b=(h||(h=c("useReStore")))(),e;a[0]!==b.tables.user_visible_errors?(e=function(){return d("ReQL").fromTableDescending(b.tables.user_visible_errors).filter(i)},a[0]=b.tables.user_visible_errors,a[1]=e):e=a[1];var g;a[2]!==b?(g=[b],a[2]=b,a[3]=g):g=a[3];a=d("ReQLSuspense").useFirst(e,g,f.id+":24");return a!=null}function i(a){a=a.presentationStyle;return a==="banner"}g["default"]=a}),98);
__d("useMAWUnsupportedBrowserNUX",["MAWIsIDBOperational","MAWWasmFeatureSupport","WebStorage","gkx","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=d("react-compiler-runtime").c(3),b=d("MAWIsIDBOperational").useIsIDBOperational(),e=d("MAWWasmFeatureSupport").useWasmFeatureSupport();e=e==null||e.bigInt&&e.bulkMemory&&e.referenceTypes;b=!b||!e||(h||(h=c("WebStorage"))).getLocalStorage()==null;e=c("gkx")("1778")||b;var f;a[0]!==b||a[1]!==e?(f={shouldHideEBFlow:b,shouldShowQP:e},a[0]=b,a[1]=e,a[2]=f):f=a[2];return f}g.useMAWUnsupportedBrowserNUX=a}),98);
__d("useEncryptedBackupsProcessStatePreLoaded",["CometRelay","I64","LSAuthorityLevel","LSIntEnum","MWEncryptedBackupsDetermineInitialEBState","ReQL","ReQLSuspense","isMWEBEntrypointEnabled","react-compiler-runtime","useEncryptedBackupsProcessStatePreLoaded_query.graphql","useMAWHasUserVisibleErrors","useMAWUnsupportedBrowserNUX","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function a(a){var e=d("react-compiler-runtime").c(10),g=a.entrypoint;a=a.query;var i=d("CometRelay").useFragment(h!==void 0?h:h=b("useEncryptedBackupsProcessStatePreLoaded_query.graphql"),a),j=(k||(k=c("useReStore")))();e[0]!==j||e[1]!==(i==null?void 0:i.viewer.backup_state)?(a=function(){return(i==null?void 0:i.viewer.backup_state)==null?d("ReQL").fromTableAscending(j.tables.secure_encrypted_backups_client_state).filter(l):d("ReQL").empty()},e[0]=j,e[1]=i==null?void 0:i.viewer.backup_state,e[2]=a):a=e[2];var m=i==null?void 0:i.viewer.backup_state,n;e[3]!==j||e[4]!==m?(n=[j,m],e[3]=j,e[4]=m,e[5]=n):n=e[5];m=d("ReQLSuspense").useArray(a,n,f.id+":57");a=d("useMAWUnsupportedBrowserNUX").useMAWUnsupportedBrowserNUX();n=a.shouldHideEBFlow;a=c("useMAWHasUserVisibleErrors")();n=n||a;if(!c("isMWEBEntrypointEnabled")(g))return 0;e[6]!==m||e[7]!==n||e[8]!==i?(a=(i==null?void 0:i.viewer.backup_state)!=null?i.viewer.backup_state:d("MWEncryptedBackupsDetermineInitialEBState").determineInitialEBState({clientStateData:m,hasArmadilloError:n,xfb_backup:i==null?void 0:i.xfb_backup}),e[6]=m,e[7]=n,e[8]=i,e[9]=a):a=e[9];return a}function l(a){a=a.authorityLevel;return(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))}g["default"]=a}),98);
__d("useLazyShouldShowMessagingEntrypointInCometRoot",["CometPassiveGetRouterStateContext","ShouldShowMessagingEntrypoint","react","react-compiler-runtime","useShouldRenderFullTopNav"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useContext;function a(a){var b=d("react-compiler-runtime").c(4),e=c("useShouldRenderFullTopNav")(),f=i(c("CometPassiveGetRouterStateContext")),g;b[0]!==a||b[1]!==f||b[2]!==e?(g=function(){var b=f==null?void 0:f(),d=b==null?void 0:b.main;b=b==null?void 0:b.pushViewStack;b=b&&b.length>0?b[b.length-1]:d;return c("ShouldShowMessagingEntrypoint")(b==null?void 0:b.route,a,e)},b[0]=a,b[1]=f,b[2]=e,b[3]=g):g=b[3];return g}g["default"]=a}),98);
__d("useMAWComposeSecureThreadThenNavigate",["MWChatSearchTypeaheadDataEntry","MWInboxRouteBuilder","MWLSThreadDisplayContext","MWThreadListNewMessageState.react","react","react-compiler-runtime","useCometRouterDispatcher","useMWChatOpenNewTab"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(5),b=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),e=b==="Inbox"?"inboxNewMessage":"jewelNewMessage",f=c("useMWChatOpenNewTab")(e),g=d("MWThreadListNewMessageState.react").useDispatchIfStateExists(),h=c("useCometRouterDispatcher")();a[0]!==h||a[1]!==g||a[2]!==e||a[3]!==f?(b=function(a,b,c){if(e==="jewelNewMessage")f(!0,a);else if(h!=null){b=b.length>0?b:a.map(d("MWChatSearchTypeaheadDataEntry").convertContactToSearchTypeaheadDataEntry);g==null?void 0:g({entries:b,initialOpenChatSearchTypeahead:c,type:d("MWThreadListNewMessageState.react").MWThreadListNewMessageStateActionType.SetEntries});a=d("MWInboxRouteBuilder").buildNewThreadURL({initial_e2ee_toggle_position:!0});h.go(a,{})}},a[0]=h,a[1]=g,a[2]=e,a[3]=f,a[4]=b):b=a[4];return b}g["default"]=a}),98);
__d("useMAWGetUserVisibleErrors",["MAWIssueNewUserVisibleErrors","Promise","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;(j||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(10),e=(i||(i=c("useReStore")))(),g;a[0]!==e.tables.user_visible_errors?(g=function(){return d("ReQL").fromTableDescending(e.tables.user_visible_errors).filter(k)},a[0]=e.tables.user_visible_errors,a[1]=g):g=a[1];var j;a[2]!==e?(j=[e],a[2]=e,a[3]=j):j=a[3];var l=d("ReQLSuspense").useFirst(g,j,f.id+":37");a[4]!==e||a[5]!==l?(g=function(){return l!=null&&l.errorId!=null?d("MAWIssueNewUserVisibleErrors").deleteUserVisibleError(e,l.errorId):(h||(h=b("Promise"))).resolve()},a[4]=e,a[5]=l,a[6]=g):g=a[6];j=g;a[7]!==j||a[8]!==l?(g=[l,j],a[7]=j,a[8]=l,a[9]=g):g=a[9];return g}function k(a){a=a.presentationStyle;return a==="banner"}g["default"]=a}),98);
__d("useMWCMShouldGoToFullScreenChatHook",["getRequestConstUri","isFacebookMessengerInboxURI","isMessengerDotComURI","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("react-compiler-runtime").c(1);if(a[0]===Symbol["for"]("react.memo_cache_sentinel")){var b=c("getRequestConstUri")();b=c("isMessengerDotComURI")(b)||c("isFacebookMessengerInboxURI")(b);a[0]=b}else b=a[0];return b}g["default"]=a}),98);
__d("useMWFacepileGetContactsToShow",["I64","LSAuthorityLevel","LSGroupParticipantJoinState","LSIntEnum","MWPActor.react","ReQL","ReQLSuspense","react-compiler-runtime","useGetContactsToShow","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,b,e){var g=d("react-compiler-runtime").c(14),l=e===void 0?!1:e;e=d("MWPActor.react").useActor();var m=(j||(j=c("useReStore")))(),n;g[0]!==m.tables.contacts||g[1]!==m.tables.participants||g[2]!==l||g[3]!==a?(n=function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(m.tables.participants,["groupParticipantJoinState"]).getKeyRange(a),d("ReQL").fromTableAscending(m.tables.contacts,["rank","profilePictureFallbackUrl","profilePictureUrl","profilePictureUrlExpirationTimestampMs","id","name","authorityLevel"])).filter(function(a){var b=a[0];a=a[1];return(h||(h=d("LSIntEnum"))).toNumber(b.groupParticipantJoinState)!==c("LSGroupParticipantJoinState").MEMBER?!1:!l||a!=null&&l&&(i||(i=d("I64"))).to_int32(a.authorityLevel)>=c("LSAuthorityLevel").AUTHORITATIVE}).take(3)},g[0]=m.tables.contacts,g[1]=m.tables.participants,g[2]=l,g[3]=a,g[4]=n):n=g[4];var o;g[5]!==m||g[6]!==l||g[7]!==a?(o=[m,a,l],g[5]=m,g[6]=l,g[7]=a,g[8]=o):o=g[8];n=d("ReQLSuspense").useArray(n,o,f.id+":61");g[9]!==n?(o=n.map(k),g[9]=n,g[10]=o):o=g[10];n=o;g[11]!==a||g[12]!==b?(o={threadKey:a,threadType:b},g[11]=a,g[12]=b,g[13]=o):o=g[13];return c("useGetContactsToShow")(o,n,e)}function k(a){a=a[1];return a}g["default"]=a}),98);
__d("useMWNavigation",["CometPassiveGetRouterStateContext","CometRelay","FBLogger","I64","LSDatabaseSingleton","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadAttributionStore","MWChatInteraction","MWChatStateActions","MWChatStateV2.react","MWChatStateV2Types","MWInboxArchivedThreadsRouteBuilder","MWInboxBusinessSupportThreadsRouteBuilder","MWInboxMarketplaceThreadsRouteBuilder","MWInboxMessageRequestsRouteBuilder","MWInboxRestrictedAccountsRouteBuilder","MWInboxRouteBuilder","MWInboxTrayGating","MWNavigationContext","MWPVisibleMessageContext.react","MessengerWebEntryPointsUtil","ReQL","XCometGroupDiscussionControllerRouteBuilder","cr:6961","cr:9780","dispatchOpenChatTabTraceLogging","getGroupThreadViewParams","getTopMostRouteCometEntityKey","justknobx","promiseDone","react","react-compiler-runtime","requireDeferred","useAsyncReStore","useCometFeedNoRoutingNavigationEventLogger","useCometRouterDispatcher","useLazyShouldShowMessagingEntrypointInCometRoot","useMAWComposeSecureThreadThenNavigate","useMWChatOpenTabTraceProvider"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;e=h||d("react");e.useCallback;var l=e.useContext,m=e.useMemo,n=c("requireDeferred")("MAWVerifyThreadCutover").__setRef("useMWNavigation");function o(){var a=d("react-compiler-runtime").c(4),b=d("MWChatStateV2.react").useDispatch(),e=c("useCometFeedNoRoutingNavigationEventLogger")(),f=c("useMWChatOpenTabTraceProvider")(),g;a[0]!==b||a[1]!==e||a[2]!==f?(g=function(a,g,h,j){e(Date.now(),"","messenger");return f(function(e,f){d("MWChatInteraction").set((i||(i=d("I64"))).to_string(a.threadKey),e);c("dispatchOpenChatTabTraceLogging")(f,a,"useMWNavigation");(j==null?void 0:j.subEntrypoint)!=null&&f.addAnnotation("sub_entrypoint",j.subEntrypoint);return b(d("MWChatStateActions").openTab(Date.now(),{shouldFocus:h!==!0},{threadKeyDescriptor:a,type:d("MWChatStateV2Types").MWChatStateTabType.ChatTab}))},(i||(i=d("I64"))).to_int32(a.threadType),g,a.threadKey,a.isUnread)},a[0]=b,a[1]=e,a[2]=f,a[3]=g):g=a[3];return g}function p(a,e,f,g,h,j){return function(k){k=(i||(i=d("I64"))).to_string(k);if(b("cr:9780")!=null&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(a))switch(e){case"message_requests":return d("MWInboxMessageRequestsRouteBuilder").buildE2EEThreadURL({focus_target:j,thread_key:k});case"restricted":return d("MWInboxRestrictedAccountsRouteBuilder").buildE2EEThreadURL({focus_target:j,thread_key:k});case"archived":return c("justknobx")._("2103")?d("MWInboxArchivedThreadsRouteBuilder").buildURL({focus_target:j,thread_key:k}):d("MWInboxRouteBuilder").buildE2EEThreadURL({focus_target:j,search:h,thread_key:k});default:return d("MWInboxRouteBuilder").buildE2EEThreadURL({focus_target:j,search:h,thread_key:k})}if(f!=null)return c("XCometGroupDiscussionControllerRouteBuilder").buildURL({chats_to_open:[f.threadKey,k],idorvanity:f.groupId});if(e==null)return d("MWInboxRouteBuilder").buildURL({focus_target:j,link_hash:g,search:h,thread_key:k});switch(e){case"archived":return d("MWInboxArchivedThreadsRouteBuilder").buildURL({focus_target:j,thread_key:k});case"business_support":return d("MWInboxBusinessSupportThreadsRouteBuilder").buildURL({focus_target:j,thread_key:k});case"marketplace":return d("MWInboxMarketplaceThreadsRouteBuilder").buildURL({focus_target:j,thread_key:k});case"message_requests":return d("MWInboxMessageRequestsRouteBuilder").buildURL({focus_target:j,thread_key:k});case"restricted":return d("MWInboxRestrictedAccountsRouteBuilder").buildURL({focus_target:j,thread_key:k});default:return d("MWInboxRouteBuilder").buildURL({focus_target:j,link_hash:g,search:h,thread_key:k})}}}function q(a,b){a=a.threadKey;return d("LSThreadAttributionStore").setSource((i||(i=d("I64"))).to_string(a),b)}function a(){var a=c("useLazyShouldShowMessagingEntrypointInCometRoot")("CHAT"),e=c("useCometRouterDispatcher")(),f=l(d("MWNavigationContext").context),g=l(c("CometPassiveGetRouterStateContext")),h=o(),r=d("CometRelay").useRelayEnvironment(),s=b("cr:6961")(),t=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),u=t.setVisibleMessage,v=c("useMAWComposeSecureThreadThenNavigate")(),w=c("useAsyncReStore")();return m(function(){var b=function(a,b,d,e,h){var i,j=c("getTopMostRouteCometEntityKey")(g==null?void 0:g()),k=j==null?void 0:j.entity_type;j=c("getGroupThreadViewParams")(j,g==null?void 0:g());i=(i=f)!=null?i:p(b,k,j,d,e,h);return i(a)},l=function(a,f,g){var h=a.isUnread,j=a.searchQuery,k=a.threadKey,l=a.threadLinkHash;a=a.threadType;if(e!=null){var m=d("MessengerWebEntryPointsUtil").cast(f),n=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a);l=b(k,a,l,j,g);n&&!l.includes("e2ee")&&c("FBLogger")("messenger_web").mustfix("E2ee thread navigation url is not correct");f!=="messengerUniversalSearch"&&u(void 0);e.go(l,{traceParams:{TLTV:"true",entrypoint:m,hasBadge:h!=null?h.toString():"",inboxEntrypoint:f,isSecure:n?"true":"false",thread_id:(i||(i=d("I64"))).to_string(k),thread_type:i.to_string(a)}})}},m=function(a,f){var g=a.isUnread,h=a.searchQuery,k=a.threadKey,l=a.threadLinkHash,m=a.threadType;if(e!=null){var o=d("MessengerWebEntryPointsUtil").cast(f),p=d("LSMessagingThreadTypeUtil").isArmadilloSecure(m),q=b(k,m,l,h);p&&!q.includes("e2ee")&&c("FBLogger")("messenger_web").mustfix("E2ee thread navigation url is not correct");f!=="messengerUniversalSearch"&&u(void 0);n.onReady(function(a){c("promiseDone")(a.verifyContactCutoverOrOndemandCutoverOrDefaultE2EE((j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton,r,k,void 0,null).then(function(n){switch(n){case"cutover":c("promiseDone")(a.getCutoverThread((j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton,k).then(function(a){a=a?a.serverThreadKey:k;var c=b(a,m,l,h);e.go(c,{traceParams:{TLTV:"true",entrypoint:o,hasBadge:g!=null?g.toString():"",inboxEntrypoint:f,isSecure:"true",thread_id:(i||(i=d("I64"))).to_string(a),thread_type:i.to_string(m)}})}));break;case"default_e2ee":c("promiseDone")(w,function(a){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(k)).then(function(a){a!=null?v([a],[],d("MWInboxTrayGating").isInboxTrayEnabled()?!1:void 0):c("FBLogger")("Contact was null when navigating to default e2ee")})});break;case"on_demand_cutover":default:e.go(q,{traceParams:{TLTV:"true",entrypoint:o,hasBadge:g!=null?g.toString():"",inboxEntrypoint:f,isSecure:p?"true":"false",thread_id:(i||(i=d("I64"))).to_string(k),thread_type:(i||(i=d("I64"))).to_string(m)}});break}}))})}};return{getUrlFromThreadKey:b,openInbox:function(a,b,c,e,f){c===void 0&&(c=(k||(k=d("LSIntEnum"))).ofNumber(54));q(a,b);return s({damagingActionsEntryPoint:c,onProceed:function(){b==="contactShareMessage"||b==="inboxTrayActiveNow"?m(a,b):l(a,b,f),e==null?void 0:e()},threadKey:a.threadKey})},openTabOrInbox:function(b,c,e,f,g,i){f===void 0&&(f=(k||(k=d("LSIntEnum"))).ofNumber(54));q(b,c);if(a())return s({damagingActionsEntryPoint:f,onProceed:function(){h(b,c,e,g),i==null?void 0:i()},threadKey:b.threadKey});else return s({damagingActionsEntryPoint:f,onProceed:function(){l(b,c),i==null?void 0:i()},threadKey:b.threadKey})}}},[g,f,e,u,w,v,s,a,h])}g["default"]=a}),98);
__d("useWAInfraDeviceList",["WABridgedAPI","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).use,j=null;function k(){j==null&&(j=c("WABridgedAPI").getCurrentUserDeviceList());return j}function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=k(),a[0]=b):b=a[0];return i(b)}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("CometAdsRenderingValidationReducer",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return{logs:[].concat(a.logs,[b.log])}}f.reducer=a}),66);
__d("CometAdsRenderingValidationContextProvider",["CometAdsRenderingValidationContext","CometAdsRenderingValidationReducer","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useMemo;var j=b.useReducer,k={logs:[]};function a(a){var b=d("react-compiler-runtime").c(10),e=a.adClientToken,f=a.adId,g=a.children;a=a.postRenderingLoggers;var h=j(d("CometAdsRenderingValidationReducer").reducer,k),l=h[0];h=h[1];var m;b[0]!==e||b[1]!==f||b[2]!==a?(m={adClientToken:e,adId:f,postRenderingLoggers:a},b[0]=e,b[1]=f,b[2]=a,b[3]=m):m=b[3];b[4]!==l||b[5]!==m?(e={dispatcher:h,sponsoredData:m,state:l},b[4]=l,b[5]=m,b[6]=e):e=b[6];f=e;a=f;b[7]!==g||b[8]!==a?(h=i.jsx(c("CometAdsRenderingValidationContext").Provider,{value:a,children:g}),b[7]=g,b[8]=a,b[9]=h):h=b[9];return h}g["default"]=a}),98);
__d("CometFeedAutoFocusedStoryContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("CometFeedSection.react",["FDSUnitHeader.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(10),e=a.meta,f=a.sectionContents,g=a.title;a=a.widthStyle;a=a===void 0?"none":a;var h;b[0]!==a?(h={0:{},1:{className:"xh8yej3"}}[!!(a==="full")<<0],b[0]=a,b[1]=h):h=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"x19f6ikt x169t7cy xsag5q8"},b[2]=a):a=b[2];b[3]!==e||b[4]!==g?(a=i.jsx("div",babelHelpers["extends"]({},a,{children:i.jsx(c("FDSUnitHeader.react"),{headline:g,headlineColor:"secondary",level:4,meta:e})})),b[3]=e,b[4]=g,b[5]=a):a=b[5];b[6]!==f||b[7]!==h||b[8]!==a?(e=i.jsxs("div",babelHelpers["extends"]({},h,{"data-testid":void 0,role:"feed",children:[a,f]})),b[6]=f,b[7]=h,b[8]=a,b[9]=e):e=b[9];return e}g["default"]=a}),98);
__d("CometFeedUnitBorderContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(void 0);g["default"]=b}),98);
__d("CometFeedUnitCard_feedUnit.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedUnitCard_feedUnit",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Story",abstractKey:null}],type:"FeedUnit",abstractKey:"__isFeedUnit"};e.exports=a}),null);
__d("CometFeedUnitDropShadowContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(1);g["default"]=b}),98);
__d("useAdsRenderingValidationDataLogger",["CometAdsRenderingValidationContext","FBLogger","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useContext,j=b.useRef,k="[data-ad-rendering-role]";function a(){var a=d("react-compiler-runtime").c(6),b=j(null),e=i(c("CometAdsRenderingValidationContext")),f=e.dispatcher;e=e.sponsoredData;if(a[0]!==(e==null?void 0:e.adClientToken)||a[1]!==(e==null?void 0:e.postRenderingLoggers)){var g;g=c("gkx")("5837")&&(e==null?void 0:e.adClientToken)!==null&&(e==null?void 0:(g=e.postRenderingLoggers)==null?void 0:g.includes("post_rendering_logger"))===!0;a[0]=e==null?void 0:e.adClientToken;a[1]=e==null?void 0:e.postRenderingLoggers;a[2]=g}else g=a[2];var h=g;a[3]!==f||a[4]!==h?(e=function(a){if(!h||a===null||b.current===a)return;c("FBLogger")("comet_ads","useAdsRenderingValidationDataLogger").debug("Comet component %s added to DOM",JSON.stringify(a==null?void 0:a.tagName));b.current=a;a=a==null?void 0:a.querySelectorAll(k);a==null?void 0:a.forEach(function(a){f({log:{componentName:a.getAttribute("data-testid"),debug:JSON.stringify({boundingRect:a.getBoundingClientRect(),tag:a.tagName}),htmlElement:a,role:(a=a.getAttribute("data-ad-rendering-role"))!=null?a:"unknown"}})})},a[3]=f,a[4]=h,a[5]=e):e=a[5];g=e;return h?g:null}g["default"]=a}),98);
__d("RenderingValidationDataFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("314");b=d("FalcoLoggerInternal").create("rendering_validation_data",a);e=b;g["default"]=e}),98);
__d("useAdsRenderingValidationImpressionLogger",["CometAdsRenderingValidationContext","FBLogger","RenderingValidationDataFalcoEvent","gkx","react","react-compiler-runtime","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useContext,j="unknown";function k(a,b,c){var d=c.htmlElement.getBoundingClientRect();if(a==="image"){var e=c.htmlElement.querySelector("img");if(e!==null){e={content_rendered_size:{height:e.naturalHeight,width:e.naturalWidth},content_type:"image",content_url:e.src,is_visible:e.complete&&e.naturalHeight>0&&e.naturalWidth>0,role:"media",size:{height:d.height,width:d.width}};return isNaN(parseInt(b,10))?e:babelHelpers["extends"]({},e,{index:b})}}else if(a==="video"){return{content_id:c.videoId,content_original_size:{height:(b=(e=c.mediaSize)==null?void 0:e.height)!=null?b:0,width:(b=(e=c.mediaSize)==null?void 0:e.width)!=null?b:0},content_rendered_size:{height:(c=d.height)!=null?c:0,width:(e=d.width)!=null?e:0},content_type:"video",is_visible:!0,role:"media"}}return{is_visible:!0,role:a,size:{height:(b=d==null?void 0:d.height)!=null?b:0,width:(c=d==null?void 0:d.width)!=null?c:0}}}function a(a){var b=d("react-compiler-runtime").c(18),e=i(c("CometAdsRenderingValidationContext")),f=e.sponsoredData,g=e.state,h=f==null?void 0:f.adClientToken,k=f==null?void 0:f.adId;if(b[0]!==h||b[1]!==(f==null?void 0:f.postRenderingLoggers)){e=c("gkx")("5837")&&h!==null&&(f==null?void 0:(e=f.postRenderingLoggers)==null?void 0:e.includes("post_rendering_logger"))===!0;b[0]=h;b[1]=f==null?void 0:f.postRenderingLoggers;b[2]=e}else e=b[2];var n=e;b[3]!==h||b[4]!==k||b[5]!==a||b[6]!==n||b[7]!==(g==null?void 0:g.logs)?(f=function(b){if(!n)return;var d=(b=g==null?void 0:g.logs)!=null?b:[];c("FBLogger")("comet_ads","useAdsRenderingValidationImpressionLogger").debug("onImpressionStart for %s: %s",(b=k)!=null?b:"");if(d.length===0)return;c("RenderingValidationDataFalcoEvent").log(function(){var b;return{event_sub_type:"feed_unit_inital_impression",log_source:(b=a)!=null?b:j,log_source_type:"comet",sponsored_data:{ad_client_token:h,ad_id:k},view_data:d.map(m)}})},b[3]=h,b[4]=k,b[5]=a,b[6]=n,b[7]=g==null?void 0:g.logs,b[8]=f):f=b[8];g==null?void 0:g.logs;e=f;b[9]!==h||b[10]!==k||b[11]!==a||b[12]!==n||b[13]!==(g==null?void 0:g.logs)?(f=function(b){var d;if(!n)return;b=(b=g==null?void 0:g.logs)!=null?b:[];if(b.length===0)return;c("FBLogger")("comet_ads","useAdsRenderingValidationImpressionLogger").debug("onImpressionEnd for %s: %s",(d=k)!=null?d:"");var e=b.map(l);c("RenderingValidationDataFalcoEvent").log(function(){var b;return{event_sub_type:"feed_unit_full_impression",log_source:(b=a)!=null?b:j,log_source_type:"comet",sponsored_data:{ad_client_token:h,ad_id:k},view_data:e}})},b[9]=h,b[10]=k,b[11]=a,b[12]=n,b[13]=g==null?void 0:g.logs,b[14]=f):f=b[14];g==null?void 0:g.logs;f=f;var o;b[15]!==f||b[16]!==e?(o={onImpressionEnd:f,onImpressionStart:e},b[15]=f,b[16]=e,b[17]=o):o=b[17];return c("useSinglePartialViewImpression")(o)}function l(a){var b=a.htmlElement,c=a.role.split("-"),d=c[0];c=c[1];var e={debug:a.debug,is_visible:!0,log_source:a.componentName,log_source_type:"comet",role:d};if(d==="media_container"||d==="image"||d==="video"){d=k(d,c,a);if(d!==null)return babelHelpers["extends"]({},e,d)}return!isNaN(parseInt(c,10))?babelHelpers["extends"]({},e,{index:c,text:b==null?void 0:b.innerText}):babelHelpers["extends"]({},e,{text:b==null?void 0:b.innerText})}function m(a){return{is_visible:null,log_source:a.componentName,log_source_type:"comet",role:a.role}}g["default"]=a}),98);
__d("useMergeCometAriaProps",["react-compiler-runtime","useSetAttributeRef"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("react-compiler-runtime").c(11);for(var e=arguments.length,f=new Array(e>1?e-1:0),g=1;g<e;g++)f[g-1]=arguments[g];var h=f,i;if(b[0]!==h||b[1]!==a){var j;b[3]!==a?(j=function(b,c){Object.prototype.hasOwnProperty.call(c,a)&&typeof c[a]==="string"&&b.push(c[a]);return b},b[3]=a,b[4]=j):j=b[4];i=h.reduce(j,[]).join(" ");b[0]=h;b[1]=a;b[2]=i}else i=b[2];var k=i,l=c("useSetAttributeRef")(a,k),m;if(b[5]!==a||b[6]!==k){var n;m=(n={},n[a]=k,n.suppressHydrationWarning=!0,n);b[5]=a;b[6]=k;b[7]=m}else m=b[7];var o;b[8]!==l||b[9]!==m?(o=[m,l],b[8]=l,b[9]=m,b[10]=o):o=b[10];return o}g["default"]=a}),98);
__d("CometFeedUnitCard.react",["CometFeedARIAProperties.react","CometFeedAutoFocusedStoryContext","CometFeedHighlightedStoriesContext","CometFeedStoryAttachmentCommandWidget","CometFeedUnitBorderContext","CometFeedUnitCard_feedUnit.graphql","CometFeedUnitDropShadowContext","CometGHLScrambledLabelScreenReaderContext","CometHideableComponentExperiment.react","CometKeyCommandWrapper.react","CometRelay","FDSCard.react","FocusWithinHandler.react","GHLMitigationsGating","UserAgent","cr:430","gkx","react","react-compiler-runtime","useAdsRenderingValidationDataLogger","useAdsRenderingValidationImpressionLogger","useCometScrollAnchor","useEmptyFunction","useMergeCometAriaProps","useMergeRefs"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.useContext,l=e.useId;e.useMemo;var m=e.useRef,n=e.useState;e=(f=b("cr:430"))!=null?f:{useCometFocusHighlightedContent:c("useEmptyFunction")};var o=e.useCometFocusHighlightedContent,p=c("gkx")("22786");function a(a){var e=d("react-compiler-runtime").c(51),f=a.children,g=a.position,i=d("CometRelay").useFragment(h!==void 0?h:h=b("CometFeedUnitCard_feedUnit.graphql"),a.feedUnit);i=i.id;var q=l(),r;e[0]!==q?(r={"aria-labelledby":q,suppressHydrationWarning:!0},e[0]=q,e[1]=r):r=e[1];var s=r;r=l();var t;e[2]!==r?(t={"aria-describedby":r,suppressHydrationWarning:!0},e[2]=r,e[3]=t):t=e[3];t=t;var u=l(),v;e[4]!==u?(v={"aria-describedby":u,suppressHydrationWarning:!0},e[4]=u,e[5]=v):v=e[5];v=v;var w=l(),x;e[6]!==w?(x={"aria-describedby":w,suppressHydrationWarning:!0},e[6]=w,e[7]=x):x=e[7];x=x;var y=l(),z;e[8]!==y?(z={"aria-describedby":y,suppressHydrationWarning:!0},e[8]=y,e[9]=z):z=e[9];z=z;var A=l(),B;e[10]!==A?(B={"aria-describedby":A,suppressHydrationWarning:!0},e[10]=A,e[11]=B):B=e[11];B=B;t=c("useMergeCometAriaProps")("aria-describedby",t,v,x,B,z);var C=t[0];v=t[1];e[12]!==q?(x={id:q,suppressHydrationWarning:!0},e[12]=q,e[13]=x):x=e[13];B=x;e[14]!==r?(z={id:r,suppressHydrationWarning:!0},e[14]=r,e[15]=z):z=e[15];t=z;e[16]!==u?(q={id:u,suppressHydrationWarning:!0},e[16]=u,e[17]=q):q=e[17];x=q;e[18]!==w?(r={id:w,suppressHydrationWarning:!0},e[18]=w,e[19]=r):r=e[19];z=r;e[20]!==y?(u={id:y,suppressHydrationWarning:!0},e[20]=y,e[21]=u):u=e[21];q=u;e[22]!==A?(w={id:A,suppressHydrationWarning:!0},e[22]=A,e[23]=w):w=e[23];r=w;e[24]!==z||e[25]!==q||e[26]!==x||e[27]!==t||e[28]!==r||e[29]!==B?(y={attachmentTargetProps:z,commentCountTargetProps:q,contentTargetProps:x,metaTargetProps:t,reactionTargetProps:r,titleTargetProps:B},e[24]=z,e[25]=q,e[26]=x,e[27]=t,e[28]=r,e[29]=B,e[30]=y):y=e[30];u=y;var D=u;A=k(c("CometFeedHighlightedStoriesContext"));e[31]!==A||e[32]!==i?(w=i!=null&&A!=null&&A.has(i),e[31]=A,e[32]=i,e[33]=w):w=e[33];z=w;q=n(z);var E=q[0],F=q[1];e[34]===Symbol["for"]("react.memo_cache_sentinel")?(x={onScrollComplete:function(){return F(!0)}},e[34]=x):x=e[34];t=d("useCometScrollAnchor").useCometScrollAnchor("feed-story",i,x);r=m(null);var G=c("useMergeRefs")(r,t,v,a.loggingRef);B=k(c("CometFeedAutoFocusedStoryContext"));o(B===i?r:null);y=n(!1);var H=y[0],I=y[1],J=k(c("CometFeedUnitBorderContext")),K=k(c("CometFeedUnitDropShadowContext"));e[35]===Symbol["for"]("react.memo_cache_sentinel")?(u=c("UserAgent").isBrowser("Chrome")&&c("UserAgent").isPlatform("Mac OS X"),e[35]=u):u=e[35];var L=u;A=c("useAdsRenderingValidationImpressionLogger")("CometFeedUnitCard");w=c("useAdsRenderingValidationDataLogger")();z=c("useMergeRefs")(A,w);e[36]===Symbol["for"]("react.memo_cache_sentinel")?(q={className:"x1n2onr6 x1ja2u2z"},e[36]=q):q=e[36];e[37]!==J||e[38]!==f||e[39]!==G||e[40]!==K||e[41]!==D||e[42]!==E||e[43]!==H||e[44]!==g||e[45]!==C||e[46]!==s?(x=j.jsx(c("FocusWithinHandler.react"),{children:function(a,b){var e;if(p){var h=b&&a&&!H;h?e="static":E&&(e="animated")}else(E||b)&&(e="animated");h=c("gkx")("23000")?null:{role:"article"};b=a&&d("GHLMitigationsGating").getIsGHLOverrideDelayLabelPlacementEnabled();return j.jsx(c("CometKeyCommandWrapper.react"),{debugName:"feed_story",children:j.jsx(c("CometFeedStoryAttachmentCommandWidget").Wrapper,{children:j.jsx(c("CometGHLScrambledLabelScreenReaderContext").Provider,{value:b,children:j.jsx("div",babelHelpers["extends"]({"aria-posinset":L?void 0:g+1},C,s,{className:"x1a2a7pz","data-testid":void 0,ref:G},h,{children:j.jsx(c("FocusWithinHandler.react"),{onFocusChange:I,children:j.jsx(c("CometHideableComponentExperiment.react"),{callingSurface:"comet_feed_unit_card",children:j.jsx(c("FDSCard.react"),{background:"white",border:J,borderHighlight:e,dropShadow:K,children:j.jsx(c("CometFeedARIAProperties.react").Provider,{value:D,children:f})})})})}))})})})}}),e[37]=J,e[38]=f,e[39]=G,e[40]=K,e[41]=D,e[42]=E,e[43]=H,e[44]=g,e[45]=C,e[46]=s,e[47]=x):x=e[47];e[48]!==z||e[49]!==x?(t=j.jsx("div",babelHelpers["extends"]({},q,{ref:z,children:x})),e[48]=z,e[49]=x,e[50]=t):t=e[50];return t}g["default"]=a}),98);
__d("CometFeedUnitContainerSection_feedUnit.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedUnitContainerSection_feedUnit",selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFeedUnitStoryStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"Story",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFeedUnitGoodwillMemoryStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GoodwillCometStory",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometPYMKQPFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"PaginatedPeopleYouMayKnowFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometReelsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"ShowcaseFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFriendRequestsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"FriendRequestsFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFeedUnitQuickPromotionStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"QuickPromotionNativeTemplateFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"GroupsCometGYSJFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GroupsYouShouldJoinFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometGroupsSuggestionFeedUnitStrategy_unit",fragmentPropName:"unit",kind:"ModuleImport"}],type:"GroupsSuggestionUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometPYMIQPFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"PaginatedGroupsPeopleYouMayInviteFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"GeminiPYSFQPFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"PeopleYouShouldFollowAtWorkFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometSPFFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"SuggestedPublicEntitiesToFollowFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometEndOfFeedUpsellStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"EndOfFeedUpsellFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometGroupRelatedGroupsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GroupRelatedGroupsFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometGroupRelatedKeywordsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GroupRelatedKeywordsFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometStoriesSingleBucketFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"StoriesSingleBucketInlineViewerFeedUnit",abstractKey:null},{args:null,kind:"FragmentSpread",name:"CometFeedUnitUnknownFeedUnitStrategy_feedUnit"}],type:"FeedUnit",abstractKey:"__isFeedUnit"};e.exports=a}),null);
__d("CometFeedUnitContainerSection.react",["CometFeedMatchRenderer.react","CometFeedUnitContainerSection_feedUnit.graphql","RelayHooks","cr:1448849","react","react-compiler-runtime","usePageletMatchMetadata"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;e.useCallback;var k=e.useState,l=h!==void 0?h:h=b("CometFeedUnitContainerSection_feedUnit.graphql");function a(a){var e=d("react-compiler-runtime").c(12),f=a.onUnsupported,g=a.position,h=a.variables;a=babelHelpers.objectWithoutPropertiesLoose(a,["onUnsupported","position","variables"]);a=d("RelayHooks").useFragment(l,a.feedUnit);var i=k(!1),m=i[0],n=i[1];e[0]!==f?(i=function(){n(!0),f()},e[0]=f,e[1]=i):i=e[1];i=i;c("usePageletMatchMetadata")("feed_unit",a);if(!m){e[2]!==g||e[3]!==h?(m={position:g,variables:h},e[2]=g,e[3]=h,e[4]=m):m=e[4];e[5]!==a||e[6]!==i||e[7]!==m?(h=j.jsx(c("CometFeedMatchRenderer.react"),{match:a,matchRequired:!0,onUnsupported:i,props:m,section:"feed_unit",trackingData:null}),e[5]=a,e[6]=i,e[7]=m,e[8]=h):h=e[8];return h}if(b("cr:1448849")!=null){e[9]!==a||e[10]!==g?(i=j.jsx(b("cr:1448849"),{feedUnit:a,position:g}),e[9]=a,e[10]=g,e[11]=i):i=e[11];return i}return null}f=j.memo(a);g["default"]=f}),98);
__d("CometFeedUnitErrorBoundary_feedUnit.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedUnitErrorBoundary_feedUnit",selections:[{args:null,kind:"FragmentSpread",name:"useCometFeedUnitEventLogger_feedUnit"},{args:null,kind:"FragmentSpread",name:"useShouldPreventFeedSectionErrorsFromKillingFeedUnit_story"}],type:"FeedUnit",abstractKey:"__isFeedUnit"};e.exports=a}),null);
__d("CometFeedUnitErrorMessageOrNull",["cr:1448848"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:1448848")}),98);
__d("CometFeedUnitSetStatusContext",["react","react-compiler-runtime","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;var j=i.createContext(function(){return void 0});function a(a){var b=d("react-compiler-runtime").c(10),e=a.brsContentLabel,f=a.brsFilterSetting,g=a.category,h=a.children,k=a.deduplicationKey,l=a.minGapType,m=a.setFeedUnitRecord;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==k||b[4]!==l||b[5]!==m?(a=function(a){if(k!=null&&l!=null){var b;m(k,{category:(b=g)!=null?b:"UNKNOWN",edgeData:{brsContentLabel:e,brsFilterSetting:f},minGapType:l,status:a})}else c("recoverableViolation")("Category or deduplication_key cannot be null in CometFeedUnitSetStatusContextProvider; Feed unit status not set.","CometFeedUnitStatusTracking")},b[0]=e,b[1]=f,b[2]=g,b[3]=k,b[4]=l,b[5]=m,b[6]=a):a=b[6];a=a;var n;b[7]!==h||b[8]!==a?(n=i.jsx(j.Provider,{value:a,children:h}),b[7]=h,b[8]=a,b[9]=n):n=b[9];return n}g.CometFeedUnitSetStatusContext=j;g.CometFeedUnitSetStatusContextProvider=a}),98);
__d("CometFeedUnitsTypedLoggerLite",["generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:CometFeedUnitsLoggerConfig")}),null);
__d("useCometFeedUnitEventLogger_feedUnit.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"QuickPromotionFeedUnitItem",kind:"LinkedField",name:"quick_promotion_items",plural:!0,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"quick_promotion",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCometFeedUnitEventLogger_feedUnit",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:a,type:"QuickPromotionFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:a,type:"QuickPromotionNativeTemplateFeedUnit",abstractKey:null}],type:"FeedUnit",abstractKey:"__isFeedUnit"}}();e.exports=a}),null);
__d("useCometFeedUnitEventLogger",["CometFeedUnitsTypedLoggerLite","CometRelay","react","react-compiler-runtime","useCometFeedUnitEventLogger_feedUnit.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useCallback;function a(a){var e=d("react-compiler-runtime").c(3),f=d("CometRelay").useFragment(h!==void 0?h:h=b("useCometFeedUnitEventLogger_feedUnit.graphql"),a);e[0]!==f.__typename||e[1]!==f.quick_promotion_items?(a=function(a){var b=a.category,d=a.errorName,e=a.event,g=a.minGapType,h=a.numCommitsBeforeError,i=a.position;a=a.renderLocation;var k=[];f.quick_promotion_items!=null&&(k=f.quick_promotion_items.map(j).filter(Boolean));c("CometFeedUnitsTypedLoggerLite").log({category:b,error_name:d,event:e,min_gap_type:g,num_commits_before_error:h,position:i,related_ids:k,render_location:a,unit_name:f.__typename})},e[0]=f.__typename,e[1]=f.quick_promotion_items,e[2]=a):a=e[2];return a}function j(a){return(a=a.quick_promotion)==null?void 0:a.id}g["default"]=a}),98);
__d("useShouldPreventFeedSectionErrorsFromKillingFeedUnit_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}];return{argumentDefinitions:[{kind:"RootArgument",name:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider"}],kind:"Fragment",metadata:null,name:"useShouldPreventFeedSectionErrorsFromKillingFeedUnit_story",selections:[{condition:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:a,storageKey:null}]},{condition:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:"the_spons_data",args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:a,storageKey:null}]}],type:"Story",abstractKey:null}}();e.exports=a}),null);
__d("useShouldPreventFeedSectionErrorsFromKillingFeedUnit",["CometRelay","gkx","useShouldPreventFeedSectionErrorsFromKillingFeedUnit_story.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=d("CometRelay").useFragment(h!==void 0?h:h=b("useShouldPreventFeedSectionErrorsFromKillingFeedUnit_story.graphql"),a);a=a.sponsored_data;a=a!=null;a=a?c("gkx")("23001"):c("gkx")("23002");return a}g["default"]=a}),98);
__d("CometFeedUnitErrorBoundary.react",["CometErrorBoundary.react","CometFeedUnitErrorBoundary_feedUnit.graphql","CometFeedUnitErrorMessageOrNull","CometFeedUnitOnFeedUnitErrorContext","CometFeedUnitSetStatusContext","CometFeedUnitShouldPropagateErrorContext","CometRelay","InteractionTracing.xplat","emptyFunction","react","useCometFeedUnitEventLogger","useCommitCountRef","useShouldPreventFeedSectionErrorsFromKillingFeedUnit"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.useCallback,l=e.useContext,m=e.useState;function a(a){var e=a.category,f=a.children,g=a.feedUnit,i=a.minGapType,n=a.onError,o=a.position,p=a.renderLocation;a.unitTypename;a=m(null);var q=a[0],r=a[1],s=c("useCommitCountRef")();a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometFeedUnitErrorBoundary_feedUnit.graphql"),g);var t=l(d("CometFeedUnitSetStatusContext").CometFeedUnitSetStatusContext),u=c("useCometFeedUnitEventLogger")(a);g=k(function(a){r(a),t("error"),u({category:e,errorName:a.message,event:"js_error",minGapType:i,numCommitsBeforeError:s.current,position:o,renderLocation:p!=="%future added value"?p:void 0}),c("InteractionTracing.xplat").getPendingInteractions().forEach(function(a){a.addAnnotationInt("feedUnitError",1)}),n!=null&&n(a)},[t,u,e,i,s,o,p,n]);a=c("useShouldPreventFeedSectionErrorsFromKillingFeedUnit")(a);return q!=null?c("CometFeedUnitErrorMessageOrNull")!=null?j.jsx(c("CometFeedUnitErrorMessageOrNull"),{error:q}):null:j.jsx(c("CometErrorBoundary.react"),{context:{project:"CometFeedUnitErrorBoundary"},onError:g,children:j.jsx(c("CometFeedUnitShouldPropagateErrorContext").Provider,{value:!0,children:j.jsx(c("CometFeedUnitOnFeedUnitErrorContext").Provider,{value:a?c("emptyFunction"):g,children:f})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometFeedUnitLoadingContext",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({onFinishLoading:c("emptyFunction"),onStartLoading:c("emptyFunction")});g["default"]=b}),98);
__d("CometFeedUnitOnUnsupportedLoggerContext",["CometFeedUnitsTypedLoggerLite","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useRef,k=i.createContext(function(){return void 0});function a(a){var b=d("react-compiler-runtime").c(9),e=a.children,f=a.minGapType,g=a.position,h=a.postID,l=a.renderLocation,m=a.unitName,n=j(!1);b[0]!==f||b[1]!==g||b[2]!==h||b[3]!==l||b[4]!==m?(a=function(a){if(!n.current){n.current=!0;c("CometFeedUnitsTypedLoggerLite").log({event:"unsupported",min_gap_type:f,position:g,post_id:h,related_ids:(a=a)!=null?a:null,render_location:l,unit_name:m})}},b[0]=f,b[1]=g,b[2]=h,b[3]=l,b[4]=m,b[5]=a):a=b[5];a=a;var o;b[6]!==e||b[7]!==a?(o=i.jsx(k.Provider,{value:a,children:e}),b[6]=e,b[7]=a,b[8]=o):o=b[8];return o}g.CometFeedUnitOnUnsupportedLoggerContext=k;g.CometFeedUnitOnUnsupportedLoggerContextProvider=a}),98);
__d("CometFeedUnitSetDebugInfoContext",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(c("emptyFunction"));g["default"]=b}),98);
__d("CometFeedUnit_feedUnit.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b=[{condition:"__relay_internal__pv__GHLShouldChangeAdIdFieldNamerelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null}]},{condition:"__relay_internal__pv__GHLShouldChangeAdIdFieldNamerelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:"lbl_adv_iden",args:null,kind:"ScalarField",name:"ad_id",storageKey:null}]},{alias:null,args:null,kind:"ScalarField",name:"brs_filter_setting",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"client_token",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"post_rendering_loggers",storageKey:null}];return{argumentDefinitions:[{kind:"RootArgument",name:"__relay_internal__pv__GHLShouldChangeAdIdFieldNamerelayprovider"},{kind:"RootArgument",name:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider"}],kind:"Fragment",metadata:null,name:"CometFeedUnit_feedUnit",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"debug_info",storageKey:null},a,{condition:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:b,storageKey:null}]},{condition:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:"the_spons_data",args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:b,storageKey:null}]},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"associated_group",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"context_actor_hovercard",storageKey:null},a],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_story_civic",storageKey:null}],type:"Story",abstractKey:null},{args:null,kind:"FragmentSpread",name:"CometFeedUnitCard_feedUnit"},{args:null,kind:"FragmentSpread",name:"CometFeedUnitContainerSection_feedUnit"},{args:null,kind:"FragmentSpread",name:"CometFeedUnitErrorBoundary_feedUnit"},{args:null,kind:"FragmentSpread",name:"CometFeedUnit_trackableFeedUnit"}],type:"FeedUnit",abstractKey:"__isFeedUnit"}}();e.exports=a}),null);
__d("CometFeedUnit_newsFeedEdge.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedUnit_newsFeedEdge",selections:[{alias:null,args:null,kind:"ScalarField",name:"brs_content_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"deduplication_key",storageKey:null}],type:"NewsFeedEdge",abstractKey:null};e.exports=a}),null);
__d("CometFeedUnit_trackableFeedUnit.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedUnit_trackableFeedUnit",selections:[{alias:null,args:null,concreteType:"TrackingData",kind:"LinkedField",name:"trackingdata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"viewability_config",storageKey:null},{alias:null,args:null,concreteType:"CometClientViewConfig",kind:"LinkedField",name:"client_view_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_delay_log_impression",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"use_banzai_signal_imp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"use_banzai_vital_imp",storageKey:null}],storageKey:null}],type:"Story",abstractKey:null}],type:"TrackableFeedUnit",abstractKey:"__isTrackableFeedUnit"};e.exports=a}),null);
__d("CometOffscreenScrollCompensator.react",["cr:10000","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");e=(c=b("cr:10000"))!=null?c:a.Fragment;g["default"]=e}),98);
__d("memory.react",["cr:1227"],(function(a,b,c,d,e,f,g){"use strict";g.useEffect=(a=b("cr:1227")).useEffect;g.useState=a.useState;g.useCallback=a.useCallback;g.useMemo=a.useMemo;g.useLayoutEffect=a.useLayoutEffect}),98);
__d("CometFeedUnit.react",["ActorHovercardContext","CometAdsRenderingValidationContextProvider","CometErrorProjectContext","CometFeedBrandSafetyContext","CometFeedUnitCard.react","CometFeedUnitContainerSection.react","CometFeedUnitErrorBoundary.react","CometFeedUnitLoadingContext","CometFeedUnitLoggingContext","CometFeedUnitOnUnsupportedLoggerContext","CometFeedUnitPostRenderingLoggersContext","CometFeedUnitQueryVariablesContext","CometFeedUnitSetDebugInfoContext","CometFeedUnitSetStatusContext","CometFeedUnit_feedUnit.graphql","CometFeedUnit_newsFeedEdge.graphql","CometFeedUnit_trackableFeedUnit.graphql","CometGHLScrambledLabelMitigationLoggerContext","CometOffscreenScrollCompensator.react","CometProfiler.react","CometRelay","FBLogger","FDSHovercardGroupContext","FocusRegion.react","HiddenSubtreePassiveContext","InteractionTracing","RecoverableViolationWithComponentStack.react","cr:12345","cr:1326","cr:1720","cr:1829844","deferredLoadComponent","focusScopeQueries","gkx","joinClasses","memory.react","react","react-compiler-runtime","requireDeferred","stylex","unrecoverableViolation","useActorHovercardContext","useEmptyFunction","useMergeRefs","usePostRenderingLogger","useStoryViewabilityLogger","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=l||(l=d("react"));e=l;var n=e.useContext,o=e.useRef,p=(f=b("cr:1720"))!=null?f:c("useEmptyFunction"),aa=c("deferredLoadComponent")(c("requireDeferred")("CometFeedUnitLoadingIndicatorMask.react").__setRef("CometFeedUnit.react")),q={reducedSpacing:{marginBottom:"xod5an3",$$css:!0},wrapper:{marginBottom:"x1yztbdb",position:"x1n2onr6",width:"xh8yej3",zIndex:"x1ja2u2z",$$css:!0}},ba=window.atob&&window.atob("c3BvbnNvcmVkX2Fk"),ca=h!==void 0?h:h=b("CometFeedUnit_feedUnit.graphql"),da=i!==void 0?i:i=b("CometFeedUnit_trackableFeedUnit.graphql"),ea=j!==void 0?j:j=b("CometFeedUnit_newsFeedEdge.graphql"),r={event_name:"ad_validate_image",event_sub_type:"feed_unit_full_impression",is_cta_shown:null},fa=[5,8],ga=c("gkx")("22998")?[d("focusScopeQueries").focusableScopeQuery,d("focusScopeQueries").headerAndSpinnerFocusScopeQuery]:null;function ha(a){var b=d("react-compiler-runtime").c(11),e,f,g,h,i;b[0]!==a?(e=a.children,f=a.debuggingInfoLoggers,g=a.loggingRef,i=a.visibilityObserverRef,h=babelHelpers.objectWithoutPropertiesLoose(a,["children","debuggingInfoLoggers","loggingRef","visibilityObserverRef"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=i):(e=b[1],f=b[2],g=b[3],h=b[4],i=b[5]);a=c("useMergeRefs")(i,g);b[6]!==e||b[7]!==f||b[8]!==h||b[9]!==a?(i=m.jsxs("div",babelHelpers["extends"]({},h,{ref:a,children:[f,e]})),b[6]=e,b[7]=f,b[8]=h,b[9]=a,b[10]=i):i=b[10];return i}function a(a){var e=d("react-compiler-runtime").c(157),f,g,h,i,j,l;e[0]!==a?(f=a.category,g=a.minGapType,h=a.onError,i=a.position,l=a.variables,j=babelHelpers.objectWithoutPropertiesLoose(a,["category","minGapType","onError","position","variables"]),e[0]=a,e[1]=f,e[2]=g,e[3]=h,e[4]=i,e[5]=j,e[6]=l):(f=e[1],g=e[2],h=e[3],i=e[4],j=e[5],l=e[6]);var s=d("CometRelay").useFragment(ca,j.feedUnit);if(s==null)throw c("unrecoverableViolation")("Relay fragment feedUnit cannot be null/undefined in CometFeedUnit","comet_feed");a=d("CometRelay").useFragment(da,s);var t=a.client_view_config,u=a.trackingdata;a=a.viewability_config;var v=d("CometRelay").useFragment(ea,j.newsFeedEdge);if(e[7]!==u){var w;w=(w=u)!=null?w:{};e[7]=u;e[8]=w}else w=e[8];u=w;var x=u.id,y=l.renderLocation;w=d("memory.react").useState(!1);u=w[0];var z=w[1];e[9]!==z?(w=function(){return{onFinishLoading:function(){return z(!1)},onStartLoading:function(){return z(!0)}}},e[9]=z,e[10]=w):w=e[10];var A;e[11]===Symbol["for"]("react.memo_cache_sentinel")?(A=[],e[11]=A):A=e[11];w=d("memory.react").useMemo(w,A);var B=(A=s.feedback)==null?void 0:A.associated_group;A=B==null?void 0:B.context_actor_hovercard;var C=c("useActorHovercardContext")();A=(s==null?void 0:s.is_story_civic)===!0?"CIVIC_POST":(A=A)!=null?A:C;e[12]!==(B==null?void 0:B.id)?(C=function(){var a;return{groupID:(a=B==null?void 0:B.id)!=null?a:void 0}},e[12]=B==null?void 0:B.id,e[13]=C):C=e[13];var D=B==null?void 0:B.id,E;e[14]!==D?(E=[D],e[14]=D,e[15]=E):E=e[15];D=d("memory.react").useMemo(C,E);var F=n(d("CometFeedUnitSetStatusContext").CometFeedUnitSetStatusContext);E=(C=s==null?void 0:s.sponsored_data)!=null?C:s==null?void 0:s.the_spons_data;C=n(c("CometFeedBrandSafetyContext"));if(C){C=C();C=C.feedUnitRegistry;var G=v==null?void 0:v.deduplication_key;G!=null?C[G]={brsContentLabel:v==null?void 0:v.brs_content_label,brsFilterSetting:E==null?void 0:E.brs_filter_setting,tracking:x,unitType:s.__typename}:j.newsFeedEdge!=null&&c("FBLogger")("comet_feed_unit").mustfix("NewsFeedEdge deduplicationKey %s is nullish, even though newsFeedEdge prop was provided. FeedUnit id: %s",G,s.id)}var H=o(!1),I=n(d("CometFeedUnitOnUnsupportedLoggerContext").CometFeedUnitOnUnsupportedLoggerContext);e[16]!==i?(C=function(){i===0&&H.current===!1&&c("InteractionTracing").getPendingInteractions().forEach(ja),H.current=!0},v=[i],e[16]=i,e[17]=C,e[18]=v):(C=e[17],v=e[18]);d("memory.react").useLayoutEffect(C,v);e[19]!==F?(G=function(){return F("rendered")},C=[F],e[19]=F,e[20]=C,e[21]=G):(C=e[20],G=e[21]);d("memory.react").useEffect(G,C);e[22]!==I||e[23]!==F?(v=function(){c("InteractionTracing").getPendingInteractions().forEach(ia),I(),F("error")},G=[I,F],e[22]=I,e[23]=F,e[24]=v,e[25]=G):(v=e[24],G=e[25]);C=d("memory.react").useCallback(v,G);var J=n(c("CometFeedUnitSetDebugInfoContext")),K=s.debug_info,L=s.id,M=o(!1),N=n(c("HiddenSubtreePassiveContext"));e[26]!==K||e[27]!==N||e[28]!==L||e[29]!==i||e[30]!==J?(v=function(){if(!N.getCurrentState().hiddenOrBackgrounded_FIXME){var a;J(i,{debugInfo:(a=K)!=null?a:null,storyId:(a=L)!=null?a:null,visible:M.current})}},G=[K,N,L,i,J],e[26]=K,e[27]=N,e[28]=L,e[29]=i,e[30]=J,e[31]=v,e[32]=G):(v=e[31],G=e[32]);var O=d("memory.react").useCallback(v,G);e[33]!==O?(v=function(){M.current=!1,O()},G=[O],e[33]=O,e[34]=v,e[35]=G):(v=e[34],G=e[35]);v=d("memory.react").useCallback(v,G);var P;e[36]!==O?(G=function(){M.current=!0,O()},P=[O],e[36]=O,e[37]=G,e[38]=P):(G=e[37],P=e[38]);G=d("memory.react").useCallback(G,P);e[39]!==v||e[40]!==G?(P={onHidden:v,onVisible:G},e[39]=v,e[40]=G,e[41]=P):P=e[41];v=c("useVisibilityObserver")(P);G=t==null?void 0:t.can_delay_log_impression;P=t==null?void 0:t.use_banzai_signal_imp;t=t==null?void 0:t.use_banzai_vital_imp;var Q;e[42]!==G||e[43]!==P||e[44]!==t?(Q={can_delay_log_impression:G,use_banzai_signal_imp:P,use_banzai_vital_imp:t},e[42]=G,e[43]=P,e[44]=t,e[45]=Q):Q=e[45];G=Q;P=E==null?void 0:E.client_token;e[46]!==G||e[47]!==x||e[48]!==i?(t={clientViewConfig:G,encryptedToken:x,position:i},e[46]=G,e[47]=x,e[48]=i,e[49]=t):t=e[49];Q=p(t);t=Q!==null;a=(a=a)!=null?a:fa;var R;e[50]!==P||e[51]!==G||e[52]!==x||e[53]!==i||e[54]!==t||e[55]!==a?(R={clientToken:P,clientViewConfig:G,encryptedTracking:x,position:i,shouldDisableGHLSurvey:t,viewabilityConfig:a},e[50]=P,e[51]=G,e[52]=x,e[53]=i,e[54]=t,e[55]=a,e[56]=R):R=e[56];G=c("useStoryViewabilityLogger")(R);t=G.debuggingInfoLoggers;a=G.ref;e[57]!==O?(R=function(){return O()},G=[O],e[57]=O,e[58]=R,e[59]=G):(R=e[58],G=e[59]);d("memory.react").useEffect(R,G);R=j["data-testid"];G=c("gkx")("20998")&&((E==null?void 0:E.ad_id)!=null||(E==null?void 0:E.lbl_adv_iden)!=null);var S;e[60]!==i||e[61]!==y?(j=function(){var a;return{position:i,renderLocation:(a=y)!=null?a:null}},S=[i,y],e[60]=i,e[61]=y,e[62]=j,e[63]=S):(j=e[62],S=e[63]);j=d("memory.react").useMemo(j,S);var T=E==null?void 0:E.post_rendering_loggers;S=(S=E==null?void 0:E.ad_id)!=null?S:E==null?void 0:E.lbl_adv_iden;var U,V;e[64]!==s.sponsored_data||e[65]!==s.the_spons_data||e[66]!==T?(U=function(){var a;return{ad_id:(a=(a=(a=s.sponsored_data)!=null?a:s.the_spons_data)==null?void 0:a.ad_id)!=null?a:(a=(a=s.sponsored_data)!=null?a:s.the_spons_data)==null?void 0:a.lbl_adv_iden,client_token:(a=(a=s.sponsored_data)!=null?a:s.the_spons_data)==null?void 0:a.client_token,post_rendering_logger_from_context:T}},V=[s.sponsored_data,s.the_spons_data,T],e[64]=s.sponsored_data,e[65]=s.the_spons_data,e[66]=T,e[67]=U,e[68]=V):(U=e[67],V=e[68]);U=d("memory.react").useMemo(U,V);var W;e[69]!==s.sponsored_data||e[70]!==s.the_spons_data?(V=function(){var a;return{ad_client_token:(a=(a=s.sponsored_data)!=null?a:s.the_spons_data)==null?void 0:a.client_token,ad_id:(a=(a=(a=s.sponsored_data)!=null?a:s.the_spons_data)==null?void 0:a.ad_id)!=null?a:(a=(a=s.sponsored_data)!=null?a:s.the_spons_data)==null?void 0:a.lbl_adv_iden,event_name:r.event_name,event_sub_type:r.event_sub_type}},W=[s.sponsored_data,s.the_spons_data],e[69]=s.sponsored_data,e[70]=s.the_spons_data,e[71]=V,e[72]=W):(V=e[71],W=e[72]);V=d("memory.react").useCallback(V,W);c("usePostRenderingLogger")(V,T);if(e[73]!==g||e[74]!==i){V=i==null?m.jsx(c("RecoverableViolationWithComponentStack.react"),{errorMessage:"position is null or undefined for min gap type = "+((W=g)!=null?W:"UNKNOWN"),projectName:"comet_feed"}):null;e[73]=g;e[74]=i;e[75]=V}else V=e[75];W=V;V=E?"comet-feed-sponsored-story":null;e[76]!==s||e[77]!==C||e[78]!==i||e[79]!==l?(E=b("cr:1326")?m.jsx(b("cr:1326"),{children:m.jsx(c("CometFeedUnitContainerSection.react"),{feedUnit:s,onUnsupported:C,position:i,variables:l})}):m.jsx(c("CometFeedUnitContainerSection.react"),{feedUnit:s,onUnsupported:C,position:i,variables:l}),e[76]=s,e[77]=C,e[78]=i,e[79]=l,e[80]=E):E=e[80];C=E;var X;e[81]!==x?(E=function(){return{trackingData:x}},X=[x],e[81]=x,e[82]=E,e[83]=X):(E=e[82],X=e[83]);E=d("memory.react").useMemo(E,X);X="CometFeedUnit_"+i;var Y="CometFeedUnit_"+i,Z=y==="homepage_stream"&&c("gkx")("22999")&&q.reducedSpacing,$;e[84]!==G||e[85]!==Z?($=c("joinClasses")((k||(k=c("stylex")))(q.wrapper,Z),G?ba:""),e[84]=G,e[85]=Z,e[86]=$):$=e[86];e[87]!==G||e[88]!==C?(Z=G?m.jsx("article",{"data-ft":'{"ei":"sponsored_ad"',children:C}):C,e[87]=G,e[88]=C,e[89]=Z):Z=e[89];e[90]!==u?(G=u?m.jsx(aa,{}):null,e[90]=u,e[91]=G):G=e[91];e[92]!==R||e[93]!==t||e[94]!==a||e[95]!==Z||e[96]!==G||e[97]!==v?(C=m.jsxs(ha,{"data-testid":void 0,debuggingInfoLoggers:t,loggingRef:a,visibilityObserverRef:v,children:[Z,G]}),e[92]=R,e[93]=t,e[94]=a,e[95]=Z,e[96]=G,e[97]=v,e[98]=C):C=e[98];e[99]!==s||e[100]!==Q||e[101]!==i||e[102]!==C?(u=m.jsx(c("CometFeedUnitCard.react"),{feedUnit:s,loggingRef:Q,position:i,children:C}),e[99]=s,e[100]=Q,e[101]=i,e[102]=C,e[103]=u):u=e[103];e[104]!==V||e[105]!==$||e[106]!==u?(R=m.jsx("div",{className:$,"data-testid":void 0,children:u}),e[104]=V,e[105]=$,e[106]=u,e[107]=R):R=e[107];e[108]!==Y||e[109]!==R?(t=m.jsx(d("FocusRegion.react").FocusRegion,{id:Y,recoverFocusQuery:ga,children:R}),e[108]=Y,e[109]=R,e[110]=t):t=e[110];e[111]!==X||e[112]!==t?(a=m.jsx(c("CometOffscreenScrollCompensator.react"),{children:m.jsx(c("CometProfiler.react"),{id:X,children:t})}),e[111]=X,e[112]=t,e[113]=a):a=e[113];e[114]!==S||e[115]!==P||e[116]!==T||e[117]!==a?(Z=m.jsx(c("CometAdsRenderingValidationContextProvider"),{adClientToken:P,adId:S,postRenderingLoggers:T,children:a}),e[114]=S,e[115]=P,e[116]=T,e[117]=a,e[118]=Z):Z=e[118];e[119]!==U||e[120]!==Z?(G=m.jsx(c("CometFeedUnitPostRenderingLoggersContext").Provider,{value:U,children:Z}),e[119]=U,e[120]=Z,e[121]=G):G=e[121];e[122]!==E||e[123]!==G?(v=m.jsx(c("CometGHLScrambledLabelMitigationLoggerContext").Provider,{value:E,children:G}),e[122]=E,e[123]=G,e[124]=v):v=e[124];e[125]!==w||e[126]!==v?(Q=m.jsx(c("CometFeedUnitLoadingContext").Provider,{value:w,children:v}),e[125]=w,e[126]=v,e[127]=Q):Q=e[127];e[128]!==Q||e[129]!==l?(C=m.jsx(c("CometFeedUnitQueryVariablesContext").Provider,{value:l,children:Q}),e[128]=Q,e[129]=l,e[130]=C):C=e[130];e[131]!==j||e[132]!==C?(V=m.jsx(c("CometErrorProjectContext").Provider,{value:"comet_feed",children:m.jsx(c("CometFeedUnitLoggingContext").Provider,{value:j,children:C})}),e[131]=j,e[132]=C,e[133]=V):V=e[133];e[134]!==W||e[135]!==V?($=m.jsxs(m.Fragment,{children:[W,V]}),e[134]=W,e[135]=V,e[136]=$):$=e[136];u=$;if(b("cr:1829844")!=null&&b("cr:12345")!=null){R=(Y=L)!=null?Y:"";e[137]!==R?(X={type:b("cr:12345").FEED_OBJECT_ID,value:R},e[137]=R,e[138]=X):X=e[138];e[139]!==u||e[140]!==X?(t=m.jsx(b("cr:1829844"),{metadata:X,name:"feed_unit",children:u}),e[139]=u,e[140]=X,e[141]=t):t=e[141];u=t}e[142]!==B||e[143]!==D||e[144]!==u?(S=B!=null?m.jsx(c("FDSHovercardGroupContext").Provider,{value:D,children:u}):u,e[142]=B,e[143]=D,e[144]=u,e[145]=S):S=e[145];e[146]!==A||e[147]!==S?(P=m.jsx(c("ActorHovercardContext").Provider,{value:A,children:S}),e[146]=A,e[147]=S,e[148]=P):P=e[148];e[149]!==f||e[150]!==s||e[151]!==g||e[152]!==h||e[153]!==i||e[154]!==y||e[155]!==P?(a=m.jsx(c("CometFeedUnitErrorBoundary.react"),{category:f,feedUnit:s,minGapType:g,onError:h,position:i,renderLocation:y,unitTypename:s.__typename,children:P}),e[149]=f,e[150]=s,e[151]=g,e[152]=h,e[153]=i,e[154]=y,e[155]=P,e[156]=a):a=e[156];return a}function ia(a){a.addAnnotationInt("unsupportedFeedUnit",1)}function ja(a){a.addMarkerPoint("FirstFeedUnitMount","AppTiming")}e=m.memo(a);g["default"]=e}),98);
__d("CometUFICommentScrollOptionsContextProvider.react",["CometUFICommentScrollOptionsContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext;b.useMemo;function a(a){var b=d("react-compiler-runtime").c(13),e=a.children,f=a.delay,g=a.scrollAnchorOptions;a=a.scrollIntoViewOptions;var h=j(c("CometUFICommentScrollOptionsContext")),k=h.delay,l=h.scrollAnchorOptions;h=h.scrollIntoViewOptions;f=(f=f)!=null?f:k;b[0]!==g||b[1]!==l?(k=babelHelpers["extends"]({},l,g),b[0]=g,b[1]=l,b[2]=k):k=b[2];b[3]!==a||b[4]!==h?(g=babelHelpers["extends"]({},h,a),b[3]=a,b[4]=h,b[5]=g):g=b[5];b[6]!==f||b[7]!==k||b[8]!==g?(l={delay:f,scrollAnchorOptions:k,scrollIntoViewOptions:g},b[6]=f,b[7]=k,b[8]=g,b[9]=l):l=b[9];a=l;h=a;b[10]!==e||b[11]!==h?(f=i.jsx(c("CometUFICommentScrollOptionsContext").Provider,{value:h,children:e}),b[10]=e,b[11]=h,b[12]=f):f=b[12];return f}g["default"]=a}),98);
__d("FDSDialogUFIFooter.react",["CometColumnItem.react","CometUFICommentRowGlimmer.react","CometUFIDetachableComposerContext","FDSDialogFooterContainer.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.useEffect,l={scrollAreaInner:{paddingTop:"xyqdw3p",paddingBottom:"xg8j3zb",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(9),e=a.shouldFocusComposer;a=j(c("CometUFIDetachableComposerContext"));var f=a.composerElement,g=a.focusComposer,h;b[0]!==g||b[1]!==e?(a=function(){e&&g!=null&&g()},h=[g,e],b[0]=g,b[1]=e,b[2]=a,b[3]=h):(a=b[2],h=b[3]);k(a,h);b[4]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"x2lah0s x96k8nx xdvlbce xkhd6sd x4uap5"},b[4]=a):a=b[4];b[5]!==f?(h=f!=null?f:i.jsx(c("CometUFICommentRowGlimmer.react"),{xstyle:l.scrollAreaInner}),b[5]=f,b[6]=h):h=b[6];b[7]!==h?(f=i.jsx(c("FDSDialogFooterContainer.react"),{children:i.jsx(c("CometColumnItem.react"),{children:i.jsx("div",babelHelpers["extends"]({},a,{children:h}))})}),b[7]=h,b[8]=f):f=b[8];return f}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("LSAddParticipantIdToGroupThread",["LSComputeParticipantCapabilities"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return c.storedProcedure(b("LSComputeParticipantCapabilities"),a[1],a[0]).then(function(a){return a=a,d[0]=a[0],a})},function(b){return c.filter(c.db.table(14).fetch([[[a[0],a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,a[1])&&c.i64.gt(b.authorityLevel,a[9])}).next().then(function(b){var e=b.done;b.value;return e?c.db.table(14).put({threadKey:a[0],contactId:a[1],readWatermarkTimestampMs:a[2],readActionTimestampMs:a[3],deliveredWatermarkTimestampMs:a[4],nickname:a[5],normalizedSearchTerms:a[10],isAdmin:a[6],isSuperAdmin:a[13],subscribeSource:a[7],authorityLevel:a[9],participantCapabilities:d[0],groupParticipantJoinState:a[11],isModerator:a[12],threadRoles:a[14]}):0})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxAddParticipantIdToGroupThreadStoredProcedure";a.__tables__=["participants"];e.exports=a}),null);
__d("LSClearPinnedMessages",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(205).fetch([[[a[0]]]]),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxClearPinnedMessagesStoredProcedure";a.__tables__=["msg_pinned_messages_v2"];e.exports=a}),null);
__d("LSDeleteAllCommunityChannelCategories",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.sequence([function(a){return b.forEach(b.db.table(182).fetch(),function(a){return a["delete"]()})},function(a){return b.forEach(b.db.table(9).fetch([[[b.i64.cast([0,20])]],"threadTypeLastActivityTimestampMs"]),function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxDeleteAllCommunityChannelCategoriesStoredProcedure";a.__tables__=["cm_category_list","threads"];e.exports=a}),null);
__d("LSDeleteAllCommunityFolders",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.sequence([function(a){return b.forEach(b.db.table(162).fetch(),function(a){return a["delete"]()})},function(a){return b.forEach(b.db.table(9).fetch([[[b.i64.cast([0,17])]],"threadTypeLastActivityTimestampMs"]),function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxDeleteAllCommunityFoldersStoredProcedure";a.__tables__=["community_folders","threads"];e.exports=a}),null);
__d("LSDeleteBanner",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(118).fetch([[[a[1],a[0]]]]),function(c){return b.i64.eq(c.threadKey,a[1])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(c.bannerId,a[0])}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSInThreadBannerDeleteBannerStoredProcedure";a.__tables__=["in_thread_banner"];e.exports=a}),null);
__d("LSDeleteExistingMessageRanges",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(13).fetch([[[a[0]]]]),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxDeleteExistingMessageRangesStoredProcedure";a.__tables__=["messages_ranges_v2__generated"];e.exports=a}),null);
__d("LSDeleteThenInsertCmCommunityList",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(166).put({communityId:a[0]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSOmnistoreSettingsDeleteThenInsertCmCommunityListStoredProcedure";a.__tables__=["cm_community_list"];e.exports=a}),null);
__d("LSDeleteThenInsertCommunityFolder",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.filter(b.db.table(162).fetch([[[a[0]]]]),function(c){return b.i64.eq(c.folderId,a[0])&&b.i64.gt(b.i64.cast([0,80]),a[54])}).next().then(function(c){var d=c.done;c.value;return d?b.db.table(162).put({folderId:a[0],fbGroupId:a[1],name:a[2],memberCount:a[4],description:a[3],pictureUrl:a[5],pictureUrlFallback:a[6],pictureUrlExpirationTimestampMs:a[7],joiningChannelTaskId:a[8],afterJoiningOpenChannelId:a[10],capabilities:a[11],capabilities2:a[12],capabilities3:a[13],notificationSetting:a[14],notificationMutedUntil:a[15],sendsBlockedUntil:a[17],isHidden:a[18],hasSeenDisablingAlert:a[19],inviteLink:a[21],communityType:a[22],directInviteLink:a[23],enableState:a[24],takedownState:a[25],fbGroupType:a[28],threadCount:a[29],disableTimestamp:a[32],readTimestampMs:a[33],inviteStatus:a[37],blockedFromCommunityMemberCount:a[40],categoryCount:a[41],snippetText:a[42],coverPicUrl:a[43],coverPicUrlFallback:a[44],coverPicUrlExpirationTimestampMs:a[45],invitedThreadId:a[47],fbGroupUserParticipationApprovalStatus:a[48],ccAdminAssistRegistrationStatus:a[49],pauseStatus:a[50],isMember:a[51],latestThreadId:a[52],latestThreadActivityTimestampMs:a[53]}):0})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxDeleteThenInsertCommunityFolderStoredProcedure";a.__tables__=["community_folders"];e.exports=a}),null);
__d("LSSetThreadImageURL",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({threadPictureUrl:a[1]===""?void 0:a[1],threadPictureUrlFallback:a[2],threadPictureUrlExpirationTimestampMs:a[3],isCustomThreadPicture:a[4],shouldRoundThreadPicture:a[5]})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxSetThreadImageURLStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSWriteMinosPublicKey.nop",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";a=async function(a,b,d,e,f,g,h,i){if(d==null){c("FBLogger")("wmi_eb").mustfix("LSWriteMinosPublicKey: no contact id found on contact sync");return Promise.resolve()}return e==null||f==null||g==null||h==null||i==null?Promise.resolve():Promise.resolve()};a.__nop_name__="LSWriteMinosPublicKey";g.default=a}),98);
__d("LSDeleteThenInsertContact",["LSBase64Decode.nop","LSLogMebClientEvent.nop","LSMinosVerifySingleEpoch.nop","LSSetThreadImageURL","LSWriteMinosPublicKey.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return a[50]!==void 0?c.sequence([function(e){return c.nativeOperation(b("LSBase64Decode.nop"),a[50]).then(function(a){return a=a,d[13]=a[0],a})},function(a){return d[0]=d[13]}]):c.resolve(d[0]=void 0)},function(e){return a[52]!==void 0?c.sequence([function(e){return c.nativeOperation(b("LSBase64Decode.nop"),a[52]).then(function(a){return a=a,d[13]=a[0],a})},function(a){return d[1]=d[13]}]):c.resolve(d[1]=void 0)},function(e){return a[53]!==void 0?c.sequence([function(e){return c.nativeOperation(b("LSBase64Decode.nop"),a[53]).then(function(a){return a=a,d[13]=a[0],a})},function(a){return d[2]=d[13]}]):c.resolve(d[2]=void 0)},function(e){return c.blobs.neq(d[2],void 0)?c.sequence([function(e){return c.blobs.neq(void 0,void 0)?c.sequence([function(e){return c.blobs.neq(void 0,void 0)?c.sequence([function(e){return c.blobs.neq(d[0],void 0)?c.sequence([function(e){return c.blobs.neq(void 0,void 0)?c.sequence([function(e){return c.nativeOperation(b("LSMinosVerifySingleEpoch.nop"),d[2],a[0],void 0,d[0],void 0,void 0,void 0).then(function(a){return a=a,d[17]=a[0],a})},function(a){return d[16]=d[17]}]):c.resolve(d[16]=!0)},function(a){return d[15]=d[16]}]):c.resolve(d[15]=!0)},function(a){return d[14]=d[15]}]):c.resolve(d[14]=!0)},function(a){return d[13]=d[14]}]):c.resolve(d[13]=!0)},function(a){return d[3]=d[13]}]):c.resolve(d[3]=!0)},function(e){return d[3]?c.resolve((e=[d[0],d[2],d[1],a[51],a[54],void 0,void 0,void 0,void 0],d[4]=e[0],d[5]=e[1],d[6]=e[2],d[7]=e[3],d[8]=e[4],d[9]=e[5],d[10]=e[6],d[11]=e[7],d[12]=e[8],e)):c.sequence([function(e){return d[14]=["Key verification failed for contact id: ","",c.i64.to_string(a[0])].join(""),function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MinosPublicKeysUtils] ","",d[14]].join("")),d[13]=c.createArray(),void 0!==void 0?d[15]=(d[13].push(void 0),d[13]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MinosPublicKeysUtils",d[14],d[13],c.i64.cast([0,3]))},function(a){return a=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],d[4]=a[0],d[5]=a[1],d[6]=a[2],d[7]=a[3],d[8]=a[4],d[9]=a[5],d[10]=a[6],d[11]=a[7],d[12]=a[8],a}])},function(e){return c.nativeOperation(b("LSWriteMinosPublicKey.nop"),a[0],d[5],d[7],d[4],d[6],d[8])},function(b){return c.i64.eq(a[23],c.i64.cast([0,39423]))?d[13]=c.i64.cast([0,1]):(c.i64.eq(a[23],c.i64.cast([0,14342874]))?d[14]=c.i64.cast([0,2]):d[14]=void 0,d[13]=d[14]),c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))&&c.i64.gt(b.authorityLevel,a[21])}).next().then(function(b){var e=b.done;b.value;return e?c.db.table(7).put({id:a[0],profilePictureUrl:a[2],profilePictureFallbackUrl:a[3],profilePictureUrlExpirationTimestampMs:a[4],profilePictureLargeUrl:a[5],profilePictureLargeFallbackUrl:a[6],profilePictureLargeUrlExpirationTimestampMs:a[7],name:a[9],secondaryName:a[41],normalizedNameForSearch:a[10],normalizedSearchTerms:a[33],isMessengerUser:a[11],isMemorialized:a[12],isManagedByViewer:a[35],blockedByViewerStatus:a[14],rank:a[17],firstName:a[18],contactType:a[19],contactTypeExact:a[20],authorityLevel:a[21],messengerCallLogThirdPartyId:a[22],profileRingColor:a[23],requiresMultiway:a[24],blockedSinceTimestampMs:a[25],fbUnblockedSinceTimestampMs:a[48],canViewerMessage:a[26],profileRingColorExpirationTimestampMs:a[27],phoneNumber:a[28],emailAddress:a[29],workCompanyId:a[30],workCompanyName:a[31],workJobTitle:a[32],deviceContactId:a[34],workForeignEntityType:a[36],capabilities:a[37],capabilities2:a[38],profileRingState:d[13],contactViewerRelationship:a[39],gender:a[40],username:a[43],contactReachabilityStatusType:a[44],friendshipStatus:a[45],restrictionType:a[46],waConnectStatus:a[47],isEmployee:!1,pageType:a[49]}):0})},function(d){return c.storedProcedure(b("LSSetThreadImageURL"),a[0],a[2],a[3],a[4],!1,!0)}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSContactDeleteThenInsertContactStoredProcedure";a.__tables__=["contacts"];e.exports=a}),null);
__d("LSDeleteThenInsertMessageRequest",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(34).put({threadKey:a[0],messageRequestStatus:a[2]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxDeleteThenInsertMessageRequestStoredProcedure";a.__tables__=["message_requests"];e.exports=a}),null);
__d("LSDeleteThenInsertNotificationsSettingsGraphQLSnapshot",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(175).put({id:a[0],globalMuteUntil:a[1],showMessagePreview:a[4],isSoundOn:a[7],groupNotificationSetting:a[8],oneToOneNotificationSetting:a[9],replyReminderSetting:a[10],messageReminderDisabled:a[12],messageSound:a[13],ringtoneSound:a[14],newFriendBumpDisabledSetting:a[15],globalMuteMessageUntil:a[2],globalMuteCallUntil:a[3],includeInSwitchAccountBadges:a[11],dismissNfbThreadsCount:a[16],mutePageAccountMessageReminder:a[17]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSOmnistoreSettingsDeleteThenInsertNotificationsSettingsGraphQLSnapshotStoredProcedure";a.__tables__=["notification_settings"];e.exports=a}),null);
__d("LSDeleteThenInsertThread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.db.table(9).fetch([[[a[7]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?b.db.table(9).put({threadKey:a[7],lastReadWatermarkTimestampMs:a[1],authorityLevel:a[6],mailboxType:a[8],threadType:a[9],folderName:a[10],ongoingCallState:a[29],parentThreadKey:a[35],lastActivityTimestampMs:a[0],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteCallsExpireTimeMs:a[15],groupNotificationSettings:a[16],isAdminSnippet:a[17],snippetSenderContactId:a[18],snippetText:a[20],snippetStringHash:a[21],snippetStringArgument1:a[22],snippetAttribution:a[23],snippetAttributionStringHash:a[24],disappearingSettingTtl:a[25],disappearingSettingUpdatedTs:a[26],disappearingSettingUpdatedBy:a[27],cannotReplyReason:a[30],customEmoji:a[31],customEmojiImageUrl:a[32],outgoingBubbleColor:a[33],themeFbid:a[34],nullstateDescriptionText1:a[36],nullstateDescriptionType1:a[37],nullstateDescriptionText2:a[38],nullstateDescriptionType2:a[39],nullstateDescriptionText3:a[40],nullstateDescriptionType3:a[41],snippetHasEmoji:a[42],hasPersistentMenu:a[43],disableComposerInput:a[44],cannotUnsendReason:a[45],viewedPluginKey:a[46],viewedPluginContext:a[47],clientThreadKey:a[48],capabilities:a[49],shouldRoundThreadPicture:a[50],proactiveWarningDismissTime:a[51],isCustomThreadPicture:a[52],otidOfFirstMessage:a[53],normalizedSearchTerms:a[54],additionalThreadContext:a[55],disappearingThreadKey:a[56],isDisappearingMode:a[57],disappearingModeInitiator:a[58],unreadDisappearingMessageCount:a[59],lastMessageCtaId:a[61],lastMessageCtaType:a[62],consistentThreadFbid:a[63],threadDescription:a[64],unsendLimitMs:a[65],syncGroup:a[66],threadInvitesEnabled:a[67],threadInviteLink:a[68],numUnreadSubthreads:a[69],subthreadCount:a[70],threadInvitesEnabledV2:a[71],joinRequestApprovalSetting:a[72],pendingJoinRequestsCount:a[73],eventStartTimestampMs:a[74],eventEndTimestampMs:a[75],takedownState:a[76],memberCount:a[77],admodCount:a[78],secondaryParentThreadKey:a[79],igFolder:a[80],inviterId:a[81],threadTags:a[82],readReceiptsDisabledV2:a[83],threadStatus:a[84],threadSubtype:a[85],pauseThreadTimestamp:a[86],metadata:a[87],syncSource:a[88]}):(e=d.item,c[1]=e.lastActivityTimestampMs,c[3]=e.parentThreadKey,c[2]=e.disappearingThreadKey,c[4]=e.isDisappearingMode,b.i64.le(e.authorityLevel,a[6])?b.i64.gt(c[1],a[0])&&b.i64.neq(c[2],void 0)?(b.i64.eq(a[35],b.i64.cast([-1,4294967286]))&&b.i64.eq(c[3],b.i64.cast([0,0]))?(f=[c[3],e.folderName],c[5]=f[0],c[6]=f[1],f):(d=[a[35],a[10]],c[5]=d[0],c[6]=d[1],d),b.db.table(9).put({threadKey:a[7],lastReadWatermarkTimestampMs:e.lastReadWatermarkTimestampMs,authorityLevel:a[6],mailboxType:a[8],threadType:a[9],folderName:c[6],ongoingCallState:a[29],parentThreadKey:c[5],lastActivityTimestampMs:c[1],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteCallsExpireTimeMs:a[15],groupNotificationSettings:a[16],isAdminSnippet:a[17],snippetSenderContactId:a[18],snippetText:a[20],snippetStringHash:a[21],snippetStringArgument1:a[22],snippetAttribution:a[23],snippetAttributionStringHash:a[24],disappearingSettingTtl:a[25],disappearingSettingUpdatedTs:a[26],disappearingSettingUpdatedBy:a[27],cannotReplyReason:a[30],customEmoji:a[31],customEmojiImageUrl:a[32],outgoingBubbleColor:a[33],themeFbid:a[34],nullstateDescriptionText1:a[36],nullstateDescriptionType1:a[37],nullstateDescriptionText2:a[38],nullstateDescriptionType2:a[39],nullstateDescriptionText3:a[40],nullstateDescriptionType3:a[41],snippetHasEmoji:a[42],hasPersistentMenu:a[43],disableComposerInput:a[44],cannotUnsendReason:a[45],viewedPluginKey:a[46],viewedPluginContext:a[47],clientThreadKey:a[48],capabilities:a[49],shouldRoundThreadPicture:a[50],proactiveWarningDismissTime:a[51],isCustomThreadPicture:a[52],otidOfFirstMessage:a[53],normalizedSearchTerms:a[54],additionalThreadContext:a[55],disappearingThreadKey:c[2],isDisappearingMode:c[4],disappearingModeInitiator:a[58],unreadDisappearingMessageCount:a[59],lastMessageCtaId:a[61],lastMessageCtaType:a[62],consistentThreadFbid:a[63],threadDescription:a[64],unsendLimitMs:a[65],syncGroup:a[66],threadInvitesEnabled:a[67],threadInviteLink:a[68],numUnreadSubthreads:a[69],subthreadCount:a[70],threadInvitesEnabledV2:a[71],joinRequestApprovalSetting:a[72],pendingJoinRequestsCount:a[73],eventStartTimestampMs:a[74],eventEndTimestampMs:a[75],takedownState:a[76],memberCount:a[77],admodCount:a[78],secondaryParentThreadKey:a[79],igFolder:a[80],inviterId:a[81],threadTags:a[82],readReceiptsDisabledV2:a[83],threadStatus:a[84],threadSubtype:a[85],pauseThreadTimestamp:a[86],metadata:a[87],syncSource:a[88]})):b.db.table(9).put({threadKey:a[7],lastReadWatermarkTimestampMs:a[1],authorityLevel:a[6],mailboxType:a[8],threadType:a[9],folderName:a[10],ongoingCallState:a[29],parentThreadKey:a[35],lastActivityTimestampMs:a[0],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteCallsExpireTimeMs:a[15],groupNotificationSettings:a[16],isAdminSnippet:a[17],snippetSenderContactId:a[18],snippetText:a[20],snippetStringHash:a[21],snippetStringArgument1:a[22],snippetAttribution:a[23],snippetAttributionStringHash:a[24],disappearingSettingTtl:a[25],disappearingSettingUpdatedTs:a[26],disappearingSettingUpdatedBy:a[27],cannotReplyReason:a[30],customEmoji:a[31],customEmojiImageUrl:a[32],outgoingBubbleColor:a[33],themeFbid:a[34],nullstateDescriptionText1:a[36],nullstateDescriptionType1:a[37],nullstateDescriptionText2:a[38],nullstateDescriptionType2:a[39],nullstateDescriptionText3:a[40],nullstateDescriptionType3:a[41],snippetHasEmoji:a[42],hasPersistentMenu:a[43],disableComposerInput:a[44],cannotUnsendReason:a[45],viewedPluginKey:a[46],viewedPluginContext:a[47],clientThreadKey:a[48],capabilities:a[49],shouldRoundThreadPicture:a[50],proactiveWarningDismissTime:a[51],isCustomThreadPicture:a[52],otidOfFirstMessage:a[53],normalizedSearchTerms:a[54],additionalThreadContext:a[55],disappearingThreadKey:c[2],isDisappearingMode:c[4],disappearingModeInitiator:a[58],unreadDisappearingMessageCount:a[59],lastMessageCtaId:a[61],lastMessageCtaType:a[62],consistentThreadFbid:a[63],threadDescription:a[64],unsendLimitMs:a[65],syncGroup:a[66],threadInvitesEnabled:a[67],threadInviteLink:a[68],numUnreadSubthreads:a[69],subthreadCount:a[70],threadInvitesEnabledV2:a[71],joinRequestApprovalSetting:a[72],pendingJoinRequestsCount:a[73],eventStartTimestampMs:a[74],eventEndTimestampMs:a[75],takedownState:a[76],memberCount:a[77],admodCount:a[78],secondaryParentThreadKey:a[79],igFolder:a[80],inviterId:a[81],threadTags:a[82],readReceiptsDisabledV2:a[83],threadStatus:a[84],threadSubtype:a[85],pauseThreadTimestamp:a[86],metadata:a[87],syncSource:a[88]}):b.resolve())})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxDeleteThenInsertThreadStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSFlushSyncTrace",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(153).fetch(),function(c){return b.i64.eq(c.traceType,b.i64.cast([0,2]))&&c.contextOne===a[1]&&c.contextThree===a[0]}),function(a){var b=a.update;a.item;return b({shouldFlush:!0})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSDataTraceFlushSyncTraceStoredProcedure";a.__tables__=["data_trace_meta"];e.exports=a}),null);
__d("LSExecuteFinallyBlockForSyncTransaction",["LSFlushSyncTrace"],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.sequence([function(c){return b.forEach(b.filter(b.db.table(3).fetch([[["",a[1]]]]),function(c){return c.taskQueueName===""&&b.i64.eq(c.syncDatabaseId,a[1])&&b.i64.eq(c.epochId,a[2])}),function(c){var d=c.update;c=c.item;return d({epochId:!a[0]&&b.i64.eq(c.failureCount,b.i64.cast([-1,4294967295]))?c.epochId:void 0,failureCount:b.i64.eq(c.failureCount,b.i64.cast([-1,4294967295]))?b.i64.cast([0,0]):b.i64.add(c.failureCount,b.i64.cast([0,1]))})})},function(a){return b.resolve()}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSCoreExecuteFinallyBlockForSyncTransactionStoredProcedure";a.__tables__=["network_requests"];e.exports=a}),null);
__d("LSExecuteFirstBlockForSyncTransaction",["LSAppendDataTraceAddon","LSArrayGetObjectAt","LSLogEventAnnotate.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return c.resolve()},function(e){return c.filter(c.db.table(3).fetch([[["",a[0]]]]),function(b){return b.taskQueueName===""&&c.i64.eq(b.syncDatabaseId,a[0])&&c.i64.eq(b.epochId,a[1])}).next().then(function(e,f){f=e.done;e=e.value;return f?c.sequence([function(e){return d[2]=",",function(a){c.logger(a).mustfix(a)}(["epoch mismatch",d[2]," db_type=",d[2],c.i64.to_string(a[0]),d[2]," previous_cursor=",d[2],a[2]==null?"null":a[2],d[2]," next_cursor=",d[2],a[3]].join("")),d[3]=new c.Map(),d[3].set("database_id",a[0]),d[3].set("epoch_id",a[1]),d[3].set("sync_status",a[4]),d[3].set("next_cursor",a[3]),d[3].set("error_msg","epoch mismatch"),a[9]?d[4]=!1:d[4]=!0,d[4]?c.resolve():(d[6]=a[9].keys(),d[7]=c.i64.of_int32(d[6].length),c.i64.gt(d[7],c.i64.cast([0,0]))?c.loopAsync(d[7],function(e){return d[8]=e,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[6],d[8]).then(function(a){return a=a,d[9]=a[0],d[10]=a[1],a})},function(b){return d[11]=a[9].get(d[9]),d[3].set(d[9],d[11])}])}):c.resolve())},function(a){return c.nativeOperation(b("LSLogEventAnnotate.nop"),c.i64.cast([0,16]),c.i64.cast([0,35]),c.i64.cast([0,0]),d[3])},function(a){return d[5]=!1,d[0]=d[5]}]):(e.item,c.sequence([function(e){return c.filter(c.db.table(1).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.groupId,a[0])&&b.currentCursor===a[2]}).next().then(function(e,f){f=e.done;e=e.value;return f?c.sequence([function(e){return d[4]=",",function(a){c.logger(a).mustfix(a)}(["cursor mismatch",d[4]," db_type=",d[4],c.i64.to_string(a[0]),d[4]," previous_cursor=",d[4],a[2]==null?"null":a[2],d[4]," next_cursor=",d[4],a[3]].join("")),d[5]=new c.Map(),d[5].set("database_id",a[0]),d[5].set("epoch_id",a[1]),d[5].set("sync_status",a[4]),d[5].set("next_cursor",a[3]),d[5].set("error_msg","cursor mismatch"),a[9]?d[6]=!1:d[6]=!0,d[6]?c.resolve():(d[8]=a[9].keys(),d[9]=c.i64.of_int32(d[8].length),c.i64.gt(d[9],c.i64.cast([0,0]))?c.loopAsync(d[9],function(e){return d[10]=e,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[8],d[10]).then(function(a){return a=a,d[11]=a[0],d[12]=a[1],a})},function(b){return d[13]=a[9].get(d[11]),d[5].set(d[11],d[13])}])}):c.resolve())},function(a){return c.nativeOperation(b("LSLogEventAnnotate.nop"),c.i64.cast([0,16]),c.i64.cast([0,35]),c.i64.cast([0,0]),d[5])},function(a){return d[7]=!1,d[2]=d[7]}]):(e.item,c.sequence([function(b){return d[4]=c.i64.of_float(Date.now()),d[5]=c.i64.of_float(Date.now()),c.forEach(c.db.table(1).fetch([[[a[0]]]]),function(b){var e=b.update;b.item;return e({currentCursor:a[3],syncStatus:a[4],sendSyncParams:a[5],minTimeToSyncTimestampMs:c.i64.eq(a[6],c.i64.cast([0,0]))?c.i64.cast([0,0]):c.i64.add(d[4],a[6]),canIgnoreTimestamp:a[7],syncChannel:a[8],lastSyncCompletedTimestampMs:d[5]})})},function(b){return c.forEach(c.db.table(3).fetch([[["",a[0]]]]),function(a){var b=a.update;a.item;return b({failureCount:c.i64.cast([-1,4294967295])})})},function(e){return d[6]=new c.Map(),d[6].set("database_id",a[0]),d[6].set("epoch_id",a[1]),d[6].set("sync_status",a[4]),d[6].set("next_cursor",a[3]),a[9]?d[7]=!1:d[7]=!0,d[7]?c.resolve():(d[9]=a[9].keys(),d[10]=c.i64.of_int32(d[9].length),c.i64.gt(d[10],c.i64.cast([0,0]))?c.loopAsync(d[10],function(e){return d[11]=e,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[9],d[11]).then(function(a){return a=a,d[12]=a[0],d[13]=a[1],a})},function(b){return d[14]=a[9].get(d[12]),d[6].set(d[12],d[14])}])}):c.resolve())},function(a){return c.nativeOperation(b("LSLogEventAnnotate.nop"),c.i64.cast([0,16]),c.i64.cast([0,35]),c.i64.cast([0,0]),d[6])},function(a){return d[8]=!0,d[2]=d[8]}]))})},function(a){return d[0]=d[2]}]))})},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSCoreExecuteFirstBlockForSyncTransactionStoredProcedure";a.__tables__=["data_trace_meta","network_requests","sync_groups"];e.exports=a}),null);
__d("LSShimHybridThreadDeleteByThreadKey.nop",[],(function(a,b,c,d,e,f){"use strict";a=async function(a,b,c){};a.__nop_name__="LSShimHybridThreadDeleteByThreadKey";f.default=a}),66);
__d("LSHybridThreadDelete",["LSShimHybridThreadDeleteByThreadKey.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[];return c.sequence([function(d){return c.nativeOperation(b("LSShimHybridThreadDeleteByThreadKey.nop"),a[0])},function(a){return c.resolve(d)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxHybridThreadDeleteStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSInsertAttachmentCta",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(19).add({ctaId:a[0],attachmentFbid:a[1],attachmentIndex:a[2],threadKey:a[3],messageId:a[5],title:a[6],type_:a[7],platformToken:a[8],actionUrl:a[9],nativeUrl:a[10],urlWebviewType:a[11],actionContentBlob:a[12],enableExtensions:a[13],extensionHeightType:a[14],targetId:a[15]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxInsertAttachmentCtaStoredProcedure";a.__tables__=["attachment_ctas"];e.exports=a}),null);
__d("LSInsertBlobAttachment",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.sequence([function(c){return b.forEach(b.filter(b.db.table(16).fetch([[[a[27],a[32],a[34]]]]),function(c){return b.i64.eq(c.threadKey,a[27])&&b.i64.eq(b.i64.cast([0,0]),a[28])&&c.messageId===a[32]&&c.attachmentFbid===a[34]&&b.i64.lt(c.authorityLevel,a[48])&&(b.i64.eq(c.attachmentType,b.i64.cast([0,2]))||b.i64.eq(c.attachmentType,b.i64.cast([0,3]))||b.i64.eq(c.attachmentType,b.i64.cast([0,4]))||b.i64.eq(c.attachmentType,b.i64.cast([0,5]))||b.i64.eq(c.attachmentType,b.i64.cast([0,6]))||b.i64.eq(c.attachmentType,b.i64.cast([0,10]))||b.i64.eq(c.attachmentType,b.i64.cast([0,14]))||b.i64.eq(c.attachmentType,b.i64.cast([0,15])))&&b.i64.eq(c.ephemeralMediaState,void 0)&&c.isSharable===!1}),function(a){return a["delete"]()})},function(c){return b.db.table(16).add({threadKey:a[27],messageId:a[32],attachmentFbid:a[34],filename:a[0],filesize:a[1],hasMedia:a[2],isSharable:!1,playableUrl:a[3],playableUrlFallback:a[4],playableUrlExpirationTimestampMs:a[5],playableUrlMimeType:a[6],dashManifest:a[7],previewUrl:a[8],previewUrlFallback:a[9],previewUrlExpirationTimestampMs:a[10],previewUrlMimeType:a[11],miniPreview:a[13],previewWidth:a[14],previewHeight:a[15],attributionAppId:a[16],attributionAppName:a[17],attributionAppIcon:a[18],attributionAppIconFallback:a[19],attributionAppIconUrlExpirationTimestampMs:a[20],localPlayableUrl:a[21],playableDurationMs:a[22],attachmentIndex:a[23],accessibilitySummaryText:a[24],isPreviewImage:a[25],originalFileHash:a[26],attachmentType:a[29],timestampMs:a[31],offlineAttachmentId:a[33],hasXma:a[35],xmaLayoutType:a[36],xmasTemplateType:a[37],titleText:a[38],subtitleText:a[39],descriptionText:a[40],sourceText:a[41],faviconUrlExpirationTimestampMs:a[42],isBorderless:a[44],previewUrlLarge:a[45],samplingFrequencyHz:a[46],waveformData:a[47],authorityLevel:a[48]})}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxInsertBlobAttachmentStoredProcedure";a.__tables__=["attachments"];e.exports=a}),null);
__d("LSIssueInsertPersistentMenuItemsForThreadTask",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"insert_persistent_menu_items",c.i64.cast([0,117]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSOmnistoreSettingsIssueInsertPersistentMenuItemsForThreadTaskStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSSetForwardScore",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(12).fetch([[[a[0],a[2],a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(c.timestampMs,a[2])&&c.messageId===a[1]}),function(b){var c=b.update;b.item;return c({forwardScore:a[3]})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxSetForwardScoreStoredProcedure";a.__tables__=["messages"];e.exports=a}),null);
__d("LSGroupRoomTruncate",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.forEach(b.filter(b.db.table(63).fetch(),function(a){return b.i64.neq(a.groupRoomType,void 0)&&b.i64.neq(a.groupRoomType,b.i64.cast([0,5]))}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSStoriesGroupRoomTruncateStoredProcedure";a.__tables__=["rooms"];e.exports=a}),null);
__d("LSUpdateOrInsertThread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.db.table(9).fetch([[[a[7]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?b.db.table(9).add({threadKey:a[7],lastReadWatermarkTimestampMs:a[1],authorityLevel:a[6],mailboxType:a[8],threadType:a[9],folderName:a[10],ongoingCallState:a[32],parentThreadKey:a[38],lastActivityTimestampMs:a[0],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteMentionExpireTimeMs:a[15],muteCallsExpireTimeMs:a[16],groupNotificationSettings:a[19],isAdminSnippet:a[20],snippetSenderContactId:a[21],snippetText:a[23],snippetStringHash:a[24],snippetStringArgument1:a[25],snippetAttribution:a[26],snippetAttributionStringHash:a[27],disappearingSettingTtl:a[28],disappearingSettingUpdatedTs:a[29],disappearingSettingUpdatedBy:a[30],cannotReplyReason:a[33],customEmoji:a[34],customEmojiImageUrl:a[35],outgoingBubbleColor:a[36],themeFbid:a[37],nullstateDescriptionText1:a[39],nullstateDescriptionType1:a[40],nullstateDescriptionText2:a[41],nullstateDescriptionType2:a[42],nullstateDescriptionText3:a[43],nullstateDescriptionType3:a[44],snippetHasEmoji:a[45],hasPersistentMenu:a[46],disableComposerInput:a[47],cannotUnsendReason:a[48],viewedPluginKey:a[49],viewedPluginContext:a[50],clientThreadKey:a[51],capabilities:a[52],shouldRoundThreadPicture:a[53],proactiveWarningDismissTime:a[54],isCustomThreadPicture:a[55],otidOfFirstMessage:a[56],normalizedSearchTerms:a[57],additionalThreadContext:a[58],disappearingThreadKey:a[59],isDisappearingMode:a[60],disappearingModeInitiator:a[61],unreadDisappearingMessageCount:a[62],lastMessageCtaId:a[64],lastMessageCtaType:a[65],lastMessageCtaTimestampMs:a[66],consistentThreadFbid:a[67],threadDescription:a[69],unsendLimitMs:a[70],capabilities2:a[78],capabilities3:a[79],syncGroup:a[82],threadInvitesEnabled:a[83],threadInviteLink:a[84],isAllUnreadMessageMissedCallXma:a[85],numUnreadSubthreads:a[86],subthreadCount:a[87],lastNonMissedCallXmaMessageTimestampMs:a[88],isHidden:a[89],threadInvitesEnabledV2:a[90],joinRequestApprovalSetting:a[93],hasPendingInvitation:a[94],eventStartTimestampMs:a[95],eventEndTimestampMs:a[96],takedownState:a[97],secondaryParentThreadKey:a[98],igFolder:a[99],inviterId:a[100],threadTags:a[101],isReadReceiptsDisabled:a[102],readReceiptsDisabledV2:a[103],threadStatus:a[104],threadSubtype:a[105],pauseThreadTimestamp:a[106],metadata:a[107],capabilities4:a[108],syncSource:a[109],capabilities5:a[110],ongoingCallTimestampMs:a[111]}):(e=d.item,c[1]=e.lastActivityTimestampMs,c[3]=e.parentThreadKey,c[2]=e.disappearingThreadKey,c[4]=e.isDisappearingMode,b.i64.le(e.authorityLevel,a[6])?b.i64.gt(c[1],a[0])&&b.i64.neq(c[2],void 0)?(b.i64.eq(a[38],b.i64.cast([-1,4294967286]))&&b.i64.eq(c[3],b.i64.cast([0,0]))?(f=[c[3],e.folderName],c[5]=f[0],c[6]=f[1],f):(d=[a[38],a[10]],c[5]=d[0],c[6]=d[1],d),b.forEach(b.db.table(9).fetch([[[a[7]]]]),function(b){var d=b.update;b.item;return d({lastReadWatermarkTimestampMs:e.lastReadWatermarkTimestampMs,authorityLevel:a[6],mailboxType:a[8],threadType:a[9],folderName:c[6],ongoingCallState:a[32],parentThreadKey:c[5],lastActivityTimestampMs:c[1],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteMentionExpireTimeMs:a[15],muteCallsExpireTimeMs:a[16],groupNotificationSettings:a[19],isAdminSnippet:a[20],snippetSenderContactId:a[21],snippetText:a[23],snippetStringHash:a[24],snippetStringArgument1:a[25],snippetAttribution:a[26],snippetAttributionStringHash:a[27],disappearingSettingTtl:a[28],disappearingSettingUpdatedTs:a[29],disappearingSettingUpdatedBy:a[30],cannotReplyReason:a[33],customEmoji:a[34],customEmojiImageUrl:a[35],outgoingBubbleColor:a[36],themeFbid:a[37],nullstateDescriptionText1:a[39],nullstateDescriptionType1:a[40],nullstateDescriptionText2:a[41],nullstateDescriptionType2:a[42],nullstateDescriptionText3:a[43],nullstateDescriptionType3:a[44],snippetHasEmoji:a[45],hasPersistentMenu:a[46],disableComposerInput:a[47],cannotUnsendReason:a[48],viewedPluginKey:a[49],viewedPluginContext:a[50],clientThreadKey:a[51],capabilities:a[52],shouldRoundThreadPicture:a[53],proactiveWarningDismissTime:a[54],isCustomThreadPicture:a[55],otidOfFirstMessage:a[56],normalizedSearchTerms:a[57],additionalThreadContext:a[58],disappearingThreadKey:c[2],isDisappearingMode:c[4],disappearingModeInitiator:a[61],unreadDisappearingMessageCount:a[62],lastMessageCtaId:a[64],lastMessageCtaType:a[65],lastMessageCtaTimestampMs:a[66],consistentThreadFbid:a[67],threadDescription:a[69],unsendLimitMs:a[70],capabilities2:a[78],capabilities3:a[79],syncGroup:a[82],threadInvitesEnabled:a[83],threadInviteLink:a[84],isAllUnreadMessageMissedCallXma:a[85],numUnreadSubthreads:a[86],subthreadCount:a[87],lastNonMissedCallXmaMessageTimestampMs:a[88],isHidden:a[89],threadInvitesEnabledV2:a[90],joinRequestApprovalSetting:a[93],hasPendingInvitation:a[94],eventStartTimestampMs:a[95],eventEndTimestampMs:a[96],takedownState:a[97],secondaryParentThreadKey:a[98],igFolder:a[99],inviterId:a[100],threadTags:a[101],isReadReceiptsDisabled:a[102],readReceiptsDisabledV2:a[103],threadStatus:a[104],threadSubtype:a[105],pauseThreadTimestamp:a[106],metadata:a[107],capabilities4:a[108],syncSource:a[109],capabilities5:a[110],ongoingCallTimestampMs:a[111],avatarStickerInstructionKeyId:void 0,avatarStickerId:void 0,avatarStickerThumbnailImageUrl:void 0,avatarStickerThumbnailImageMimeType:void 0,avatarStickerOriginalImageUrl:void 0,avatarStickerOriginalImageMimeType:void 0,hasPendingJoinRequest:void 0,pendingJoinRequestsCount:void 0,memberCount:void 0,admodCount:void 0,ctmAdId:void 0,ctmAdgroupId:void 0,ctmAdCampaignId:void 0,ctmAdCampaignGroupId:void 0,ctmAdAccountId:void 0,typingIndicatorDisabled:void 0})})):b.forEach(b.db.table(9).fetch([[[a[7]]]]),function(b){var d=b.update;b.item;return d({lastReadWatermarkTimestampMs:a[1],authorityLevel:a[6],mailboxType:a[8],threadType:a[9],folderName:a[10],ongoingCallState:a[32],parentThreadKey:a[38],lastActivityTimestampMs:a[0],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteMentionExpireTimeMs:a[15],muteCallsExpireTimeMs:a[16],groupNotificationSettings:a[19],isAdminSnippet:a[20],snippetSenderContactId:a[21],snippetText:a[23],snippetStringHash:a[24],snippetStringArgument1:a[25],snippetAttribution:a[26],snippetAttributionStringHash:a[27],disappearingSettingTtl:a[28],disappearingSettingUpdatedTs:a[29],disappearingSettingUpdatedBy:a[30],cannotReplyReason:a[33],customEmoji:a[34],customEmojiImageUrl:a[35],outgoingBubbleColor:a[36],themeFbid:a[37],nullstateDescriptionText1:a[39],nullstateDescriptionType1:a[40],nullstateDescriptionText2:a[41],nullstateDescriptionType2:a[42],nullstateDescriptionText3:a[43],nullstateDescriptionType3:a[44],snippetHasEmoji:a[45],hasPersistentMenu:a[46],disableComposerInput:a[47],cannotUnsendReason:a[48],viewedPluginKey:a[49],viewedPluginContext:a[50],clientThreadKey:a[51],capabilities:a[52],shouldRoundThreadPicture:a[53],proactiveWarningDismissTime:a[54],isCustomThreadPicture:a[55],otidOfFirstMessage:a[56],normalizedSearchTerms:a[57],additionalThreadContext:a[58],disappearingThreadKey:c[2],isDisappearingMode:c[4],disappearingModeInitiator:a[61],unreadDisappearingMessageCount:a[62],lastMessageCtaId:a[64],lastMessageCtaType:a[65],lastMessageCtaTimestampMs:a[66],consistentThreadFbid:a[67],threadDescription:a[69],unsendLimitMs:a[70],capabilities2:a[78],capabilities3:a[79],syncGroup:a[82],threadInvitesEnabled:a[83],threadInviteLink:a[84],isAllUnreadMessageMissedCallXma:a[85],numUnreadSubthreads:a[86],subthreadCount:a[87],lastNonMissedCallXmaMessageTimestampMs:a[88],isHidden:a[89],threadInvitesEnabledV2:a[90],joinRequestApprovalSetting:a[93],hasPendingInvitation:a[94],eventStartTimestampMs:a[95],eventEndTimestampMs:a[96],takedownState:a[97],secondaryParentThreadKey:a[98],igFolder:a[99],inviterId:a[100],threadTags:a[101],isReadReceiptsDisabled:a[102],readReceiptsDisabledV2:a[103],threadStatus:a[104],threadSubtype:a[105],pauseThreadTimestamp:a[106],metadata:a[107],capabilities4:a[108],syncSource:a[109],capabilities5:a[110],ongoingCallTimestampMs:a[111],avatarStickerInstructionKeyId:void 0,avatarStickerId:void 0,avatarStickerThumbnailImageUrl:void 0,avatarStickerThumbnailImageMimeType:void 0,avatarStickerOriginalImageUrl:void 0,avatarStickerOriginalImageMimeType:void 0,hasPendingJoinRequest:void 0,pendingJoinRequestsCount:void 0,memberCount:void 0,admodCount:void 0,ctmAdId:void 0,ctmAdgroupId:void 0,ctmAdCampaignId:void 0,ctmAdCampaignGroupId:void 0,ctmAdAccountId:void 0,typingIndicatorDisabled:void 0})}):b.resolve())})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxUpdateOrInsertThreadStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSPopulateCommunityFolderData",["LSDeleteThenInsertCommunityFolder","LSUpdateOrInsertThread"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[];return c.sequence([function(d){return c.sequence([function(d){return c.storedProcedure(b("LSDeleteThenInsertCommunityFolder"),a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],void 0,void 0,void 0,a[11],a[12],a[13],a[14],a[15],void 0,a[16],a[17],a[18],void 0,a[19],a[20],a[21],a[22],a[23],void 0,void 0,a[24],a[26],void 0,void 0,a[25],a[37],void 0,void 0,c.i64.cast([0,0]),a[29],void 0,c.i64.cast([0,1]),a[28],a[27],a[30],a[31],a[32],a[33],void 0,a[34],a[35],a[36],a[38],a[39],void 0,void 0,c.i64.cast([0,80]))},function(d){return c.storedProcedure(b("LSUpdateOrInsertThread"),a[8],a[9],a[10],a[2],a[5],void 0,c.i64.cast([0,80]),a[0],c.i64.cast([0,0]),c.i64.cast([0,17]),"community",a[6],a[7],c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,!1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,void 0,void 0,void 0,c.i64.cast([-1,4294967282]),void 0,void 0,void 0,void 0,void 0,void 0,!1,!1,!1,void 0,void 0,void 0,void 0,c.i64.cast([0,0]),void 0,void 0,!1,void 0,void 0,void 0,void 0,!1,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]),void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,0]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,void 0,c.i64.cast([0,0]),void 0,!1,void 0,void 0,void 0,!1,c.i64.cast([0,0]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,a[40],void 0,void 0,void 0,!1,c.i64.cast([0,0]),void 0,void 0,void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,0]),void 0)}])},function(a){return c.resolve(d)}])}a.__sproc_name__="LSMailboxPopulateCommunityFolderDataStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSRemoveTask",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.db.table(2).fetch([[[a[0]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?0:(e=d.item,b.forEach(b.db.table(2).fetch([[[e.queueName,{lte:a[0]}]],"queueNameTaskId"]),function(a){var d=a.item;return b.sequence([function(a){return c[0]=d.taskDispatchPriority,b.forEach(b.filter(b.db.table(2).fetch([[[d.taskId]]]),function(a){return b.i64.eq(a.taskId,d.taskId)&&a.queueName===d.queueName}),function(a){return a["delete"]()})},function(a){return b.i64.eq(c[0],b.i64.cast([0,1e3]))||b.i64.eq(c[0],b.i64.cast([0,2e3]))?c[1]=b.i64.cast([0,734739218]):c[1]=b.i64.cast([0,734737036])}])}))})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreRemoveTaskStoredProcedure";a.__tables__=["pending_tasks"];e.exports=a}),null);
__d("LSRoomTruncate",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.forEach(b.filter(b.db.table(63).fetch(),function(a){return b.i64.eq(a.groupRoomType,void 0)||b.i64.eq(a.groupRoomType,b.i64.cast([0,5]))}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSStoriesRoomTruncateStoredProcedure";a.__tables__=["rooms"];e.exports=a}),null);
__d("LSSetRegionHint",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(1).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({regionHint:a[1]})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSCoreSetRegionHintStoredProcedure";a.__tables__=["sync_groups"];e.exports=a}),null);
__d("LSTaskExists",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return b.db.table(2).fetch([[[a[0]]]]).next().then(function(a,b){b=a.done;a=a.value;return b?c[0]=!1:(a.item,c[0]=!0)})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreTaskExistsStoredProcedure";a.__tables__=["pending_tasks"];e.exports=a}),null);
__d("LSTruncateCommunityListTable",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.forEach(b.db.table(166).fetch(),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSOmnistoreSettingsTruncateCommunityListTableStoredProcedure";a.__tables__=["cm_community_list"];e.exports=a}),null);
__d("LSTruncateNotificationSettings",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.forEach(b.db.table(175).fetch(),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSOmnistoreSettingsTruncateNotificationSettingsStoredProcedure";a.__tables__=["notification_settings"];e.exports=a}),null);
__d("LSUpdateLastSyncCompletedTimestampMsToNow",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return c[0]=b.i64.of_float(Date.now()),b.forEach(b.db.table(1).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({lastSyncCompletedTimestampMs:c[0]})})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreUpdateLastSyncCompletedTimestampMsToNowStoredProcedure";a.__tables__=["sync_groups"];e.exports=a}),null);
__d("LSUpsertGradientColor",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(117).put({themeFbid:a[0],gradientIndex:a[1],color:a[2],type_:a[3]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSThreadThemeUpsertGradientColorStoredProcedure";a.__tables__=["gradient_colors"];e.exports=a}),null);
__d("LSUpsertSequenceId",["LSGetViewerFBID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[0]=a[0],a})},function(b){return c.db.table(25).put({id:d[0],lastAppliedMailboxSequenceId:a[0]})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxUpsertSequenceIdStoredProcedure";a.__tables__=["mailbox_metadata"];e.exports=a}),null);
__d("LSUpsertTheme",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.i64.neq(a[12],void 0)?c[0]=a[12]:c[0]=a[0],b.db.table(116).put({fbid:a[0],themeIdx:a[1],fallbackColor:a[2],reverseGradiantsForRadial:a[3],accessibilityLabel:a[4],iconUrl:a[5],iconUrlFallback:a[6],backgroundUrl:a[8],description:a[9],isDeprecated:a[11],normalThemeId:c[0],appColorMode:a[13],titlebarBackgroundColor:a[14],titlebarButtonTintColor:a[15],titlebarTextColor:a[16],titlebarAttributionTextColor:a[17],composerTintColor:a[18],composerUnselectedTintColor:a[19],composerInputTextPlaceholderColor:a[20],composerInputBackgroundColor:a[21],composerInputBorderColor:a[22],composerInputBorderWidth:a[23],composerBackgroundColor:a[24],messageTextColor:a[25],messageBorderColor:a[26],messageBorderWidth:a[27],incomingMessageTextColor:a[28],incomingMessageBorderColor:a[29],incomingMessageBorderWidth:a[30],deliveryReceiptColor:a[31],tertiaryTextColor:a[32],primaryButtonBackgroundColor:a[33],hotLikeColor:a[34],reactionPillBackgroundColor:a[35],secondaryTextColor:a[36],quotedIncomingMessageBubbleColor:a[37],cornerRadius:a[38],blurredComposerBackgroundColor:a[39],composerSecondaryButtonColor:a[40],composerPlaceholderTextColor:a[41]})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSThreadThemeUpsertThemeStoredProcedure";a.__tables__=["thread_themes"];e.exports=a}),null);
__d("LSStaticDependencies",["LSDeleteAllCommunityChannelCategories","LSDeleteAllCommunityFolders","LSDeleteThenInsertCmCommunityList","LSDeleteThenInsertContact","LSDeleteThenInsertMessageRequest","LSDeleteThenInsertNotificationsSettingsGraphQLSnapshot","LSDeleteThenInsertThread","LSExecuteFinallyBlockForSyncTransaction","LSExecuteFirstBlockForSyncTransaction","LSGroupRoomTruncate","LSPopulateCommunityFolderData","LSRemoveTask","LSRoomTruncate","LSSetRegionHint","LSTaskExists","LSTruncateCommunityListTable","LSTruncateNotificationSettings","LSUpdateLastSyncCompletedTimestampMsToNow","LSUpsertGradientColor","LSUpsertSequenceId","LSUpsertTheme","LSVerifyContactRowExists"],(function(a,b,c,d,e,f,g){"use strict";a={deleteAllCommunityChannelCategories:c("LSDeleteAllCommunityChannelCategories"),deleteAllCommunityFolders:c("LSDeleteAllCommunityFolders"),deleteThenInsertCmCommunityList:c("LSDeleteThenInsertCmCommunityList"),deleteThenInsertContact:c("LSDeleteThenInsertContact"),deleteThenInsertMessageRequest:c("LSDeleteThenInsertMessageRequest"),deleteThenInsertNotificationsSettingsGraphQLSnapshot:c("LSDeleteThenInsertNotificationsSettingsGraphQLSnapshot"),deleteThenInsertThread:c("LSDeleteThenInsertThread"),executeFinallyBlockForSyncTransaction:c("LSExecuteFinallyBlockForSyncTransaction"),executeFirstBlockForSyncTransaction:c("LSExecuteFirstBlockForSyncTransaction"),groupRoomTruncate:c("LSGroupRoomTruncate"),populateCommunityFolderData:c("LSPopulateCommunityFolderData"),removeTask:c("LSRemoveTask"),roomTruncate:c("LSRoomTruncate"),setRegionHint:c("LSSetRegionHint"),taskExists:c("LSTaskExists"),truncateCommunityListTable:c("LSTruncateCommunityListTable"),truncateNotificationSettings:c("LSTruncateNotificationSettings"),updateLastSyncCompletedTimestampMsToNow:c("LSUpdateLastSyncCompletedTimestampMsToNow"),upsertGradientColor:c("LSUpsertGradientColor"),upsertSequenceId:c("LSUpsertSequenceId"),upsertTheme:c("LSUpsertTheme"),verifyContactRowExists:c("LSVerifyContactRowExists")};b=a;g["default"]=b}),98);
__d("LSTransportHybridParticipantUpdateReceipts",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.resolve(c)}a.__sproc_name__="LSE2EEMessagingMetadataMailboxTransportHybridParticipantUpdateReceiptsStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSTruncateMetadataThreads.nop",["I64","LSIntEnum","ReQL","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;a=async function(a,b){if(c("gkx")("9855")){b=a.mi_act_mapping_table.keys(new WeakMap());while(!0){var e,f=await b.next();if(f.done)break;await (e=a.mi_act_mapping_table).delete.apply(e,f.value)}e=d("ReQL").fromTableAscending(a.threads).filter(function(a){return a.syncGroup!=null&&(h||(h=d("I64"))).equal(a.syncGroup,(i||(i=d("LSIntEnum"))).ofNumber(95))}).iterator(new WeakMap());while(!0){f=await e.next();if(f.done)break;await (b=a.threads).delete.apply(b,f.value[0])}}return Promise.resolve()};a.__nop_name__="LSTruncateMetadataThreads";g.default=a}),98);
__d("LSTruncateMetadataThreads",["LSTruncateMetadataThreads.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[];return c.sequence([function(a){return c.nativeOperation(b("LSTruncateMetadataThreads.nop"))},function(a){return c.resolve(d)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxTruncateMetadataThreadsStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSTruncateThreadRangeTablesForSyncGroup",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.sequence([function(c){return b.i64.eq(a[0],b.i64.cast([0,1]))?b.forEach(b.filter(b.db.table(10).fetch(),function(a){return b.i64.eq(b.i64.cast([0,1])==null?b.i64.cast([0,1]):b.i64.cast([0,1]),b.i64.cast([0,1]))}),function(a){return a["delete"]()}):b.i64.eq(a[0],b.i64.cast([0,95]))?b.forEach(b.filter(b.db.table(10).fetch([[[b.i64.cast([0,0])],[b.i64.cast([-1,4294967295])]]]),function(a){return b.i64.eq(b.i64.cast([0,1])==null?b.i64.cast([0,1]):b.i64.cast([0,1]),b.i64.cast([0,1]))&&(b.i64.eq(a.parentThreadKey,b.i64.cast([0,0]))||b.i64.eq(a.parentThreadKey,b.i64.cast([-1,4294967295])))}),function(a){return a["delete"]()}):b.resolve(0)},function(c){return b.i64.eq(a[0],b.i64.cast([0,1]))?b.forEach(b.filter(b.db.table(247).fetch(),function(a){return b.i64.eq(a.syncGroup==null?b.i64.cast([0,1]):a.syncGroup,b.i64.cast([0,1]))}),function(a){return a["delete"]()}):b.resolve()},function(c){return b.forEach(b.db.table(198).fetch([[[a[0]]]]),function(a){return a["delete"]()})},function(c){return b.forEach(b.db.table(220).fetch([[[a[0]]]]),function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxTruncateThreadRangeTablesForSyncGroupStoredProcedure";a.__tables__=["threads_ranges_v2__generated","filtered_threads_ranges_v3__generated","inbox_threads_ranges","sync_group_threads_ranges"];e.exports=a}),null);
__d("LSTruncateTablesForSyncGroup",["LSTruncateThreadRangeTablesForSyncGroup"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[];return c.sequence([function(d){return c.sequence([function(b){return c.forEach(c.filter(c.db.table(9).fetch(),function(b){return(c.i64.eq(b.syncGroup,a[0])||c.i64.eq(b.syncGroup,void 0)&&c.i64.eq(c.i64.cast([0,1]),a[0]))&&![c.i64.cast([0,17]),c.i64.cast([0,18]),c.i64.cast([0,19]),c.i64.cast([0,20]),c.i64.cast([0,21]),c.i64.cast([0,22]),c.i64.cast([0,23]),c.i64.cast([0,24]),c.i64.cast([0,25]),c.i64.cast([0,26]),c.i64.cast([0,27]),c.i64.cast([0,28])].some(function(a){return c.i64.eq(b.threadType,a)})}),function(a){return a["delete"]()})},function(d){return c.storedProcedure(b("LSTruncateThreadRangeTablesForSyncGroup"),a[0])}])},function(a){return c.resolve(d)}])}a.__sproc_name__="LSMailboxTruncateTablesForSyncGroupStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSUpdateAttachmentItemCtaAtIndex",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.i64.eq(a[5],b.i64.cast([0,0]))?b.forEach(b.db.table(18).fetch([[[a[0],a[1]]]]),function(b){var c=b.update;b.item;return c({defaultCtaId:a[2],defaultCtaTitle:a[3],defaultCtaType:a[4]})}):b.i64.eq(a[5],b.i64.cast([0,1]))?b.forEach(b.db.table(18).fetch([[[a[0],a[1]]]]),function(b){var c=b.update;b.item;return c({attachmentCta1Id:a[2],cta1Title:a[3],cta1Type:a[4],cta1IconType:void 0})}):b.i64.eq(a[5],b.i64.cast([0,2]))?b.forEach(b.db.table(18).fetch([[[a[0],a[1]]]]),function(b){var c=b.update;b.item;return c({attachmentCta2Id:a[2],cta2Title:a[3],cta2Type:a[4],cta2IconType:void 0})}):b.i64.eq(a[5],b.i64.cast([0,3]))?b.forEach(b.db.table(18).fetch([[[a[0],a[1]]]]),function(b){var c=b.update;b.item;return c({attachmentCta3Id:a[2],cta3Title:a[3],cta3Type:a[4],cta3IconType:void 0})}):b.resolve(function(a){b.logger(a).warn(a)}("Unexpected CTA index"))},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxUpdateAttachmentItemCtaAtIndexStoredProcedure";a.__tables__=["attachment_items"];e.exports=a}),null);
__d("LSUpdateOrInsertCommunitySurfaceRange",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(253).put({surfaceType:a[0],communityKey:a[1],isLoadingAfter:!1,hasMoreAfter:a[2],nextPageCursor:a[4]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxUpdateOrInsertCommunitySurfaceRangeStoredProcedure";a.__tables__=["community_surface_ranges"];e.exports=a}),null);
__d("LSUpdateReadReceipt",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(14).fetch([[[a[1],a[2]]]]),function(c){return b.i64.eq(c.threadKey,a[1])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(c.contactId,a[2])&&b.i64.lt(c.readWatermarkTimestampMs,a[0])}),function(c){var d=c.update;c=c.item;return d({readWatermarkTimestampMs:a[0],readActionTimestampMs:b.i64.gt(a[3],b.i64.cast([0,0]))?a[3]:c.readActionTimestampMs})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxUpdateReadReceiptStoredProcedure";a.__tables__=["participants"];e.exports=a}),null);
__d("LSShimGetServerThreadKeyFromJIDV2.nop",["ReQL","RetUtil"],(function(a,b,c,d,e,f,g){"use strict";a=async function(a,b,c){b=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.mi_act_mapping_table.index("jid")).getKeyRange(c));return d("RetUtil").getNullableRetResult(b==null?void 0:b.serverThreadKey)};a.__nop_name__="LSShimGetServerThreadKeyFromJIDV2";g.default=a}),98);
__d("LSReplaceOptimisticThread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(9).fetch([[[a[1]]]]).next().then(function(c,d){d=c.done;c=c.value;return d?b.forEach(b.filter(b.db.table(9).fetch([[[a[0]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&b.i64.le(c.authorityLevel,b.i64.cast([0,20]))}),function(c){var d=c.update;c.item;return d({threadKey:a[1],authorityLevel:b.i64.cast([0,40])})}):(c.item,b.forEach(b.db.table(9).fetch([[[a[0]]]]),function(a){return a["delete"]()}))})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxReplaceOptimisticThreadStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSUpdateOptimisticContextThreadKeys",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.sequence([function(c){return b.forEach(b.filter(b.db.table(32).fetch(),function(c){return b.i64.eq(c.threadKey,a[0])}),function(b){var c=b.update;b.item;return c({threadKey:a[1]})})},function(c){return b.forEach(b.filter(b.db.table(31).fetch(),function(c){return b.i64.eq(c.threadKey,a[0])}),function(b){var c=b.update;b.item;return c({threadKey:a[1]})})}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSCoreUpdateOptimisticContextThreadKeysStoredProcedure";a.__tables__=["threads_optimistic_context","messages_optimistic_context"];e.exports=a}),null);
__d("LSUpdateTaskQueueName",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(2).fetch([[[a[0]]],"queueNameTaskId"]),function(b){var c=b.update;b.item;return c({queueName:a[1]})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSCoreUpdateTaskQueueNameStoredProcedure";a.__tables__=["pending_tasks"];e.exports=a}),null);
__d("LSUpdateTaskValue",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(2).fetch([[[a[0]]],"queueNameTaskId"]),function(b){var c=b.update;b=b.item;return c({taskValue:b.taskValue.split(a[1]).join(a[2])})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSCoreUpdateTaskValueStoredProcedure";a.__tables__=["pending_tasks"];e.exports=a}),null);
__d("LSUpdateThreadAuthorityAndMapping",["LSHybridThreadDelete","LSIssueNewTask","LSReplaceOptimisticThread","LSShimGetServerThreadKeyFromJIDV2.nop","LSUpdateOptimisticContextThreadKeys","LSUpdateTaskQueueName","LSUpdateTaskValue"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return c.nativeOperation(b("LSShimGetServerThreadKeyFromJIDV2.nop"),a[0]).then(function(a){return a=a,d[0]=a[0],a})},function(b){return c.db.table(9).fetch([[[a[1]]]]).next().then(function(a,b){b=a.done;a=a.value;return b?d[1]=!1:(a.item,d[1]=!0)})},function(b){return c.filter(c.db.table(9).fetch(),function(b){return c.i64.eq(b.threadKey,a[2])}).next().then(function(a,b){b=a.done;a=a.value;return b?d[3]=!1:(a.item,d[3]=!0)})},function(e){return d[5]=c.i64.neq(d[0],void 0),d[7]=c.i64.eq(d[0],a[2])&&d[5],!d[7]&&!(c.i64.eq(d[0],a[1])&&d[5])&&d[5]?function(a){c.logger(a).mustfix(a)}("The mi_act_mapping row did not correspond to either the authoritative or optimistic thread key."):0,c.i64.neq(a[2],void 0)?d[6]=a[2]:d[6]=c.i64.cast([0,0]),d[5]?d[7]?c.sequence([function(e){return d[1]?c.sequence([function(b){return c.db.table(173).fetch([[[a[1]]]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[8]=void 0:(b=a.item,d[8]=b.jid)})},function(e){return d[10]=new c.Map(),d[10].set("authoritative_thread_key",a[1]),d[10].set("jid_authoritative_mapped",d[8]),d[10].set("jid_optimistic_mapped",a[0]),d[10].set("optimistic_thread_key",a[2]),d[11]=c.toJSON(d[10]),c.storedProcedure(b("LSIssueNewTask"),"e2ee_log_incorrect_occam_mapping",c.i64.cast([0,160033]),d[11],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(d){return c.storedProcedure(b("LSHybridThreadDelete"),a[1])}]):c.resolve()},function(a){return c.i64.neq(d[6],void 0)?c.forEach(c.db.table(9).fetch([[[d[6]]]]),function(a){var b=a.update;a.item;return b({clientThreadKey:d[6]})}):c.resolve()},function(e){return c.storedProcedure(b("LSReplaceOptimisticThread"),d[6],a[1])},function(e){return c.storedProcedure(b("LSUpdateOptimisticContextThreadKeys"),d[6],a[1])}]):d[3]?c.storedProcedure(b("LSHybridThreadDelete"),d[6]):c.resolve():d[3]?d[1]?c.storedProcedure(b("LSHybridThreadDelete"),d[6]):c.sequence([function(a){return c.i64.neq(d[6],void 0)?c.forEach(c.db.table(9).fetch([[[d[6]]]]),function(a){var b=a.update;a.item;return b({clientThreadKey:d[6]})}):c.resolve()},function(e){return c.storedProcedure(b("LSReplaceOptimisticThread"),d[6],a[1])},function(e){return c.storedProcedure(b("LSUpdateOptimisticContextThreadKeys"),d[6],a[1])}]):c.resolve()},function(e){return d[3]?c.sequence([function(e){return d[9]=c.i64.to_string(d[6]),d[8]=c.i64.to_string(a[1]),c.storedProcedure(b("LSUpdateTaskQueueName"),d[9],d[8])},function(a){return c.storedProcedure(b("LSUpdateTaskValue"),d[8],d[9],d[8])}]):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxUpdateThreadAuthorityAndMappingStoredProcedure";a.__tables__=["threads","mi_act_mapping_table"];e.exports=a}),null);
__d("LSUpdateThreadAuthorityAndMappingWithOTIDFromJID",["LSShimGetServerThreadKeyFromJIDV2.nop","LSUpdateThreadAuthorityAndMapping"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return c.nativeOperation(b("LSShimGetServerThreadKeyFromJIDV2.nop"),a[0]).then(function(a){return a=a,d[0]=a[0],a})},function(e){return c.i64.neq(d[0],a[1])?d[1]=d[0]:d[1]=void 0,c.storedProcedure(b("LSUpdateThreadAuthorityAndMapping"),a[0],a[1],d[1])}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxUpdateThreadAuthorityAndMappingWithOTIDFromJIDStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSUpdateThreadsRangesV2",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.sequence([function(c){return b.forEach(b.db.table(10).fetch([[[a[1]]]]),function(a){return a["delete"]()})},function(d){return c[8]=b.i64.gt(a[2],b.i64.cast([0,1]))&&b.i64.gt(a[3],b.i64.cast([-2147483648,0])),a[0]==="inbox"&&b.i64.eq(a[1],b.i64.cast([0,0]))&&b.i64.eq(a[4],b.i64.cast([0,1]))?b.sequence([function(d){return c[9]=a[2],c[10]=a[3],c[11]=!1,c[12]=c[8],b.forEach(b.db.table(198).fetch(),function(a){a=a.item;return c[13]=a.minLastActivityTimestampMs,c[15]=a.minThreadKey,c[14]=b.i64.lt(c[9]==null?c[13]:c[9],c[13]),c[9]=c[14]?c[13]:c[9],c[10]=c[14]?c[15]:c[10],c[11]=c[11]||a.isLoadingBefore,c[12]=c[12]||b.i64.gt(c[13],b.i64.cast([0,1]))&&b.i64.gt(c[15],b.i64.cast([-2147483648,0]))})},function(a){return a=[c[9],c[10],c[11],c[12]],c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],a}]):b.resolve((d=[a[2],a[3],!1,c[8]],c[0]=d[0],c[1]=d[1],c[2]=d[2],c[3]=d[3],d))},function(d){return b.i64.eq(a[4],b.i64.cast([0,1]))?b.sequence([function(d){return c[9]=c[0],c[10]=c[1],c[11]=c[2],c[12]=c[3],b.forEach(b.filter(b.db.table(220).fetch(),function(c){return b.i64.eq(c.parentThreadKey,a[1])}),function(a){a=a.item;return c[13]=a.minLastActivityTimestampMs,c[15]=a.minThreadKey,c[14]=b.i64.lt(c[9]==null?c[13]:c[9],c[13]),c[9]=c[14]?c[13]:c[9],c[10]=c[14]?c[15]:c[10],c[11]=c[11]||a.isLoadingBefore,c[12]=c[12]||b.i64.gt(c[13],b.i64.cast([0,1]))&&b.i64.gt(c[15],b.i64.cast([-2147483648,0]))})},function(a){return a=[c[9],c[10],c[11],c[12]],c[4]=a[0],c[5]=a[1],c[6]=a[2],c[7]=a[3],a}]):b.resolve((d=[c[0],c[1],c[2],c[3]],c[4]=d[0],c[5]=d[1],c[6]=d[2],c[7]=d[3],d))},function(d){return b.db.table(10).add({parentThreadKey:a[1],minThreadKey:c[5]==null?b.i64.cast([-2147483648,0]):c[5],minLastActivityTimestampMs:c[4]==null?b.i64.cast([0,1]):c[4],maxLastActivityTimestampMs:b.i64.cast([0,1]),maxThreadKey:b.i64.cast([-2147483648,0]),isLoadingBefore:c[6],isLoadingAfter:!1,hasMoreBefore:c[7],hasMoreAfter:!1})}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxUpdateThreadsRangesV2StoredProcedure";a.__tables__=["threads_ranges_v2__generated","inbox_threads_ranges","sync_group_threads_ranges"];e.exports=a}),null);
__d("LSUpsertFolderSeenTimestamp",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.i64.gt(a[1],b.i64.cast([0,0]))?b.db.table(35).fetch([[[a[0]]]]).next().then(function(c,d){var e=c.done;c=c.value;return e?b.db.table(35).add({parentThreadKey:a[0],lastSeenRequestTimestampMs:a[1]}):(d=c.item,b.i64.lt(d.lastSeenRequestTimestampMs,a[1])?b.forEach(b.db.table(35).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({lastSeenRequestTimestampMs:a[1]})}):b.resolve())}):b.resolve()},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxUpsertFolderSeenTimestampStoredProcedure";a.__tables__=["folder_metadata"];e.exports=a}),null);
__d("LSUpsertInboxThreadsRange",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(198).put({syncGroup:a[0],minLastActivityTimestampMs:a[1],hasMoreBefore:a[2],isLoadingBefore:a[3],minThreadKey:a[4]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxUpsertInboxThreadsRangeStoredProcedure";a.__tables__=["inbox_threads_ranges"];e.exports=a}),null);
__d("LSUpsertMessage",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(12).fetch([[[a[9]]],"optimistic"]).next().then(function(c,d){var e=c.done;c=c.value;return e?b.db.table(12).add({threadKey:a[3],timestampMs:a[5],messageId:a[8],offlineThreadingId:a[9],authorityLevel:a[2],primarySortKey:a[6],senderId:a[10],isAdminMessage:a[12],sendStatus:a[15],sendStatusV2:a[16],text:a[0],subscriptErrorMessage:a[1],secondarySortKey:a[7],stickerId:a[11],messageRenderingType:a[13],isUnsent:a[17],unsentTimestampMs:a[18],mentionOffsets:a[19],mentionLengths:a[20],mentionIds:a[21],mentionTypes:a[22],replySourceId:a[23],replySourceType:a[24],replySourceTypeV2:a[25],replyStatus:a[26],replySnippet:a[27],replyMessageText:a[28],replyToUserId:a[29],replyMediaExpirationTimestampMs:a[30],replyMediaUrl:a[31],replyMediaPreviewWidth:a[33],replyMediaPreviewHeight:a[34],replyMediaUrlMimeType:a[35],replyMediaUrlFallback:a[36],replyCtaId:a[37],replyCtaTitle:a[38],replyAttachmentType:a[39],replyAttachmentId:a[40],replyAttachmentExtra:a[41],replyType:a[42],isForwarded:a[43],forwardScore:a[44],hasQuickReplies:a[45],adminMsgCtaId:a[46],adminMsgCtaTitle:a[47],adminMsgCtaType:a[48],cannotUnsendReason:a[49],textHasLinks:a[50],viewFlags:a[51],displayedContentTypes:a[52],viewedPluginKey:a[53],viewedPluginContext:a[54],quickReplyType:a[55],hotEmojiSize:a[56],platformXmdEncoded:a[57],replySourceTimestampMs:a[58],ephemeralDurationInSec:a[59],msUntilExpirationTs:a[60],ephemeralExpirationTs:a[61],takedownState:a[62],isCollapsed:a[63],subthreadKey:a[64],botResponseId:a[65],metadataDataclass:a[66],editCount:a[67],isPaidPartnership:a[68],adminSignatureName:a[69],adminSignatureProfileUrl:a[70],adminSignatureCreatorType:a[71],translatedText:a[72],textDialect:a[73],translatedTextDialect:a[74],scheduledTimestamp:a[75],isVideoQuickSend:a[76]}):(d=c.item,b.i64.le(d.authorityLevel,a[2])?b.db.table(12).put({threadKey:a[3],timestampMs:a[5],messageId:a[8],offlineThreadingId:a[9],authorityLevel:a[2],primarySortKey:d.primarySortKey,senderId:a[10],isAdminMessage:a[12],sendStatus:a[15],sendStatusV2:a[16],text:a[0],subscriptErrorMessage:a[1],secondarySortKey:d.secondarySortKey,stickerId:a[11],messageRenderingType:a[13],isUnsent:a[17],unsentTimestampMs:a[18],mentionOffsets:a[19],mentionLengths:a[20],mentionIds:a[21],mentionTypes:a[22],replySourceId:a[23],replySourceType:a[24],replySourceTypeV2:a[25],replyStatus:a[26],replySnippet:a[27],replyMessageText:a[28],replyToUserId:a[29],replyMediaExpirationTimestampMs:a[30],replyMediaUrl:a[31],replyMediaPreviewWidth:a[33],replyMediaPreviewHeight:a[34],replyMediaUrlMimeType:a[35],replyMediaUrlFallback:a[36],replyCtaId:a[37],replyCtaTitle:a[38],replyAttachmentType:a[39],replyAttachmentId:a[40],replyAttachmentExtra:a[41],replyType:a[42],isForwarded:a[43],forwardScore:a[44],hasQuickReplies:a[45],adminMsgCtaId:a[46],adminMsgCtaTitle:a[47],adminMsgCtaType:a[48],cannotUnsendReason:a[49],textHasLinks:a[50],viewFlags:a[51],displayedContentTypes:a[52],viewedPluginKey:a[53],viewedPluginContext:a[54],quickReplyType:a[55],hotEmojiSize:a[56],platformXmdEncoded:a[57],replySourceTimestampMs:a[58],ephemeralDurationInSec:a[59],msUntilExpirationTs:a[60],ephemeralExpirationTs:a[61],takedownState:a[62],isCollapsed:a[63],subthreadKey:a[64],botResponseId:a[65],metadataDataclass:a[66],editCount:a[67],isPaidPartnership:a[68],adminSignatureName:a[69],adminSignatureProfileUrl:a[70],adminSignatureCreatorType:a[71],translatedText:a[72],textDialect:a[73],translatedTextDialect:a[74],scheduledTimestamp:a[75],isVideoQuickSend:a[76]}):b.resolve())})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxUpsertMessageStoredProcedure";a.__tables__=["messages"];e.exports=a}),null);
__d("LSUpsertSyncGroupThreadsRange",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(220).put({syncGroup:a[0],parentThreadKey:a[1],minLastActivityTimestampMs:a[2],hasMoreBefore:a[3],isLoadingBefore:a[4],minThreadKey:a[5]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxUpsertSyncGroupThreadsRangeStoredProcedure";a.__tables__=["sync_group_threads_ranges"];e.exports=a}),null);
__d("LSWriteThreadCapabilities",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.db.table(9).fetch([[[a[0]]]]).next().then(function(d,e){e=d.done;d=d.value;return e?0:(d.item,c[0]=b.i64.of_float(Date.now()),b.forEach(b.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({capabilities:a[1],capabilities2:a[2],capabilities3:a[3],capabilities4:a[4],capabilities5:a[5]})}))})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxWriteThreadCapabilitiesStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSExpandedStaticDependencies",["LSAddParticipantIdToGroupThread","LSClearPinnedMessages","LSDeleteBanner","LSDeleteExistingMessageRanges","LSGetFirstAvailableAttachmentCTAID","LSHybridThreadDelete","LSInsertAttachmentCta","LSInsertAttachmentItem","LSInsertBlobAttachment","LSInsertNewMessageRange","LSIssueInsertPersistentMenuItemsForThreadTask","LSSetForwardScore","LSSetMessageDisplayedContentTypes","LSStaticDependencies","LSTransportHybridParticipantUpdateReceipts","LSTruncateMetadataThreads","LSTruncateTablesForSyncGroup","LSUpdateAttachmentItemCtaAtIndex","LSUpdateOrInsertCommunitySurfaceRange","LSUpdateOrInsertThread","LSUpdateReadReceipt","LSUpdateThreadAuthorityAndMappingWithOTIDFromJID","LSUpdateThreadsRangesV2","LSUpsertFolderSeenTimestamp","LSUpsertInboxThreadsRange","LSUpsertMessage","LSUpsertReaction","LSUpsertSyncGroupThreadsRange","LSWriteThreadCapabilities"],(function(a,b,c,d,e,f,g){"use strict";a=babelHelpers["extends"]({},c("LSStaticDependencies"),{addParticipantIdToGroupThread:c("LSAddParticipantIdToGroupThread"),clearPinnedMessages:c("LSClearPinnedMessages"),deleteBanner:c("LSDeleteBanner"),deleteExistingMessageRanges:c("LSDeleteExistingMessageRanges"),getFirstAvailableAttachmentCTAID:c("LSGetFirstAvailableAttachmentCTAID"),hybridThreadDelete:c("LSHybridThreadDelete"),insertAttachmentCta:c("LSInsertAttachmentCta"),insertAttachmentItem:c("LSInsertAttachmentItem"),insertBlobAttachment:c("LSInsertBlobAttachment"),insertNewMessageRange:c("LSInsertNewMessageRange"),issueInsertPersistentMenuItemsForThreadTask:c("LSIssueInsertPersistentMenuItemsForThreadTask"),setForwardScore:c("LSSetForwardScore"),setMessageDisplayedContentTypes:c("LSSetMessageDisplayedContentTypes"),transportHybridParticipantUpdateReceipts:c("LSTransportHybridParticipantUpdateReceipts"),truncateMetadataThreads:c("LSTruncateMetadataThreads"),truncateTablesForSyncGroup:c("LSTruncateTablesForSyncGroup"),updateAttachmentItemCtaAtIndex:c("LSUpdateAttachmentItemCtaAtIndex"),updateOrInsertCommunitySurfaceRange:c("LSUpdateOrInsertCommunitySurfaceRange"),updateOrInsertThread:c("LSUpdateOrInsertThread"),updateReadReceipt:c("LSUpdateReadReceipt"),updateThreadAuthorityAndMappingWithOTIDFromJID:c("LSUpdateThreadAuthorityAndMappingWithOTIDFromJID"),updateThreadsRangesV2:c("LSUpdateThreadsRangesV2"),upsertFolderSeenTimestamp:c("LSUpsertFolderSeenTimestamp"),upsertInboxThreadsRange:c("LSUpsertInboxThreadsRange"),upsertMessage:c("LSUpsertMessage"),upsertReaction:c("LSUpsertReaction"),upsertSyncGroupThreadsRange:c("LSUpsertSyncGroupThreadsRange"),writeThreadCapabilities:c("LSWriteThreadCapabilities")});b=a;g["default"]=b}),98);/*FB_PKG_DELIM*/
__d("FocusTableUtils",["FocusManager","filterNulls","focusKeyboardEventPropagation","focusScopeQueries","setElementCanTab"],(function(a,b,c,d,e,f,g){function a(a){return a.length===1}function h(a){return a instanceof HTMLElement||a instanceof SVGElement}function i(a,b){var d,e=b instanceof HTMLElement&&b.id!==""?b.id:null,f=new Set(b instanceof HTMLElement?c("filterNulls")([].concat(((d=b.getAttribute("aria-labelledby"))!=null?d:"").split(" "),((d=b.getAttribute("aria-describedby"))!=null?d:"").split(" "),((d=b.getAttribute("aria-owns"))!=null?d:"").split(" "),[b.getAttribute("aria-errormessage")])).filter(function(a){return a!==""}):[]);d=document.createTreeWalker(a,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT,{acceptNode:function(a){if(a===b)return NodeFilter.FILTER_REJECT;if(a.nodeType===Node.TEXT_NODE&&a.textContent.trim()==="")return NodeFilter.FILTER_REJECT;if(h(a)&&f.has(a.id))return NodeFilter.FILTER_REJECT;if(h(a)&&a.getAttribute("aria-hidden")==="true")return NodeFilter.FILTER_REJECT;if(a instanceof HTMLLabelElement&&(a.htmlFor===e||a.contains(b)))return NodeFilter.FILTER_REJECT;if(a.hasChildNodes())return NodeFilter.FILTER_SKIP;return h(a)&&a.getAttribute("aria-label")==null&&a.getAttribute("aria-labelledby")==null&&a.getAttribute("aria-describedby")==null&&a.getAttribute("alt")==null&&a.getAttribute("title")==null?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}});var g=d.currentNode;while(g===a)g=d.nextNode();return g!=null}var j=new Set(["button","checkbox","radio","reset","submit"]),k=new Set(["checkbox","link","switch","radio","button"]),l=new Set(["a","button"]);function m(a){var b=a.getAttribute("role"),c=a.tagName.toLowerCase(),d=a instanceof HTMLInputElement?a.type:null;if(a instanceof HTMLInputElement&&j.has(d))return!0;return k.has(b)||l.has(c)?!0:!1}function n(a){var b=[];a=document.createTreeWalker(a,NodeFilter.SHOW_ELEMENT,{acceptNode:function(a){return a instanceof HTMLElement&&m(a)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});var c=a.nextNode();while(c)b.push(c),c=a.nextNode();return b}function o(a,b){if(!b)return null;b=a.DO_NOT_USE_queryFirstNode(d("focusScopeQueries").tableCellScopeQuery);if(b==null)return null;a=n(b);a=(a=a)!=null?a:[];var c=a[0];a=a.slice(1);if(c!=null&&a.length===0&&!i(b,c))return c}function p(a,b,c){if(b){var e=b.scopeRef.current;if(e!==null){var f;f=o(e,(f=b.allowWithinCellNavigation)!=null?f:!1);a=(f=(f=f)!=null?f:e.DO_NOT_USE_queryFirstNode(a))!=null?f:b.focusStaticCells===!0?e.DO_NOT_USE_queryFirstNode(d("focusScopeQueries").tableCellScopeQuery):null;a!==null&&(document.activeElement!=null&&d("setElementCanTab").setElementCanTab(document.activeElement,!1,b.focusStaticCells),d("setElementCanTab").setElementCanTab(a,!0,b.focusStaticCells),d("FocusManager").focusElement(a),c!=null&&(c.preventDefault(),d("focusKeyboardEventPropagation").stopFocusKeyboardEventPropagation(c)))}}}function b(a,b,c){if(b!=null){b=b.DO_NOT_USE_queryFirstNode(a);b!==null&&(d("setElementCanTab").setElementCanTab(b,!0),d("FocusManager").focusElement(b),c.preventDefault(),d("focusKeyboardEventPropagation").stopFocusKeyboardEventPropagation(c))}}function q(a,b,c,d,e){d=d[c];c=s(d,e);var f=0,g,h,i;do{g=b-f;if(g>=0){i=r(d,g,e,a);if(i)return i}h=b+f;if(h<=c){i=r(d,h,e,a);if(i)return i}f++}while(g>=0&&h<=c);return null}function e(a,b,c,d,e,f,g,h){var i=b.onNavigate;if(i){var j=!1;e=x(e,d,h);var k=e[1];e=z(b,d,g);var l=e[0],m=e[1];if(l===null)return!1;b={currentCellIndex:k,currentRowIndex:m,event:c,focusCell:function(a,b){p(b||f,a,c)},getCell:function(a,b){a=l[a];return a!=null?r(a,b,h):null},getCellByTag:function(a){var b=q(a,k,m,l,h);if(b)return b;var c=l.length,d=m+1;while(!0){if(d===m)return null;if(d>c-1){d=0;continue}b=q(a,k,d,l,h);if(b)return b;d++}return null},preventDefault:function(){j=!0},type:a};i(b);if(j)return!0}return!1}function r(a,b,c,d){a=a.getChildContextValues(c).filter(function(a){return a!=null&&(d===void 0||a.tag===d)});c=0;for(var e=0;e<a.length;e++){var f=a[e];if(f){c+=f&&f.colSpan||1;if(c>b)return f}}return null}function f(a,b,c,d,e){c=r(b,c,d);if(c!==null){p(a,c,e);return}c=b.getChildContextValues(d).filter(Boolean);c.length>0&&p(a,c[c.length-1],e)}function s(a,b){b=(a=a.getChildContextValues(b).filter(Boolean))!=null?a:[];a=0;for(var c=0;c<b.length;c++){var d=b[c];d=d&&((d=d.colSpan)!=null?d:1);a+=d}return a}function t(a,b,c){for(var d=b.length-1;d>=0;d--){var e=b[d];e=r(e,a,c);if(e!==null)return d+1}return 0}function u(a,b,c){for(var d=0;d<a.length;d++){var e=a[d];e=r(e,b,c);if(e!==null)return d}return-1}function v(a,b){var c=0;for(var d=0;d<a.length;d++){var e=a[d];if(e===null)continue;if(e.scopeRef.current===b)return[d,d+c];e=e.colSpan;typeof e==="number"&&(c+=e-1)}return[-1,-1]}function w(a,b){return a.getChildContextValues(b).filter(Boolean)}function x(a,b,c){b=w(b,c);if(b.length>0){c=v(b,a);a=c[0];c=c[1];return[b,a,c]}return[null,-1,-1]}function y(a,b,c){if(a){a=a.scopeRef.current;if(a!==null){a=a.getChildContextValues(b);b=[];for(var d=0;d<a.length;d++){var e=a[d];if(e){var f;f=(f=e.scopeRef)==null?void 0:f.current;e=(e=c==null?void 0:c(e))!=null?e:!0;f&&e&&b.push(f)}}return b}}return null}function z(a,b,c,d){a=y(a,c,d);if(b&&a&&a.length>0){c=a.indexOf(b);return[a,c]}return[null,-1]}function A(a){var b=a.altKey,c=a.ctrlKey,d=a.metaKey;a=a.shiftKey;return b===!0||c===!0||d===!0||a===!0}g.isPrintableCharacter=a;g.hasUnassociatedLeafNodes=i;g.isArrowKeyLessOperationElement=m;g.getCellSingleInteractiveContentNode=o;g.focusCell=p;g.focusRow=b;g.checkRowForMatch=q;g.handleOnNavigateBehavior=e;g.getCellByColumnIndex=r;g.focusCellByColumnIndex=f;g.getTotalSpan=s;g.getLastRowNumInColumn=t;g.getFirstRowIndexInColumn=u;g.getCellIndexes=v;g.getRowCells=w;g.getRowCellsWithIndexes=x;g.getRows=y;g.getRowsWithIndex=z;g.hasModifierKey=A}),98);
__d("FocusTable.react",["FocusManager","FocusTableUtils","Locale","ReactFocusEvent.react","ReactKeyboardEvent.react","focusKeyboardEventPropagation","react","setElementCanTab"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.useMemo,l=b.useRef,m=5;function a(a){var b=i.unstable_Scope,c=i.createContext(null),e=i.createContext(null),g=i.createContext(null);function h(e){var f=e.children,g=e.wrapX,h=e.wrapY,j=e.wrapXToNextLine,n=e.wrapYToNextColumn,o=n===void 0?!1:n,q=e.tabScopeQuery,r=e.allowModifiers;n=e.pageJumpSize;var s=n===void 0?m:n,t=e.onNavigate,u=e.disabled,v=e.withinCellTabScopeQuery;n=e.focusStaticCells;var w=n===void 0?!1:n,x=l(null);e=k(function(){return{scopeRef:x,wrapXToNextLine:j,wrapYToNextColumn:o,wrapX:g,wrapY:h,tabScopeQuery:q,allowModifiers:r,pageJumpSize:s,onNavigate:t,disabled:u,withinCellTabScopeQuery:v,focusStaticCells:w}},[j,o,g,h,q,r,s,t,u,v,w]);var y=l(!1);n=d("ReactFocusEvent.react").useFocusWithin(x,k(function(){return{onFocusWithin:function(b){y.current||(y.current=!0,x.current&&a&&(p(x.current,a,!1),d("setElementCanTab").setElementCanTab(b.target,!0,w)))}}},[y,w]));return i.jsx(c.Provider,{value:e,children:i.jsx(b,{ref:n,children:f})})}h.displayName=h.name+" [from "+f.id+"]";function o(a){a=a.children;var c=l(null),d=k(function(){return{scopeRef:c}},[]);return i.jsx(e.Provider,{value:d,children:i.jsx(b,{ref:c,children:a})})}o.displayName=o.name+" [from "+f.id+"]";function p(a,b,c){a=a.DO_NOT_USE_queryAllNodes(b);if(a!=null)for(b=0;b<a.length;b++){var e=a[b];d("setElementCanTab").setElementCanTab(e,c)}}function q(f){var h=f.children,m=f.colSpan,o=f.tag,q=j(c),r=(f=j(e))==null?void 0:f.scopeRef,s=l(null),t=l(!1),u=(q==null?void 0:q.withinCellTabScopeQuery)!=null,v=q==null?void 0:q.focusStaticCells;d("ReactKeyboardEvent.react").useKeyboard(s,k(function(){return{onKeyDown:function(b){if(q&&q.disabled===!0)return;if(d("focusKeyboardEventPropagation").hasFocusKeyboardEventPropagationStopped(b))return;var c=s.current;if(c===null||q===null)return;if(r==null)return;var f=r.current;if(f===null)return;var h=b.key,i=u&&d("FocusTableUtils").getCellSingleInteractiveContentNode(c,u)==null,j=t.current;if(h==="Tab"&&q){var k=q.tabScopeQuery,l=q.scopeRef.current;if(k&&l){if(d("FocusTableUtils").handleOnNavigateBehavior("TAB",q,b,f,c,k,e,g))return;var m=q.withinCellTabScopeQuery;j&&m!=null?b.shiftKey?d("FocusManager").focusPreviousContained(m,c,b,!0):d("FocusManager").focusNextContained(m,c,b,!0):(p(l,k,!1),document.activeElement!=null&&d("setElementCanTab").setElementCanTab(document.activeElement,!0,v))}return}m=b.ctrlKey||b.metaKey;l=h;d("Locale").isRTL()&&(h==="ArrowRight"?l="ArrowLeft":h==="ArrowLeft"&&(l="ArrowRight"));switch(l){case"Home":if(d("FocusTableUtils").handleOnNavigateBehavior("HOME",q,b,f,c,a,e,g))return;if(j)return;k=d("FocusTableUtils").getRowCellsWithIndexes(c,f,g);l=k[0];k=k[1];var o=d("FocusTableUtils").getRowsWithIndex(q,f,e),w=o[0];o=o[1];if(l!==null&&w!==null)if(m){if(o!==0||k!==0){l=w[0];d("FocusTableUtils").focusCellByColumnIndex(a,l,0,g,b)}}else if(k!==0){l=w[o];d("FocusTableUtils").focusCellByColumnIndex(a,l,0,g,b)}return;case"End":if(d("FocusTableUtils").handleOnNavigateBehavior("END",q,b,f,c,a,e,g))return;if(j)return;k=d("FocusTableUtils").getRowCellsWithIndexes(c,f,g);w=k[0];o=k[1];l=d("FocusTableUtils").getRowsWithIndex(q,f,e);k=l[0];l=l[1];if(w!==null&&k!==null)if(m){if(l!==k.length-1||o!==w.length-1){l=k[k.length-1];k=l.getChildContextValues(g).filter(Boolean);k.length>0&&d("FocusTableUtils").focusCell(a,k[k.length-1],b)}}else o!==w[w.length-1]&&d("FocusTableUtils").focusCell(a,w[w.length-1],b);return;case"ArrowUp":if(n(b,q))return;if(d("FocusTableUtils").handleOnNavigateBehavior("PREV_ROW",q,b,f,c,a,e,g))return;if(j)return;l=d("FocusTableUtils").getRowCellsWithIndexes(c,f,g);k=l[0];o=l[1];w=l[2];if(k!==null&&q){l=d("FocusTableUtils").getRowsWithIndex(q,f,e);k=l[0];l=l[1];if(k!==null)if(l===0){var x=q.wrapY,y=q.wrapYToNextColumn;if(x===!0&&!m){x=k[k.length-1];d("FocusTableUtils").focusCellByColumnIndex(a,x,w,g,b)}else if(y===!0&&!m&&o>0){x=w-1;y=d("FocusTableUtils").getLastRowNumInColumn(x,k,g);o=k[y-1];d("FocusTableUtils").focusCellByColumnIndex(a,o,x,g,b)}}else if(m){y=k[0];d("FocusTableUtils").focusCellByColumnIndex(a,y,w,g,b)}else{o=k[l-1];d("FocusTableUtils").focusCellByColumnIndex(a,o,w,g,b)}}return;case"PageUp":if(d("FocusTableUtils").handleOnNavigateBehavior("PAGE_UP",q,b,f,c,a,e,g))return;if(j)return;x=d("FocusTableUtils").getRowCellsWithIndexes(c,f,g);y=x[0];k=x[2];l=d("FocusTableUtils").getRowsWithIndex(q,f,e);o=l[0];w=l[1];if(y!==null&&o!==null&&q&&w!==0){x=q.pageJumpSize;l=o[Math.max(0,w-x)];d("FocusTableUtils").focusCellByColumnIndex(a,l,k,g,b)}return;case"ArrowDown":if(n(b,q))return;if(d("FocusTableUtils").handleOnNavigateBehavior("NEXT_ROW",q,b,f,c,a,e,g))return;if(j)return;y=d("FocusTableUtils").getRowCellsWithIndexes(c,f,g);o=y[0];w=y[2];x=d("FocusTableUtils").getRowsWithIndex(q,f,e);l=x[0];k=x[1];if(o!==null&&l!==null&&q&&k!==-1)if(k===l.length-1){y=q.wrapY;x=q.wrapYToNextColumn;if(y===!0&&!m){o=l[0];d("FocusTableUtils").focusCellByColumnIndex(a,o,w,g,b)}else if(x===!0&&!m){y=w+1;o=d("FocusTableUtils").getFirstRowIndexInColumn(l,y,g);if(o!==-1){x=l[o];d("FocusTableUtils").focusCellByColumnIndex(a,x,y,g,b)}}}else if(m){o=l[l.length-1];d("FocusTableUtils").focusCellByColumnIndex(a,o,w,g,b)}else{x=l[k+1];d("FocusTableUtils").focusCellByColumnIndex(a,x,w,g,b)}return;case"PageDown":if(d("FocusTableUtils").handleOnNavigateBehavior("PAGE_DOWN",q,b,f,c,a,e,g))return;if(j)return;y=d("FocusTableUtils").getRowCellsWithIndexes(c,f,g);m=y[0];o=y[2];l=d("FocusTableUtils").getRowsWithIndex(q,f,e);k=l[0];x=l[1];if(m!==null&&k!==null&&q&&x!==k.length-1){w=q.pageJumpSize;y=k[Math.min(k.length-1,x+w)];d("FocusTableUtils").focusCellByColumnIndex(a,y,o,g,b)}return;case"ArrowLeft":if(n(b,q))return;if(d("FocusTableUtils").handleOnNavigateBehavior("PREV_CELL",q,b,f,c,a,e,g))return;if(j)return;l=d("FocusTableUtils").getRowCellsWithIndexes(c,f,g);m=l[0];k=l[1];x=d("FocusTableUtils").getRowsWithIndex(q,f,e);w=x[0];y=x[1];if(m!==null&&w!==null&&q)if(k>0)d("FocusTableUtils").focusCell(a,m[k-1],b);else if(k===0){o=q.wrapX;l=q.wrapXToNextLine;o===!0?d("FocusTableUtils").focusCell(a,m[m.length-1],b):l===!0&&w[y-1]&&d("FocusTableUtils").focusCellByColumnIndex(a,w[y-1],d("FocusTableUtils").getTotalSpan(w[y-1],g),g,b)}return;case"ArrowRight":if(n(b,q))return;if(d("FocusTableUtils").handleOnNavigateBehavior("NEXT_CELL",q,b,f,c,a,e,g))return;if(j)return;x=d("FocusTableUtils").getRowCellsWithIndexes(c,f,g);k=x[0];o=x[1];m=d("FocusTableUtils").getRowsWithIndex(q,f,e);l=m[0];w=m[1];if(k!==null&&l!==null&&q&&o!==-1)if(o===k.length-1){y=q.wrapX;x=q.wrapXToNextLine;y===!0?d("FocusTableUtils").focusCell(a,k[0],b):x===!0&&l[w+1]&&d("FocusTableUtils").focusCellByColumnIndex(a,l[w+1],0,g,b)}else d("FocusTableUtils").focusCell(a,k[o+1],b);return;case"Enter":if(!i||j)return;if(d("FocusTableUtils").handleOnNavigateBehavior("ENTER",q,b,f,c,a,e,g))return;m=q==null?void 0:q.withinCellTabScopeQuery;if(m){y=c.DO_NOT_USE_queryFirstNode(m);y!=null&&(t.current=!0,p(c,m,!0),d("FocusManager").focusElement(y))}return;case"Escape":if(!i||!j)return;if(d("FocusTableUtils").handleOnNavigateBehavior("ESC",q,b,f,c,a,e,g))return;x=q==null?void 0:q.tabScopeQuery;if(x){t.current=!1;l=c.DO_NOT_USE_queryAllNodes(x);if(l!==null)for(w=0;w<l.length;w++){k=l[w];d("setElementCanTab").setElementCanTab(k,!1,v)}d("FocusTableUtils").focusCell(x,{scopeRef:s},b)}return;default:d("FocusTableUtils").isPrintableCharacter(h)&&d("FocusTableUtils").handleOnNavigateBehavior("PRINT_CHAR",q,b,f,c,a,e,g)}}}},[r,q,u]));var w=k(function(){return{scopeRef:s,colSpan:m,tag:o,allowWithinCellNavigation:u,focusStaticCells:v}},[m,u,o,v]),x=q==null?void 0:q.tabScopeQuery;f=d("ReactFocusEvent.react").useFocusWithin(s,k(function(){return{onFocusWithin:function(b){if(a!=null){var c;c=(c=s.current)==null?void 0:c.DO_NOT_USE_queryFirstNode(a);var e=b.target===c;if(e&&(c&&!d("setElementCanTab").canElementTab(c))){e=q==null?void 0:q.scopeRef.current;e&&p(e,a,!1);d("setElementCanTab").setElementCanTab(c,!0,v)}}if(x!=null){c=(e=s.current)==null?void 0:e.DO_NOT_USE_queryFirstNode(x);e=b.target===c;var f=w.allowWithinCellNavigation===!0;e&&f&&d("FocusTableUtils").focusCell(x,w);c!=null&&!e&&f&&b.target instanceof HTMLElement&&!d("FocusTableUtils").isArrowKeyLessOperationElement(b.target)&&(t.current=!0)}},onBlurWithin:function(){t.current=!1}}},[x,w,q==null?void 0:q.scopeRef]));return i.jsx(g.Provider,{value:w,children:i.jsx(b,{ref:f,children:h})})}q.displayName=q.name+" [from "+f.id+"]";return[h,o,q]}function n(a,b){if(d("FocusTableUtils").hasModifierKey(a)&&b){a=b.allowModifiers;if(a!==!0)return!0}}g.createFocusTable=a}),98);
__d("BaseGridFocusTable.react",["FocusTable.react","focusScopeQueries"],(function(a,b,c,d,e,f,g){"use strict";a=d("FocusTable.react").createFocusTable(d("focusScopeQueries").focusableScopeQuery);b=a[0];c=a[1];e=a[2];g.BaseGridFocusTable=b;g.BaseGridFocusRow=c;g.BaseGridFocusCell=e}),98);
__d("BaseGrid.react",["BaseGridFocusTable.react","focusScopeQueries","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(13),c=a["aria-describedby"],e=a["aria-multiselectable"],f=a.children,g=a.wrapNavigation,h=a.xstyle,k=a["aria-label"];a=a["aria-labelledby"];g=g===void 0?"none":g;var l;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(l=["row","both"],b[0]=l):l=b[0];l=l.includes(g);var m;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(m=["column","both"],b[1]=m):m=b[1];m=m.includes(g);b[2]!==c||b[3]!==k||b[4]!==a||b[5]!==e||b[6]!==f||b[7]!==h?(g=i.jsx(d("react-strict-dom").html.div,{"aria-describedby":c,"aria-label":k,"aria-labelledby":a,"aria-multiselectable":e,role:"grid",style:h,children:f}),b[2]=c,b[3]=k,b[4]=a,b[5]=e,b[6]=f,b[7]=h,b[8]=g):g=b[8];b[9]!==l||b[10]!==m||b[11]!==g?(c=i.jsx(d("BaseGridFocusTable.react").BaseGridFocusTable,{tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,withinCellTabScopeQuery:j,wrapXToNextLine:l,wrapYToNextColumn:m,children:g}),b[9]=l,b[10]=m,b[11]=g,b[12]=c):c=b[12];return c}var j=function(a,b){return b.role==="gridcell"||b.role==="row"?!1:d("focusScopeQueries").tabbableScopeQuery(a,b)};g["default"]=a}),98);
__d("BaseGridCell.react",["BaseGridFocusTable.react","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={focusRing:{boxShadow:"x59fq91",outline:"x1a2a7pz x1uvtmcs x1i4ix8p",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(18),e,f,g,i,l,m,n;b[0]!==a?(f=a["aria-selected"],g=a.children,i=a["data-type"],l=a.ref,m=a.testid,n=a.xstyle,e=babelHelpers.objectWithoutPropertiesLoose(a,["aria-selected","children","data-type","ref","testid","xstyle"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=i,b[5]=l,b[6]=m,b[7]=n):(e=b[1],f=b[2],g=b[3],i=b[4],l=b[5],m=b[6],n=b[7]);b[8]!==n?(a=(h||(h=c("stylex"))).props(n,k.focusRing),b[8]=n,b[9]=a):a=b[9];b[10]!==e||b[11]!==f||b[12]!==g||b[13]!==i||b[14]!==l||b[15]!==a||b[16]!==m?(n=j.jsx(d("BaseGridFocusTable.react").BaseGridFocusCell,{children:j.jsx("div",babelHelpers["extends"]({},e,{"aria-selected":f,"data-testid":void 0,"data-type":i,ref:l,role:"gridcell"},a,{tabIndex:0,children:g}))}),b[10]=e,b[11]=f,b[12]=g,b[13]=i,b[14]=l,b[15]=a,b[16]=m,b[17]=n):n=b[17];return n}g["default"]=a}),98);
__d("BaseGridRow.react",["BaseGridFocusTable.react","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),c=a.children;a=a.xstyle;var e;b[0]!==c||b[1]!==a?(e=i.jsx(d("BaseGridFocusTable.react").BaseGridFocusRow,{children:i.jsx(d("react-strict-dom").html.div,{role:"row",style:a,children:c})}),b[0]=c,b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),98);
__d("BaseGridRowScrollableArea.react",["BaseScrollableArea.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(12),e,f,g,h,j;b[0]!==a?(e=a.addonEnd,f=a.addonStart,g=a.children,h=a.ref,j=babelHelpers.objectWithoutPropertiesLoose(a,["addonEnd","addonStart","children","ref"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=j):(e=b[1],f=b[2],g=b[3],h=b[4],j=b[5]);b[6]!==e||b[7]!==f||b[8]!==g||b[9]!==h||b[10]!==j?(a=i.jsxs(c("BaseScrollableArea.react"),babelHelpers["extends"]({},j,{ref:h,children:[f,g,e]})),b[6]=e,b[7]=f,b[8]=g,b[9]=h,b[10]=j,b[11]=a):a=b[11];return a}g["default"]=a}),98);
__d("BaseHScrollContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({role:void 0,spacing:void 0});g["default"]=b}),98);
__d("BaseHScrollChild",["BaseGridCell.react","BaseHScrollContext","FocusInertRegion.react","Locale","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useContext,l={card:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",minWidth:"xeuugli",scrollSnapAlign:"x1bhewko",$$css:!0},cardExpanding:{display:"x78zum5",$$css:!0},cardRTL:{scrollSnapAlign:"x83psoy",$$css:!0},flexBasis:function(a){return[{flexBasis:a==null?null:"xrm09gi",$$css:!0},{"--flexBasis":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}(a)}]},flexBasisDoubleWidth:function(a,b){return[{flexBasis:"calc(("+a+") * 2 + "+b+"px)"==null?null:"xrm09gi",$$css:!0},{"--flexBasis":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}("calc(("+a+") * 2 + "+b+"px)")}]},gap:function(a){return[{marginEnd:a==null?null:"x9wsmhn",":last-of-type_marginEnd":"xnqqybz",$$css:!0},{"--marginInlineEnd":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}(a)}]}},m=d("Locale").isRTL();function a(a){var b=d("react-compiler-runtime").c(21),e,f,g,i,n,o,p,q;b[0]!==a?(i=a["aria-hidden"],f=a.children,n=a.expanding,g=a.role,p=a.testid,o=a.type,q=a.xstyle,e=babelHelpers.objectWithoutPropertiesLoose(a,["aria-hidden","children","expanding","role","testid","type","xstyle"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=i,b[5]=n,b[6]=o,b[7]=p,b[8]=q):(e=b[1],f=b[2],g=b[3],i=b[4],n=b[5],o=b[6],p=b[7],q=b[8]);a=i===void 0?!1:i;i=n===void 0?!1:n;n=o===void 0?"default":o;o=k(c("BaseHScrollContext"));var r=o.role;o=o.spacing;if(o==null)return null;var s=o.gap;o=o.width;if(b[9]!==e||b[10]!==f||b[11]!==i||b[12]!==s||b[13]!==a||b[14]!==r||b[15]!==g||b[16]!==p||b[17]!==n||b[18]!==o||b[19]!==q){var t;bb0:switch(n){case"custom":t=void 0;break bb0;case"doubleWidth":t=l.flexBasisDoubleWidth(o,s);break bb0;default:t=l.flexBasis(o)}var u=[l.card,m&&l.cardRTL,l.gap(s),i&&l.cardExpanding,q,t];u=r==="grid"?j.jsx(c("BaseGridCell.react"),babelHelpers["extends"]({},e,{"data-type":"hscroll-child",testid:void 0,xstyle:u,children:f})):j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(u),{"data-testid":void 0,"data-type":"hscroll-child",role:r==="list"?"listitem":g,children:j.jsx(c("FocusInertRegion.react"),{disabled:!a,children:f})}));b[9]=e;b[10]=f;b[11]=i;b[12]=s;b[13]=a;b[14]=r;b[15]=g;b[16]=p;b[17]=n;b[18]=o;b[19]=q;b[20]=u}else u=b[20];return u}g["default"]=a}),98);
__d("BaseHScrollConstants",[],(function(a,b,c,d,e,f){"use strict";a=1600;b=10;f.MAX_CONTAINER_WIDTH=a;f.WIGGLE_ROOM=b}),66);
__d("BaseHScrollPeek.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(4),c=a.maxContentWindowWidth,e=a.padding;a=a.width;if(b[0]!==c||b[1]!==e||b[2]!==a){var f;f=c!=null&&e==null?i.jsx("span",{style:{flexShrink:0,minWidth:a,width:"calc((100% - "+c+"px) / 2)"}}):i.jsx("span",{style:{minWidth:(f=e)!=null?f:a}});b[0]=c;b[1]=e;b[2]=a;b[3]=f}else f=b[3];return f}g["default"]=a}),98);
__d("BaseHScrollScrollableArea.react",["BaseScrollableArea.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(8),e,f,g;b[0]!==a?(e=a.addonEnd,f=a.addonStart,g=babelHelpers.objectWithoutPropertiesLoose(a,["addonEnd","addonStart"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g):(e=b[1],f=b[2],g=b[3]);b[4]!==e||b[5]!==f||b[6]!==g?(a=i.jsxs(c("BaseScrollableArea.react"),babelHelpers["extends"]({},g,{children:[f,g.children,e]})),b[4]=e,b[5]=f,b[6]=g,b[7]=a):a=b[7];return a}g["default"]=a}),98);
__d("getBaseHScrollAccessibilityAlert",["fbt","compactMap","intlList"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b,d,e,f){var g=c("compactMap")(d,function(c,d){c=c.getBoundingClientRect();var g=Math.round(c.left+c.width-a+f-e)<=0;c=Math.round(c.left-a-b.clientWidth-f-e)>=0;return!g&&!c?(d+1).toString():null});return h._(/*BTDS*/"Item {number} of {total}",[h._param("number",c("intlList")(g)),h._param("total",d.length)])}g["default"]=a}),226);
__d("setBaseHscrollChildrenAriaHidden",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=Array.from(a.children[0].children).filter(function(a){return a.tagName==="DIV"}),c=a.getBoundingClientRect();b.forEach(function(a){var b=a.getBoundingClientRect();if(c!=null){var d=b.left+b.width<c.left;b=b.right-b.width>c.right;(b||d)&&a.getAttribute("aria-hidden")!=="true"&&a.setAttribute("aria-hidden","true");!b&&!d&&a.getAttribute("aria-hidden")==="true"&&a.removeAttribute("aria-hidden")}})}f["default"]=a}),66);
__d("smoothScrollTo",["ExecutionEnvironment","UserAgent"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("UserAgent").isBrowser("Firefox");b=(h||(h=c("ExecutionEnvironment"))).canUseDOM&&window.matchMedia("(prefers-reduced-motion: reduce)");var j=b&&b.matches,k=(h||(h=c("ExecutionEnvironment"))).canUseDOM&&document.documentElement!=null&&"scrollBehavior"in document.documentElement.style,l=new WeakMap();function a(a,b,c){var d=b.left;d=d===void 0?0:d;b=b.top;b=b===void 0?0:b;i&&(!l.get(a)&&d!==0&&(a.scrollLeft+=d/Math.abs(d),l.set(a,!0)));k?(a.scrollTo({behavior:j?"auto":"smooth",left:d,top:b}),c!=null&&"onscrollend"in window&&a.addEventListener("scrollend",c,{once:!0})):(a.scrollTo(d,b),c==null?void 0:c())}g["default"]=a}),98);
__d("useContainerBreakpoints",["$InternalEnum","gkx","react","react-compiler-runtime","useResizeObserver"],(function(a,b,c,d,e,f,g){"use strict";var h;f=h||d("react");f.useCallback;var i=f.useState,j=b("$InternalEnum")({BiggerContainerSmallerChild:0,BiggerContainerBiggerChild:1});function k(a,b){var c=a[0],d=c.maxContainerWidth;c=c.width;a=a.slice(1);if(d===Infinity||a.length===0)return c;switch(b){case j.BiggerContainerSmallerChild:var e="calc(("+d+"px - 100%) * 9999)",f=k(a,b);typeof f==="number"&&(f="min("+f+"px, (100% - "+(d+.1)+"px) * 9999)");return"max("+f+", min("+c+", "+e+"))";case j.BiggerContainerBiggerChild:f="calc((100% - "+d+"px) * 9999)";e=k(a,b);return"min("+e+", max("+c+", "+f+"))"}}function a(a,b){b=d("react-compiler-runtime").c(5);var e=i(null),f=e[0],g=e[1];b[0]!==a?(e=function(b){b=b.width;var c;for(var d of a){if(b>d.maxContainerWidth)continue;c=d.width;break}g(c)},b[0]=a,b[1]=e):e=b[1];e=e;e=c("useResizeObserver")(e);var h;b[2]!==f||b[3]!==e?(h=[e,f],b[2]=f,b[3]=e,b[4]=h):h=b[4];return h}function e(a,b){var c=d("react-compiler-runtime").c(5),e;c[0]!==a||c[1]!==b?(e=k(a,b),c[0]=a,c[1]=b,c[2]=e):e=c[2];a=e;c[3]!==a?(b=[void 0,a],c[3]=a,c[4]=b):b=c[4];return b}f=c("gkx")("24318")?e:a;g.BreakpointRelationship=j;g.useContainerBreakpoints=f}),98);
__d("BaseHScroll.react",["BaseGrid.react","BaseGridRow.react","BaseGridRowScrollableArea.react","BaseHScrollChild","BaseHScrollConstants","BaseHScrollContext","BaseHScrollPeek.react","BaseHScrollScrollableArea.react","BaseView.react","HiddenSubtreePassiveContext","Locale","UserAgent","emptyFunction","getBaseHScrollAccessibilityAlert","react","setBaseHscrollChildrenAriaHidden","smoothScrollTo","stylex","useBaseHScrollFakeCards","useContainerBreakpoints","useEventHandler","useMergeRefs","useTriggerAccessibilityAlert","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));e=j;var aa=e.useCallback,ba=e.useContext,l=e.useLayoutEffect,m=e.useMemo,n=e.useRef,o=e.useState,p=d("Locale").isRTL();e=c("UserAgent").isBrowser("Safari < 14")||c("UserAgent").isBrowser("Mobile Safari < 14");var q=c("UserAgent").isBrowser("Chrome"),r=c("UserAgent").isBrowser("IE")||c("UserAgent").isBrowser("Edge"),ca=p&&e;function a(a){var b=a.accessibilityLabel,e=a.buttonWrapperStyle,f=a.cardWidth,g=a.containerXStyle;g=g===void 0?t.containerPaddingDefault:g;var j=a.outerContainerXStyle,q=a.scrollViewXStyle,da=a.scrollContainerXStyle,u=a.disableScrolling;u=u===void 0?!1:u;var v=a.gap,w=v===void 0?0:v;v=a.hideArrows;v=v===void 0?!1:v;var x=a.initialScrollToIndex,y=a.initialScrollSmoothing,z=y===void 0?!1:y;y=a.isButtonInward;y=y===void 0?!1:y;var A=a.maxContentWindowWidth,B=a.nextButton,C=a.peekWidth,ea=a.prevButton,D=a.onPressNext,fa=D===void 0?c("emptyFunction"):D;D=a.onPressPrev;var ga=D===void 0?c("emptyFunction"):D;D=a.peek;var E=D===void 0?!1:D;D=a.peekPaddingStart;var F=a.peekPaddingEnd,G=a.testid,H=a.role,I=babelHelpers.objectWithoutPropertiesLoose(a,["accessibilityLabel","buttonWrapperStyle","cardWidth","containerXStyle","outerContainerXStyle","scrollViewXStyle","scrollContainerXStyle","disableScrolling","gap","hideArrows","initialScrollToIndex","initialScrollSmoothing","isButtonInward","maxContentWindowWidth","nextButton","peekWidth","prevButton","onPressNext","onPressPrev","peek","peekPaddingStart","peekPaddingEnd","testid","role"]);G=A!=null&&E&&F!=null&&D!=null;var J=f.type==="responsive"?f.minWidth:f.width;a=m(function(){var a=[];if(f.type==="fixed")a.push({maxContainerWidth:Infinity,width:J+"px"});else if(E&&A!=null){var b=C*2,c=2*J+w+b,e=1;while(c<A+b){var g=e<=1||w===0?0:(e-1)*w;g=g+b;g=g===0?"100%":"(100% - "+g+"px)";a.push({maxContainerWidth:c,width:"calc("+g+" / "+e+")"});c+=w+J;e++}g=e<=1||w===0?0:(e-1)*w;c=g+b;c=c===0?"100%":"(100% - "+c+"px)";a.push({maxContainerWidth:A+b,width:"calc("+c+" / "+e+")"});a.push({maxContainerWidth:Infinity,width:(A-g)/e})}else{b=E?C*2:0;c=2*J+w+b;g=1;while(c<d("BaseHScrollConstants").MAX_CONTAINER_WIDTH){e=g<=1||w===0?0:(g-1)*w;e=e+b;e=e===0?"100%":"(100% - "+e+"px)";a.push({maxContainerWidth:c,width:"calc("+e+" / "+g+")"});c+=w+J;g++}e=g<=1||w===0?0:(g-1)*w;c=e+b;e=c===0?"100%":"(100% - "+c+"px)";a.push({maxContainerWidth:Infinity,width:"calc("+e+" / "+g+")"})}return a},[f.type,E,A,J,C,w]);var ha=c("useTriggerAccessibilityAlert")();a=d("useContainerBreakpoints").useContainerBreakpoints(a,d("useContainerBreakpoints").BreakpointRelationship.BiggerContainerSmallerChild);var K=a[0],L=a[1];a=m(function(){if(E&&A!=null)return[{maxContainerWidth:A+C*2,width:C},{maxContainerWidth:Infinity,width:"calc((100% - "+A+"px) / 2)"}];return E?[{maxContainerWidth:Infinity,width:C}]:[{maxContainerWidth:Infinity,width:0}]},[A,E,C]);a=d("useContainerBreakpoints").useContainerBreakpoints(a,d("useContainerBreakpoints").BreakpointRelationship.BiggerContainerBiggerChild);var M=a[0];a=a[1];a=A!=null&&typeof a==="string"&&a.includes("min(")?"max("+C+"px, (100% - "+A+"px) / 2)":a;var N=(h||(h=c("useUnsafeRef_DEPRECATED")))(null),O=k.Children.count(I.children),P=o(I.isCircular?!1:!p),Q=P[0],R=P[1];P=o(I.isCircular?!1:p);var S=P[0],T=P[1],U=n(!1);l(function(){var a;a=(a=N.current)==null?void 0:a.getDOMNode();if(a==null)return;if(p){var b=a.clientWidth,c=a.scrollLeft;a=a.scrollWidth;c>50&&c>a-b-50&&(U.current=!0)}},[]);var V=c("useEventHandler")(function(){var a;a=(a=N.current)==null?void 0:a.getDOMNode();if(a==null)return;var b=a.getBoundingClientRect();b=b.width;var c=a.scrollLeft,d=a.scrollWidth;if(!I.isCircular)p&&!r?U.current?(R(c>d-b-w),T(c<w)):(R(c>-w),T(c<-d+b+w)):(R(c<w),T(c>d-b-w));else{c=Z.current(a);d=c.childCards;if(d==null||d[0]==null)return;ka({isRTL:p,isRTLScrollFromMaxScroll:U,scrollRef:N})}});P=c("useBaseHScrollFakeCards")({children:I.isCircular?I.children:[],fakeCardXStyle:I.isCircular?I.fakeCardXStyle:null,gap:w,isCircular:(P=I.isCircular)!=null?P:!1,minWidth:J,onResize:function(){var a;V();a=(a=N.current)==null?void 0:a.getDOMNode();a!=null&&c("setBaseHscrollChildrenAriaHidden")(a)},peek:E,peekWidth:C});var ia=P[0],ja=P[1],W=P[2],ka=P[3];P=c("useMergeRefs")(K,M,W);var la=ba(c("HiddenSubtreePassiveContext"));l(function(){var a=la.subscribeToChanges(function(a){a.hidden||V()});return function(){return a.remove()}},[la,V]);l(function(){V()},[O,V]);var X=n(w);l(function(){X.current=w},[w]);var Y=aa(function(a){var b=a.getBoundingClientRect(),c=A!=null?Math.min(b.width-(E?2*C:0),A):E?b.width-2*C:b.width,d=(b.width-c)/2,e=b.left+d;b=b.right-d;d=Array.from(a.querySelectorAll('[data-type="hscroll-child"]'));return{childCards:d,containerLeft:e,containerRight:b,containerWidth:c}},[A,E,C]),Z=n(Y);l(function(){Z.current=Y},[Y]);var $=((K=ia)!=null?K:[]).length;l(function(){var a,b=(a=N.current)==null?void 0:a.getDOMNode();if(b==null)return;if(x==null&&$===0){c("setBaseHscrollChildrenAriaHidden")(b);return}a=Z.current(b);a=a.childCards;var d=0;if(x!=null)for(var e=0;e<Math.min(x,a.length);e++)d+=a[e].getBoundingClientRect().width+X.current;if($!==0){e=x==null?0:x;for(var f=e;f<Math.min(e+$,a.length);f++)d+=a[f].getBoundingClientRect().width+X.current}a=function(a){z?c("smoothScrollTo")(b,{left:a},function(){c("setBaseHscrollChildrenAriaHidden")(b)}):(b.scrollTo(a,0),c("setBaseHscrollChildrenAriaHidden")(b))};if(p&&!r)if(U.current){f=b.scrollWidth-b.getBoundingClientRect().width;a(f-d)}else a(-d);else a(d)},[x,z,$]);M=function(){var a,b=(a=N.current)==null?void 0:a.getDOMNode();if(b==null)return;else c("setBaseHscrollChildrenAriaHidden")(b);a=Y(b);var e=a.childCards,f=a.containerLeft;a=a.containerRight;var g;for(var h=p?0:e.length-1;p?h<e.length:h>=0;p?h++:h--){var i=e[h].getBoundingClientRect();if(i.left<=f-d("BaseHScrollConstants").WIGGLE_ROOM){g=i;break}}if(g==null)return;i=g.right-a;if(i!==0){h=p&&r?b.scrollLeft-i:b.scrollLeft+i;c("smoothScrollTo")(b,{left:h},function(){c("setBaseHscrollChildrenAriaHidden")(b)});ga();ha(c("getBaseHScrollAccessibilityAlert")(h<0?-b.scrollLeft:i,b,e,f,w))}};W=function(){var a,b=(a=N.current)==null?void 0:a.getDOMNode();if(b==null)return;else c("setBaseHscrollChildrenAriaHidden")(b);a=Y(b);var e=a.childCards,f=a.containerLeft;a=a.containerRight;var g;for(var h=p?e.length-1:0;p?h>=0:h<e.length;p?h--:h++){var i=e[h].getBoundingClientRect();if(i.right>=a+d("BaseHScrollConstants").WIGGLE_ROOM){g=i;break}}if(g==null)return;i=g.left-f;if(i!==0){a=p&&r?b.scrollLeft-i:b.scrollLeft+i;c("smoothScrollTo")(b,{left:a},function(){c("setBaseHscrollChildrenAriaHidden")(b)});fa();ha(c("getBaseHScrollAccessibilityAlert")(a+b.clientWidth>b.scrollWidth?b.scrollWidth-b.scrollLeft-b.clientWidth:i,b,e,f,w))}};K=function(){var a;a=(a=N.current)==null?void 0:a.getDOMNode();if(a==null)return;c("setBaseHscrollChildrenAriaHidden")(a)};var ma=m(function(){return{role:H,spacing:L!=null?{gap:w,width:L}:null}},[H,L,w]);s(N,O);O=E?k.jsx(c("BaseHScrollPeek.react"),{maxContentWindowWidth:A,padding:D,width:C}):void 0;D=E?k.jsx(c("BaseHScrollPeek.react"),{maxContentWindowWidth:A,padding:F,width:C}):void 0;F=H==="grid"?c("BaseGridRowScrollableArea.react"):c("BaseHScrollScrollableArea.react");F=k.jsx(F,{addonEnd:k.jsxs(k.Fragment,{children:[ja,D]}),addonStart:k.jsxs(k.Fragment,{children:[O,ia]}),hideScrollbar:!0,horizontal:!0,onScroll:V,onScrollEnd:K,ref:N,style:{scrollPadding:a},vertical:!1,xstyle:[t.scrollView,!ca&&t.scrollViewSnap,u&&t.scrollViewNoScroll,q],children:I.children});return k.jsxs(c("BaseView.react"),{ref:P,testid:void 0,xstyle:j,children:[k.jsx("div",{"aria-hidden":v||!!Q,className:(i||(i=c("stylex")))(t.buttonWrapper,(v||!!Q)&&t.hidden,e),style:p?{right:a!=null&&!G?a:E?C:0,transform:"translate(calc("+(!E&&y?0:50)+"% + "+(E?w/2:0)+"px), -50%)"}:{left:a!=null&&!G?a:E?C:0,transform:"translate(calc(-"+(!E&&y?0:50)+"% - "+(E?w/2:0)+"px), -50%)"},suppressHydrationWarning:!I.isCircular,children:ea&&ea(p?W:M,!!Q)}),k.jsx(c("BaseView.react"),{"aria-label":b,role:b!=null?"region":void 0,xstyle:[t.scrollContainer,g,da],children:k.jsx(c("BaseHScrollContext").Provider,{value:ma,children:H==="grid"?k.jsx(c("BaseGrid.react"),{"aria-label":b,children:k.jsx(c("BaseGridRow.react"),{children:F})}):F})}),k.jsx("div",{"aria-hidden":v||!!S,className:i(t.buttonWrapper,(v||!!S)&&t.hidden,e),style:p?{left:a!=null&&!G?a:E?C:0,transform:"translate(calc(-"+(!E&&y?0:50)+"% - "+(E?w/2:0)+"px), -50%)"}:{right:a!=null&&!G?a:E?C:0,transform:"translate(calc("+(!E&&y?0:50)+"% + "+(E?w/2:0)+"px), -50%)"},suppressHydrationWarning:!I.isCircular,children:B&&B(p?M:W,!!S)})]})}a.displayName=a.name+" [from "+f.id+"]";function b(a,b){}var s=b;if(q){e=function(a,b){var d=(h||(h=c("useUnsafeRef_DEPRECATED")))(null);l(function(){var b,c=d.current;b=(b=a.current)==null?void 0:b.getDOMNode();c!=null&&b!=null&&(b.scrollLeft=c)},[b,a]);b=(b=a.current)==null?void 0:b.getDOMNode();b!=null&&(d.current=b.scrollLeft)};s=e}var t={buttonWrapper:{opacity:"x1hc1fzr",position:"x10l6tqk",top:"xwa60dl",transitionDuration:"x1d8287x",transitionProperty:"x19991ni",transitionTimingFunction:"xwji4o3",zIndex:"x1vjfegm",$$css:!0},containerPaddingDefault:{paddingBottom:"xwib8y2",paddingTop:"x1y1aw1k",$$css:!0},hidden:{opacity:"xg01cxk",pointerEvents:"x47corl",$$css:!0},scrollContainer:{marginBottom:"x1wsgfga",marginTop:"x9otpla",$$css:!0},scrollView:{boxSizing:"x9f619",marginBottom:"xat24cr",paddingBottom:"xwib8y2",paddingTop:"x1y1aw1k",scrollbarWidth:"x1rohswg",$$css:!0},scrollViewNoScroll:{overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},scrollViewSnap:{scrollSnapType:"xhfbhpw",$$css:!0}};g.HScrollContainer=a;g.HScrollChild=c("BaseHScrollChild")}),98);
__d("useBaseHScrollFakeCards",["BaseHScroll.react","BaseHScrollConstants","DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE","UserAgent","react","react-compiler-runtime","setBaseHscrollChildrenAriaHidden","useEventHandler","useResizeObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useState;function a(a){var b=d("react-compiler-runtime").c(23),e=a.children,f=a.fakeCardXStyle,g=a.gap,h=a.isCircular,k=a.minWidth,l=a.onResize,m=a.peek,n=a.peekWidth;a=j(0);var o=a[0],p=a[1];b[0]!==e.length||b[1]!==g||b[2]!==h||b[3]!==k||b[4]!==l||b[5]!==m||b[6]!==n?(a=function(a,b,c){b=a.width;c=Math.min(b,d("BaseHScrollConstants").MAX_CONTAINER_WIDTH);a=m?n*2:0;if(h){b=Math.floor((c-a+g)/(k+g));e.length<b?p(0):p(b)}l()},b[0]=e.length,b[1]=g,b[2]=h,b[3]=k,b[4]=l,b[5]=m,b[6]=n,b[7]=a):a=b[7];a=c("useEventHandler")(a);a=c("useResizeObserver")(a);if(b[8]!==e||b[9]!==f||b[10]!==h||b[11]!==o){var q=o!==0?e.slice(-o):[],r=e.slice(0,o);q=h?q.map(function(a,b){return i.createElement(d("BaseHScroll.react").HScrollChild,babelHelpers["extends"]({},c("DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE")(a).props,{"aria-hidden":!0,key:"head-"+b,xstyle:[c("DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE")(a).props.xstyle,f]}))}):null;r=h?r.map(function(a,b){return i.createElement(d("BaseHScroll.react").HScrollChild,babelHelpers["extends"]({},c("DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE")(a).props,{"aria-hidden":!0,key:"tail-"+b,xstyle:[c("DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE")(a).props.xstyle,f]}))}):null;b[8]=e;b[9]=f;b[10]=h;b[11]=o;b[12]=q;b[13]=r}else q=b[12],r=b[13];o=r;b[14]!==g||b[15]!==m||b[16]!==n?(r=function(a){var b=a.isRTL,e=a.isRTLScrollFromMaxScroll;a=a.scrollRef;var f=(a=a.current)==null?void 0:a.getDOMNode();if(f!=null){var h=c("UserAgent").isBrowser("IE")||c("UserAgent").isBrowser("Edge");a=f.offsetWidth;var i=f.scrollLeft,j=f.scrollWidth,k=b?-(j-a):j-a,l=function(a){var d=function(a){f.scrollTo==null?void 0:f.scrollTo(a,0),"onscrollend"in f&&f.addEventListener("scrollend",function(){c("setBaseHscrollChildrenAriaHidden")(f)},{once:!0})};if(b&&!h)if(e.current){var g=f.scrollWidth-f.getBoundingClientRect().width;d(g-a)}else d(-a);else d(a)},o=m?n*2:0,p=d("BaseHScrollConstants").WIGGLE_ROOM/2;if(i>=0-p&&i<=0+p){j=j-2*a+o-g;l(j)}if(i>=k-p&&i<=k+p){j=a-o+g;l(j)}}},b[14]=g,b[15]=m,b[16]=n,b[17]=r):r=b[17];r=r;var s;b[18]!==q||b[19]!==r||b[20]!==a||b[21]!==o?(s=[q,o,a,r],b[18]=q,b[19]=r,b[20]=a,b[21]=o,b[22]=s):s=b[22];return s}g["default"]=a}),98);
__d("FDSHScroll.react",["fbt","BaseHScroll.react","ChevronLeftFilled24.svg.react","ChevronRightFilled24.svg.react","CometTrackingNodeProvider.react","FDSCircleButton.react","Locale","SVGIcon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));i.useCallback;var k=h._(/*BTDS*/"Next items"),l=h._(/*BTDS*/"Previous items"),m=d("Locale").isRTL(),n=44;function a(a){var b=d("react-compiler-runtime").c(15),e,f,g,h;b[0]!==a?(f=a.nextButtonLabel,g=a.prevButtonLabel,h=a.reduceArrowSize,e=babelHelpers.objectWithoutPropertiesLoose(a,["nextButtonLabel","prevButtonLabel","reduceArrowSize"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h):(e=b[1],f=b[2],g=b[3],h=b[4]);var i=f===void 0?k:f,o=g===void 0?l:g,p=h===void 0?!1:h;b[5]!==o||b[6]!==p?(a=function(a,b){return j.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:419,children:j.jsx(c("FDSCircleButton.react"),{color_DEPRECATED:"secondary",disabled:b,icon:d("SVGIcon").svgIcon(m?c("ChevronRightFilled24.svg.react"):c("ChevronLeftFilled24.svg.react")),label:o,onPress:a,size:p?40:48,testid:void 0,type_DEPRECATED:"overlay-raised"})})},b[5]=o,b[6]=p,b[7]=a):a=b[7];f=a;b[8]!==i||b[9]!==p?(g=function(a,b){return j.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:420,children:j.jsx(c("FDSCircleButton.react"),{color_DEPRECATED:"secondary",disabled:b,icon:d("SVGIcon").svgIcon(m?c("ChevronLeftFilled24.svg.react"):c("ChevronRightFilled24.svg.react")),label:i,onPress:a,size:p?40:48,testid:void 0,type_DEPRECATED:"overlay-raised"})})},b[8]=i,b[9]=p,b[10]=g):g=b[10];h=g;b[11]!==h||b[12]!==f||b[13]!==e?(a=j.jsx(d("BaseHScroll.react").HScrollContainer,babelHelpers["extends"]({},e,{nextButton:h,peekWidth:n,prevButton:f})),b[11]=h,b[12]=f,b[13]=e,b[14]=a):a=b[14];return a}g.Container=a;g.Child=d("BaseHScroll.react").HScrollChild}),226);
__d("range",[],(function(a,b,c,d,e,f){function a(a,b,c){c=c==null||c===0?a<b?1:-1:c;var d=-1;b=Math.max(Math.ceil((b-a)/c),0);var e=Array(b);a=a;while(b--)e[++d]=a,a+=c;return e}f["default"]=a}),66);/*FB_PKG_DELIM*/
__d("LSClientDependencies",[],(function(a,b,c,d,e,f){}),null);
__d("LSDynamicDependencies",["Bootloader","LSDynamicDependenciesEventEmitter","ODS","SiteData","clearTimeout","cr:19620","err","justknobx","nullthrows","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i=babelHelpers.extends({},b("cr:19620"));function a(a){Object.assign(i,a)}var j={_tombstone:!0};function e(a){var b=new Map();for(a of a){var e=a.name;e!=null&&!m(e)&&b.set(e,c("nullthrows")(a.value))}if(b.size===0)return Promise.resolve();var f=new Promise(function(a){var e={},g=[],j=function(b){var a=b[0];b=b[1];b=b==null?void 0:b.__dr;e[b]={be:1,r:[]};g.push(b);(h||(h=d("ODS"))).bumpEntityKey(3185,"ls_download_dependency.relay",b);i[a]={load:async function(){await f;return i[a]}}};for(var l of b)j(l);c("Bootloader").handlePayload({compMap:e,consistency:{rev:c("SiteData").client_revision}});k(c("Bootloader"),g,function(c){Array.from(b.entries()).forEach(function(a,b){var d=a[0];a[1];i[d]=c[b]}),a()})});return f}function k(a,b,c){return a.loadModules.call(a,b,function(){for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d];return c(b)})}function l(a){return a.charAt(0).toUpperCase()+a.slice(1)}function m(a){return a in i&&i[a]!==j}var n=c("justknobx")._("2800");function f(a,b,e){var f=new Map();for(a of(a=a)!=null?a:[]){m(a)||f.set(a,"LS"+l(a))}for(b of(a=b)!=null?a:[]){!m(b+".bs")?f.set(b+".bs","LS"+l(b)+".nop"):b+".nop"in i||f.set(b+".nop","LS"+l(b)+".nop")}for(b of(a=e)!=null?a:[]){b in i||f.set(b,"LS"+l(b))}if(f.size===0)return Promise.resolve();var g=new Promise(function(a,b){var e={},l=[],m=function(a){var b=a[0];a=a[1];(h||(h=d("ODS"))).bumpEntityKey(3185,"ls_download_dependency.bootloader",a);d("LSDynamicDependenciesEventEmitter").emitLoadModuleEvent(a);e[a]={be:1,r:[]};l.push(a);i[b]={load:async function(){try{await g}catch(a){i[b]=j;throw a}return i[b]}}};for(var o of f)m(o);c("Bootloader").handlePayload({compMap:e,consistency:{rev:c("SiteData").client_revision}});var p=k(c("Bootloader"),l,function(b){c("clearTimeout")(q),Array.from(f.entries()).forEach(function(a,c){var d=a[0];a[1];i[d]=b[c]}),a()}),q=c("setTimeout")(function(){p.remove(),b(c("err")("Dynamic sproc loading timeout (%s ms); was loading: %s",n,Array.from(f.keys())))},n)});return g}g.cachedModules=i;g.addToCachedModules=a;g.TOMBSTONE=j;g.downloadRelayDependencies=e;g.downloadBootloaderDependencies=f}),98);
__d("XPlatReactCrypto",["err"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h=self.crypto)==null?void 0:h.subtle;function a(a){var b;if(typeof ((b=self.crypto)==null?void 0:b.getRandomValues)!=="function")throw c("err")("crypto.getRandomValues: Not implemented");self.crypto.getRandomValues(a);return a}function b(){var a;if(typeof ((a=self.crypto)==null?void 0:a.randomUUID)!=="function")return null;a=self.crypto.randomUUID();return typeof a==="string"?a:null}function d(a,b,d,e,f){if(i==null)throw c("err")("crypto.subtle.importKey: Not implemented");return i.importKey(a,b,d,e,f)}function e(a,b){if(i==null)throw c("err")("crypto.subtle.exportKey: Not implemented");return i.exportKey(a,b)}function f(a,b,d){if(i==null)throw c("err")("crypto.subtle.generateKey: Not implemented");return i.generateKey(a,b,d)}function j(a,b,d){if(i==null)throw c("err")("crypto.subtle.encrypt: Not implemented");return i.encrypt(a,b,d)}function k(a,b,d){if(i==null)throw c("err")("crypto.subtle.decrypt: Not implemented");return i.decrypt(a,b,d)}function l(a,b,d){if(i==null)throw c("err")("crypto.subtle.sign: Not implemented");return i.sign(a,b,d)}function m(a,b){if(i==null)throw c("err")("crypto.subtle.digest: Not implemented");return i.digest(a,b)}function n(a,b,d){if(i==null)throw c("err")("crypto.subtle.deriveBits: Not implemented");return i.deriveBits(a,b,d)}function o(a,b,d,e,f){if(i==null)throw c("err")("crypto.subtle.deriveKey: Not implemented");return i.deriveKey(a,b,d,e,f)}g.getRandomValues=a;g.randomUUID=b;g.subtleImportKey=d;g.subtleExportKey=e;g.subtleGenerateKey=f;g.subtleEncrypt=j;g.subtleDecrypt=k;g.subtleSign=l;g.subtleDigest=m;g.subtleDeriveBits=n;g.subtleDeriveKey=o}),98);
__d("LSInt64Lite",["FBLogger","I64","XPlatReactCrypto"],(function(a,b,c,d,e,f,g){"use strict";var h;a={add:(h||(h=d("I64"))).add,and_:h.and_,asr_:h.asr_,cast:function(a){a._tag="i64";return a},div:h.div,eq:function(a,b){return a==null&&b==null||a!=null&&b!=null&&(h||(h=d("I64"))).equal(a,b)},from_string:function(a){try{return(h||(h=d("I64"))).of_string(a)}catch(b){throw c("FBLogger")("messenger_web").mustfixThrow('Unable to cast "%s" to int64',a)}},ge:h.ge,gt:h.gt,le:h.le,lsl_:h.lsl_,lsr_:h.lsr_,lt:h.lt,max:h.max,min:h.min,mod_:h.mod_,mul:h.mul,neq:function(a,b){return a==null&&b!=null||a!=null&&b==null||a!=null&&b!=null&&!(h||(h=d("I64"))).equal(a,b)},of_float:h.of_float,of_int32:h.of_int32,or_:h.or_,random:function(){var a=Array.from(d("XPlatReactCrypto").getRandomValues(new Uint32Array(2)));a[0]>>>=1;return(h||(h=d("I64"))).add(h.lsl_(h.of_float(a[0]),32),h.of_float(a[1]))},sub:h.sub,to_float:h.to_float,to_int32:h.to_int32,to_string:function(a){return a==null?a:(h||(h=d("I64"))).to_string(a)},xor:h.xor};g["default"]=a}),98);
__d("LSMaybeSyncIteration",["LSSynchronousPromise","isPromise"],(function(a,b,c,d,e,f,g){"use strict";var h,i={__val__:"__stop_iteration__"};function a(a){return{__val__:"__next_value__",next:a}}function j(a){return a!=null&&typeof a==="object"&&a.__val__==="__next_value__"}function k(a,b,e){var f=l(a,e);while(!(h||(h=c("isPromise")))(f)){if(f.done)return d("LSSynchronousPromise").makeSynchronousPromise(f);e=d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(b(f));if(!(h||(h=c("isPromise")))(e)){if(e===i)return d("LSSynchronousPromise").makeSynchronousPromise(f);var g=j(e)?e.next:void 0;f=l(a,g)}else return e.then(function(c){if(c===i)return f;c=j(c)?c.next:void 0;return k(a,b,c)})}var n=m(b);return f.then(function(c){return c.done?c:n(c).then(function(d){if(d===i)return c;d=j(d)?d.next:void 0;return k(a,b,d)})})}function l(a,b){a=a.next(b);return!(h||(h=c("isPromise")))(a)?a:d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a)}function m(a){return function(b){b=a(b);return d("LSSynchronousPromise").wrapInSyncPromiseIfNotPromise(b)}}g.STOP_ITERATION=i;g.wrapNextValue=a;g.iteratorLoop=k}),98);
__d("LSIterationOperations",["I64","LSDict","LSMaybeSyncIteration","LSSynchronousPromise","ReStoreKeyComparer"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b){var c;return c={},c[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return j(a,b)},c.next=function(){var c={done:!0},e=function(a){return d("LSSynchronousPromise").wrapInMaybeSyncPromiseIfNotPromise(b(a.value.item)).then(function(b){if(b){c=a;return d("LSMaybeSyncIteration").STOP_ITERATION}})};return d("LSMaybeSyncIteration").iteratorLoop(a,e).then(function(){return c})},c}function k(a,b,c){var e,f=0;return e={},e[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return k(a,b,c)},e.next=function(){if(f>=c)return d("LSSynchronousPromise").maybeMakeSynchronousPromise({done:!0});var e={done:!0},g=function(a){if(f++<b)return;e=a;return d("LSMaybeSyncIteration").STOP_ITERATION};return d("LSMaybeSyncIteration").iteratorLoop(a,g).then(function(){return e})},e}function a(a,b){return l(a).then(function(a){return a.reduce(function(a,c){return a.then(function(){return b(c)})},d("LSSynchronousPromise").maybeMakeSynchronousPromise(void 0))})}function l(a){var b=[],c=function(a){b.push(a.value)};return d("LSMaybeSyncIteration").iteratorLoop(a,c).then(function(){return b})}function m(a,b,c){var e;c===void 0&&(c=[]);var f={ASC:1,DESC:-1},g=function(a,c){a=a.item;c=c.item;for(var e=0;e<b.length;e++){var g=b[e];g=g[0];var i=a[g];g=c[g];var j;i==null&&g==null?j=0:i==null&&g!=null?j=-1:i!=null&&g==null?j=1:j=(h||(h=d("ReStoreKeyComparer"))).compareValue(i,g);if(j===0)continue;return j*f[b[e][1]]}return 0},i,j=[],k=[],l=function(a){var b=[];for(var d=c.length-1;d>=0;d--)b.push(a[c[d]]);return b},n=function(){k=j,k.sort(g),j=[]};return e={},e[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return m(a,b,c)},e.next=function(){if(k.length)return d("LSSynchronousPromise").maybeMakeSynchronousPromise({done:!1,value:k.shift()});var b=function(a){var b=l(a.value.item);if(i!=null&&(h||(h=d("ReStoreKeyComparer"))).compareKey(i,b)!==0){n();j.push(a.value);i=b;return d("LSMaybeSyncIteration").STOP_ITERATION}i=b;j.push(a.value)};return d("LSMaybeSyncIteration").iteratorLoop(a,b).then(function(){!k.length&&j.length&&n();if(k.length)return{done:!1,value:k.shift()};else return{done:!0}})},e}function b(a){var b=0,c=function(){b++};return d("LSMaybeSyncIteration").iteratorLoop(a,c).then(function(){return(i||(i=d("I64"))).of_int32(b)})}function e(a,b){return{forEach:function(e){return l(a).then(function(a){a=a.reduce(function(a,c){c=c.item[b];var d=(a.get(c)||0)+1;return a.set(c,d)},new(c("LSDict"))());var f=d("LSSynchronousPromise").maybeMakeSynchronousPromise(void 0),g=function(a){var c=a[0],g=a[1];f=f.then(function(){var a;return e((a={},a[b]=c,a.group_count=(i||(i=d("I64"))).of_int32(g),a))})};for(a of a.entries())g(a);return f})}}}g.filter=j;g.slice=k;g.forEach=a;g.toArray=l;g.sortBy=m;g.count=b;g.groupBy=e}),98);
__d("LSPendingTasksPluginType",[],(function(a,b,c,d,e,f){a=Object.freeze({LS_BROKER:0,PAYMENTS:1,EPHEMERAL_MESSAGING:2,CARRIER_MESSAGING:3,BUG_REPORTER:4,MESSAGE_DENORMALIZATIONS:5,SEEN_HEADS:6,MEDIA_UPLOAD:7,SECURE_THREAD_SEEN_HEADS:8,WHATSAPP_THREAD:9,SECURE_THREAD_OVER_WA_MESSAGE_SEND:10,CONTACT_PRUNING:11,MEDIA_MANAGER:12,SECURE_THREAD_OVER_WA_ENCRYPTION:13,STORY_POST:14,CO_PRESENCE_HEARTBEAT:16,SECURE_THREAD_OVER_WA_GROUP_MANAGEMENT:17,ENCRYPTED_BACKUPS:23,ANONYMOUS_REQUEST:25,MESSAGE_ACTIONS:28,MESSAGE_UNSEND_ATTACHMENT_CLEANUP:39,IGD_INSTAMADILLO:40,PENDING_MESSAGE_SEND:46});f["default"]=a}),66);
__d("isNativeTask",["I64","LSPendingTasksPluginType"],(function(a,b,c,d,e,f,g){"use strict";var h,i="4",j="16",k=new Set([c("LSPendingTasksPluginType").IGD_INSTAMADILLO]);function a(a){var b=k.has((h||(h=d("I64"))).to_float(a.pluginType));a=a.context===j||a.context===i;return b||a}g["default"]=a}),98);
__d("LSIterationHelpers",["FBLogger","LSMaybeSyncIteration","LSSynchronousPromise","ReStoreKeyComparer","ReStoreVaulting","gkx","isNativeTask"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Set(["messages","attachments","reactions"]);function j(a){return i.has(a)}function k(a,b,d){return a&&b.name==="pending_tasks"&&d!=null&&c("isNativeTask")(d)}function l(a){for(var b of Object.keys(a))a[b]===void 0&&delete a[b];return a}function m(a,b,c){c===void 0&&(c="asc");var e=a.entries(new WeakMap(),c);function f(){var a;return a={},a[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=f,a.next=function(){var a={done:!0},f=0,g="start",i=[],j=function(e){var j=function(){var a=f,j=b[a]||{},k=j.end;j=j.start;var l=e.value[0];if(j&&g==="start"){var m=(h||(h=d("ReStoreKeyComparer"))).compareValue(l[a],j[0]),n=m*(c==="asc"?1:-1)<j[1];if(n){g="start_verify";i=l.slice(0,a);if(a===l.length-1&&m===0)return{v:void 0};else{n=[].concat(i,[j[0]],j[1]&&c==="asc"||!j[1]&&c==="desc"?[(h||(h=d("ReStoreKeyComparer"))).MAX_KEY]:[]);return{v:d("LSMaybeSyncIteration").wrapNextValue(n)}}}else g="check_end"}if(j&&g==="start_verify"&&!i.every(function(a,b){return(h||(h=d("ReStoreKeyComparer"))).compareValue(a,l[b])===0})){f=0;g="start";return{v:void 0}}if(k&&(h||(h=d("ReStoreKeyComparer"))).compareValue(k[0],l[a])*(c==="asc"?1:-1)<k[1]){f=0;g="start";return{v:d("LSMaybeSyncIteration").wrapNextValue([].concat(l.slice(0,a),c==="asc"?[(h||(h=d("ReStoreKeyComparer"))).MAX_KEY]:[]))}}f++;g="start"};while(f<b.length){var k=j();if(typeof k==="object")return k.v}a=e;return d("LSMaybeSyncIteration").STOP_ITERATION};return d("LSMaybeSyncIteration").iteratorLoop(e,j).then(function(){return a})},a}return f()}function n(a,b,c){c===void 0&&(c="asc");var e=a.entries(new WeakMap(),c);function f(){var a;return a={},a[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=f,a.next=async function(){var a=await e.next();outer:while(!a.done){var f=async function(f){var g=b[f]||{},i=g.end;g=g.start;var j=a.value[0],k=j.slice(0,f);if(g){var l=(h||(h=d("ReStoreKeyComparer"))).compareValue(j[f],g[0]);if(l*(c==="asc"?1:-1)<g[1]){if(f===j.length-1&&l===0)a=await e.next();else{l=[].concat(k,[g[0]],g[1]&&c==="asc"||!g[1]&&c==="desc"?[(h||(h=d("ReStoreKeyComparer"))).MAX_KEY]:[]);a=await e.next(l)}if(a.done)return{v:{done:!0}};j=a.value[0];if(!k.every(function(b,a){return(h||(h=d("ReStoreKeyComparer"))).compareValue(b,j[a])===0}))return"continue|outer"}}if(i&&(h||(h=d("ReStoreKeyComparer"))).compareValue(i[0],j[f])*(c==="asc"?1:-1)<i[1]){a=await e.next([].concat(j.slice(0,f),c==="asc"?[(h||(h=d("ReStoreKeyComparer"))).MAX_KEY]:[]));return"continue|outer"}};for(var g=0;g<b.length;g++){var i=await f(g);switch(i){case"continue|outer":continue outer;default:if(typeof i==="object")return i.v}}break}return a},a}return f()}function o(a,b,d,e,f){return{delete:function(){return d.delete.apply(d,a)},item:b,update:function(g){var h=f&&j(e.name)?{transportKey:"FBBroker"}:{};g=babelHelpers.extends({},b,g,h);if(k(f,e,g))throw c("FBLogger")("messenger_web").mustfixThrow("cannot insert native task in dynamic mode");return d.upsert(a,l(g))}}}function p(a,b){var c;return c={},c[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return p(a,b)},c.next=function(){var c={done:!0},e=function(a){c=a;return d("LSMaybeSyncIteration").STOP_ITERATION};return d("LSMaybeSyncIteration").iteratorLoop(a,e).then(function(){if(c.done)return d("LSMaybeSyncIteration").iteratorLoop(b,e)}).then(function(){return c})},c}function q(a,b,c){var e,f=[{done:!0},{done:!0}],g=function(a){var b=f[a];f[a]={done:!0};return b};return e={},e[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return q(a,b,c)},e.next=function(){var e=function(a){return function(b){a==="a"?f[0]=b:f[1]=b;return d("LSMaybeSyncIteration").STOP_ITERATION}},i=d("LSSynchronousPromise").maybeMakeSynchronousPromise();f[0].done&&(i=i.then(function(){return d("LSMaybeSyncIteration").iteratorLoop(a,e("a"))}));f[1].done&&(i=i.then(function(){return d("LSMaybeSyncIteration").iteratorLoop(b,e("b"))}));return i.then(function(){if(f[0].done&&f[1].done)return{done:!0};if(f[0].done)return g(1);if(f[1].done)return g(0);var a=(h||(h=d("ReStoreKeyComparer"))).compareKey(f[0].value[0],f[1].value[0]);if(a===0)return g(0);return a*(c==="asc"?1:-1)<0?g(0):g(1)})},e}var r=(b={},b[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return r},b.next=function(){return d("LSSynchronousPromise").maybeMakeSynchronousPromise({done:!0})},b);function a(a,b,e,f,g,h,i,l){var s=new Set(),t=a.length>1,u=a.length===1&&a[0][1]==null,v=a.map(function(a){var i=a[0],j=a[1];return i.map(function(a){f.key_lookup===!0&&a.length!==0;f.table_scan===!0&&a.length===0;var i=a.map(function(a){return h(a,b)});a=i.length===(j==null?e.primaryKeyIds:e.indexes[j]).length&&i.every(function(a){var b=a.end;a=a.start;return a&&b&&a[0]===b[0]&&a[1]===0&&b[1]===0});if(a){a=function a(){var b,c=!1;return b={},b[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=a,b.next=function(){var a;if(c)return d("LSSynchronousPromise").maybeMakeSynchronousPromise({done:!0});c=!0;var b=i.map(function(a){a=a.start;return a[0]});return(a=j==null?g:g.index(j)).get.apply(a,b).then(function(a){if(!a)return{done:!0};a=d("ReStoreVaulting").maybeUnvaultDbRow(a,e.name);return{done:!1,value:[b,a]}})},b};return a()}a=c("gkx")("2839")?m:n;return a(j==null?g:g.index(j),i,b)})}).flat().reduce(function(c,d,e){e=e===0&&c==null?r:c;return a.length>1?p(e,d):q(e,d,b)});function w(){var a;return a={},a[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=w,a.next=function(){var a=!0,b,f,h,m,n=function(c){a=!1;var g=c.value;f=g[0];h=g[1];b=u?f:e.primaryKeyIds.map(function(a){return h[a]});if(k(i,e,h)){m=c;a=!0;return}if(j(e.name)&&i&&h!=null&&h.transportKey!=="FBBroker"){m=c;a=!0;return}if(t){g=JSON.stringify(b);if(s.has(g)){a=!0;return}s.add(g)}return d("LSMaybeSyncIteration").STOP_ITERATION};return d("LSMaybeSyncIteration").iteratorLoop(v,n).then(function(){if(m!=null){var d=m.value[1].transportKey;c("FBLogger")("messenger_web").warn('Expected transportKey to equal ("FBBroker") in %s, provided transportKey: %s',l,d)}return a||b==null||h==null?{done:!0}:{done:!1,value:o(b,h,g,e,i)}})},a}return w()}g.isTranportKeyEnforcedTable=j;g.isNativePendingTaskViolation=k;g.stripUndefinedProperties=l;g.unionIterators=p;g.mergeIterators=q;g.fetch=a}),98);
__d("LSRuntimeDb",["FBLogger","LSIterationHelpers"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.name.match(/secure_|inbox(?!_)/i)}function a(a,b,d,e,f,g){return{metadata:d,table:function(j){j=d.tableNames[d.tableIds[j]];if(b===0&&h(j))throw c("FBLogger")("messenger_web").mustfixThrow("cannot access secure table from dynamic mode");return i(a,j,e,f,g)},transactionId:a.__internal__transaction_id}}function i(a,b,e,f,g){var h=a.transactionTable(b.name,f[f.length-1]);return{add:async function(a){d("LSIterationHelpers").isTranportKeyEnforcedTable(b.name)&&g&&(a.transportKey="FBBroker"),await h.add(a)},fetch:function(){for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return d("LSIterationHelpers").fetch(c.length===0?[[[[]],void 0]]:c,"asc",b,e,h,j,g,f.join(", "))},fetchDesc:function(){for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return d("LSIterationHelpers").fetch(c.length===0?[[[[]],void 0]]:c,"desc",b,e,h,j,g,f.join(", "))},peekNextAutoIncrementId:function(){return h.peekNextAutoIncrementId()},put:async function(a){d("LSIterationHelpers").isTranportKeyEnforcedTable(b.name)&&g&&(a.transportKey="FBBroker");if(d("LSIterationHelpers").isNativePendingTaskViolation(g,b,a))throw c("FBLogger")("messenger_web").mustfixThrow("cannot put native task via LS transport");var e=b.primaryKeyIds.map(function(b){if(a[b]!==void 0)return a[b];throw c("FBLogger")("messenger_web").mustfixThrow("primary key must be defined on object")});await h.delete.apply(h,e);await h.add(d("LSIterationHelpers").stripUndefinedProperties(babelHelpers.extends({},a)))}}}function j(a,b){if(typeof a==="object"&&!Array.isArray(a)){var d,e;if(b==="asc"){Object.prototype.hasOwnProperty.call(a,"gt")&&(d=[a.gt,1]);if(Object.prototype.hasOwnProperty.call(a,"gte")){if(d!=null)throw c("FBLogger")("messenger_web").mustfixThrow("Cannot specify both gt and gte");d=[a.gte,0]}Object.prototype.hasOwnProperty.call(a,"lt")&&(e=[a.lt,1]);if(Object.prototype.hasOwnProperty.call(a,"lte")){if(e!=null)throw c("FBLogger")("messenger_web").mustfixThrow("Cannot specify both lt and lte");e=[a.lte,0]}}else{Object.prototype.hasOwnProperty.call(a,"lt")&&(d=[a.lt,1]);if(Object.prototype.hasOwnProperty.call(a,"lte")){if(d!=null)throw c("FBLogger")("messenger_web").mustfixThrow("Cannot specify both lt and lte");d=[a.lte,0]}Object.prototype.hasOwnProperty.call(a,"gt")&&(e=[a.gt,1]);if(Object.prototype.hasOwnProperty.call(a,"gte")){if(e!=null)throw c("FBLogger")("messenger_web").mustfixThrow("Cannot specify both gt and gte");e=[a.gte,0]}}return{end:e,start:d}}return{end:[a,0],start:[a,0]}}g.LSRuntimeDb=a;g.parseConstraint=j}),98);
__d("XPlatReactTextDecoder",[],(function(a,b,c,d,e,f){"use strict";a=self.TextDecoder;f.TextDecoder=a}),66);
__d("LS",["ExecutionEnvironment","FBLogger","I64","LSDict","LSDynamicDependencies","LSInt64Lite","LSIterationOperations","LSJson","LSRuntimeDb","LSSynchronousPromise","LSVec","MessengerLogHistory","MetaConfig","ODS","ReStoreKeyComparer","XPlatReactTextDecoder","XPlatReactTextEncoder","base64Binary","cr:1088","cr:4790","emptyFunction","err","gkx","isPromise","justknobx","qpl","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l;function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);q=function(){return a};return a}var r="LS_WEB",s=d("MessengerLogHistory").getInstance("ls");function t(a){return d("base64Binary").decode(a).buffer}var u={compareTo:function(a,b){a=new Uint8Array(a);b=new Uint8Array(b);var c=Math.min(a.length,b.length);for(var d=0;d<c;d++){var e=a[d]-b[d];if(e!==0)return e}return a.length===b.length?0:a.length-b.length},eq:function(a,b){if(a==null&&b==null)return!0;if(a==null||b==null)return!1;a=new Uint8Array(a);b=new Uint8Array(b);if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0},ge:function(a,b){return u.compareTo(a,b)>=0},gt:function(a,b){return u.compareTo(a,b)>0},le:function(a,b){return u.compareTo(a,b)<=0},lt:function(a,b){return u.compareTo(a,b)<0},neq:function(a,b){return!u.eq(a,b)},of_string:function(a){if(a==null)return void 0;var b=new(d("XPlatReactTextEncoder").TextEncoder)();return b.encode(a).buffer},to_string:function(a){if(a==null)return void 0;var b=new(d("XPlatReactTextDecoder").TextDecoder)();return b.decode(a)}};function v(a){if(a.length!==1)throw c("FBLogger")("messenger_web").mustfixThrow("only literal strings supported");a=a[0];var b=parseInt(a.substr(-8),16);a=parseInt(a.substr(0,a.length-8),16);return(l||(l=d("I64"))).mk((b>>>1)+(a&1)*2147483648^-(b&1),a>>>1^-(b&1))}function w(a){var b="unknown_sproc";a=a.displayName;var c=/\[from (.*)\]/;c=c.exec(a);c!=null&&(b=c[1]);return b}var x=function(){var a=0;function d(d){var e=d.args,f=d.shouldLog;d=d.sprocName;b("cr:1088")==null?void 0:b("cr:1088").logStoredProcedureCall(d,e);if(!f||!b("cr:4790"))return;e=++a;b("cr:4790").markerStart(c("qpl")._(25302991,"143"),e);b("cr:4790").markerAnnotate(c("qpl")._(25302991,"143"),{string:{name:d}},{instanceKey:e});return e}function e(a,d,e){a=a.shouldLog;if(!a||d==null)return;b("cr:4790")==null?void 0:b("cr:4790").markerEnd(c("qpl")._(25302991,"143"),e,d)}function f(a){return c("gkx")("26381")?Math.random()*c("MetaConfig")._("10")<1:!1}return{call:d,logSprocDone:e,shouldLogSproc:f}}(),y="Native operation timeout; transaction blocked",z=30*1e3;function A(a,b,e,f,g,l,B){g===void 0&&(g={});l===void 0&&(l=void 0);var C=[],D=d("LSRuntimeDb").LSRuntimeDb(f,a,b,g,C,B),E=function(b,g){for(var h=arguments.length,i=new Array(h>2?h-2:0),j=2;j<h;j++)i[j-2]=arguments[j];var k;if(typeof g==="string"){k=e[g.toString()];if(k==null)throw c("FBLogger")("messenger_web").mustfixThrow("Attempted to call unimplemented native type op with type: %s and id: %s",b,g);if(k===d("LSDynamicDependencies").TOMBSTONE)throw c("err")("Concurrent native type op loading failed for: %s (retryable)",g);k.load&&(k=k.load())}else k=g;return d("LSSynchronousPromise").wrapInSyncPromiseIfNotPromise(k).then(function(b){return b.call.apply(b,[f,a].concat(i))})},F=function(b){for(var g=arguments.length,i=new Array(g>1?g-1:0),j=1;j<g;j++)i[j-1]=arguments[j];var l;if(typeof b==="string"){l=e[b+".bs"]||e[b+".nop"];if(l==null)throw c("FBLogger")("messenger_web").mustfixThrow("Attempted to call unimplemented native op with id: %s",b);if(l===d("LSDynamicDependencies").TOMBSTONE)throw c("err")("Concurrent native type op loading failed for: %s (retryable)",b);l.load&&(l=l.load())}else l=b;var m;return d("LSSynchronousPromise").wrapInSyncPromiseIfNotPromise(l).then(function(b){var e;m=(e=(e=b.__nop_name__)!=null?e:b==null?void 0:b.toString())!=null?e:"<unknown nop name>";e=d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(b.apply(void 0,[f,a].concat(i)));return!(h||(h=c("isPromise")))(e)?e:c("justknobx")._("3895")&&(k||(k=c("ExecutionEnvironment"))).isInBrowser?Promise.race([e,new Promise(function(a,b){return c("setTimeout")(function(){return b(c("err")(y))},z)})]):e}).then(function(a){return a},function(a){c("FBLogger")("messenger_web").catching(a).addMetadata(r,"NATIVE_OP_ID",m).mustfixThrow("Native operation %s failed: was_timeout: %s, is_in_worker: %s",m,(a==null?void 0:a.message)===y,(k||(k=c("ExecutionEnvironment"))).isInWorker)})},G=function(a){return a.slice(1).reduce(function(b,d){if(typeof d!=="function"){c("FBLogger")("messenger_web").mustfix("Non-function passed (%s, type %s) in sequence (%s)",d,typeof d,JSON.stringify(a.map(function(a){return typeof a})));return b}return b.then(d)},a[0]())},H=function(a,b){return a.slice(b)};return{Map:c("LSDict"),blob:t,blobs:u,constructor:{n:v},count:d("LSIterationOperations").count,createArray:function(){return c("LSVec").ofArray([])},createArrayWithElements:function(){for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d];return c("LSVec").ofArray(b)},db:D,filter:d("LSIterationOperations").filter,forEach:d("LSIterationOperations").forEach,groupBy:d("LSIterationOperations").groupBy,i64:c("LSInt64Lite"),islc:d("LSIterationOperations").slice,like:function(a,b){b=b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/%/g,".*").replace(/_/g,".");return RegExp(b).test(a)},logger:function(a){if(l)return{debug:l,info:l,mustfix:l,warn:l};var b=c("FBLogger")("messenger_web"),e=a.startsWith("epoch mismatch"),f=a.startsWith("cursor mismatch");if(e||f){a=function(a){s.error(a,"error");a=function(){if(e)return"epoch_mismatch";else if(f)return"cursor_mismatch";else return"fixme_could_not_produce_key"}();(i||(i=d("ODS"))).bumpEntityKey(3185,"lsplatform",a)};return{debug:function(a){return s.debug(a)},info:function(a){return s.debug(a)},mustfix:a,warn:a}}else{c("gkx")("26382")||(b.info=c("emptyFunction"));return b}},loopAsync:function(a,b){function e(f){if(c("LSInt64Lite").lt(f,a)){var g=f;f=d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(b(g));while(!(h||(h=c("isPromise")))(f)){g=c("LSInt64Lite").add(g,v(q()));if(!c("LSInt64Lite").lt(g,a))return d("LSSynchronousPromise").makeSynchronousPromise(void 0);f=d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(b(g))}return f.then(function(){return e(c("LSInt64Lite").add(g,v(p())))})}return d("LSSynchronousPromise").maybeMakeSynchronousPromise(void 0,self.Promise)}return e(v(o()))},loopSync:function(a,b){for(var d=v(n());c("LSInt64Lite").lt(d,a);d=c("LSInt64Lite").add(d,v(m())))b(d)},merge:function(){function a(a,b){return(j||(j=d("ReStoreKeyComparer"))).compareValue(a,b)>0?a:b}function b(a,b){return(j||(j=d("ReStoreKeyComparer"))).compareValue([a[0],-a[1]],[b[0],-b[1]])<0?a:b}for(var c=arguments.length,e=new Array(c),f=0;f<c;f++)e[f]=arguments[f];var g=e.reduce(function(c,e){e=d("LSRuntimeDb").parseConstraint(e,"asc");return{end:c.end&&e.end?b(e.end,c.end):e.end||c.end,start:c.start&&e.start?a(e.start,c.start):e.start||c.start}},{});return babelHelpers.extends({},g.start?g.start[1]?{gt:g.start[0]}:{gte:g.start[0]}:null,g.end?g.end[1]?{lt:g.end[0]}:{lte:g.end[0]}:null)},n:v,nativeOperation:F,nativeTypeOperation:E,notnull:function(a){if(a===null)throw c("FBLogger")("messenger_web").mustfixThrow("value should not be null");return a},print:function(a){},resolve:function(a){return d("LSSynchronousPromise").wrapInMaybeSyncPromiseIfNotPromise(a,self.Promise)},resolveGuaranteeAsync:function(a){var b;return((b=self.Promise)!=null?b:Promise).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))},rm:c("LSInt64Lite").of_int32(a),sequence:G,slice:H,sortBy:d("LSIterationOperations").sortBy,storedProcedure:function(h){for(var i=arguments.length,j=new Array(i>1?i-1:0),k=1;k<i;k++)j[k-1]=arguments[k];var m;if(typeof h==="string"){m=e[h];if(m==null)throw c("FBLogger")("messenger_web").mustfixThrow("Attempted to call unimplemented stored procedure with id: %s",h);if(m===d("LSDynamicDependencies").TOMBSTONE)throw c("err")("Concurrent sproc loading failed for: %s (retryable)",h);m.load&&(m=m.load())}else m=h;var n=this;switch(a){case 0:n=A(2,b,e,f,g,l,B);break;case 2:n=A(1,b,e,f,g,l,B);break}var o,p,q;return d("LSSynchronousPromise").wrapInSyncPromiseIfNotPromise(m).then(function(a){p=w(a);q=x.shouldLogSproc(p);C.push(p);o=x.call({args:j,shouldLog:q,sprocName:p});f.reportUsedTablesForSyncAccess(a.__tables__);return a.apply(void 0,j.concat([n]))}).then(function(a){C.pop();x.logSprocDone({args:j,shouldLog:q,sprocName:p},o,2);return a},function(a){C.pop();x.logSprocDone({args:j,shouldLog:q,sprocName:p},o,3);c("FBLogger")("messenger_web").catching(a).addMetadata(r,"SPROC_STACK",C.join("\n")).warn("Sproc %s failed",h);throw a})},throw:function(a){throw c("FBLogger")("messenger_web").mustfixThrow(a)},toArray:d("LSIterationOperations").toArray,toJSON:function(a){return d("LSJson").stringify(a)}}}A.n=v;g.default=A}),98);
__d("LSContactBlockedByViewerStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({UNBLOCKED:0,MESSAGE_BLOCKED:1,FULLY_BLOCKED:2});f["default"]=a}),66);
__d("LSContactGender",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,FEMALE:1,MALE:2,NEUTER:3});f["default"]=a}),66);
__d("LSContactIdType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,FBID:1,SMS_LOCAL_ID:2});f["default"]=a}),66);
__d("LSContactType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,USER:1,PAGE:2,PAGE_PERSONA:3});f["default"]=a}),66);
__d("LSContactViewerRelationship",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,NOT_CONTACT:1,CONTACT_OF_VIEWER:2,FACEBOOK_FRIEND:3,SOFT_CONTACT:4});f["default"]=a}),66);
__d("LSContactWorkForeignEntityType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,FOREIGN:1,NOT_FOREIGN:2,NOT_FOREIGN_LIMITED:3});f["default"]=a}),66);
__d("LSFactory",["ExecutionEnvironment","LS","LSDynamicDependencies","LSMetadata","cr:8709"],(function(a,b,c,d,e,f,g){"use strict";var h,i={dynamic:!1};function a(a,e){e===void 0&&(e=i);a=c("LS")(1,d("LSMetadata").schema,d("LSDynamicDependencies").cachedModules,a,void 0,void 0,e.dynamic);return b("cr:8709")!=null&&(h||(h=c("ExecutionEnvironment"))).isInBrowser?b("cr:8709").wrapSprocInvocationWithProfiler(a):a}g["default"]=a}),98);
__d("LSMailboxType",[],(function(a,b,c,d,e,f){a=Object.freeze({MESSENGER:0,COMMUNITIES:1,TINCAN:1024,TAM:4096});f["default"]=a}),66);
__d("LSPlatformWaitForTaskCompletion",["I64","emptyFunction","err","justknobx","promiseDone","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i=["acs_sync"];async function a(a,b,e,g){var j=new Set(),k=[],l=0,m=!0,n,o,p=new Promise(function(a,b){n=a,o=b}),q=c("uuidv4")(),r=!0,s=await a.runInTransaction(async function(p){await p.mailbox_task_completion_notification_context.add({notificationName:e,notificationScopeKey:q});var t=a.tables.pending_tasks.subscribe(function(a,b){a=(h||(h=d("I64"))).to_string(a[0]);if(b.operation==="add"||b.operation==="put"){var e=b.value;if(c("justknobx")._("2903")&&i.some(function(a){return e.queueName.startsWith(a)}))return;if(g!=null&&e.queueName!==g)return;j.add(a)}else j.delete(a)}),u=c("emptyFunction"),v=a.tables.mailbox_task_completion_api_tasks.subscribe(function(a,b){if(b.operation==="add"||b.operation==="put"&&b.value.notificationScopeKey===q){a=(h||(h=d("I64"))).to_string(b.value.taskId);j.delete(a);b=b.value.success;b==null?r&&(k.push(a),l+=1):(m=b&&m,l-=1)}});u=a.subscribeToCommit(function(){l===0&&j.size===0&&(v(),t(),u(),c("promiseDone")(a.runInTransaction(async function(a){for(var b of k)await a.mailbox_task_completion_api_tasks.delete((h||(h=d("I64"))).of_string(b))},"readwrite","background",void 0,f.id+":150")),m?n(s):o(c("err")("Not all tasks for "+e+" succeeded")))});try{var w=await b(p);await p.mailbox_task_completion_notification_context.delete(q);return w}catch(a){u();v();t();throw a}},"readwrite",void 0,void 0,f.id+":66");r=!1;return p}g.default=a}),98);
__d("LSShape",["LSDict"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("LSDict").fromObject(a)}function b(a){return c("LSDict").shapeToRecord(a)}g.ofRecord=a;g.toRecord=b}),98);
__d("LSVerifyContactRowExistsStoredProcedure",["LSSynchronousPromise","LSVerifyContactRowExists","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSVerifyContactRowExists"),e.id,e.contactIdType,e.profilePictureUrl,e.name,e.contactType,e.profilePictureFallbackUrl,e.profilePictureUrlExpirationTimestampMs,e.urlExpirationTimestampMs,e.normalizedNameForSearch,e.isMemorialized,e.isBlocked,e.blockedByViewerStatus,e.canViewerMessage,e.isSelf,e.authorityLevel,e.capabilities,e.capabilities2,e.workForeignEntityType,e.gender,e.contactViewerRelationship,e.secondaryName,e.firstName,e.friendshipStatus);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSVerifyContactExistsWithID",["LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSIntEnum","LSPlatformWaitForTaskCompletion","LSVerifyContactRowExistsStoredProcedure"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c,d){return a.runInTransaction(function(a){return i(b,c,a)},"readwrite",(a=d)!=null?a:"background",void 0,f.id+":37")}async function b(a,b,d){await c("LSPlatformWaitForTaskCompletion")(a,function(a){return i(b,d,a)},"readwrite")}function i(a,b,e){return c("LSVerifyContactRowExistsStoredProcedure")(c("LSFactory")(e),{authorityLevel:(h||(h=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL),blockedByViewerStatus:h.ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:h.ofNumber(c("LSContactIdType").FBID),contactType:h.ofNumber(c("LSContactType").USER),contactViewerRelationship:h.ofNumber(c("LSContactViewerRelationship").UNKNOWN),gender:h.ofNumber(c("LSContactGender").UNKNOWN),id:a,isBlocked:!1,isMemorialized:!1,isSelf:b,workForeignEntityType:h.ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN)})}g.runInTransaction=a;g.waitForTaskFinish=b;g.callStoredProcedure=i}),98);
__d("MWChatOpenTabForGroupCallback",["I64","LSDatabaseSingleton","LSFactory","LSIntEnum","LSIssueMessagesRangeQueryStoredProcedure","LSMailboxMessagesRangeQueryDirection","LSMessagingThreadTypeUtil","Promise","ReQL","promiseDone","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function a(a){var e=(i||(i=d("I64"))).of_string(a);c("promiseDone")((k||(k=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(a){return a.runInTransaction(function(a){return d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.threads).getKeyRange(e)).then(function(f){if(f!=null)if(d("LSMessagingThreadTypeUtil").isArmadilloSecure(f.threadType)){c("recoverableViolation")("Preloading secure thread not implemented yet","messenger_web_entrypoints");return(h||(h=b("Promise"))).resolve()}else return d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.messages_ranges_v2__generated).getKeyRange(e)).then(function(b){if(b!=null&&b.minMessageId===b.maxMessageId)return c("LSIssueMessagesRangeQueryStoredProcedure")(c("LSFactory")(a),{direction:(j||(j=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE),referenceTimestampMs:b.minTimestampMs,threadKey:e})});else return(h||(h=b("Promise"))).resolve()})},"readwrite",void 0,void 0,f.id+":27")}))}g.call=a}),98);
__d("MWChatSearchResultType",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({GROUP:"group",MESSAGE:"message",PAGE:"page",USER:"user",AI_BOT:"ai_bot"});c=a;f["default"]=c}),66);
__d("isThreadLevelCutoverEnabled",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("qex")._("564")===!0}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("FBIconCheckmarkCircleFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx(d("XPlatReactSVG").Path,{d:"m459.3 1078.26-3.718 4a.75.75 0 0 1-1.099 0l-1.79-1.925a.75.75 0 0 1 1.1-1.022l1.24 1.335 3.168-3.409a.75.75 0 0 1 1.098 1.022m-3.3-4.76c-3.308 0-6 2.69-6 6 0 3.308 2.692 6 6 6 3.31 0 6-2.692 6-6 0-3.31-2.69-6-6-6"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("MAWExternalLinkUtil",["FBLogger","MAWOembedHelper","MAWOembedIframeContainer.react","err","gkx","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=[],i=["image/png","image/jpeg","image/jpg"],j=2*1e3;function k(a){return new Promise(function(b){return c("setTimeout")(b,a)})}function l(a){return Promise.race([a,k(j)])}function a(a){if(a==null)return null;var b=null;a=a.find(function(a){return Object.values(p).some(function(c){var d=c.schemes;c=c.url;d=d.some(function(b){return b.test(a.entity.url)});d&&(b=c);return d})});return a==null||b==null?null:{oEmbedRequest:b+"?url="+encodeURIComponent(a.entity.url)+"&format=json",oEmbedUrl:a.entity.url}}async function b(a){var b,e=a.fallbackUrl,f=a.qplEvent;a=a.request;b=(b=window.frames["maw-intermediate-iframe"])!=null?b:null;if(b==null){d("MAWOembedIframeContainer.react").createMAWOembedIframeContainer();if(window.frames["maw-intermediate-iframe"]==null){f==null?void 0:f.addPoint("get_oembed_response_returned_null",{string:{get_oembed_response_return:"iframe cannot be found."}});c("FBLogger")("messenger_web_sharing").warn("[external link] Cannot find the iframe to request oembed url response.");return}}try{a=await l(d("MAWOembedIframeContainer.react").requestUrl(a,d("MAWOembedHelper").MAWOembedIFrameMessageType.OEMBED_REQUEST_URL,b));if(a==null||a instanceof Blob){f==null?void 0:f.addPoint("get_oembed_response_returned_null",{string:{get_oembed_response_returned_null:"oembedResponse is null or an instance of Blob."}});c("FBLogger")("messenger_web").warn("[external link] Failed to fetch oEmbed response: expected json response but got blob.");return}return m({fallbackUrl:e,rawResponse:a})}catch(a){f==null?void 0:f.addPoint("get_oembed_response_returned_null",{string:{get_oembed_response_returned_null:"Error thrown when trying to fetch oembed response in iframe."}});c("FBLogger")("messenger_web").warn("[External link] Error thrown when trying to fetch oembed response in iframe.");return}}async function e(a){var b=a.qplEvent;a=a.xmaData;if(a==null)return Promise.resolve();var e=q(a.url);e=h.includes(e);if(e)return Promise.resolve();e=a==null?void 0:a.thumbnail_url;if(e!=null&&n.test(e)&&!c("gkx")("10935")){b==null?void 0:b.addPoint("get_image_blob_response_returned_null",{string:{get_image_blob_response_returned_null:"imageBlobResponse is not instance of Blob"}});c("FBLogger")("messenger_web").warn("[external link] Failed to fetch image blob response. ");return Promise.resolve()}if(e==null||!Boolean(e)){b==null?void 0:b.addPoint("get_image_blob_response_returned_null",{string:{get_image_blob_response_returned_null:"url was null or undefined"}});return Promise.resolve()}a=(a=window.frames["maw-intermediate-iframe"])!=null?a:null;if(a==null){d("MAWOembedIframeContainer.react").createMAWOembedIframeContainer();if(window.frames["maw-intermediate-iframe"]==null){b==null?void 0:b.addPoint("get_image_blob_response_returned_null",{string:{get_image_blob_response_returned_null:"iframe cannot be found."}});c("FBLogger")("messenger_web").warn("[external link] Cannot find the iframe to request image blob response.");return}}e=await l(d("MAWOembedIframeContainer.react").requestUrl(e,d("MAWOembedHelper").MAWOembedIFrameMessageType.THUMBNAIL_URL,a));if(e instanceof Blob)return e;b==null?void 0:b.addPoint("get_image_blob_response_returned_null",{string:{get_image_blob_response_returned_null:"imageBlobResponse is not instance of Blob"}});c("FBLogger")("messenger_web").warn("[external link] Failed to fetch image blob response. ");return Promise.resolve()}function m(a){var b,d=a.fallbackUrl;a=a.rawResponse;if(a.version!=="1.0")throw c("err")("Unsupported response version from oEmbed API");if(a.type==="photo"&&a.url==null)throw c("err")("Unsupported response from oEmbed API: photo does not have url field");return{author_name:a.author_name!=null?decodeURIComponent(a.author_name):void 0,height:a.height,thumbnail_height:a.thumbnail_height,thumbnail_url:a.thumbnail_url,thumbnail_width:a.thumbnail_width,title:a.title!=null?decodeURIComponent(a.title):void 0,type:a.type,url:(b=a.url)!=null?b:d,width:a.width}}function f(a){var b=o.some(function(b){return b.test(a)});return b?!0:Object.values(p).some(function(b){b=b.url;return a.startsWith(b)})}var n=new RegExp("^http(?:s)?:\\/\\/i\\.ytimg\\.com.+$"),o=[new RegExp("^http(?:s)?:\\/\\/i1\\.sndcdn\\.com.+$"),new RegExp("^http(?:s)?:\\/\\/i\\.scdn\\.co.+$"),new RegExp("^http(?:s)?:\\/\\/(?:#!)?[^#?\\/]+\\.cloudfront\\.net.+$"),new RegExp("^http(?:s)?:\\/\\/pi\\.tedcdn\\.com.+$"),new RegExp("^http(?:s)?:\\/\\/static01\\.nyt\\.com.+$"),new RegExp("^http(?:s)?:\\/\\/i\\.vimeocdn\\.com.+$"),new RegExp("^http(?:s)?:\\/\\/(?:#!)?[^#?\\/]+\\.tiktokcdn\\.com.+$"),n],p={NYTimes:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/www\\.nytimes\\.com\\/svc\\/oembed$"),new RegExp("^http(?:s)?:\\/\\/nytimes\\.com\\/.+$"),new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?nytimes\\.com\\/.+$")],url:"https://www.nytimes.com/svc/oembed/json/"},SoundCloud:{schemes:[new RegExp("^http(?:s)?:\\/\\/soundcloud\\.com\\/.+$"),new RegExp("^http(?:s)?:\\/\\/on\\.soundcloud\\.com\\/.+$"),new RegExp("^http(?:s)?:\\/\\/soundcloud\\.app\\.goog\\.gl\\/.+$")],url:"https://soundcloud.com/oembed"},Spotify:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/open\\.spotify\\.com\\/.+$")],url:"https://open.spotify.com/oembed"},Spreaker:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?spreaker\\.com\\/.+$")],url:"https://api.spreaker.com/oembed"},TED:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/ted\\.com\\/talks\\/.+$"),new RegExp("^http(?:s)?:\\/\\/www\\.ted\\.com\\/talks\\/.+$")],url:"https://www.ted.com/services/v1/oembed.json"},TikTok:{schemes:[new RegExp("^http(?:s)?:\\/\\/www\\.tiktok\\.com\\/.+$"),new RegExp("^http(?:s)?:\\/\\/www\\.tiktok\\.com\\/(?:#!)?[^#?\\/]+\\/video\\/.+$")],url:"https://www.tiktok.com/oembed"},Vimeo:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/vimeo\\.com\\/.+$"),new RegExp("^http(?:s)?:\\/\\/vimeo\\.com\\/album\\/(?:#!)?[^#?\\/]+\\/video\\/.+$"),new RegExp("^http(?:s)?:\\/\\/vimeo\\.com\\/channels\\/(?:#!)?[^#?\\/]+\\/.+$"),new RegExp("^http(?:s)?:\\/\\/vimeo\\.com\\/groups\\/(?:#!)?[^#?\\/]+\\/video\\/.+$"),new RegExp("^http(?:s)?:\\/\\/vimeo\\.com\\/ondemand\\/(?:#!)?[^#?\\/]+\\/.+$"),new RegExp("^http(?:s)?:\\/\\/player\\.vimeo\\.com\\/video\\/.+$")],url:"https://vimeo.com/api/oembed.json"},youtube:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?youtube\\.com\\/watch.+$"),new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?youtube\\.com\\/v\\/.+$"),new RegExp("^http(?:s)?:\\/\\/youtu\\.be\\/.+$"),new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?youtube\\.com\\/playlist\\?list\\=.+$"),new RegExp("^http(?:s)?:\\/\\/youtube\\.com\\/playlist\\?list\\=.+$"),new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?youtube\\.com\\/shorts.+$")],url:"https://www.youtube.com/oembed"}};function q(a){return Object.keys(p).find(function(b){return p[b].schemes.some(function(b){return b.test(a)})})}g.allowedPreviewTypes=i;g.findFirstAvailableOembedUrlAndRequestPair=a;g.getOembedResponse=b;g.getImageBlobResponse=e;g.isAllowedRequestForFbsbx=f}),98);
__d("MAWOembedHelper",["$InternalEnum","ConstUriUtils","FBLogger","MAWExternalLinkUtil","SecureMessageListener","SecurePostMessage","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h=["facebook.com","messenger.com","instagram.com","internalfb.com"];function i(a){if(a==null||typeof a!=="object")return null;var b=a.requestURL;a=a.requestMessageType;if(typeof a!=="string"||typeof b!=="string"||!d("ConstUriUtils").isValidUri(b))return null;a=j.cast(a);return a==null||a!==j.OEMBED_REQUEST_URL&&a!==j.THUMBNAIL_URL?null:[a,b]}function a(){var a=null,b=new(c("SecureMessageListener"))(window);function e(b){a=b.origin;b=b.data;b=i(b);if(b==null)return;var e=b[0],g=b[1];if(!d("MAWExternalLinkUtil").isAllowedRequestForFbsbx(g))return;c("promiseDone")(window.fetch(g).then(function(a){a.status!==200&&c("FBLogger")("messenger_web").mustfix("[external link] fbsbx page fetching for the response is not successful.");switch(e){case j.OEMBED_REQUEST_URL:return a.json();case j.THUMBNAIL_URL:return a.blob()}}).then(function(a){f({type:e,url:g,value:a})})["catch"](function(){c("FBLogger")("messenger_web").warn("[external link] Failed to fetch response in helper js.")}))}b.setEventHandler(e).setSupportedOrigins(h);b.beginListening();function f(b,d){var e=(d=d)!=null?d:1;if(a==null){e<=3&&window.setTimeout(function(){f(b,e+1)},250*Math.pow(2,e*e));return}c("SecurePostMessage").sendMessageToSpecificOrigin(window.parent,b,a)}}var j=b("$InternalEnum").Mirrored(["OEMBED_REQUEST_URL","THUMBNAIL_URL"]);g.init=a;g.MAWOembedIFrameMessageType=j}),98);
__d("XFBSbxMAWProxyPageControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/maw_proxy_page/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("MAWOembedIframeContainer.react",["CookieConsentIFrameConfig","FBLogger","MAWOembedHelper","Promise","SecureMessageListener","SecurePostMessage","WAResolvable","XFBSbxMAWProxyPageControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){return"www.fbsbx.com"}var j=new Map(),k=null;function a(a,e,f){var g=j.get(a);if(g!=null)return g.promise;g=n(i());if(g==null)return(h||(h=b("Promise"))).resolve();c("SecurePostMessage").sendMessageToSpecificOrigin(f.contentWindow,{requestMessageType:e,requestURL:a},g);f=new(d("WAResolvable").Resolvable)();j.set(a,f);return f.promise}function l(a){if(a==null||typeof a!=="object")return null;var b=a.url,e=a.value;a=a.type;if(b==null||e==null||a==null||typeof a!=="string")return null;var f=d("MAWOembedHelper").MAWOembedIFrameMessageType.cast(a);if(typeof b==="string"&&f!=null){if(f===d("MAWOembedHelper").MAWOembedIFrameMessageType.THUMBNAIL_URL&&e instanceof Blob)return{type:d("MAWOembedHelper").MAWOembedIFrameMessageType.THUMBNAIL_URL,url:b,value:e};if(f===d("MAWOembedHelper").MAWOembedIFrameMessageType.OEMBED_REQUEST_URL&&typeof e==="object"&&e.title!=null&&e.thumbnail_url!=null){f={author_name:typeof e.author_name==="string"?e.author_name:void 0,height:typeof e.height==="number"?e==null?void 0:e.height:150,thumbnail_height:typeof e.thumbnail_height==="number"?e.thumbnail_height:void 0,thumbnail_url:typeof e.thumbnail_url==="string"?e.thumbnail_url:void 0,thumbnail_width:typeof e.thumbnail_width==="number"?e.thumbnail_width:void 0,title:typeof e.title==="string"?e.title:void 0,type:typeof e.type==="string"?e.type:"photo",version:typeof e.version==="string"?e.version:"1.0",width:typeof e.width==="number"?e.width:200};return{type:d("MAWOembedHelper").MAWOembedIFrameMessageType.OEMBED_REQUEST_URL,url:b,value:f}}}c("FBLogger")("messenger_web").warn("Failed to handle message %s from fbsbx: cannot process event message in the correct format",a);return null}var m=function(a){a=l(a.data);if(a==null)return;var b=a.url;a=a.value;b=j.get(b);if(b==null){c("FBLogger")("messenger_web").warn("Failed to handle message from fbsbx: cannot find the resolvable promise for the url");return}b.resolve(a)};function e(){var a;a=(a=window.frames["maw-intermediate-iframe"])!=null?a:null;var b=n(i());if(a!=null){(a=k)==null?void 0:a.beginListening();return k}if(b==null){c("FBLogger")("messenger_web").warn("Failed to create maw-intermediate-iframe iFrame: cannot find the fbsbxUri");return}a=document.createElement("iframe");a.style.display="none";a.className="MAWOembedIframe";a.id="maw-intermediate-iframe";a.src=b;(b=document.body)==null?void 0:b.appendChild(a);k=new(c("SecureMessageListener"))(window).setEventHandler(m).setSupportedOrigins(["fbsbx.com"]);k.beginListening();return k}function n(a){var b;return(b=c("XFBSbxMAWProxyPageControllerRouteBuilder").buildUri({__cci:(b=c("CookieConsentIFrameConfig").consent_param)!=null?b:""}).setProtocol("https"))==null?void 0:(b=b.setDomain(a))==null?void 0:b.toString()}g.requestUrl=a;g.createMAWOembedIframeContainer=e}),98);
__d("MAWLoadingStateOutstandingOfflineQueueSelector",["MAWSharedProtocolQueueConst"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return function(b){var c=b.offlineQueueCount,e=b.offlineQueueSyncState;b=b.offlineQueueThreadStatus;if(a!=null&&Object.keys(b).length>0){return b[a]!=null&&((b=b[a])==null?void 0:b.snippetStatus)!==d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete}return c>0&&e!==d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete}};g.outstandingOfflineQueueSelector=a}),98);
__d("MAWOfflineQueueState-resolver",["MAWOfflineQueueState"],(function(a,b,c,d,e,f,g){"use strict";function a(){return{read:function(){return d("MAWOfflineQueueState").offlineQueueState.getSnapshot()},subscribe:function(a){return d("MAWOfflineQueueState").offlineQueueState.subscribe(a)}}}g.offlineQueueStats=a}),98);
__d("MWChatConfirmTabCloseDialog.react",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a={body:h._(/*BTDS*/"Are you sure you want to close this chat window?"),confirm:h._(/*BTDS*/"OK"),title:h._(/*BTDS*/"You haven't sent your message.")};g.content=a}),226);
__d("MWChatFocusComposerContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=c.useMemo,l=c.useRef,m=e({focusComposer:void 0,setFocusComposer:function(){}});function a(a){a=a.children;var b=l(),c=b.current,d=k(function(){return{focusComposer:c,setFocusComposer:function(a){b.current=a}}},[c]);return i.jsx(m.Provider,{value:d,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(m)}g.MWChatFocusComposerContextProvider=a;g.useMWChatFocusComposer=b}),98);
__d("MWChatHeaderActionButton.react",["MWXCircleButton.react","MWXTooltip.react","MessengerWebUXLogger","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(24),e,f,g,h,j,k,l,m;b[0]!==a?(f=a.loggingEvent,h=a.ref,k=a.size,l=a.tooltipLabel,m=a.tooltipPosition,e=a.color,g=a.onPress,j=babelHelpers.objectWithoutPropertiesLoose(a,["loggingEvent","ref","size","tooltipLabel","tooltipPosition","color","onPress"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=j,b[6]=k,b[7]=l,b[8]=m):(e=b[1],f=b[2],g=b[3],h=b[4],j=b[5],k=b[6],l=b[7],m=b[8]);a=c("MessengerWebUXLogger").useLogOnPressInteraction();var n;b[9]!==a||b[10]!==f||b[11]!==g?(n=a(g,f),b[9]=a,b[10]=f,b[11]=g,b[12]=n):n=b[12];a=n;g=(f=k)!=null?f:28;b[13]!==e||b[14]!==a||b[15]!==h||b[16]!==j||b[17]!==g||b[18]!==l?(n=i.jsx(c("MWXCircleButton.react"),babelHelpers["extends"]({color:e,label:l,onPress:a,ref:h,size:g,type:"deemphasized"},j)),b[13]=e,b[14]=a,b[15]=h,b[16]=j,b[17]=g,b[18]=l,b[19]=n):n=b[19];k=n;if(l==null)return k;e=(f=m)!=null?f:"above";b[20]!==k||b[21]!==e||b[22]!==l?(a=i.jsx(c("MWXTooltip.react"),{align:"middle",position:e,tooltip:l,children:k}),b[20]=k,b[21]=e,b[22]=l,b[23]=a):a=b[23];return a}g["default"]=a}),98);
__d("MWChatTabFocusHandler",["CometHideLayerOnEscape.react","FocusWithinHandler.react","MWChatFocusComposerContext","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.useRef,l={root:{height:"x5yr21d",":focus_outline":"x1uvtmcs",$$css:!0}};function m(){try{var a;return((a=document.activeElement)==null?void 0:a.getAttribute("data-release-focus-from"))==="CLICK"}catch(a){return!1}}function a(a){var b=d("react-compiler-runtime").c(22),e=a.children,f=a.disableAutoFocus,g=a.onBlur,i=a.onEscape,n=a.onFocus;a=a.xstyle;var o=k(null),p=d("MWChatFocusComposerContext").useMWChatFocusComposer();p=p.focusComposer;var q;q=p;f===!0&&(q=void 0);b[0]!==q?(p=function(){if(o.current!=null&&q!=null&&window.getSelection().toString()===""&&(o.current===document.activeElement||m()))return q()},b[0]=q,b[1]=p):p=b[1];q;f=p;b[2]!==g?(p=function(){return g==null?void 0:g()},b[2]=g,b[3]=p):p=b[3];var r;b[4]!==q||b[5]!==n?(r=function(a){a.target instanceof HTMLElement&&a.target.getAttribute("data-prevent_chattab_focus")==null&&(n==null?void 0:n()),o.current!=null&&q!=null&&o.current===a.target&&q()},b[4]=q,b[5]=n,b[6]=r):r=b[6];var s;b[7]!==i?(s=function(){return i==null?void 0:i()},b[7]=i,b[8]=s):s=b[8];var t;b[9]!==a?(t=(h||(h=c("stylex"))).props(l.root,a),b[9]=a,b[10]=t):t=b[10];b[11]!==e||b[12]!==f||b[13]!==t?(a=j.jsx("div",babelHelpers["extends"]({},t,{onClick:f,ref:o,role:"none",tabIndex:-1,children:e})),b[11]=e,b[12]=f,b[13]=t,b[14]=a):a=b[14];b[15]!==s||b[16]!==a?(e=j.jsx(c("CometHideLayerOnEscape.react"),{onHide:s,children:a}),b[15]=s,b[16]=a,b[17]=e):e=b[17];b[18]!==p||b[19]!==r||b[20]!==e?(f=j.jsx(c("FocusWithinHandler.react"),{onBlurWithin:p,onFocusWithin:r,children:e}),b[18]=p,b[19]=r,b[20]=e,b[21]=f):f=b[21];return f}g["default"]=a}),98);
__d("MWInboxThreadMessagesSpinner.react",["CometVisualCompletionAttributes","MWXSpinner.react","react","react-compiler-runtime","useDebouncedState","useIsMountedRef","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;function a(a){var b=d("react-compiler-runtime").c(15),e=a.delayMs;a=a.vcIgnore;var f=c("useIsMountedRef")(),g=!e,h;b[0]!==e||b[1]!==g?(h={debounceMS:e,doNotDebounce:g},b[0]=e,b[1]=g,b[2]=h):h=b[2];e=c("useDebouncedState")(j,h);g=e[0];var k=e[1];b[3]!==f||b[4]!==k?(h={onHidden:function(){f.current&&k(!1)},onVisible:function(){f.current&&k(!0)}},b[3]=f,b[4]=k,b[5]=h):h=b[5];e=h;h=e;e=c("useVisibilityObserver")(h);b[6]===Symbol["for"]("react.memo_cache_sentinel")?(h="x6s0dn4 x78zum5 x1t1x2f9 x1iyjqo2 x2lah0s xxk0z11 xl56j7k xsag5q8 xz9dl7a x1eb86dx",b[6]=h):h=b[6];var l;b[7]!==a?(l=a===!0?c("CometVisualCompletionAttributes").IGNORE:{},b[7]=a,b[8]=l):l=b[8];b[9]!==g?(a=i.jsx("div",{role:"cell",children:g?i.jsx(c("MWXSpinner.react"),{color:"disabled",size:24}):i.jsx("div",{className:"x1eb86dx xxk0z11 xh8yej3"})}),b[9]=g,b[10]=a):a=b[10];b[11]!==l||b[12]!==a||b[13]!==e?(g=i.jsx("div",babelHelpers["extends"]({className:h,ref:e,role:"row"},l,{children:a})),b[11]=l,b[12]=a,b[13]=e,b[14]=g):g=b[14];return g}function j(){return!0}g["default"]=a}),98);
__d("MWV2HeaderCloseButton.react",["fbt","MWChatHeaderActionButton.react","MWXIconCross","MWXThreadThemeColor","react","react-compiler-runtime","useSetAttributeRef"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=h._(/*BTDS*/"Close chat");function a(a){var b,e=d("react-compiler-runtime").c(7),f=a.label,g=a.onPress;a=a.testid;var h=c("useSetAttributeRef")("data-prevent_chattab_focus","1"),i;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=d("MWXThreadThemeColor").mwxThreadThemeColor("var(--mwp-header-button-color)"),e[0]=i):i=e[0];b=(b=f)!=null?b:k;f=(f=f)!=null?f:k;e[1]!==g||e[2]!==h||e[3]!==b||e[4]!==f||e[5]!==a?(i=j.jsx(c("MWChatHeaderActionButton.react"),{color:i,icon:c("MWXIconCross"),iconRatio:"large",label:b,loggingEvent:"close_chat_tab",onPress:g,ref:h,testid:void 0,tooltipLabel:f}),e[1]=g,e[2]=h,e[3]=b,e[4]=f,e[5]=a,e[6]=i):i=e[6];return i}g["default"]=a}),226);
__d("MWV2HeaderContainer.react",["MDSRow.react","MWEditMessageOverlay.react","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={divider:{boxShadow:"x7m3og9",$$css:!0},root:{alignItems:"x6s0dn4",backgroundColor:"xfpmyvw",borderTopEndRadius:"xgqcy7u",borderTopStartRadius:"x1lq5wgf",display:"x78zum5",flexShrink:"x2lah0s",height:"x10w6t97",justifyContent:"x1qughib",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",position:"x1n2onr6",zIndex:"xhtitgo",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(9),e=a.divider,f=a.endContent;a=a.startContent;e=e===void 0?!0:e;f=f===void 0?null:f;a=a===void 0?null:a;var g;b[0]!==e?(g=(h||(h=c("stylex"))).props(k.root,e?k.divider:!1),b[0]=e,b[1]=g):g=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx(c("MWEditMessageOverlay.react"),{}),b[2]=e):e=b[2];var i;b[3]!==a?(i=j.jsx(c("MDSRow.react"),{expanding:!0,paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",children:a}),b[3]=a,b[4]=i):i=b[4];b[5]!==f||b[6]!==g||b[7]!==i?(a=j.jsxs("div",babelHelpers["extends"]({},g,{children:[e,i,f]})),b[5]=f,b[6]=g,b[7]=i,b[8]=a):a=b[8];return a}g["default"]=a}),98);
__d("MWV2ComposerHasContentContext.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext;c.useMemo;var k=c.useRef,l=e({hasContentRef:void 0});function a(a){var b=d("react-compiler-runtime").c(3);a=a.children;var c=k(!1);b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c={hasContentRef:c},b[0]=c):c=b[0];c=c;c=c;b[1]!==a?(c=i.jsx(l.Provider,{value:c,children:a}),b[1]=a,b[2]=c):c=b[2];return c}function b(){return j(l)}g.MWV2ComposerHasContentContextProvider=a;g.useComposerHasContext=b}),98);
__d("useMWV2CloseTab",["I64","LSContactListConversionAttributionStore","MWChatConfirmTabCloseDialog.react","MWChatInteraction","MWChatStateActions","MWChatStateV2.react","MWV2ComposerHasContentContext.react","MessengerClickImpressionEventsLoggerUtils","emptyFunction","react","useCometConfirmationDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useCallback;function a(a,b){var e=d("MWChatStateV2.react").useDispatch(),f=c("useCometConfirmationDialog")(),g=d("MWV2ComposerHasContentContext.react").useComposerHasContext(),h=g.hasContentRef,k=d("MessengerClickImpressionEventsLoggerUtils").useGetUniqueThreadID(a,(g=b.tabType.threadKeyDescriptor)==null?void 0:g.threadType);return j(function(){var g=function(){if(a!=null){var c,f=d("MWChatInteraction").getInteractionTraceForThreadKey((i||(i=d("I64"))).to_string(a));if(f!=null&&(((c=f.getTrace())==null?void 0:c.traceStatus)==null||((c=f.getTrace())==null?void 0:c.traceStatus)==="START")){c=!0;f.cancelTrace("close_tab",c)}}k!=null&&d("LSContactListConversionAttributionStore").resetAttribution(k);e(d("MWChatStateActions").closeTab(Date.now(),b.tabId))};if(a!=null&&(h==null?void 0:h.current)===!0)return f(d("MWChatConfirmTabCloseDialog.react").content,function(){g()},c("emptyFunction"));g()},[k,a,b,e,f,h])}g["default"]=a}),98);
__d("MWV2ChatTabHeaderLoadingWithGlimmers.react",["MDSGlimmer.react","MWChatStateV2Types","MWV2HeaderCloseButton.react","MWV2HeaderContainer.react","react","react-compiler-runtime","useMWV2CloseTab"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={headerGlimmer:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"xlup9mm",marginStart:"x17adc0v",width:"x1vz4e29",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(5);a=a.tab;a=c("useMWV2CloseTab")(a.tabType.type===d("MWChatStateV2Types").MWChatStateActionsType.UpdateTab?a.tabType.threadKeyDescriptor.threadKey:void 0,a);var e;b[0]!==a?(e=i.jsx(c("MWV2HeaderCloseButton.react"),{onPress:a}),b[0]=a,b[1]=e):e=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a=i.jsx(c("MDSGlimmer.react"),{index:0,xstyle:j.headerGlimmer}),b[2]=a):a=b[2];b[3]!==e?(a=i.jsx(c("MWV2HeaderContainer.react"),{endContent:e,startContent:a}),b[3]=e,b[4]=a):a=b[4];return a}g["default"]=a}),98);
__d("useMWPEditMessageExit",["MAWEditMessageContext.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){var a=d("react-compiler-runtime").c(5),b=i(d("MAWEditMessageContext.react").Context),c=b.editMessageData,e=b.setEditMessageData;a[0]!==e?(b=function(){e(null)},a[0]=e,a[1]=b):b=a[1];b=b;c=c!=null;var f;a[2]!==b||a[3]!==c?(f={exitEditMessageMode:b,isEditMessageModeActive:c},a[2]=b,a[3]=c,a[4]=f):f=a[4];return f}g["default"]=a}),98);
__d("MWV2TabContainer",["MWChatFocusComposerContext","MWChatStateActions","MWChatStateContext","MWChatStateV2.react","MWChatTabFocusHandler","react","react-compiler-runtime","stylex","useMWPEditMessageExit","useMWV2CloseTab"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={defaultHeight:{height:"x1rgmuzj",maxHeight:"x85a59c","@media (min-height: 1280px)_height":"xbbk1sx",$$css:!0},tabContainer:{backgroundColor:"xcrg951",borderTopEndRadius:"xgqcy7u",borderTopStartRadius:"x1lq5wgf",display:"x78zum5",flexDirection:"xdt5ytf",fontSize:"x6prxxf",lineHeight:"xvq8zen",marginStart:"x17adc0v",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xi55695",$$css:!0},tabContainerFocused:{boxShadow:"x1eqhsl0",$$css:!0},tabContainerUnfocused:{boxShadow:"x6l8u58",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(22),e=a.ariaBusy,f=a.ariaLabel,g=a.children,i=a.domRef,l=a.style,m=a.tab,n=a.tabIndex;a=a.threadKey;var o=d("MWChatStateV2.react").useDispatch();a=c("useMWV2CloseTab")(a,m);var p;b[0]!==m.tabId?(p=function(a){return a.focusedTabId===m.tabId},b[0]=m.tabId,b[1]=p):p=b[1];p=d("MWChatStateContext").useChatState(p);var q=c("useMWPEditMessageExit")(),r=q.exitEditMessageMode;q=q.isEditMessageModeActive;var s;b[2]!==o?(s=function(){return o(d("MWChatStateActions").blurTab())},b[2]=o,b[3]=s):s=b[3];q=q?r:a;b[4]!==o||b[5]!==m.tabId?(r=function(){return o(d("MWChatStateActions").focusTab(m.tabId))},b[4]=o,b[5]=m.tabId,b[6]=r):r=b[6];a=p?k.tabContainerFocused:k.tabContainerUnfocused;b[7]!==a?(p=(h||(h=c("stylex")))(k.tabContainer,k.defaultHeight,a),b[7]=a,b[8]=p):p=b[8];b[9]!==e||b[10]!==f||b[11]!==g||b[12]!==i||b[13]!==l||b[14]!==p||b[15]!==n?(a=j.jsx("div",{"aria-busy":e,"aria-label":f,className:p,"data-testid":void 0,ref:i,style:l,tabIndex:n,children:g}),b[9]=e,b[10]=f,b[11]=g,b[12]=i,b[13]=l,b[14]=p,b[15]=n,b[16]=a):a=b[16];b[17]!==s||b[18]!==q||b[19]!==r||b[20]!==a?(e=j.jsx(d("MWChatFocusComposerContext").MWChatFocusComposerContextProvider,{children:j.jsx(c("MWChatTabFocusHandler"),{onBlur:s,onEscape:q,onFocus:r,children:a})}),b[17]=s,b[18]=q,b[19]=r,b[20]=a,b[21]=e):e=b[21];return e}g["default"]=a}),98);
__d("MWV2ChatTabLoadingWithGlimmers.react",["fbt","MWInboxThreadMessagesSpinner.react","MWV2ChatTabHeaderLoadingWithGlimmers.react","MWV2IsTabFocusedContext.react","MWV2TabContainer","react","react-compiler-runtime","useCometLoadingStateTracker","useMergeRefs"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useRef;function a(a){var b=d("react-compiler-runtime").c(13);a=a.tab;var e=c("useCometLoadingStateTracker")();e=e[1];var f=l(null),g=d("MWV2IsTabFocusedContext.react").useIsTabFocused(),i;b[0]!==g?(i=function(){if(g){var a=f.current;a!=null&&a.focus()}},b[0]=g,b[1]=i):i=b[1];var m;b[2]!==g||b[3]!==e?(m=[g,e],b[2]=g,b[3]=e,b[4]=m):m=b[4];k(i,m);i=c("useMergeRefs")(e,f);b[5]===Symbol["for"]("react.memo_cache_sentinel")?(m=h._(/*BTDS*/"Loading...").toString(),b[5]=m):m=b[5];b[6]!==a?(e=j.jsx(c("MWV2ChatTabHeaderLoadingWithGlimmers.react"),{tab:a}),b[6]=a,b[7]=e):e=b[7];var n;b[8]===Symbol["for"]("react.memo_cache_sentinel")?(n=j.jsx(c("MWInboxThreadMessagesSpinner.react"),{}),b[8]=n):n=b[8];b[9]!==i||b[10]!==e||b[11]!==a?(m=j.jsxs(c("MWV2TabContainer"),{ariaBusy:!0,ariaLabel:m,domRef:i,tab:a,tabIndex:0,children:[e,n]}),b[9]=i,b[10]=e,b[11]=a,b[12]=m):m=b[12];return m}g["default"]=a}),226);
__d("MWXIconCheckmarkCircle",["MWXSvgIcon","SVGIcon","cr:12361","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12361")),c("gkx")("23219"));g["default"]=a}),98);
__d("useMAWOfflineQueueLoadingIndicatorShown",["useCometRouterState"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a===void 0?!1:a;var b=c("useCometRouterState")();b=b==null?void 0:b.main.route.tabKey;return b==="messenger"||!a}g["default"]=a}),98);
__d("useMAWOfflineQueueLoadingIndicatorThreadJid",["I64","Int64Hooks","LSMessagingThreadTypeUtil","MAWJids","ReQL","WAJids","promiseDone","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).useState;function a(a,b){var e=d("react-compiler-runtime").c(7),f=(h||(h=c("useReStore")))(),g=k(null),j=g[0],l=g[1];e[0]!==b?(g=b!=null?d("LSMessagingThreadTypeUtil").isGroup(b):!1,e[0]=b,e[1]=g):g=e[1];var m=g;e[2]!==f||e[3]!==m||e[4]!==a?(b=function(){if(a==null)return;c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(f.tables.mi_act_mapping_table).getKeyRange(a)),function(a){if(a!=null){a=(i||(i=d("I64"))).to_string(a.jid);a=m===!0?d("WAJids").toGroupJid(a):d("MAWJids").toUserJid(a);l(a)}})},g=[f,l,a,m],e[2]=f,e[3]=m,e[4]=a,e[5]=b,e[6]=g):(b=e[5],g=e[6]);d("Int64Hooks").useEffectInt64(b,g);return j}g["default"]=a}),98);
__d("useMAWOfflineQueueStateQuery.graphql",["MAWOfflineQueueState-resolver"],(function(a,b,c,d,e,f){"use strict";a={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMAWOfflineQueueStateQuery",selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,fragment:null,kind:"RelayLiveResolver",name:"offlineQueueStats",resolverModule:b("MAWOfflineQueueState-resolver").offlineQueueStats,path:"offlineQueueStats"}]}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useMAWOfflineQueueStateQuery",selections:[{kind:"ClientExtension",selections:[{name:"offlineQueueStats",args:null,fragment:null,kind:"RelayResolver",storageKey:null,isOutputType:!0}]}]},params:{cacheID:"84004270b2ffca123b6b78124755ac6f",id:null,metadata:{},name:"useMAWOfflineQueueStateQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("useMAWOfflineQueueState",["CometRelay","MAWOfflineQueueState","gkx","react","react-compiler-runtime","useMAWOfflineQueueStateQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useSyncExternalStore;function a(){return j(d("MAWOfflineQueueState").offlineQueueState.subscribe,d("MAWOfflineQueueState").offlineQueueState.getSnapshot)}function e(){var a=d("react-compiler-runtime").c(2),c,e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(c=h!==void 0?h:h=b("useMAWOfflineQueueStateQuery.graphql"),e={},a[0]=c,a[1]=e):(c=a[0],e=a[1]);a=d("CometRelay").useClientQuery(c,e);return(c=a.offlineQueueStats)!=null?c:d("MAWOfflineQueueState").EMPTY_STATE}f=c("gkx")("12254")?e:a;g.useMAWOfflineQueueState=f}),98);/*FB_PKG_DELIM*/
__d("PresenceStatusContext",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||(h=d("react"));a=h.createContext;var i=[];b=a({addListener:function(){return c("emptyFunction")},get:function(){return 0},getChatVisibility:function(){return!1},getOnlineIDs:function(){return i},getStatus:function(){return null}});g["default"]=b}),98);
__d("CometSearchTypeaheadBaseStructuredDirectNavKeywordViewItem.react",["CometImage.react","CometSearchBaseTypeaheadTitleSnippetViewItem.react","CometTypeaheadHighlight.react","CometTypeaheadViewItem.react","FDSBadge.react","FDSProfilePhoto.react","PresenceStatusContext","qex","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext;b.useMemo;var k=36,l={imageIcon:{display:"x1lliihq",$$css:!0}};function a(a){var b,e=d("react-compiler-runtime").c(30),f,g,h,m;e[0]!==a?(f=a.entry,g=a.isActive,m=a.queryString,h=babelHelpers.objectWithoutPropertiesLoose(a,["entry","isActive","queryString"]),e[0]=a,e[1]=f,e[2]=g,e[3]=h,e[4]=m):(f=e[1],g=e[2],h=e[3],m=e[4]);a=f.rawData;var n=a.badgeSnippet;a=a.structuredInfo;if(e[5]!==(a==null?void 0:a.direct_nav_result)){var o;o=(o=a==null?void 0:a.direct_nav_result)!=null?o:{};e[5]=a==null?void 0:a.direct_nav_result;e[6]=o}else o=e[6];a=o;o=a.ent_id;var p=a.entity_type,q=a.img_url,r=a.link_url,s=a.snippet;a=a.type;var t;e[7]!==r?(t={preloadCodeOnMount:!0,preventLocalNavigation:!0,url:r},e[7]=r,e[8]=t):t=e[8];r=t;t=r;r="circle";a==="SHORTCUT"?r="square":(p==="group"||p==="event")&&(r="roundedRect");p=j(c("PresenceStatusContext"));var u=!1;b=(b=c("qex")._("218"))!=null?b:!1;b&&o!=null&&(u=p.get(o)===2);b=null;if(q!=null){e[9]!==q||e[10]!==u||e[11]!==r||e[12]!==a?(p=a==="SHORTCUT"?i.jsx(c("CometImage.react"),{height:k,src:q,width:k,xstyle:l.imageIcon}):i.jsx(c("FDSProfilePhoto.react"),{addOn:u?{type:"availabilityBadge"}:void 0,shape:r,size:k,source:{uri:q}}),e[9]=q,e[10]=u,e[11]=r,e[12]=a,e[13]=p):p=e[13];b=p}e[14]!==n||e[15]!==s?(o=n!=null?i.jsxs(i.Fragment,{children:[i.jsx(c("FDSBadge.react"),{color:"blue"}),n]}):s,e[14]=n,e[15]=s,e[16]=o):o=e[16];var v=o;e[17]!==v?(q=function(a){return i.jsx(c("CometSearchBaseTypeaheadTitleSnippetViewItem.react"),{level:3,snippet:v,title:a})},e[17]=v,e[18]=q):q=e[18];e[19]!==f.label||e[20]!==m||e[21]!==q?(u=i.jsx(c("CometTypeaheadHighlight.react"),{content:f.label,query:m,strategy:"non-match",children:q}),e[19]=f.label,e[20]=m,e[21]=q,e[22]=u):u=e[22];e[23]!==f||e[24]!==b||e[25]!==g||e[26]!==t||e[27]!==h||e[28]!==u?(r=i.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},h,{entry:f,isActive:g,itemStartContent:b,linkProps:t,children:u})),e[23]=f,e[24]=b,e[25]=g,e[26]=t,e[27]=h,e[28]=u,e[29]=r):r=e[29];return r}g["default"]=a}),98);
__d("CometSearchTypeaheadBaseStructuredDisambiguationKeywordViewItem.react",["CometSearchBaseTypeaheadTitleSnippetViewItem.react","CometTypeaheadHighlight.react","CometTypeaheadViewItem.react","CometTypeaheadViewItemIcon.react","react","react-compiler-runtime","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(24),e,f,g,h,j;b[0]!==a?(e=a.entry,f=a.isActive,g=a.linkProps,j=a.queryString,h=babelHelpers.objectWithoutPropertiesLoose(a,["entry","isActive","linkProps","queryString"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=j):(e=b[1],f=b[2],g=b[3],h=b[4],j=b[5]);if(b[6]!==e.rawData.structuredInfo){a=(a=e.rawData.structuredInfo)!=null?a:{};b[6]=e.rawData.structuredInfo;b[7]=a}else a=b[7];a=a;a=a.disambiguation_result;if(a==null){c("recoverableViolation")("We were trying to show disambiguation result, but had missing data","search");return null}a=a.disambiguation_info_list;var k=a[0].snippet;b[8]!==e.label||b[9]!==f?(a=i.jsx(d("CometTypeaheadViewItemIcon.react").CometTypeaheadViewTypedIcon,{isActive:f,label:e.label}),b[8]=e.label,b[9]=f,b[10]=a):a=b[10];var l;b[11]!==k?(l=function(a){return i.jsx(c("CometSearchBaseTypeaheadTitleSnippetViewItem.react"),{level:3,snippet:k,title:a})},b[11]=k,b[12]=l):l=b[12];var m;b[13]!==e.label||b[14]!==j||b[15]!==l?(m=i.jsx(c("CometTypeaheadHighlight.react"),{content:e.label,query:j,strategy:"non-match",children:l}),b[13]=e.label,b[14]=j,b[15]=l,b[16]=m):m=b[16];b[17]!==e||b[18]!==f||b[19]!==g||b[20]!==h||b[21]!==a||b[22]!==m?(j=i.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},h,{entry:e,isActive:f,itemStartContent:a,linkProps:g,children:m})),b[17]=e,b[18]=f,b[19]=g,b[20]=h,b[21]=a,b[22]=m,b[23]=j):j=b[23];return j}g["default"]=a}),98);
__d("CometSearchTypeaheadBaseStructuredHighConfidenceKeywordViewItem.react",["CometSearchBaseTypeaheadTitleSnippetViewItem.react","CometTypeaheadHighlight.react","CometTypeaheadViewItem.react","CometTypeaheadViewItemIcon.react","FDSBadge.react","FDSProfilePhoto.react","react","react-compiler-runtime","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(30),e,f,g,h,j;b[0]!==a?(e=a.entry,f=a.isActive,g=a.linkProps,j=a.queryString,h=babelHelpers.objectWithoutPropertiesLoose(a,["entry","isActive","linkProps","queryString"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=j):(e=b[1],f=b[2],g=b[3],h=b[4],j=b[5]);a=e.rawData;var k=a.badgeSnippet;a=a.structuredInfo;if(b[6]!==(a==null?void 0:a.high_confidence_result)){var l;l=(l=a==null?void 0:a.high_confidence_result)!=null?l:{};b[6]=a==null?void 0:a.high_confidence_result;b[7]=l}else l=b[7];a=l;l=a.hcm_id;var m=a.picture_url;a=a.snippet;if(m==null){c("recoverableViolation")("Missing HC keyword item picture url for hcm_id "+((l=l)!=null?l:"null"),"search")}b[8]!==k||b[9]!==a?(l=k!=null?i.jsxs(i.Fragment,{children:[i.jsx(c("FDSBadge.react"),{color:"blue"}),k]}):a,b[8]=k,b[9]=a,b[10]=l):l=b[10];var n=l;b[11]!==m?(k=m!=null?i.jsx(c("FDSProfilePhoto.react"),{shape:"roundedRect",size:36,source:{uri:m}}):null,b[11]=m,b[12]=k):k=b[12];b[13]!==e.label||b[14]!==f?(a=i.jsx(d("CometTypeaheadViewItemIcon.react").CometTypeaheadViewTypedIcon,{isActive:f,label:e.label}),b[13]=e.label,b[14]=f,b[15]=a):a=b[15];b[16]!==n?(l=function(a){return i.jsx(c("CometSearchBaseTypeaheadTitleSnippetViewItem.react"),{level:3,snippet:n,title:a})},b[16]=n,b[17]=l):l=b[17];b[18]!==e.label||b[19]!==j||b[20]!==l?(m=i.jsx(c("CometTypeaheadHighlight.react"),{content:e.label,query:j,strategy:"non-match",children:l}),b[18]=e.label,b[19]=j,b[20]=l,b[21]=m):m=b[21];b[22]!==e||b[23]!==f||b[24]!==g||b[25]!==h||b[26]!==k||b[27]!==a||b[28]!==m?(j=i.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},h,{entry:e,isActive:f,itemEndContent:k,itemStartContent:a,linkProps:g,children:m})),b[22]=e,b[23]=f,b[24]=g,b[25]=h,b[26]=k,b[27]=a,b[28]=m,b[29]=j):j=b[29];return j}g["default"]=a}),98);
__d("CometTypeaheadEntityViewItem.react",["CometSearchBaseTypeaheadTitleSnippetViewItem.react","CometTypeaheadViewItem.react","FDSProfilePhoto.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(23);if(b[0]!==a){var e=a.entry,f=a.isBadged,g=a.isOnline,h=a.meta,j=a.pictureUrl;a.queryString;var k=a.size,l=a.style,m=babelHelpers.objectWithoutPropertiesLoose(a,["entry","isBadged","isOnline","meta","pictureUrl","queryString","size","style"]);e=e;f=f;g=g;h=h;j=j;k=k;l=l;m=m;b[0]=a;b[1]=e;b[2]=h;b[3]=j;b[4]=m;b[5]=f;b[6]=g;b[7]=k;b[8]=l}else e=b[1],h=b[2],j=b[3],m=b[4],f=b[5],g=b[6],k=b[7],l=b[8];a=f===void 0?!1:f;f=g===void 0?!1:g;g=k===void 0?36:k;k=l===void 0?"circle":l;b[9]!==f||b[10]!==j||b[11]!==g||b[12]!==k?(l=j!=null?i.jsx(c("FDSProfilePhoto.react"),{addOn:f?{type:"availabilityBadge"}:void 0,shape:k,size:g,source:{uri:j}}):null,b[9]=f,b[10]=j,b[11]=g,b[12]=k,b[13]=l):l=b[13];b[14]!==e.label||b[15]!==a||b[16]!==h?(f=i.jsx(c("CometSearchBaseTypeaheadTitleSnippetViewItem.react"),{isBadged:a,level:3,snippet:h,title:e.label}),b[14]=e.label,b[15]=a,b[16]=h,b[17]=f):f=b[17];b[18]!==e||b[19]!==m||b[20]!==l||b[21]!==f?(j=i.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},m,{entry:e,itemStartContent:l,children:f})),b[18]=e,b[19]=m,b[20]=l,b[21]=f,b[22]=j):j=b[22];return j}g["default"]=a}),98);
__d("CometSearchTypeaheadRecentEntityViewItem.react",["fbt","CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react","CometTypeaheadEntityViewItem.react","CometTypeaheadFocusLockRegion.react","FDSBadge.react","PresenceStatusContext","qex","react","react-compiler-runtime","recoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useContext;function a(a){var b,e,f=d("react-compiler-runtime").c(21),g,i;f[0]!==a?(g=a.entry,i=babelHelpers.objectWithoutPropertiesLoose(a,["entry"]),f[0]=a,f[1]=g,f[2]=i):(g=f[1],i=f[2]);a=g.rawData;var l=a.badgeSnippet;a=a.profile;if(f[3]!==a){var m;m=(m=a)!=null?m:{};f[3]=a;f[4]=m}else m=f[4];a=m;m=a.id;var n=a.profilePictureURL;a=a.url;if(n==null){var o;c("recoverableViolation")("Missing profile picture for fbid "+((o=m)!=null?o:"null"),"search")}f[5]!==l?(o=l!=null?j.jsxs(j.Fragment,{children:[j.jsx(c("FDSBadge.react"),{accessibilityText:h._(/*BTDS*/"Recent updates"),color:"blue"}),l]}):void 0,f[5]=l,f[6]=o):o=f[6];o=o;b=(b=g.metaData.logging)==null?void 0:b.entityType;var p="circle";b!==null&&(b==="group"||b==="event")&&(p="roundedRect");b=k(c("PresenceStatusContext"));var q=!1;e=(e=c("qex")._("218"))!=null?e:!1;e&&m!=null&&(q=b.get(m)===2);e=l!=null;f[7]!==g?(b=j.jsx(c("CometTypeaheadFocusLockRegion.react"),{children:j.jsx(c("CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react"),{entry:g})}),f[7]=g,f[8]=b):b=f[8];f[9]!==a?(m={preventLocalNavigation:!0,url:a},f[9]=a,f[10]=m):m=f[10];f[11]!==g||f[12]!==q||f[13]!==o||f[14]!==n||f[15]!==i||f[16]!==p||f[17]!==e||f[18]!==b||f[19]!==m?(l=j.jsx(c("CometTypeaheadEntityViewItem.react"),babelHelpers["extends"]({},i,{entry:g,isBadged:e,isOnline:q,itemEndContent:b,itemEndContentKeyboardFocusable:!0,linkProps:m,meta:o,pictureUrl:n,size:36,style:p,testid:void 0})),f[11]=g,f[12]=q,f[13]=o,f[14]=n,f[15]=i,f[16]=p,f[17]=e,f[18]=b,f[19]=m,f[20]=l):l=f[20];return l}g["default"]=a}),226);
__d("CometSearchTypeaheadStructuredDirectNavKeywordRecentViewItem.react",["fbt","CometSearchBaseTypeaheadTitleSnippetViewItem.react","CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react","CometTypeaheadFocusLockRegion.react","CometTypeaheadViewItem.react","FDSBadge.react","FDSProfilePhoto.react","PresenceStatusContext","qex","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useContext;b.useMemo;function a(a){var b,e=d("react-compiler-runtime").c(29);if(e[0]!==a){var f=a.entry,g=a.isActive;a.queryString;var i=babelHelpers.objectWithoutPropertiesLoose(a,["entry","isActive","queryString"]);f=f;g=g;i=i;e[0]=a;e[1]=f;e[2]=g;e[3]=i}else f=e[1],g=e[2],i=e[3];a=f;a=a.rawData;var l=a.badgeSnippet;a=a.structuredInfo;if(e[4]!==(a==null?void 0:a.direct_nav_result)){var m;m=(m=a==null?void 0:a.direct_nav_result)!=null?m:{};e[4]=a==null?void 0:a.direct_nav_result;e[5]=m}else m=e[5];a=m;m=a.ent_id;var n=a.entity_type,o=a.img_url,p=a.link_url,q=a.snippet,r=a.title;a=a.type;var s;e[6]!==p?(s={preloadCodeOnMount:!0,preventLocalNavigation:!0,url:p},e[6]=p,e[7]=s):s=e[7];p=s;s=p;e[8]!==l||e[9]!==q?(p=l!=null?j.jsxs(j.Fragment,{children:[j.jsx(c("FDSBadge.react"),{accessibilityText:h._(/*BTDS*/"Recent updates"),color:"blue"}),l]}):q,e[8]=l,e[9]=q,e[10]=p):p=e[10];q=p;p="circle";a==="SHORTCUT"?p="square":(n==="group"||n==="event")&&(p="roundedRect");a=k(c("PresenceStatusContext"));n=!1;b=(b=c("qex")._("218"))!=null?b:!1;b&&m!=null&&(n=a.get(m)===2);e[11]!==f?(b=j.jsx(c("CometTypeaheadFocusLockRegion.react"),{children:j.jsx(c("CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react"),{entry:f})}),e[11]=f,e[12]=b):b=e[12];e[13]!==o||e[14]!==n||e[15]!==p?(a=o!=null?j.jsx(c("FDSProfilePhoto.react"),{addOn:n?{type:"availabilityBadge"}:void 0,shape:p,size:36,source:{uri:o}}):null,e[13]=o,e[14]=n,e[15]=p,e[16]=a):a=e[16];m=l!=null;e[17]!==q||e[18]!==m||e[19]!==r?(o=j.jsx(c("CometSearchBaseTypeaheadTitleSnippetViewItem.react"),{isBadged:m,level:3,snippet:q,title:r}),e[17]=q,e[18]=m,e[19]=r,e[20]=o):o=e[20];e[21]!==f||e[22]!==g||e[23]!==s||e[24]!==i||e[25]!==b||e[26]!==a||e[27]!==o?(n=j.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},i,{entry:f,isActive:g,itemEndContent:b,itemEndContentKeyboardFocusable:!0,itemStartContent:a,linkProps:s,testid:void 0,children:o})),e[21]=f,e[22]=g,e[23]=s,e[24]=i,e[25]=b,e[26]=a,e[27]=o,e[28]=n):n=e[28];return n}g["default"]=a}),226);
__d("CometSearchTypeaheadStructuredHighConfidenceKeywordRecentViewItem.react",["fbt","CometRow.react","CometRowItem.react","CometSearchBaseTypeaheadTitleSnippetViewItem.react","CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react","CometTypeaheadFocusLockRegion.react","CometTypeaheadViewItem.react","CometTypeaheadViewItemIcon.react","FDSBadge.react","FDSProfilePhoto.react","react","react-compiler-runtime","recoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b,e=d("react-compiler-runtime").c(32);if(e[0]!==a){var f=a.entry,g=a.isActive,i=a.linkProps;a.queryString;var k=babelHelpers.objectWithoutPropertiesLoose(a,["entry","isActive","linkProps","queryString"]);f=f;g=g;i=i;k=k;e[0]=a;e[1]=f;e[2]=g;e[3]=i;e[4]=k}else f=e[1],g=e[2],i=e[3],k=e[4];a=f;var l=a.label;a=a.rawData;var m=a.badgeSnippet;if(e[5]!==((b=a.structuredInfo)==null?void 0:b.high_confidence_result)){b=(b=(b=a.structuredInfo)==null?void 0:b.high_confidence_result)!=null?b:{};e[5]=(a=a.structuredInfo)==null?void 0:a.high_confidence_result;e[6]=b}else b=e[6];a=b;b=a.hcm_id;var n=a.picture_url;a=a.snippet;if(n==null){c("recoverableViolation")("Missing HC keyword item picture url for hcm_id "+((b=b)!=null?b:"null"),"search")}e[7]!==m||e[8]!==a?(b=m!=null?j.jsxs(j.Fragment,{children:[j.jsx(c("FDSBadge.react"),{accessibilityText:h._(/*BTDS*/"Recent updates"),color:"blue"}),m]}):a,e[7]=m,e[8]=a,e[9]=b):b=e[9];a=b;e[10]!==n?(b=n!=null?j.jsx(c("CometRowItem.react"),{children:j.jsx(c("FDSProfilePhoto.react"),{shape:"roundedRect",size:36,source:{uri:n}})}):null,e[10]=n,e[11]=b):b=e[11];e[12]!==f?(n=j.jsx(c("CometRowItem.react"),{children:j.jsx(c("CometTypeaheadFocusLockRegion.react"),{children:j.jsx(c("CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react"),{entry:f})})}),e[12]=f,e[13]=n):n=e[13];var o;e[14]!==b||e[15]!==n?(o=j.jsxs(c("CometRow.react"),{paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",children:[b,n]}),e[14]=b,e[15]=n,e[16]=o):o=e[16];e[17]!==g||e[18]!==l?(b=j.jsx(d("CometTypeaheadViewItemIcon.react").CometTypeaheadViewRecentIcon,{isActive:g,label:l}),e[17]=g,e[18]=l,e[19]=b):b=e[19];n=m!=null;e[20]!==l||e[21]!==a||e[22]!==n?(m=j.jsx(c("CometSearchBaseTypeaheadTitleSnippetViewItem.react"),{isBadged:n,level:3,snippet:a,title:l}),e[20]=l,e[21]=a,e[22]=n,e[23]=m):m=e[23];e[24]!==f||e[25]!==g||e[26]!==i||e[27]!==k||e[28]!==o||e[29]!==b||e[30]!==m?(l=j.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},k,{entry:f,isActive:g,itemEndContent:o,itemEndContentKeyboardFocusable:!0,itemStartContent:b,linkProps:i,children:m})),e[24]=f,e[25]=g,e[26]=i,e[27]=k,e[28]=o,e[29]=b,e[30]=m,e[31]=l):l=e[31];return l}g["default"]=a}),226);
__d("LSClearEpochBeforeResumeSync",["Promise","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return a.runInTransaction(function(a){var c;return(c=d("ReQL")).toArrayAsync(c.mergeJoin(c.fromTableAscending(a.sync_groups),c.fromTableAscending(a.network_requests).getKeyRange(""))).then(function(c){return(h||(h=b("Promise"))).all(c.map(function(b){b=b[1];return a.network_requests.put({epochId:void 0,failureCount:b.failureCount,lastDelayedRequestTimestampMs:b.lastDelayedRequestTimestampMs,lastSentTimestampMs:b.lastSentTimestampMs,lastSyncRequestTimestampMs:b.lastSyncRequestTimestampMs,networkTaskIdentifier:b.networkTaskIdentifier,syncDatabaseId:b.syncDatabaseId,taskQueueName:b.taskQueueName})}))}).then(function(){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.network_requests).filter(function(a){return a.taskQueueName!==""})).then(function(c){return(h||(h=b("Promise"))).all(c.map(function(b){return a.network_requests.put({epochId:void 0,failureCount:b.failureCount,lastDelayedRequestTimestampMs:b.lastDelayedRequestTimestampMs,lastSentTimestampMs:b.lastSentTimestampMs,lastSyncRequestTimestampMs:b.lastSyncRequestTimestampMs,networkTaskIdentifier:b.networkTaskIdentifier,syncDatabaseId:b.syncDatabaseId,taskQueueName:b.taskQueueName})}))})})},"readwrite","ui",void 0,f.id+":17").then(function(){return(h||(h=b("Promise"))).resolve()})}g.call=a}),98);
__d("LSPlatformGraphQLTransport",["FBLogger","I64","LSDynamicDependencies","LSProgramTarget","MessengerLogHistory","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h,i="LSPlatformGraphQLTransport.ServerError";async function a(a,b,e,f,g){var j=d("MessengerLogHistory").getInstance("client_sync"),k=null;try{k=await g(a,b,f,(h||(h=d("I64"))).to_int32(e))}catch(a){g=c("FBLogger")("messenger_web");a instanceof Error&&(j.error("Error sending Graphql Request. Type: "+(h||(h=d("I64"))).to_string(e)+" Message: "+(a.message!=null?a.message:"None")),g=g.catching(a),g.debug("Relay or Graphql Server error in LSPlatformGraphqlTransport"));throw g.mustfixThrow(i)}a=c("nullthrows")(k);b=a.dependencies;f=a.experiments;j=a.payload;var l=a.target;e=c("nullthrows")(j);g=b==null?Promise.resolve():d("LSDynamicDependencies").downloadRelayDependencies(b);k=Array.from(c("LSProgramTarget").members()).find(function(a){return c("LSProgramTarget").getName(a)===l});return[g,e,f,k]}g.ServerError=i;g.publish=a}),98);
__d("LSPlatformHardcodedInitSync",["CurrentMessengerUser","FBLogger","I64","IGDWebUtils","LSDatabaseAfterInitSyncSingleton","LSDatabaseProviderType","LSDict","LSIntEnum","LSJson","LSPlatformArmadilloUtils","LSPlatformGraphQLTransport","LSPlatformLsInitLog","MWPBumpEntityKey","MetaConfig","QuickPerformanceLogger","ReQL","getErrorSafe","gkx","isArmadillo","isInstamadillo","isRegisterArmadilloOnIgEnabled","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=c("isArmadillo")()||c("isRegisterArmadilloOnIgEnabled")()&&!c("isInstamadillo")(),l=!d("CurrentMessengerUser").isWorkUser()&&!d("IGDWebUtils").isOnInstagramWeb(),m=[1,k?95:null,l?104:null].filter(Boolean);function n(a){return a.runInTransaction(async function(a){return Promise.all(m.map(function(b){return a.network_requests.put({epochId:void 0,failureCount:(i||(i=d("I64"))).zero,lastDelayedRequestTimestampMs:void 0,lastSentTimestampMs:i.zero,lastSyncRequestTimestampMs:i.zero,networkTaskIdentifier:void 0,syncDatabaseId:(j||(j=d("LSIntEnum"))).ofNumber(b),taskQueueName:""})}))},"readwrite",void 0,void 0,f.id+":62").then(function(){return Promise.resolve()})}function o(a,b){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.network_requests).getKeyRange("",(j||(j=d("LSIntEnum"))).ofNumber(b)))}function p(a){return a.runInTransaction(function(a){return Promise.all(m.map(function(b){return o(a,b).then(function(b){return b!=null?a.network_requests.put({epochId:(i||(i=d("I64"))).zero,failureCount:b.failureCount,lastDelayedRequestTimestampMs:b.lastDelayedRequestTimestampMs,lastSentTimestampMs:b.lastSentTimestampMs,lastSyncRequestTimestampMs:b.lastSyncRequestTimestampMs,networkTaskIdentifier:b.networkTaskIdentifier,syncDatabaseId:b.syncDatabaseId,taskQueueName:b.taskQueueName}):Promise.resolve()})})).then(function(){})},"readwrite","ui",void 0,f.id+":97")}function q(a){if(d("LSDatabaseProviderType").isProviderPersisted(a)&&c("MetaConfig")._("76"))return a.runInTransaction(async function(a){var b=await o(a,1);b!=null&&await a.network_requests.put({epochId:void 0,failureCount:b.failureCount,lastDelayedRequestTimestampMs:b.lastDelayedRequestTimestampMs,lastSentTimestampMs:b.lastSentTimestampMs,lastSyncRequestTimestampMs:b.lastSyncRequestTimestampMs,networkTaskIdentifier:b.networkTaskIdentifier,syncDatabaseId:b.syncDatabaseId,taskQueueName:b.taskQueueName})},"readwrite","ui",void 0,f.id+":130");else return Promise.resolve()}function r(a){d("CurrentMessengerUser").isWorkUser()&&(h||(h=c("QuickPerformanceLogger"))).markerPoint(c("qpl")._(1036588047,"310"),a)}function s(a,b){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.sync_groups).getKeyRange((j||(j=d("LSIntEnum"))).ofNumber(b)))}function t(a,b,e,f){return new(c("LSDict"))().set("database",(j||(j=d("LSIntEnum"))).ofNumber(a)).set("epoch_id",(i||(i=d("I64"))).zero).set("last_applied_cursor",e).set("sync_params",(a=f)!=null?a:"{}").set("version",i.of_string(b))}function u(a){var b=0,c=0,e=function(e){c++;c===a&&d("LSPlatformLsInitLog").addPoint("gql_fetch_end");b===0&&d("LSPlatformLsInitLog").addPoint("gql_deps_start");return e.then(function(){b===0&&(d("LSPlatformLsInitLog").addPoint("ls_sync_execute_start"),d("LSPlatformLsInitLog").LsSync.markStart()),b++,b===a&&d("LSPlatformLsInitLog").addPoint("gql_deps_end")})};return e}var v=function(){return[Promise.resolve(),"",void 0,void 0]};async function a(a,b,e,f){try{var g=d("CurrentMessengerUser").isWorkUser();await p(e);var i=[1,k?95:void 0,l?104:void 0];i=await Promise.all(i.map(function(a){return a!=null?s(e,a):void 0}));var m=i[0],o=i[1];i=i[2];m=m==null?void 0:m.currentCursor;o=o==null?void 0:o.currentCursor;i=i==null?void 0:i.currentCursor;var w=t(1,a.schemaVersion,m,a.syncParams.mailbox),x=t(95,a.schemaVersion,o,a.syncParams.e2ee),y=t(104,a.schemaVersion,i,a.syncParams.communityExclusive),z={string:{mailboxSync:m!=null?"resume":"init"}};g&&(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(c("qpl")._(1036588047,"310"),z);d("LSPlatformLsInitLog").addPoint("ls_sync_start",z);d("LSPlatformArmadilloUtils").reportSyncStart();d("LSPlatformLsInitLog").addPoint("gql_fetch_start");r("start_contact");r("start_mailbox");var A=u(1+(k?1:0)+(l?1:0));g=d("LSPlatformGraphQLTransport").publish(f,0,m!=null?(j||(j=d("LSIntEnum"))).ofNumber(2):(j||(j=d("LSIntEnum"))).ofNumber(1),d("LSJson").stringify(w),a.executeGraphQLLightSpeedRequest).then(async function(a){r("mailbox_synced");d("LSPlatformLsInitLog").addPoint("gql_mailbox_fetch_end");await A(a[0]);return a}).catch(function(a){var b;d("LSPlatformArmadilloUtils").reportInitSyncFailure(a);d("LSPlatformLsInitLog").addPoint("gql_mailbox_fetch_failed",{string:{gql_mailbox_fetch_fail_reason:(b=a.message)!=null?b:"unknown"}});c("FBLogger")("messenger_web").catching(a).mustfix("Failed to sync mailbox");return v()});z=k?d("LSPlatformGraphQLTransport").publish(f,2,o!=null?(j||(j=d("LSIntEnum"))).ofNumber(2):(j||(j=d("LSIntEnum"))).ofNumber(1),d("LSJson").stringify(x),a.executeGraphQLLightSpeedRequest).then(async function(a){d("LSPlatformLsInitLog").addPoint("gql_e2ee_fetch_end");await A(a[0]);return a}).catch(function(a){var b;d("LSPlatformArmadilloUtils").reportInitSyncFailure(a);d("LSPlatformLsInitLog").addPoint("gql_e2ee_fetch_failed",{string:{gql_e2ee_fetch_fail_reason:(b=a.message)!=null?b:"unknown"}});c("FBLogger")("messenger_web").catching(a).mustfix("Failed to sync e2ee mailbox");return v()}):Promise.resolve(v());w=l?d("LSPlatformGraphQLTransport").publish(f,3,i!=null?(j||(j=d("LSIntEnum"))).ofNumber(2):(j||(j=d("LSIntEnum"))).ofNumber(1),d("LSJson").stringify(y),a.executeGraphQLLightSpeedRequest).then(async function(a){d("LSPlatformLsInitLog").addPoint("gql_cm_fetch_end");await A(a[0]);return a}).catch(function(a){var b;d("LSPlatformArmadilloUtils").reportInitSyncFailure(a);d("LSPlatformLsInitLog").addPoint("gql_cm_fetch_failed",{string:{gql_cm_fetch_fail_reason:(b=a.message)!=null?b:"unknown"}});c("FBLogger")("messenger_web").catching(a).mustfix("Failed to sync Community Exclusive mailbox");return v()}):Promise.resolve(v());if(c("gkx")("10695"))await Promise.all([z,g,w].map(function(a){return a.then(function(a){a[0];var c=a[1],d=a[2];a=a[3];if(c==="")return;return b({experiments:d,priority:"ui",syncScript:c,target:a})})}));else{o=await Promise.all([g,z,w]);for(x of o){x[0];f=x[1];i=x[2];y=x[3];if(f==="")continue;await b({experiments:i,priority:"ui",syncScript:f,target:y})}}m!=null&&await q(e);d("LSPlatformLsInitLog").LsSync.markEnd();r("sync_completed");d("LSPlatformLsInitLog").addPoint("ls_sync_execute_end");d("LSPlatformArmadilloUtils").reportSyncEnd();d("LSPlatformLsInitLog").addPoint("ls_sync_end");k&&d("LSPlatformArmadilloUtils").occamadilloInitEnd();d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_graphql","init_sync.success");d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_ls","init_sync.success");d("LSDatabaseAfterInitSyncSingleton").resolveInitSync(Promise.resolve(e))}catch(b){a=c("getErrorSafe")(b);d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_ls","init_sync.fail");r("sync_failed");d("LSPlatformLsInitLog").fail("init_sync_failure");try{d("LSPlatformArmadilloUtils").reportInitSyncFailure(a)}catch(a){}c("FBLogger")("messenger_web").catching(a).mustfix("Encountered an error while performining preloaded init sync request via graphql");return n(e)}}g.sendHardcodedInitSync=a}),98);
__d("MAWBridgeReceivedChatStateHandler",["I64","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","Promise","ServerTime","WAChatState","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,e){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,e.threadJid,"MAWBridgeReceivedChatStateHandler",function(a,f){var g=(i||(i=d("I64"))).of_string(e.senderId),j=i.of_float(3e3+d("ServerTime").getMillis());if(e.state===d("WAChatState").TYPING)return a.typing_indicator.upsert([f,g],{expirationTimestampMs:j,senderId:g,threadKey:f}).then(c("emptyFunction"));else if(e.state===d("WAChatState").IDLE)return a.typing_indicator["delete"](f,g).then(c("emptyFunction"));else return(h||(h=b("Promise"))).resolve()})}g.call=a}),98);
__d("MWChatStateV2CompareTabs",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a=a.openWatermark-b.openWatermark;if(a<0)return 1;else if(a>0)return-1;else return 0}function b(a,b){a=Math.max(a.minimizeWatermark,a.clientForcedMinimizeWatermark)-Math.max(b.minimizeWatermark,b.clientForcedMinimizeWatermark);if(a<0)return 1;else if(a>0)return-1;else return 0}f.byMostRecentOpened=a;f.byMostRecentMinimized=b}),66);
__d("MWChatStateV2TabGroups",["MWChatStateV2CompareTabs","MWChatStateV2IsMinimized","MWChatStateV2IsOpen","ODS"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b,c){var d=a.length;if(d>b&&b>0&&c!=null){var e=a.findIndex(function(a){return a.tabId===c});if(e!==-1&&e>=b&&e<d){d=function(b,c){var d=a[b];a[b]=a[c];a[c]=d};d(b-1|0,e)}}return a}function a(a,b,c,e){(h||(h=d("ODS"))).bumpEntityKey(3185,"chat_tab_groups","mediaViewerOpenWatermarkOpt."+(a==null||a===-1?"default":"set"));c=i(Array.from(b.values()).filter(function(b){return d("MWChatStateV2IsOpen").isOpen(a,b)}).sort(d("MWChatStateV2CompareTabs").byMostRecentOpened),e,c);b=Array.from(b.values()).filter(function(b){return d("MWChatStateV2IsMinimized").isMinimized(a,b)});return{minimizedTabs:b,openExcessTabs:c.slice(e,c.length),openTabs:c.slice(0,e)}}g.getTabGroups=a}),98);
__d("MercuryIDs",[],(function(a,b,c,d,e,f){"use strict";var g={isValid:function(a){return a==null||a===""||typeof a!=="string"?!1:/^\w{3,12}:.+/.test(a)},isValidThreadID:function(a){if(!g.isValid(a))return!1;a=g.tokenize(a);switch(a.type){case"user":case"support":case"thread":case"root":return!0;default:return!1}},tokenize:function(a){if(a==null||a===""||!g.isValid(a))throw new Error("bad_id_format "+String(a));var b=a.indexOf(":");return{type:a.substr(0,b),value:a.substr(b+1)}},getUserIDFromParticipantID:function(a){if(!g.isValid(a))throw new Error("bad_id_format "+a);a=g.tokenize(a);var b=a.type;a=a.value;return b==="fbid"?a:null},getParticipantIDFromUserID:function(a){if(isNaN(a))throw new Error("Not a user ID: "+a);return"fbid:"+a},getUserIDFromThreadID:function(a){return!this.isCanonical(a)?null:this.tokenize(a).value},getThreadIDFromUserID:function(a){return"user:"+a},getThreadIDFromThreadFBID:function(a){return"thread:"+a},getThreadIDFromSupportInboxItemID:function(a){return"support:"+a},getThreadFBIDFromThreadID:function(a){return this.tokenize(a).value},getThreadKeyfromThreadIDUserID:function(a,b){if(a==null||a===""||!g.isValid(a))throw new Error("bad_id_format "+String(a));var c=this.tokenize(a).type;a=this.tokenize(a).value;if(c!=="user")return"g"+a;c="";var d="";if(a.length!==b.length)c=a.length>b.length?a:b,d=a.length>b.length?b:a;else if(b===a)return b+"u"+a;else{var e=0;while(e<a.length&&e<b.length)if(a[e]===b[e])e++;else{c=a[e]>b[e]?a:b;d=a[e]>b[e]?b:a;break}}return d+"u"+c},getThreadIDFromParticipantID:function(a){a=this.getUserIDFromParticipantID(a);return a?this.getThreadIDFromUserID(a):null},getParticipantIDFromFromThreadID:function(a){a=this.getUserIDFromThreadID(a);return a?this.getParticipantIDFromUserID(a):null},getSupportInboxItemIDFromThreadID:function(a){return this.tokenize(a).value},isCanonical:function(a){return this.isValid(a)&&this.tokenize(a).type==="user"},isGroupChat:function(a){return this.isValid(a)&&this.tokenize(a).type!=="user"},isLocalThread:function(a){return this.isValid(a)&&this.tokenize(a).type==="root"}};e.exports=g}),null);
__d("cometSearchTypeaheadRecentEntityViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("entity")&&a.subtype==="recent"?a:null}f["default"]=a}),66);
__d("cometSearchTypeaheadStructuredDirectNavKeywordRecentViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("direct_nav")&&a.subtype==="recent"?a:null}f["default"]=a}),66);
__d("cometSearchTypeaheadStructuredDirectNavKeywordViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("keyword")&&b.has("direct_nav")?a:null}f["default"]=a}),66);
__d("cometSearchTypeaheadStructuredDisambiguationKeywordViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("disambiguation")&&a.subtype==="keyword"?a:null}f["default"]=a}),66);
__d("cometSearchTypeaheadStructuredHighConfidenceKeywordRecentViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("high_confidence")&&a.subtype==="recent"?a:null}f["default"]=a}),66);
__d("cometSearchTypeaheadStructuredHighConfidenceKeywordViewItem.resolver",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("high_confidence")&&(a.subtype==="keyword"||a.subtype==="bootstrap")?a:null}f["default"]=a}),66);
__d("searchCometGlobalTypeahead.config",[],(function(a,b,c,d,e,f){"use strict";a=8;b={dataSources:{bootstrapKeywordsDataSourceParams:{queryVariables:{first:2e3}},keywordDataSourceParams:{queryVariables:{fetch_count:a,fetch_mode:"blended"}}},logging:{sessionContext:"SEARCH_GLOBAL"},view:{renderLimit:a,sectionLimits:new Map([["other",a],["recent_searches",a]])}};f["default"]=b}),66);
__d("searchCometTypeaheadSTSMappings",["CometSearchTypeaheadBaseStructuredDirectNavKeywordViewItem.react","CometSearchTypeaheadBaseStructuredDisambiguationKeywordViewItem.react","CometSearchTypeaheadBaseStructuredHighConfidenceKeywordViewItem.react","CometSearchTypeaheadRecentEntityViewItem.react","CometSearchTypeaheadStructuredDirectNavKeywordRecentViewItem.react","CometSearchTypeaheadStructuredHighConfidenceKeywordRecentViewItem.react","cometSearchTypeaheadRecentEntityViewItem.resolver","cometSearchTypeaheadStructuredDirectNavKeywordRecentViewItem.resolver","cometSearchTypeaheadStructuredDirectNavKeywordViewItem.resolver","cometSearchTypeaheadStructuredDisambiguationKeywordViewItem.resolver","cometSearchTypeaheadStructuredHighConfidenceKeywordRecentViewItem.resolver","cometSearchTypeaheadStructuredHighConfidenceKeywordViewItem.resolver","filterNulls"],(function(a,b,c,d,e,f,g){"use strict";a=c("filterNulls")([{resolver:c("cometSearchTypeaheadStructuredDirectNavKeywordViewItem.resolver"),viewItem:c("CometSearchTypeaheadBaseStructuredDirectNavKeywordViewItem.react")},{resolver:c("cometSearchTypeaheadStructuredHighConfidenceKeywordViewItem.resolver"),viewItem:c("CometSearchTypeaheadBaseStructuredHighConfidenceKeywordViewItem.react")},{resolver:c("cometSearchTypeaheadStructuredDisambiguationKeywordViewItem.resolver"),viewItem:c("CometSearchTypeaheadBaseStructuredDisambiguationKeywordViewItem.react")},{resolver:c("cometSearchTypeaheadStructuredDirectNavKeywordRecentViewItem.resolver"),viewItem:c("CometSearchTypeaheadStructuredDirectNavKeywordRecentViewItem.react")},{resolver:c("cometSearchTypeaheadStructuredHighConfidenceKeywordRecentViewItem.resolver"),viewItem:c("CometSearchTypeaheadStructuredHighConfidenceKeywordRecentViewItem.react")},{resolver:c("cometSearchTypeaheadRecentEntityViewItem.resolver"),viewItem:c("CometSearchTypeaheadRecentEntityViewItem.react")}]);g["default"]=a}),98);
__d("useSubscriptionValue",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){var h;b=h||d("react");b.useCallback;var i=b.useEffect,j=b.useState;function a(a){var b=d("react-compiler-runtime").c(10),c=a.getCurrentValue,e=a.subscribe;b[0]!==c?(a=function(){return c()},b[0]=c,b[1]=a):a=b[1];a=j(a);var f=a[0],g=a[1];b[2]!==c?(a=function(){g(c)},b[2]=c,b[3]=a):a=b[3];var h=a;b[4]!==c?(a=function(){return c},b[4]=c,b[5]=a):a=b[5];a=j(a);var k=a[0];a=a[1];k!==c&&(a(function(){return c}),h());b[6]!==h||b[7]!==e?(k=function(){var a;a=!1;var b=function(){a||h()},c=e(b);h();return function(){a=!0,c()}},a=[h,e],b[6]=h,b[7]=e,b[8]=k,b[9]=a):(k=b[8],a=b[9]);i(k,a);return f}g["default"]=a}),98);
__d("useWindowSize",["ExecutionEnvironment","react","react-compiler-runtime","throttle","useSubscriptionValue"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useCallback;function j(){return!(h||(h=c("ExecutionEnvironment"))).canUseDOM?{innerHeight:0,innerWidth:0,outerHeight:0,outerWidth:0}:{innerHeight:window.innerHeight,innerWidth:window.innerWidth,outerHeight:window.outerHeight,outerWidth:window.outerWidth}}function a(a){var b=d("react-compiler-runtime").c(4),e=a===void 0?500:a;b[0]!==e?(a=function(a){var b=c("throttle")(a,e);window.addEventListener("resize",b);return function(){window.removeEventListener("resize",b)}},b[0]=e,b[1]=a):a=b[1];a=a;var f;b[2]!==a?(f={getCurrentValue:j,subscribe:a},b[2]=a,b[3]=f):f=b[3];return c("useSubscriptionValue")(f)}g["default"]=a}),98);
__d("useMWChatStateV2MaxTabCount",["useWindowSize"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("useWindowSize")();b=b.innerWidth;if(b<1100||a)return 1;a=(b/2|0)-90|0;b=a/338;return b<1?1:Math.ceil(b)}g["default"]=a}),98);
__d("useMWIsTopLevelRouteMediaViewerExperiment",["MWChatVisibileRoutes","react-compiler-runtime","useCometRouterState"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("react-compiler-runtime").c(2),b=c("useCometRouterState")();if(b==null)return!1;var e=b.main;b=b.pushViewStack;b=b&&b.length>0?b[b.length-1]:e;if(a[0]!==((e=b.route)==null?void 0:e.tracePolicy)){e=d("MWChatVisibileRoutes").ROUTES.has((e=(e=b.route)==null?void 0:e.tracePolicy)!=null?e:"");a[0]=(b=b.route)==null?void 0:b.tracePolicy;a[1]=e}else e=a[1];return e}g["default"]=a}),98);
__d("useSearchCometGlobalTypeaheadCompositeDataSource",["useSearchCometTypeaheadCompositeDataSource"],(function(a,b,c,d,e,f,g){"use strict";var h={instance:null};function a(a){a=c("useSearchCometTypeaheadCompositeDataSource")(a);h.instance==null&&(h.instance=a);return h.instance}g["default"]=a}),98);
__d("useSearchCometGlobalTypeaheadNullStateDataSource",["react-compiler-runtime","useSearchCometRecentSearchDataSource"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={fetchSearchBadge:Boolean(!0),filter:"all",nullStateSurface:"GLOBAL"},a[0]=b):b=a[0];return c("useSearchCometRecentSearchDataSource")(b)}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("CometFeedInlineComposerPressableProfilePic_profile.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedInlineComposerPressableProfilePic_profile",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"Entity",abstractKey:"__isEntity"},{args:null,kind:"FragmentSpread",name:"CometFeedInlineComposerProfilePic_profile"},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"Profile",abstractKey:"__isProfile"};e.exports=a}),null);
__d("CometFeedInlineComposerProfilePic_profile.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"CometFeedInlineComposerProfilePic_profile",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:40},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],type:"Profile",abstractKey:"__isProfile"};e.exports=a}),null);
__d("CometFeedInlineComposerProfilePic.react",["ix","CometFeedInlineComposerProfilePic_profile.graphql","CometRelay","FDSProfilePhoto.react","react","react-compiler-runtime","react-strict-dom","recoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react");function a(a){var e=d("react-compiler-runtime").c(8);a=a.profile$key;a=d("CometRelay").useFragment(i!==void 0?i:i=b("CometFeedInlineComposerProfilePic_profile.graphql"),a);if(a==null||a.id==null){var f;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=c("recoverableViolation")("Unable to fetch profile for composer profile pic","comet_composer"),e[0]=f):f=e[0];return f}f=a==null?void 0:(f=a.profile_picture)==null?void 0:f.uri;a="Composer-ProfilePic-"+a.id;var g;e[1]!==f?(g=f!=null?f:h("762679"),e[1]=f,e[2]=g):g=e[2];e[3]!==g?(f=k.jsx(c("FDSProfilePhoto.react"),{shape:"circle",size:40,source:{uri:g}}),e[3]=g,e[4]=f):f=e[4];e[5]!==a||e[6]!==f?(g=k.jsx(d("react-strict-dom").html.div,{"data-testid":void 0,children:f}),e[5]=a,e[6]=f,e[7]=g):g=e[7];return g}g["default"]=a}),98);
__d("CometFeedInlineComposerPressableProfilePic.react",["fbt","CometFeedInlineComposerPressableProfilePic_profile.graphql","CometFeedInlineComposerProfilePic.react","CometPressable.react","CometRelay","FBLogger","XPlatReactEnvironment","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l={profilePic:{display:"x78zum5",marginEnd:"x1emribx",$$css:!0}};function a(a){var e=d("react-compiler-runtime").c(12),f=a.disableDefaultProfileURI,g=a.onClick;a=a.profile$key;a=d("CometRelay").useFragment(i!==void 0?i:i=b("CometFeedInlineComposerPressableProfilePic_profile.graphql"),a);if(a==null){var j;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(j=c("FBLogger")("comet_composer").mustfix("Unable to fetch profile for composer profile pic"),e[0]=j):j=e[0];return j}j=f===!0?null:a==null?void 0:a.url;e[1]!==(a==null?void 0:a.name)?(f=(a==null?void 0:a.name)!=null?h._(/*BTDS*/"{userName}'s Timeline",[h._param("userName",a==null?void 0:a.name)]):h._(/*BTDS*/"Profile"),e[1]=a==null?void 0:a.name,e[2]=f):f=e[2];var m;e[3]!==j?(m={routeTarget:d("XPlatReactEnvironment").isWeb()?"self":void 0,url:j},e[3]=j,e[4]=m):m=e[4];e[5]!==a?(j=k.jsx(c("CometFeedInlineComposerProfilePic.react"),{profile$key:a}),e[5]=a,e[6]=j):j=e[6];e[7]!==g||e[8]!==f||e[9]!==m||e[10]!==j?(a=k.jsx(c("CometPressable.react"),{"aria-label":f,linkProps:m,onPress:g,overlayRadius:"50%",xstyle:l.profilePic,children:j}),e[7]=g,e[8]=f,e[9]=m,e[10]=j,e[11]=a):a=e[11];return a}g["default"]=a}),226);
__d("CometFeedInlineComposerWOYM_profile.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedInlineComposerWOYM_profile",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null}],type:"User",abstractKey:null}],type:"Actor",abstractKey:"__isActor"};e.exports=a}),null);
__d("TextInputButton.react",["CometPressable.react","FDSBadge.react","FDSIcon.react","FDSLineClamp.react","FDSProfilePhoto.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=40,k={root:{alignItems:"x6s0dn4",backgroundColor:"xmjcpbm",borderTopStartRadius:"x107yiy2",borderTopEndRadius:"xv8uw2v",borderBottomEndRadius:"x1tfwpuw",borderBottomStartRadius:"x2g32xy",display:"x78zum5",flexDirection:"x1q0g3np",flexGrow:"x1iyjqo2",height:"x1vqgdyp",justifyContent:"x1nhvcw1",paddingEnd:"xn6708d",paddingStart:"x1ye3gou",position:"x1n2onr6",$$css:!0},rootMultiLine:{height:"xt7dq6l",minHeight:"x1ba4aug",paddingTop:"x1y1aw1k",paddingEnd:"xn6708d",paddingBottom:"xwib8y2",paddingStart:"x1ye3gou",$$css:!0},selected:{backgroundColor:"x1hr4nm9",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(38),e=a.disabled,f=a.hasNewContentBadge,g=a.image,h=a.isUserEnteredPreviewText,l=a.label,m=a.labelMaxLines,n=a.linkProps,o=a.onHoverIn,p=a.onHoverOut,q=a.onPress,r=a.onPressIn,s=a.preserveLabelNewlines,t=a.ref,u=a.selected,v=a.testid;a=a.testOnly_pressed;e=e===void 0?!1:e;f=f===void 0?!1:f;h=h===void 0?!1:h;m=m===void 0?2:m;s=s===void 0?!1:s;var w=u===void 0?!1:u;u=null;if(f){b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"x14yjl9h xudhj91 x18nykt9 xww2gxu x78zum5 x1qhkwwh x6ikm8r x10wlt62 x10l6tqk x13vifvy"},b[0]=f):f=b[0];var x=e?"gray":"blue";b[1]!==x?(f=i.jsx("div",babelHelpers["extends"]({},f,{children:i.jsx(c("FDSBadge.react"),{border:"white",color:x,isProfileBadge:!0,size:6})})),b[1]=x,b[2]=f):f=b[2];u=f}x=null;if(g!=null)if(g.type==="icon"){f=w===!0?"highlight":null;var y;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(y={className:"xlup9mm x1w0mnb"},b[3]=y):y=b[3];f=e?"disabled":(f=f)!=null?f:"primary";b[4]!==g.icon||b[5]!==f?(y=i.jsx("div",babelHelpers["extends"]({},y,{children:i.jsx(c("FDSIcon.react"),{color:f,icon:g.icon,size:16})})),b[4]=g.icon,b[5]=f,b[6]=y):y=b[6];x=y}else if(g.type==="profile-photo"&&g.source!=null){b[7]!==e?(f={0:{className:"x78zum5 x1w0mnb xp7jhwk"},1:{className:"x78zum5 x1w0mnb xp7jhwk xuzhngd"}}[!!e<<0],b[7]=e,b[8]=f):f=b[8];b[9]!==g.source?(y=i.jsx(c("FDSProfilePhoto.react"),{shape:"circle",size:28,source:g.source}),b[9]=g.source,b[10]=y):y=b[10];b[11]!==f||b[12]!==y?(g=i.jsx("div",babelHelpers["extends"]({},f,{children:y})),b[11]=f,b[12]=y,b[13]=g):g=b[13];x=g}b[14]!==h||b[15]!==s?(f={0:{className:"xi81zsa x1lkfr7t xkjl1po x1mzt3pk xh8yej3 x13faqbe"},2:{className:"x1lkfr7t xkjl1po x1mzt3pk xh8yej3 x13faqbe xzsf02u"},1:{className:"xi81zsa x1lkfr7t xkjl1po x1mzt3pk xh8yej3 x13faqbe x126k92a"},3:{className:"x1lkfr7t xkjl1po x1mzt3pk xh8yej3 x13faqbe xzsf02u x126k92a"}}[!!(h===!0)<<1|!!(s===!0)<<0],b[14]=h,b[15]=s,b[16]=f):f=b[16];b[17]!==l||b[18]!==m?(y=i.jsx(c("FDSLineClamp.react"),{lines:m,children:l}),b[17]=l,b[18]=m,b[19]=y):y=b[19];b[20]!==f||b[21]!==y?(g=i.jsx("div",babelHelpers["extends"]({},f,{children:y})),b[20]=f,b[21]=y,b[22]=g):g=b[22];h=g;s=e?void 0:q;l=e?void 0:r;b[23]!==w?(m=function(){return[k.root,k.rootMultiLine,w===!0&&k.selected]},b[23]=w,b[24]=m):m=b[24];b[25]!==u||b[26]!==e||b[27]!==x||b[28]!==h||b[29]!==n||b[30]!==o||b[31]!==p||b[32]!==s||b[33]!==l||b[34]!==m||b[35]!==a||b[36]!==v?(f=i.jsxs(c("CometPressable.react"),{disabled:e,display:"inline",linkProps:n,onHoverIn:o,onHoverOut:p,onPress:s,onPressIn:l,overlayRadius:j/2,ref:t,testOnly_pressed:a,testid:void 0,xstyle:m,children:[u,x,h]}),b[25]=u,b[26]=e,b[27]=x,b[28]=h,b[29]=n,b[30]=o,b[31]=p,b[32]=s,b[33]=l,b[34]=m,b[35]=a,b[36]=v,b[37]=f):f=b[37];return f}g["default"]=a}),98);
__d("CometFeedInlineComposerWOYM.react",["CometFeedInlineComposerWOYM_profile.graphql","CometRefineRef","CometRelay","TextInputButton.react","cr:1654613","mergeRefs","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e,f=a.additionalInputButtonRef,g=a.onHoverInPrerenderer,i=a.onHoverOutPrerenderer,k=a.onPress,l=a.onPressInPrerenderer,m=a.postPlainText,n=a.profile$key;a=a.triggerRef;n=d("CometRelay").useFragment(h!==void 0?h:h=b("CometFeedInlineComposerWOYM_profile.graphql"),n);n=b("cr:1654613")(n==null?void 0:n.short_name);e=(e=m)!=null?e:n;return j.jsx(c("TextInputButton.react"),{isUserEnteredPreviewText:m!=null,label:e,onHoverIn:g,onHoverOut:i,onPress:k,onPressIn:l,ref:c("mergeRefs")(c("CometRefineRef")(a),f),testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometInlineComposerSproutListMatcher.react",["CometRelay","react","react-compiler-runtime","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(5),c,e;b[0]!==a?(e=a.sprouts,c=babelHelpers.objectWithoutPropertiesLoose(a,["sprouts"]),b[0]=a,b[1]=c,b[2]=e):(c=b[1],e=b[2]);a=j(e,c);b[3]!==a?(e=i.jsx(i.Fragment,{children:a}),b[3]=a,b[4]=e):e=b[4];return e}function j(a,b){var e=d("react-compiler-runtime").c(7);a==null&&c("recoverableViolation")("Server failed to provide a valid inline sprouts object for the composer.","comet_composer");if(e[0]!==a){var f;f=(f=a)!=null?f:[];e[0]=a;e[1]=f}else f=e[1];if(e[2]!==b||e[3]!==f){e[5]!==b?(a=function(a,c){return i.jsx(d("CometRelay").MatchContainer,{match:a,props:b},c)},e[5]=b,e[6]=a):a=e[6];a=f.map(a);e[2]=b;e[3]=f;e[4]=a}else a=e[4];return a}g.CometInlineComposerSproutListMatcher=a;g.useMatcher=j}),98);
__d("StoriesTrayTileContentV2.react",["ix","CometBackgroundImage.react","CometColumn.react","CometColumnItem.react","CometRelay","FBVRLinearGradient","FDSIcon.react","FDSText.react","FDSTextPairing.react","StoriesEnums","StoriesRatioBox.react","XPlatReactEnvironment","cr:17132","cr:20107","fbicon","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useRef,l=200*9/16,m=50,n="linear-gradient(180deg,\n    rgba(0, 0, 0, 0) 0%,\n    rgba(0, 0, 0, 0.0029348165) 11.79%,\n    rgba(0, 0, 0, 0.01134518) 21.38%,\n    rgba(0, 0, 0, 0.02464) 29.12%,\n    rgba(0, 0, 0, 0.0422282) 35.34%,\n    rgba(0, 0, 0, 0.06351835) 40.37%,\n    rgba(0, 0, 0, 0.08792) 44.56%,\n    rgba(0, 0, 0, 0.11484165) 48.24%,\n    rgba(0, 0, 0, 0.1436918) 51.76%,\n    rgba(0, 0, 0, 0.17388) 55.44%,\n    rgba(0, 0, 0, 0.20481475) 59.63%,\n    rgba(0, 0, 0, 0.23590525) 64.66%,\n    rgba(0, 0, 0, 0.26656) 70.88%,\n    rgba(0, 0, 0, 0.2961882) 78.62%,\n    rgba(0, 0, 0, 0.32419835) 88.21%,\n    rgba(0, 0, 0, 0.35) 100%\n    )",o={background:function(a){return[{backgroundColor:a==null?null:"xr5ldyu",transform:"x3oybdh",transformOrigin:"x1g0ag68",transitionDuration:"xx6bhzk",transitionProperty:"x11xpdln",transitionTimingFunction:"xcj1dhv",$$css:!0},{"--backgroundColor":a!=null?a:void 0}]},backgroundFocused:{transform:"x1nhozj7",$$css:!0},coverImageFilter:{backgroundColor:"x1sag07j",$$css:!0},full:{bottom:"x1ey2m1c",boxSizing:"x9f619",end:"xds687c",start:"x17qophe",left:null,right:null,position:"x10l6tqk",top:"x13vifvy",$$css:!0},gradientContainer:{aspectRatio:"x1vf6whn",backgroundImage:"x123ep6o",$$css:!0},gradientContainerNative:{height:"x10wjd1d",$$css:!0},icon:{alignItems:"x6s0dn4",boxSizing:"x9f619",display:"x78zum5",paddingBottom:"xsag5q8",paddingStart:"xurb0ha",textAlign:"x1yc453h",width:"xh8yej3",$$css:!0},iconContainer:{display:"x78zum5",$$css:!0},overlayContainer:{height:"x5yr21d",width:"xh8yej3",$$css:!0},pointerEventsNone:{pointerEvents:"x47corl",$$css:!0},text:{paddingStart:"x1e558r4",$$css:!0},textIconShadowStyle:{filter:"xnt7nc8",$$css:!0},textWrapper:{boxSizing:"x9f619",textAlign:"x1yc453h",width:"xh8yej3",$$css:!0},title:function(a){return[{paddingTop:a==null?null:"x2huve6",paddingEnd:a==null?null:"xphm37l",paddingBottom:a==null?null:"x12w1swl",paddingStart:a==null?null:"x1sjcdi1",$$css:!0},{"--padding":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}(a)}]},titleWithRightPadding:function(a){return[{paddingEnd:a==null?null:"xvp1vtd",$$css:!0},{"--paddingInlineEnd":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}(a)}]},titleWithTopPadding:{paddingTop:"xexx8yu",$$css:!0},titleWrapper:{alignItems:"x6s0dn4",boxSizing:"x9f619",display:"x78zum5",textAlign:"x1yc453h",width:"xh8yej3",$$css:!0},warningScreenContainer:{zIndex:"x1ja2u2z",$$css:!0}};function a(a){var e=d("react-compiler-runtime").c(50),f=a.aspectRatioReal,g=a.avatarInteractable,i=a.backgroundColor,p=a.bucketType,q=a.bucketUrl,r=a.coverImage,s=a.coverImageNullElement,t=a.isSmall,u=a.likeCount,v=a.metaText,w=a.numLines,x=a.playCount,y=a.pressableState,z=a.text,A=a.tileAvatar,B=a.tilePadding,C=a.title,D=a.videoAutoplayWrapper;a=a.warningScreen;k(b("cr:20107"));var E=C!=null,F=z!=null&&C==null,G=x!=null,H=u!=null&&u!=="0",I=!E&&!F&&!G&&!H;y=(y=(y==null?void 0:y.hovered)||(y==null?void 0:y.focused)&&(y==null?void 0:y.focusVisible))!=null?y:!1;if(Object.values(d("StoriesEnums").CONVERSATION_STORY_BUCKET_TYPES).includes(p)&&b("cr:17132")){var J;e[0]!==p?(J=j.jsx(d("react-strict-dom").html.div,{children:j.jsx(b("cr:17132"),{bucketType:p})}),e[0]=p,e[1]=J):J=e[1];p=J}else{J=!g&&A!=null?A:null;e[2]!==J?(g=j.jsx(d("react-strict-dom").html.div,{style:o.textIconShadowStyle,children:J}),e[2]=J,e[3]=g):g=e[3];p=g}J=(A=f)!=null?A:1;if(e[4]!==i||e[5]!==q||e[6]!==r||e[7]!==s||e[8]!==y||e[9]!==D||e[10]!==a){f=r!=null?j.jsxs(d("react-strict-dom").html.div,{style:[o.background(i),y&&o.backgroundFocused,o.full],children:[D!=null?D:j.jsx(c("CometBackgroundImage.react"),{height:"100%",src:r}),a!=null&&j.jsx(d("react-strict-dom").html.div,{style:[o.full,o.warningScreenContainer],children:j.jsx(d("CometRelay").MatchContainer,{match:a,props:{alwaysShowCoverComponent:!0,alwaysShowDetails:!1,alwaysUseSmallLayout:!0,data:a,mediaUri:(g=r)!=null?g:"",surface:"story_tray",url:q}})})]}):s;e[4]=i;e[5]=q;e[6]=r;e[7]=s;e[8]=y;e[9]=D;e[10]=a;e[11]=f}else f=e[11];e[12]!==p?(A=j.jsx(c("CometColumnItem.react"),{expanding:!0,children:p}),e[12]=p,e[13]=A):A=e[13];e[14]!==I?(g=d("XPlatReactEnvironment").isWeb()?j.jsx(d("react-strict-dom").html.div,{style:I?null:o.gradientContainer}):I?null:j.jsx(d("react-strict-dom").html.div,{style:o.gradientContainerNative,children:j.jsx(c("FBVRLinearGradient"),{config:n,height:m,width:l})}),e[14]=I,e[15]=g):g=e[15];e[16]!==g?(i=j.jsx(c("CometColumnItem.react"),{children:g}),e[16]=g,e[17]=i):i=e[17];q=I?null:o.coverImageFilter;e[18]!==E||e[19]!==z||e[20]!==B||e[21]!==C?(r=E?j.jsx(d("react-strict-dom").html.div,{style:[o.titleWrapper,o.pointerEventsNone,o.textIconShadowStyle,B&&o.title(B.padding),(B==null?void 0:B.paddingRight)!=null&&o.titleWithRightPadding(B.paddingRight),o.titleWithTopPadding],children:j.jsx(c("FDSTextPairing.react"),{headline:C,headlineColor:"primaryOnMedia",level:4,meta:z,metaColor:"primaryOnMedia"})}):null,e[18]=E,e[19]=z,e[20]=B,e[21]=C,e[22]=r):r=e[22];e[23]!==F||e[24]!==t||e[25]!==v||e[26]!==w||e[27]!==z||e[28]!==B?(s=F?j.jsx(d("react-strict-dom").html.div,{style:[o.textWrapper,o.pointerEventsNone,o.textIconShadowStyle,B&&o.title(B.padding),(B==null?void 0:B.paddingRight)!=null&&o.titleWithRightPadding(B.paddingRight),o.titleWithTopPadding],children:j.jsx(c("FDSTextPairing.react"),{body:j.jsx(c("FDSText.react"),{color:"primaryOnMedia",numberOfLines:w,testid:void 0,type:t?"bodyLink4":"bodyLink3",children:z}),level:4,meta:v,metaColor:"secondaryOnMedia",metaLineLimit:1,metaLocation:"above"})}):null,e[23]=F,e[24]=t,e[25]=v,e[26]=w,e[27]=z,e[28]=B,e[29]=s):s=e[29];e[30]!==G||e[31]!==x?(y=G?j.jsxs(d("react-strict-dom").html.div,{style:o.icon,children:[j.jsx(d("react-strict-dom").html.div,{style:[o.textIconShadowStyle,o.iconContainer],children:j.jsx(c("FDSIcon.react"),{color:"white",icon:d("fbicon")._(h("484861"),12)})}),j.jsx(d("react-strict-dom").html.div,{style:[o.text,o.textIconShadowStyle],children:j.jsx(c("FDSText.react"),{color:"primaryOnMedia",numberOfLines:1,type:"bodyLink4",children:x})})]}):null,e[30]=G,e[31]=x,e[32]=y):y=e[32];e[33]!==H||e[34]!==u?(D=H?j.jsxs(d("react-strict-dom").html.div,{style:o.icon,children:[j.jsx(d("react-strict-dom").html.div,{style:[o.textIconShadowStyle,o.iconContainer],children:j.jsx(c("FDSIcon.react"),{color:"white",icon:d("fbicon")._(h("509920"),12)})}),j.jsx(d("react-strict-dom").html.div,{style:[o.text,o.textIconShadowStyle],children:j.jsx(c("FDSText.react"),{color:"primaryOnMedia",numberOfLines:1,type:"bodyLink4",children:u})})]}):null,e[33]=H,e[34]=u,e[35]=D):D=e[35];e[36]!==D||e[37]!==q||e[38]!==r||e[39]!==s||e[40]!==y?(a=j.jsx(c("CometColumnItem.react"),{children:j.jsxs(d("react-strict-dom").html.div,{style:q,children:[r,s,y,D]})}),e[36]=D,e[37]=q,e[38]=r,e[39]=s,e[40]=y,e[41]=a):a=e[41];e[42]!==a||e[43]!==A||e[44]!==i?(p=j.jsxs(c("CometColumn.react"),{paddingHorizontal:0,paddingVertical:0,xstyle:o.overlayContainer,children:[A,i,a]}),e[42]=a,e[43]=A,e[44]=i,e[45]=p):p=e[45];e[46]!==J||e[47]!==p||e[48]!==f?(g=j.jsxs(c("StoriesRatioBox.react"),{height:1,width:J,children:[f,p]}),e[46]=J,e[47]=p,e[48]=f,e[49]=g):g=e[49];return g}g["default"]=a}),98);
__d("StoriesTrayTileConversationSparkHeader.react",["fbt","FDSText.react","StoriesEnums","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={birthdayText:{backgroundColor:"x1jx94hy",borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",start:"xoie2o3",left:null,right:null,paddingTop:"x1iorvi4",paddingBottom:"xjkvuk6",paddingStart:"x1k2j06m",paddingEnd:"x10ogl3i",paddingLeft:null,paddingRight:null,position:"x10l6tqk",textAlign:"x2b8uid",top:"x1tk7jg1",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(4);a=a.bucketType;if(!Object.values(d("StoriesEnums").CONVERSATION_STORY_BUCKET_TYPES).includes(a))return null;var e;b[0]!==a?(e=a===d("StoriesEnums").CONVERSATION_STORY_BUCKET_TYPES.CONVERSATION_STARTER_STORY&&j.jsx(d("react-strict-dom").html.div,{style:k.birthdayText,children:j.jsx(c("FDSText.react"),{color:"primary",type:"meta4",children:h._(/*BTDS*/"Birthday")})}),b[0]=a,b[1]=e):e=b[1];b[2]!==e?(a=j.jsx(d("react-strict-dom").html.div,{children:e}),b[2]=e,b[3]=a):a=b[3];return a}g["default"]=a}),226);
__d("StoriesTrayTileView_LWRAnimations.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoriesTrayTileView_LWRAnimations",selections:[{args:null,kind:"FragmentSpread",name:"StoriesTrayTileReactionIconWrapper_LWRAnimations"}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("StoriesTrayTileView_warningScreen.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoriesTrayTileView_warningScreen",selections:[{args:null,documentName:"StoriesTrayTileView_warningScreen",fragmentName:"CometWarningScreenOverlay_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"OverlayWarningScreenViewModel",abstractKey:null};e.exports=a}),null);
__d("cometValidateAsElementRect",[],(function(a,b,c,d,e,f){"use strict";function a(a){return typeof a==="object"?{bottom:typeof (a==null?void 0:a.bottom)==="number"?a.bottom:0,height:typeof (a==null?void 0:a.height)==="number"?a.height:0,left:typeof (a==null?void 0:a.left)==="number"?a.left:0,right:typeof (a==null?void 0:a.right)==="number"?a.right:0,top:typeof (a==null?void 0:a.top)==="number"?a.top:0,width:typeof (a==null?void 0:a.width)==="number"?a.width:0}:{bottom:0,height:0,left:0,right:0,top:0,width:0}}f["default"]=a}),66);
__d("StoriesTrayTileView.react",["CometPressable.react","CometRelay","StoriesConstants","StoriesGating","StoriesTrayTileView_LWRAnimations.graphql","StoriesTrayTileView_warningScreen.graphql","TopOfFeedLoggingContext","cometValidateAsElementRect","cr:5063","cr:6579","react","react-compiler-runtime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));e=j;var l=e.useContext,m=e.useRef,n=c("requireDeferred")("ODS").__setRef("StoriesTrayTileView.react"),o=12,p=8,aa=46,q={boxShadow:{boxShadow:"x2pq9lr",$$css:!0},button:{appearance:"xjyslct",backgroundColor:"xjbqb8w",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x972fbf",borderEndWidth:"xcfux6l",borderBottomWidth:"x1qhh985",borderStartWidth:"xm0m39n",boxSizing:"x9f619",display:"x1lliihq",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",position:"x1n2onr6",textAlign:"x16tdsg8",width:"xh8yej3",zIndex:"x1ja2u2z",":active_transform":"xk4oym4",$$css:!0},buttonFocused:{filter:"x14xfefy",$$css:!0},tile:{backgroundColor:"x1qhmfi1",borderTopStartRadius:"x1a2cdl4",borderTopEndRadius:"xnhgr82",borderBottomEndRadius:"x1qt0ttw",borderBottomStartRadius:"xgk8upj",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}},r=function(a){var b=a.showOutline?k.jsx("div",{className:"x1a2cdl4 xnhgr82 x1qt0ttw xgk8upj x1ey2m1c xlg9a9y x9f619 xds687c x17qophe x47corl x10l6tqk x13vifvy"}):null;return k.jsxs("div",babelHelpers["extends"]({className:"x1n2onr6"},{children:[a.children,b]}))};function a(a){var e=d("react-compiler-runtime").c(72),f=a.animations,g=a.avatar,j=a.avatarInteractable,s=a.backgroundColor,t=a.bucketType,u=a.bucketUrl,v=a.canViewerReply,w=a.coverImage,x=a.disabled,y=a.disablePreloadOnMouseHover,z=a.disablePreloadOnRender,A=a.hasReactionIcon,B=a.isUploading,C=a.label,D=a.metaText,E=a.onPress,F=a.onPressIn,G=a.passthroughProps,H=a.storyId,I=a.text,J=a.warningScreenNode,K=a.aspectRatio,L=a.numLines,M=a.showOutline,N=a.showShadow,O=a.small;a=a.theme;var P=j===void 0?!1:j;j=v===void 0?!1:v;v=A===void 0?!1:A;A=B===void 0?!1:B;var Q=K===void 0?d("StoriesConstants").DEFAULT_ASPECT_RATIO:K;B=M===void 0?!1:M;var R=N===void 0?!0:N;K=O===void 0?!1:O;M=a===void 0?"dark":a;var S=(N=L)!=null?N:2,T=d("CometRelay").useFragment(h!==void 0?h:h=b("StoriesTrayTileView_warningScreen.graphql"),J);O=d("StoriesGating").shouldUseCompartmentStoriesTiles();a=d("CometRelay").useFragment(i!==void 0?i:i=b("StoriesTrayTileView_LWRAnimations.graphql"),f);L=l(c("TopOfFeedLoggingContext"));N=L.tofuSessionID;J=K?p:o;e[0]!==J?(f={padding:J},e[0]=J,e[1]=f):f=e[1];L=f;e[2]!==L||e[3]!==v||e[4]!==K?(J=v?{padding:K?p:o,paddingRight:aa}:L,e[2]=L,e[3]=v,e[4]=K,e[5]=J):J=e[5];var U=J;e[6]!==g||e[7]!==P||e[8]!==L?(f=g!=null?k.jsx("div",{className:{0:"x17qophe x10l6tqk x13vifvy",1:"x17qophe x10l6tqk x13vifvy x47corl"}[!!!P<<0],style:L,children:g}):null,e[6]=g,e[7]=P,e[8]=L,e[9]=f):f=e[9];var V=f,W=m(null);e[10]!==A?(K={0:{className:"x1ey2m1c x9f619 xds687c x17qophe x10l6tqk x13vifvy"},1:{className:"xxj740w x1ey2m1c x9f619 xds687c x17qophe x10l6tqk x13vifvy"}}[!!A<<0],e[10]=A,e[11]=K):K=e[11];e[12]!==K?(J=k.jsx("div",babelHelpers["extends"]({},K)),e[12]=K,e[13]=J):J=e[13];var X=J;e[14]!==a||e[15]!==j||e[16]!==H?(g=b("cr:6579")!=null&&j?k.jsx("div",babelHelpers["extends"]({className:"x1ey2m1c xds687c x1y1aw1k x1sxyh0 xwib8y2 xurb0ha x10l6tqk"},{children:k.jsx(b("cr:6579"),{animations:a,storyId:H})})):null,e[14]=a,e[15]=j,e[16]=H,e[17]=g):g=e[17];L=g;e[18]!==Q||e[19]!==P||e[20]!==s||e[21]!==t||e[22]!==u||e[23]!==w||e[24]!==X||e[25]!==D||e[26]!==S||e[27]!==I||e[28]!==V||e[29]!==U||e[30]!==T?(f=function(a){return k.jsx(b("cr:5063"),{aspectRatioReal:Q,avatarInteractable:P,backgroundColor:s,bucketType:t,bucketUrl:u,coverImage:w,coverImageNullElement:X,isSmall:!0,metaText:D,numLines:S,pressableState:a,text:I,tileAvatar:V,tilePadding:U,warningScreen:T})},e[18]=Q,e[19]=P,e[20]=s,e[21]=t,e[22]=u,e[23]=w,e[24]=X,e[25]=D,e[26]=S,e[27]=I,e[28]=V,e[29]=U,e[30]=T,e[31]=f):f=e[31];var Y=f;if(u!=null||E!=null){e[32]===Symbol["for"]("react.memo_cache_sentinel")?(A=function(){var a;return c("cometValidateAsElementRect")((a=W.current)==null?void 0:a.getBoundingClientRect())},e[32]=A):A=e[32];e[33]!==G||e[34]!==N?(K=babelHelpers["extends"]({},G,{getTilePosition:A,tofuTraySessionID:N}),e[33]=G,e[34]=N,e[35]=K):K=e[35];J=K;a=y!==!0;j=z!==!0;e[36]===Symbol["for"]("react.memo_cache_sentinel")?(H={navigation_source:"stories_tray_tile"},e[36]=H):H=e[36];e[37]!==u||e[38]!==J||e[39]!==a||e[40]!==j?(g={passthroughProps:J,prefetchQueriesOnHover:a,preloadCodeOnMount:j,traceParams:H,url:u},e[37]=u,e[38]=J,e[39]=a,e[40]=j,e[41]=g):g=e[41];var Z=g;e[42]!==E?(f=function(a){n.onReady(ba),E&&E(a)},e[42]=E,e[43]=f):f=e[43];var $=f;e[44]!==Y||e[45]!==x||e[46]!==C||e[47]!==Z||e[48]!==$||e[49]!==F||e[50]!==R?(A=function(a,b){a=a===void 0?null:a;return k.jsx(c("CometPressable.react"),{disabled:x,display:"inline",label:C!=null?C:void 0,linkProps:Z,onPress:function(a){$(a),b&&b()},onPressIn:F,overlayDisabled:!0,ref:a,suppressHydrationWarning:!0,xstyle:function(a){var b=a.focused,c=a.focusVisible;a=a.hovered;return[q.tile,q.button,(a||b&&c)&&q.buttonFocused,R&&q.boxShadow]},children:Y})},e[44]=Y,e[45]=x,e[46]=C,e[47]=Z,e[48]=$,e[49]=F,e[50]=R,e[51]=A):A=e[51];G=A;N=O===!0?!0:B;e[52]!==G?(K=G(),e[52]=G,e[53]=K):K=e[53];y=P?V:null;z=v?L:null;e[54]!==N||e[55]!==K||e[56]!==y||e[57]!==z?(H=k.jsx("div",{ref:W,children:k.jsxs(r,{showOutline:N,children:[K,y,z]})}),e[54]=N,e[55]=K,e[56]=y,e[57]=z,e[58]=H):H=e[58];return H}else{J=O===!0?!0:B;e[59]!==R||e[60]!==M?(a={0:{className:"x1qhmfi1 x1a2cdl4 xnhgr82 x1qt0ttw xgk8upj x6ikm8r x10wlt62"},2:{className:"x1qhmfi1 x1a2cdl4 xnhgr82 x1qt0ttw xgk8upj x6ikm8r x10wlt62 x2pq9lr"},1:{className:"x1qhmfi1 x1a2cdl4 xnhgr82 x1qt0ttw xgk8upj x6ikm8r x10wlt62 xbyyjgo"},3:{className:"x1qhmfi1 x1a2cdl4 xnhgr82 x1qt0ttw xgk8upj x6ikm8r x10wlt62 x2pq9lr xbyyjgo"}}[!!R<<1|!!(M==="light")<<0],e[59]=R,e[60]=M,e[61]=a):a=e[61];e[62]!==Y?(j=Y(),e[62]=Y,e[63]=j):j=e[63];g=P?V:null;f=v?L:null;e[64]!==a||e[65]!==j||e[66]!==g||e[67]!==f?(A=k.jsxs("div",babelHelpers["extends"]({},a,{children:[j,g,f]})),e[64]=a,e[65]=j,e[66]=g,e[67]=f,e[68]=A):A=e[68];e[69]!==J||e[70]!==A?(G=k.jsx(r,{showOutline:J,children:A}),e[69]=J,e[70]=A,e[71]=G):G=e[71];return G}}function ba(a){a.bumpEntityKey(4329,"fb_stories_web","stories_tray_pog_click",1)}g["default"]=a}),98);
__d("StoriesTrayUtils",["StoriesLoggingConstants","XCometStoriesControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.bucketID,d=a.cardID,e=a.bucketCount,f=a.source;f=f===void 0?c("StoriesLoggingConstants").ACTION_SOURCE.TRAY:f;a=a.viewSingle;a=a!=null?a:f===c("StoriesLoggingConstants").ACTION_SOURCE.FEED_TAB_STORIES_SURFACE;var g=null;a?g={bucket_count:e,bucket_id:b,card_id:d===null?void 0:d,source:f,view_single:!0}:g={bucket_count:e,bucket_id:b,card_id:d===null?void 0:d,source:f};return c("XCometStoriesControllerRouteBuilder").buildURL(g)}g.getBucketURL=a}),98);
__d("useCometFeedInlineComposerWOYMText",["fbt","gkx","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i=c("gkx")("20836");function a(a){var b=d("react-compiler-runtime").c(3);if(i){var c;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c=h._(/*BTDS*/"What are you working on?"),b[0]=c):c=b[0];return c}else{b[1]!==a?(c=a!=null?h._(/*BTDS*/"What's on your mind, {short name}?",[h._param("short name",a)]):h._(/*BTDS*/"What's on your mind?"),b[1]=a,b[2]=c):c=b[2];return c}}g["default"]=a}),226);/*FB_PKG_DELIM*/
__d("LSDatabaseAfterInitSyncSingleton",["Deferred","PromiseAnnotate"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new(c("Deferred"))();a=function(a){void a.then(function(a){return i.resolve(a)})};b=(h||(h=d("PromiseAnnotate"))).setDisplayName(i.getPromise(),"LSDatabaseSingletonAfterInitSync");g.resolveInitSync=a;g.LSDatabaseAfterInitSyncSingleton=b}),98);
__d("LSPlatformArmadilloUtils",["MAWMIC","MAWMICSchema","Promise","cr:6998","cr:7349","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("MAWThreadConsistencyLogger").__setRef("LSPlatformArmadilloUtils"),k=(h=b("cr:6998"))!=null?h:b("cr:7349"),l=[];function a(a){l.push(a)}function e(){k==null?void 0:k.completeSync();void j.load().then(function(a){return a.startMAWThreadConsistencyLogger()});if(l.length===0){k==null?void 0:k.maybeEndOccamadilloThreadMapping();return}c("promiseDone")((i||(i=b("Promise"))).allSettled(l.map(function(a){return a()})),function(){return k==null?void 0:k.maybeEndOccamadilloThreadMapping()})}function f(){d("MAWMIC").addPoint("ls_init_end")}function m(){d("MAWMIC").addPoint("ls_init_start")}function n(){d("MAWMIC").addPoint("ls_sync_start")}function o(){d("MAWMIC").addPoint(d("MAWMICSchema").POINTS.ls_sync_end)}function p(a){d("MAWMIC").fail("init_sync_failure",a)}g.executeOnThreadMappingEnd=a;g.occamadilloInitEnd=e;g.reportInitEnd=f;g.reportInitStart=m;g.reportSyncStart=n;g.reportSyncEnd=o;g.reportInitSyncFailure=p}),98);
__d("LSPlatformErrorsCatcher.react",["MetaConfig","cr:7070","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;h||(h=d("react"));e=h;var i=e.useEffect,j=e.useState;function a(a){var e=d("react-compiler-runtime").c(7),f=a.children;a=a.fallback;var g=j(null),h=g[0],k=g[1],l;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(){var a=b("cr:7070")&&b("cr:7070").subscribe(function(a){k(a)});return function(){a&&a()}},l=[],e[0]=g,e[1]=l):(g=e[0],l=e[1]);i(g,l);if(e[2]!==h){l=(g=b("cr:7070")==null?void 0:b("cr:7070").lastError())!=null?g:h;e[2]=h;e[3]=l}else l=e[3];g=l;if(c("MetaConfig")._("66")&&g!=null&&a!=null){e[4]!==g||e[5]!==a?(h=a(g),e[4]=g,e[5]=a,e[6]=h):h=e[6];return h}else return f}g["default"]=a}),98);
__d("MAWCreateGroupThread",["fbt","FBLogger","I64","LSFactory","LSIssueNewErrorStoredProcedure","LSMessagingThreadAttributionType","MAWBridgeSendAndReceive","MAWJobDefinitions","MAWTimedJob","MWSharedS2SBaseAnnotations","WAJobOrchestratorTypes","gkx","promiseDone","sendToSentQPLLogger"],(function(a,b,c,d,e,f,g,h){"use strict";var i;async function j(a){var b=a.db,e=a.deduplicationKey,g=a.isDualSend;g=g===void 0?!1:g;var j=a.offlineThreadingId,k=a.participantIds;a=a.threadName;j=j!=null?(i||(i=d("I64"))).to_string(j):void 0;var l="msgr",m=d("sendToSentQPLLogger").markSendToSentStart();d("sendToSentQPLLogger").addSendToSentAnnotations(m,await d("MWSharedS2SBaseAnnotations").getSendToSentBaseAnnotations(d("MWSharedS2SBaseAnnotations").getMessageTypeParams({isGroupInvite:!0}),c("LSMessagingThreadAttributionType").UNKNOWN));var n;c("gkx")("1800")?n=await d("MAWBridgeSendAndReceive").sendAndReceive("backend","createGroup",{extras:{clientThreadKey:j,deduplicationKey:e,isDualSend:g,platform:l},instanceKey:m,key:j,subject:a,users:k}):n=await d("MAWTimedJob").TimedUIJobStarters.waitUntilCompleted(d("MAWJobDefinitions").createStartJobInfo("createGroup",{extras:{clientThreadKey:j,deduplicationKey:e,isDualSend:g,platform:l},key:j,s2sInstanceKey:m,scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION},subject:a,uniqKey:j,users:k}));e=n.error;a=n.value;if(e==null&&a!=null&&a.type===l){d("sendToSentQPLLogger").markSendToSentSuccess(m);return{created:!0,jid:a.chatJid}}if(!g){var o=h._(/*BTDS*/"Couldn't create group").toString();c("promiseDone")(b.runInTransaction(function(a){return c("LSIssueNewErrorStoredProcedure")(c("LSFactory")(a),{errorBodyText:o,errorTitleText:o})},"readwrite",void 0,void 0,f.id+":124"))}d("sendToSentQPLLogger").markSendToSentFail(m,"failed_to_send_group_invite");throw c("FBLogger")("maw_threads").mustfixThrow("Unable to create group")}async function a(a){var b=a.deduplicationKey;if(b==null)return j(a);b=await d("MAWBridgeSendAndReceive").sendAndReceive("backend","getThreadIdByDeduplicationKey",{deduplicationKey:b});return b!=null?{created:!1,jid:b.jid}:j(a)}g.default=a}),226);
__d("MAWLoadThreadFromMI",["LSAuthorityLevel","LSFactory","LSIntEnum","MAWThreadMappingQPL","MAWVerifyThreadExistsUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e,f,g){var i=c("LSAuthorityLevel").AUTHORITATIVE;f!=null&&d("MAWThreadMappingQPL").addAnnotations({"int":{sprocAuthLevel:i,sprocThreadType:e}},f);return d("MAWThreadMappingQPL").measurePerformanceForNullableInstanceKey("verify_thread_exists",f,function(){return d("MAWVerifyThreadExistsUtils").runVerifyThreadExistsSproc(c("LSFactory")(a),{authorityLevel:(h||(h=d("LSIntEnum"))).ofNumber(i),threadKey:b,threadType:h.ofNumber(e)},g).then(function(a){a=a[0];return a})})}g["default"]=a}),98);
__d("MAWMiActBulkCreateThreadInActWithMiData",["ExecutionEnvironment","FBLogger","I64","MAWActThreadMapping","MAWBridgeFireAndForget","MAWBridgeSendAndReceive","MAWJids","MAWLoggerDeferred","MAWMIC","MAWThreadMappingQPL","MAWThreadUpdateMiddlewareGatingUtil","MAWTrackPendingOccamadilloThreads","MWCookieUtil","ODS","WABridgedAPI","WAJids","cr:19969","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] queryGroups failed in bulkCreateThread. ",", groupJid: ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] Querying WA server for group: ",""]);l=function(){return a};return a}async function a(a,e,f,g){e=n(e);var p=e.map(function(a){var b=a.fbid,c=a.forceLoadMessages;c=c===void 0?!1:c;var e=a.instanceKey,f=a.isGroupThread,g=a.jid,h=a.lastActivityTimestampMs;a=a.lastReadWatermarkTimestampMs;g=(j||(j=d("I64"))).to_string(g);f=f?d("WAJids").toGroupJid(g):d("MAWJids").toUserJid(g);return{authoritativeThreadKey:j.to_string(b),chatJid:f,forceLoadMessages:c,instanceKey:e,lastActivityTimestampMs:j.to_float(h),lastReadWatermarkTimestampMs:j.to_float(a),numOfMsgsToLoad:m({fbid:b})}});e=e.map(function(a){var b=a.instanceKey;a=a.jid;return b!=null?{instanceKey:b,intJid:a}:null}).filter(Boolean);if((h||(h=c("ExecutionEnvironment"))).isInWorker){var q=p.map(function(a){return{status:"fulfilled",value:{chatJid:a.chatJid,isCreated:!1,shouldQueryForGroup:!1}}});return Promise.resolve(q)}else if((h||(h=c("ExecutionEnvironment"))).isInBrowser&&(b("cr:19969")!=null&&d("MAWThreadUpdateMiddlewareGatingUtil").isMAWCacheServiceEnabled())){q=p.map(function(a){return a.chatJid});c("promiseDone")(b("cr:19969").getMAWUICacheServices().checkExistingCacheOrGetFromScratchAndNotifyListenersFor("snippets",q))}(i||(i=d("ODS"))).bumpEntityKey(3303,"maw_thread_mapping","bulk_create_thread."+f);q=await o(a,p,e,f,g);f==="init_sync"&&d("MAWMIC").addPoint("thread_mapping_received");await Promise.all(q.map(async function(a){if(a.status==="rejected")throw a.reason;var b=a.value.chatJid,e=d("WAJids").interpretAsGroupJid(b)!=null;if(e){e=d("WAJids").toGroupJid(b);if(a.value.isCreated||a.value.shouldQueryForGroup){c("promiseDone")(d("MAWLoggerDeferred").DEV(l(),e));try{await c("WABridgedAPI").queryGroups({groups:[e],type:"array"})}catch(b){a=b instanceof Error?b.message:"unknown";c("FBLogger")("messenger_web").warn("[Occamadillo] queryGroups failed in bulkCreateThread. %s",a);c("promiseDone")(d("MAWLoggerDeferred").WARN(k(),a,e));a=b instanceof Error&&b.message.includes('"errorCode":403');if(!a)throw b}d("MAWBridgeFireAndForget").fireAndForget("backend","checkIfGroupParticipant",{threadJid:b})}else d("MAWBridgeFireAndForget").fireAndForget("backend","updateLSThreadFromGroupInfo",{groupJid:e})}c("promiseDone")(d("MAWTrackPendingOccamadilloThreads").removePendingThread(b))}));if(c("gkx")("14068")){a=p.map(function(a){return a.forceLoadMessages===!0&&a.numOfMsgsToLoad!=null?{jid:a.chatJid,numOfMsgsToLoad:a.numOfMsgsToLoad}:null}).filter(Boolean);d("MAWBridgeFireAndForget").fireAndForget("backend","bulkLoadMessagesForThread",{threads:a})}return q}function m(a){a=a.fbid;var b=1,e=10,f=20,g=d("MWCookieUtil").getAutoChatTabFromCookie();g=g?(j||(j=d("I64"))).equal(g.threadKey,a):!1;g=g?e:b;e=location.pathname.split("/");c("gkx")("2316")&&e.indexOf((j||(j=d("I64"))).to_string(a))>-1&&(g=f);return g}function n(a){var b=new Set(),e=Array.from(a.reduce(function(a,d){var e=a.get(d.fbid);if(e==null)a.set(d.fbid,d);else{d.instanceKey!=null&&b.add(d.instanceKey);e=e.lastActivityTimestampMs===d.lastActivityTimestampMs&&e.lastReadWatermarkTimestampMs===d.lastReadWatermarkTimestampMs;c("FBLogger")("messenger_web").mustfix("MAWMiActBulkCreateThreadInActWithMiData is called with duplicated threads. Data consistency: %s",e?"true":"false")}return a},new Map()).values());a.forEach(function(b){b=b.instanceKey;return b!=null&&d("MAWThreadMappingQPL").addAnnotations({int:{mawBulkCreateThreads:a.length,mawBulkCreateUniqueThreads:e.length}},b)});b.forEach(function(a){d("MAWThreadMappingQPL").endCancel("thread_not_unique_in_maw_bulk_create",a)});return e}async function o(a,e,f,g,h){var i=new Map();f.forEach(function(a){var b=a.instanceKey;a=a.intJid;i.set(a,b);d("MAWThreadMappingQPL").addPoint("create_in_maw_start",b)});d("MAWMIC").addPoint("thread_mapping_request_sent_to_worker");g={reason:g,s2sInstanceKey:h,threads:e,withoutSnippetRecalculation:b("cr:19969")!=null&&d("MAWThreadUpdateMiddlewareGatingUtil").isMAWCacheServiceEnabled()};h=c("gkx")("14153")?q(a,g):p(g);e=await h;var k=e.reduce(function(a,b){if(b.status==="fulfilled"){var c=d("WAJids").threadIdForChatJid(b.value.chatJid);a.set(c,b.value.isCreated)}return a},new Map());f.forEach(function(a){var b=a.instanceKey;a=a.intJid;a=k.get((j||(j=d("I64"))).to_string(a));a==null?d("MAWThreadMappingQPL").endFailure("create_in_maw_failed",b):(d("MAWThreadMappingQPL").addAnnotations({bool:{isMawThreadCreated:a}},b),d("MAWThreadMappingQPL").addPoint("create_in_maw_success",b))});return e}function p(a){return d("MAWBridgeSendAndReceive").sendAndReceive("backend","bulkCreateThread",a)}async function q(a,b){a=await d("MAWActThreadMapping").bulkVerifyThreadExistsInWorker(a,b);return a.map(function(a){if(a.status==="rejected")return a;a=a.value;var b=a.chatJid,c=a.isCreated;a=a.shouldQueryForGroup;return{status:"fulfilled",value:{chatJid:b,isCreated:c,shouldQueryForGroup:a}}})}g.miActBulkCreateThreadInActWithMiData=a;g.getNumberOfMessagesToLoad=m}),98);
__d("MAWMiActMaybeCreateActThread",["CurrentMessengerUser","FBLogger","I64","LSIntEnum","LSMessagingThreadTypeUtil","MAWActThreadMapping","MAWBridgeOccamadilloVerifyThreadExistsHandler","MAWCreateGroupThread","MAWCreateOneToOneThread","MAWJids","MAWLoadThreadFromMI","MAWMiActBulkCreateThreadInActWithMiData","MAWMiActGetThreadLifecycleState","MAWMiActThreadLifecycleState","MAWThreadMappingQPL","MAWThreadMappingState","ReQL","WAJids","WATagsLogger","WATimeUtils","gkx","sendToSentQPLLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Duplicated thread creation for ",""]);j=function(){return a};return a}function k(a,b,e,f,g){d("MAWThreadMappingQPL").addPoint("upgrade_optimistic_to_act_thread",g);var j=e.actorId,k=e.participantIds;e=k.filter(function(a){return a!==(h||(h=d("I64"))).to_string(j)});var l=b.threadKey;b=b.threadType;if(d("LSMessagingThreadTypeUtil").isOneToOne(b)){var m=e.length===1?e:k;return d("MAWThreadMappingQPL").measurePerformance("maw_create_1-1_thread",g,function(){return d("MAWCreateOneToOneThread").call(a,(h||(h=d("I64"))).of_string(m[0]),h.to_string(l),f,void 0,g)})}else if(d("LSMessagingThreadTypeUtil").isGroup(b)&&e.length>1)return d("MAWThreadMappingQPL").measurePerformance("maw_create_group_thread",g,function(){return c("MAWCreateGroupThread")({db:a,offlineThreadingId:l,participantIds:k})}).then(async function(b){await d("MAWThreadMappingQPL").end({instanceKey:g,intJid:null,tables:a.tables,threadKey:l});return b});d("MAWThreadMappingQPL").addPoint("upgrade_optimistic_to_act_thread_fail",g);throw c("FBLogger")("messenger_web").mustfixThrow("[MiActMapping] Did not know which type of optimistic thread to create for threadKey: %s, participantsCount: %s, threadType: %s",(h||(h=d("I64"))).to_string(l),k.length,(i||(i=d("LSIntEnum"))).toNumber(b))}async function l(a,b,e,f,g){d("MAWThreadMappingQPL").addPoint("act_thread_creation_start",f);e={description:e,fbid:b.serverThreadKey,instanceKey:f,isGroupThread:d("LSMessagingThreadTypeUtil").isGroup(b.thread.threadType),jid:b.jidInt64,lastActivityTimestampMs:b.thread.lastActivityTimestampMs,lastReadWatermarkTimestampMs:b.thread.lastReadWatermarkTimestampMs};a=d("MAWMiActBulkCreateThreadInActWithMiData").miActBulkCreateThreadInActWithMiData(a,[e],"create_thread",g);e=await a;g=e[0];if(g.status==="rejected"){d("MAWThreadMappingQPL").addAnnotations({string:{retryActThreadCreationError:g.reason}},f);d("MAWThreadMappingQPL").endFailure("act_thread_creation_fail",f);throw c("FBLogger")("messenger_web").mustfixThrow("[MiActMapping] Failed to create ACT thread for threadKey: %s, error: %s",(h||(h=d("I64"))).to_string(b.serverThreadKey),g.reason)}else d("MAWThreadMappingQPL").addPoint("act_thread_creation_end",f);return{created:g.value.isCreated,jid:g.value.chatJid}}function m(a,b,c){if(!d("LSMessagingThreadTypeUtil").isOneToOne(a.thread.threadType)){d("MAWThreadMappingQPL").addPoint("convert_missing_mapping_not_supported_groups",c);return null}d("MAWThreadMappingQPL").addPoint("convert_missing_mapping_start",c);var e=b.actorId;b=b.participantIds;b=b.filter(function(a){return a!==(h||(h=d("I64"))).to_string(e)});if(b.length!==1){d("MAWThreadMappingQPL").addPoint("convert_missing_mapping_fail",c);return null}b=b[0];d("MAWThreadMappingQPL").addPoint("convert_missing_mapping_end",c);return{jid:d("MAWJids").toUserJid(b),jidInt64:(h||(h=d("I64"))).of_string(b),serverThreadKey:a.thread.threadKey,thread:a.thread,type:"AUTHORITATIVE_THREAD_ONLY"}}var n=new Map(),o=new Set();async function a(a,b,e,g){var r,s=await d("MAWMiActGetThreadLifecycleState").getThreadLifecycleStateAndMappingRowAndThread(a.tables,b,e),t=s.mappingRow,u=s.miActThreadState;s=s.thread;g!=null&&d("sendToSentQPLLogger").addSendToSentAnnotations(g,{string:{miActThreadState:u.type.toString()}});r=(r=u.serverThreadKey)!=null?r:b;var v=d("MAWThreadMappingQPL").getInstanceKeyForThreadKey(r),w=d("MAWThreadMappingState").getMappingStateForDbRows(s,t),x=w.actState;w=w.miState;var y=u.jid;if(c("gkx")("11539")&&y!=null){if(x===d("MAWThreadMappingState").ActState.READY){var z;d("MAWActThreadMapping").executePromisesBlockedOnActThreadMapping({authoritativeThreadKey:(h||(h=d("I64"))).to_string(r),description:"MAWMiActMaybeCreateActThread_"+e,instanceKey:null,jid:y,optimisticThreadKey:((z=s)==null?void 0:z.clientThreadKey)!=null?(h||(h=d("I64"))).to_string((z=s)==null?void 0:z.clientThreadKey):null})}if(d("MAWThreadMappingState").isReady({actState:x,miState:w})&&s!=null){var A=s;await a.runInTransaction(function(a){return d("MAWBridgeOccamadilloVerifyThreadExistsHandler").genUpdatesForAuthoritativeThread(a,A.threadKey,{clientThreadKey:A.clientThreadKey!=null?(h||(h=d("I64"))).to_string(A.clientThreadKey):null,instanceKey:null,isGroup:d("WAJids").switchOnMsgrChatJidType(y,{group:function(a){return!0},user:function(a){return!1}}),lastActivityTs:d("WATimeUtils").castToMillisTime((h||(h=d("I64"))).to_float(A.lastActivityTimestampMs))})},"readwrite",void 0,void 0,f.id+":266");d("sendToSentQPLLogger").markSendToSentPoint(g,"thread_mapping_ready");return{created:!1,jid:y}}}d("MAWThreadMappingQPL").start({instanceKey:v,jid:y,s2sInstanceKey:g,threadKey:r,threadState:u.type,trigger:"maybeCreateActThread_in_"+e});var B=s==null?15:(i||(i=d("LSIntEnum"))).unwrapIntEnum(s.threadType);if(w===d("MAWThreadMappingState").MiState.PARTIAL||w===d("MAWThreadMappingState").MiState.MISSING){z=await p(a,b,v,e,B);t=z.mappingRow;u=z.miActThreadState;s=z.thread}g!=null&&d("sendToSentQPLLogger").addSendToSentAnnotations(g,{string:{miActThreadState:u.type.toString()}});switch(u.type){case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_MISSING_MAPPING_ROW:t=await q(a,r);z=m(u,t,v);if(z!=null){o.has(z.jid)&&d("WATagsLogger").TAGS(["occamadillo","retry_create_thread"]).LOG(j(),z.jid);o.add(z.jid);return l(a,z,e,v)}else{d("MAWThreadMappingQPL").endFailure("auth_thread_missing_mapping",v);throw c("FBLogger")("messenger_web").mustfixThrow("[MiActMapping] MI inserted the thread but mapping row was not written or deleted for threadKey: %s",(h||(h=d("I64"))).to_string(b))}case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_NO_ACT:s=(h||(h=d("I64"))).to_string(b);t=n.get(s);if(t!=null){d("MAWThreadMappingQPL").endCancel("thread_creation_in_progress",v);return t}d("sendToSentQPLLogger").markSendToSentPoint(g,"create_act_thread_start");z=await q(a,r);d("sendToSentQPLLogger").markSendToSentPoint(g,"create_act_thread_end");t=k(a,u.thread,z,e,v);n.set(s,t);return t;case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD_WITH_ACT:await a.runInTransaction(function(a){return c("MAWLoadThreadFromMI")(a,b,B,v,e)},"readwrite",void 0,void 0,f.id+":371");await d("MAWThreadMappingQPL").end({instanceKey:v,intJid:d("MAWJids").convertChatJidToIntJid(u.jid),tables:a.tables,threadKey:r});return{created:!1,jid:u.jid};case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_ONLY:return l(a,u,e,v,g);case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_WITH_ACT:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.MI_AND_ACT_THREAD_COMPLETE:c("gkx")("13549")?d("MAWThreadMappingQPL").endForThreadState(v,{actState:x,miState:w}):await d("MAWThreadMappingQPL").endForThreadState(v,{actState:x,miState:w});return{created:!1,jid:u.jid};case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.SERVER_PARTIAL_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.THREAD_KEY_ONLY:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MAPPING_ROW:d("MAWThreadMappingQPL").endFailure("unhandled_thread_state",v);throw c("FBLogger")("messenger_web").mustfixThrow("[MiActMapping] Unhandled thread state for threadKey: %s, threadState: %s",(h||(h=d("I64"))).to_string(b),u.type);default:u.type;throw c("FBLogger")("messenger_web").mustfixThrow("[MiActMapping] Unreachable miActThreadState.type: %s",u.type)}}async function p(a,b,e,g,h){await a.runInTransaction(function(a){return c("MAWLoadThreadFromMI")(a,b,h,e,g)},"readwrite",void 0,void 0,f.id+":449");return d("MAWMiActGetThreadLifecycleState").getThreadLifecycleStateAndMappingRowAndThread(a.tables,b,g)}async function q(a,b){a=await d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.participants,["contactId"]).getKeyRange(b).map(function(a){return(h||(h=d("I64"))).to_string(a.contactId)}));b=[d("CurrentMessengerUser").getID(),d("CurrentMessengerUser").getPageMessagingMailboxId()];var c=b[0];b=b[1];return{actorId:(h||(h=d("I64"))).of_string(b!=="0"?b:c),participantIds:a}}g.default=a}),98);
__d("isArmadilloUI",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("qex")._("564")===!0}g["default"]=a}),98);
__d("MWThreadListSupportedThreadTypes",["LSIntEnum","MWPActor.react","MetaConfig","isArmadilloUI","isCommunityContainersEnabled"],(function(a,b,c,d,e,f,g){"use strict";var h;a=[(h||(h=d("LSIntEnum"))).ofNumber(152)];b=d("MWPActor.react").isAPPlus()?a:[(h||(h=d("LSIntEnum"))).ofNumber(1),(h||(h=d("LSIntEnum"))).ofNumber(201),(h||(h=d("LSIntEnum"))).ofNumber(2),(h||(h=d("LSIntEnum"))).ofNumber(5),(h||(h=d("LSIntEnum"))).ofNumber(6),(h||(h=d("LSIntEnum"))).ofNumber(3),(h||(h=d("LSIntEnum"))).ofNumber(23),(h||(h=d("LSIntEnum"))).ofNumber(18),(h||(h=d("LSIntEnum"))).ofNumber(19)].concat(c("isArmadilloUI")()?[(h||(h=d("LSIntEnum"))).ofNumber(15),(h||(h=d("LSIntEnum"))).ofNumber(16)]:[],c("MetaConfig")._("42")?[(h||(h=d("LSIntEnum"))).ofNumber(150)]:[],c("MetaConfig")._("36")?[(h||(h=d("LSIntEnum"))).ofNumber(154)]:[],c("MetaConfig")._("32")?[(h||(h=d("LSIntEnum"))).ofNumber(152)]:[],c("isCommunityContainersEnabled")()?[(h||(h=d("LSIntEnum"))).ofNumber(17)]:[]);e=b;g["default"]=e}),98);
__d("mwCMIsThreadBumped",["I64","mwCMIsAnyCMThread"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=a.secondaryParentThreadKey;a=a.threadType;return c("mwCMIsAnyCMThread")(a)&&b!=null&&(h||(h=d("I64"))).equal(b,(h||(h=d("I64"))).of_int32(0))}g["default"]=a}),98);
__d("MWChatBadgeCountUpdates.react",["I64","LSIntEnum","LSMessagingThreadTypeUtil","MWPIsThreadUnread","MWThreadListSupportedThreadTypes","MWXacGating","ReQL","ReQLSuspense","ServerTime","isMWXacGroupThread","mwCMIsThreadBumped","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;(i||d("react")).useMemo;var l=15;function m(a){if(!(j||(j=d("I64"))).equal(a.threadType,(k||(k=d("LSIntEnum"))).ofNumber(2))||d("MWXacGating").isGroupsEnabled())return!0;else return!c("isMWXacGroupThread")(a)}function n(a,b){var c=d("react-compiler-runtime").c(10);if(c[0]!==b){var e;e=(e=b)!=null?e:(k||(k=d("LSIntEnum"))).ofNumber(0);c[0]=b;c[1]=e}else e=c[1];var g=e;b=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(a.tables.folder_metadata).getKeyRange(g)},[a,g],f.id+":56")||{};e=b.lastSeenRequestTimestampMs;c[2]!==a.tables.threads?(b=function(){return d("ReQL").fromTableAscending(a.tables.threads.index("parentThreadKeyLastActivityTimestampMs")).take(l)},c[2]=a.tables.threads,c[3]=b):b=c[3];var h;c[4]!==a?(h=[a],c[4]=a,c[5]=h):h=c[5];b=d("ReQLSuspense").useFirst(b,h,f.id+":62")!=null;c[6]!==b||c[7]!==e||c[8]!==g?(h={hasProbablyFinishedInitSync:b,maybeFolderLastSeenTimestamp:e,parentFolderToUse:g},c[6]=b,c[7]=e,c[8]=g,c[9]=h):h=c[9];return h}function o(a){if((j||(j=d("I64"))).equal(a.muteExpireTimeMs,(j||(j=d("I64"))).neg_one))return!0;else return(j||(j=d("I64"))).gt(a.muteExpireTimeMs,j.of_float(d("ServerTime").getMillis()))}function a(a,b){var e=d("react-compiler-runtime").c(17),g=(h||(h=c("useReStore")))(),i=n(g,a),s=i.hasProbablyFinishedInitSync,t=i.maybeFolderLastSeenTimestamp,u=i.parentFolderToUse,v=(b==null?void 0:b.ignoreParentFolderSeenState)===!0?(j||(j=d("I64"))).zero:(i=t)!=null?i:(j||(j=d("I64"))).zero;e[0]!==g.tables.community_folders?(b=function(){return d("ReQL").fromTableAscending(g.tables.community_folders)},e[0]=g.tables.community_folders,e[1]=b):b=e[1];e[2]!==g?(i=[g],e[2]=g,e[3]=i):i=e[3];b=d("ReQLSuspense").useArray(b,i,f.id+":103");e[4]!==b?(i=new Set(b.filter(r).map(q)),e[4]=b,e[5]=i):i=e[5];b=i;var w=b;e[6]!==g.tables.threads||e[7]!==u||e[8]!==v?(i=function(){return d("ReQL").fromTableDescending(g.tables.threads.index("parentThreadKeyLastActivityTimestampMs")).getKeyRange(u).bounds({gt:d("ReQL").key(v)}).take(l).filter(p).filter(m)},b=[g.tables.threads,u,v],e[6]=g.tables.threads,e[7]=u,e[8]=v,e[9]=i,e[10]=b):(i=e[9],b=e[10]);i=d("ReQLSuspense").useArray(i,b,f.id+":117");var x;e[11]!==g.tables.threads||e[12]!==w||e[13]!==u||e[14]!==v?(b=function(){return!(j||(j=d("I64"))).equal(u,(k||(k=d("LSIntEnum"))).ofNumber(0))?d("ReQL").empty():d("ReQL").fromTableDescending(g.tables.threads.index("secondaryParentThreadKeyLastActivityTimestampMs")).getKeyRange(u).bounds({gt:d("ReQL").key(v)}).take(l).filter(function(a){if(d("MWPIsThreadUnread").isThreadUnread(a)&&!(c("mwCMIsThreadBumped")(a)&&w.has((j||(j=d("I64"))).to_string(a.parentThreadKey)))){var b=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType);return!(o(a)||a.isHidden===!0&&!b)}else return!1}).filter(m)},x=[g.tables.threads,w,u,v],e[11]=g.tables.threads,e[12]=w,e[13]=u,e[14]=v,e[15]=b,e[16]=x):(b=e[15],x=e[16]);e=d("ReQLSuspense").useArray(b,x,f.id+":155");b=i.length+e.length;if(a==null)return;return s?b:t!=null?b:void 0}function p(a){if(!c("MWThreadListSupportedThreadTypes").some(function(b){return(j||(j=d("I64"))).equal(a.threadType,b)}))return!1;if(d("MWPIsThreadUnread").isThreadUnread(a))return!o(a);else return!1}function q(a){return(j||(j=d("I64"))).to_string(a.folderId)}function r(a){return a.isHidden}function s(a,b){var e=d("react-compiler-runtime").c(8),g=(h||(h=c("useReStore")))(),i;e[0]!==b||e[1]!==g.tables.threads||e[2]!==a?(i=function(){return d("ReQL").fromTableAscending(g.tables.threads.index("threadTypeLastActivityTimestampMs")).getKeyRange(a).take(l).filter(t).bounds({gt:d("ReQL").key(b)}).filter(m)},e[0]=b,e[1]=g.tables.threads,e[2]=a,e[3]=i):i=e[3];var j;e[4]!==b||e[5]!==g||e[6]!==a?(j=[b,g,a],e[4]=b,e[5]=g,e[6]=a,e[7]=j):j=e[7];e=d("ReQLSuspense").useFirst(i,j,f.id+":217");return e}function t(a){if(d("MWPIsThreadUnread").isThreadUnread(a))return!o(a);else return!1}function b(){var a=d("react-compiler-runtime").c(4),b=(h||(h=c("useReStore")))(),e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=(k||(k=d("LSIntEnum"))).ofNumber(-14),a[0]=e):e=a[0];b=n(b,e);e=b.hasProbablyFinishedInitSync;b=b.maybeFolderLastSeenTimestamp;b=(b=b)!=null?b:(j||(j=d("I64"))).zero;var f;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(f=(k||(k=d("LSIntEnum"))).ofNumber(18),a[1]=f):f=a[1];f=s(f,b);var g;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(g=(k||(k=d("LSIntEnum"))).ofNumber(23),a[2]=g):g=a[2];g=s(g,b);var i;a[3]===Symbol["for"]("react.memo_cache_sentinel")?(i=(k||(k=d("LSIntEnum"))).ofNumber(21),a[3]=i):i=a[3];a=s(i,b);if(e)if(f!=null||g!=null)return!0;else return a!=null;else return!1}g.minSyncedThreads=l;g.useUnseenThreadCount=a;g.useHasUnseenCommunityThreads=b}),98);
__d("XCometSearchHashtagControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/hashtag/{hashtag}/{?explore_tab}/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("isRegisterArmadilloOnIgEnabled",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("26380")===!0}g["default"]=a}),98);
__d("maybeSetupMAWMainThreadLogger",["MessengerLogHistory","cr:6999","cr:7350","isArmadillo","isRegisterArmadilloOnIgEnabled"],(function(a,b,c,d,e,f,g){"use strict";var h=d("MessengerLogHistory").getInstance("client_init"),i=(a=b("cr:6999"))!=null?a:b("cr:7350");e=function(){i!=null&&(c("isArmadillo")()||c("isRegisterArmadilloOnIgEnabled")())&&(h.debug("Starting MAW main thread logger setup..."),i.setupMainWaLogger(),h.debug("Starting MAW main thread logger setup success"))};g.maybeSetupMAWMainThreadLogger=e}),98);
__d("useEnsureContactsExistAndUpdated",["CometRelay","Int64Hooks","LSFactory","LSRefetchContactRowIfExistsStoredProcedure","LSVerifyContactExistsWithID","MAWVerifyThreadCutover","Promise","gkx","promiseDone","react-compiler-runtime","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){var g=d("react-compiler-runtime").c(6),i=c("useAsyncReStore")(),j=d("CometRelay").useRelayEnvironment(),k,l;g[0]!==a||g[1]!==i||g[2]!==j||g[3]!==e?(k=function(){c("promiseDone")(i,function(g){if(a==null||e)return;if(c("gkx")("231")){c("promiseDone")(d("MAWVerifyThreadCutover").ensureContactCapabilities2IsLoaded(g,j,a));return}c("promiseDone")((h||(h=b("Promise"))).allSettled([d("LSVerifyContactExistsWithID").runInTransaction(g,a,!1,void 0,f.id+":56"),g.runInTransaction(function(b){return c("LSRefetchContactRowIfExistsStoredProcedure")(c("LSFactory")(b),{id:a})},"readwrite",void 0,void 0,f.id+":57")]))})},l=[i,a,e,j],g[0]=a,g[1]=i,g[2]=j,g[3]=e,g[4]=k,g[5]=l):(k=g[4],l=g[5]);d("Int64Hooks").useEffectInt64(k,l)}g["default"]=a}),98);
__d("useEnsureViewerContactExistAndUpdated",["ReQL","ReQLSuspense","react-compiler-runtime","useEnsureContactsExistAndUpdated","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=d("react-compiler-runtime").c(4),b=(h||(h=c("useReStore")))(),e;a[0]!==b.tables._user_info?(e=function(){return d("ReQL").fromTableAscending(b.tables._user_info).map(i)},a[0]=b.tables._user_info,a[1]=e):e=a[1];var g;a[2]!==b?(g=[b],a[2]=b,a[3]=g):g=a[3];a=d("ReQLSuspense").useFirst(e,g,f.id+":25");c("useEnsureContactsExistAndUpdated")(a,!1)}function i(a){return a.facebookUserId}g["default"]=a}),98);
__d("useSearchCometHashtagRouteUrlBuilder",["CometRouteParams","XCometSearchHashtagControllerRouteBuilder","react","react-compiler-runtime","useSearchCometResultsEntryPointSurface"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(7),e;b[0]!==a?(e=a===void 0?{}:a,b[0]=a,b[1]=e):e=b[1];a=e;e=a.entryPointSurface;a=d("CometRouteParams").useRouteParams();var f=a.__tsid__;b[2]!==e?(a={entryPointSurface:e},b[2]=e,b[3]=a):a=b[3];var g=c("useSearchCometResultsEntryPointSurface")(a);b[4]!==f||b[5]!==g?(e=function(a){var b=a.entryPointAction,d=a.exploreEntryPoint,e=a.groupID,h=a.hashtag;a=a.typeaheadSessionID;h={hashtag:h};a!=null?h.__tsid__=a:typeof f==="string"&&(h.__tsid__=f);b!=null&&(h.__epa__=b);g!=null&&(h.__eps__=g);d!=null&&(h.__eep__=d);e!=null&&(h.__gid__=e);return c("XCometSearchHashtagControllerRouteBuilder").buildURL(h)},b[4]=f,b[5]=g,b[6]=e):e=b[6];return e}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("ChevronUpOutline20.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("g",{fillRule:"evenodd",transform:"translate(-446 -398)",children:i.jsx("path",{fillRule:"nonzero",d:"M459.616 411.134a1.25 1.25 0 1 0 1.768-1.768l-4.5-4.5a1.25 1.25 0 0 0-1.768 0l-4.5 4.5a1.25 1.25 0 1 0 1.768 1.768l3.616-3.616 3.616 3.616z"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("DeferredDraftEditorDEPRECATED.react",["CometPlaintextEditor.react","SubscriptionsHandler","cr:2012305","react","requireDeferred","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=c("requireDeferred")("DraftEditor.react").__setRef("DeferredDraftEditorDEPRECATED.react"),l=c("requireDeferred")("EditorState").__setRef("DeferredDraftEditorDEPRECATED.react"),m=c("requireDeferred")("getEditorStateFromContentEditableState_DEPRECATED_DO_NOT_USE").__setRef("DeferredDraftEditorDEPRECATED.react"),n={root:{boxSizing:"x9f619",height:"x5yr21d",width:"xh8yej3",$$css:!0}};function o(){return{DraftEditor:k.getModuleIfRequireable(),EditorState:l.getModuleIfRequireable(),getEditorStateFromContentEditableState_DEPRECATED_DO_NOT_USE:m.getModuleIfRequireable()}}a=function(a){babelHelpers.inheritsLoose(d,a);function d(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.$1=j.createRef(),e.$2=null,e.$3=j.createRef(),e.$4=new(c("SubscriptionsHandler"))(),e.$5=function(a){var b=e.props.handlePastedFiles;if(b){var c=a.clipboardData;c=c.items!=null?Array.from(c.items):[];c=c.map(function(a){return a.getAsFile()}).filter(Boolean);c.length&&(b(c)==="handled"&&a.preventDefault())}},e.$9=function(a){e.$8(a,e.$2),e.$2=a},e.$10=function(a){e.$1.current=a;a=a==null?void 0:a.editor;var b=e.props.onInputRefUpdate;b!=null&&b(a instanceof HTMLDivElement?a:null)},e.$6=function(){var a=e.props.editorState;if(a.__type!==d.PLAIN_TEXT||a.isPendingSelection||a.isComposing||!d.richDependenciesAreMet())return;var b=o();b=b.getEditorStateFromContentEditableState_DEPRECATED_DO_NOT_USE;if(b==null)return;var c=e.props,f=c.decorator;c=c.onStateChange;c&&c({__type:d.EDITOR_STATE,draftEditorState:b(a,f)})},e.onEditorStateChange=function(a){if(e.props.onStateChange!=null){var b=e.props.editorState;b.draftEditorState!==a&&e.props.onStateChange(b.__type===d.EDITOR_STATE?babelHelpers["extends"]({},b,{draftEditorState:a}):{__type:d.EDITOR_STATE,draftEditorState:a})}},e.onPlainTextChange=function(a){e.props.onStateChange&&e.props.onStateChange(a)},e.onPlaintextReturn=function(a){e.props.handleReturn&&e.props.handleReturn(a)},b)||babelHelpers.assertThisInitialized(e)}d.richDependenciesAreMet=function(){var a=o();for(var b in a)if(a[b]==null)return!1;return!0};d.createEmptyComposerState=function(){var a=o();a=a==null?void 0:a.EditorState;return a!=null&&d.richDependenciesAreMet()?{__type:d.EDITOR_STATE,draftEditorState:a.createEmpty()}:{__type:d.PLAIN_TEXT,hasFocus:!1,isComposing:!1,isPendingSelection:!1,selectionOffsets:null,text:""}};var e=d.prototype;e.componentDidMount=function(){var a=this.props.autoFocus;!d.richDependenciesAreMet()?this.$4.addSubscriptions(k.onReady(this.$6),l.onReady(this.$6),m.onReady(this.$6)):this.$6();a===!0&&this.focusEnd()};e.focus=function(){this.$3.current!=null?this.$3.current.focus():this.$1.current!=null&&this.$1.current.focus()};e.focusEnd=function(){if(this.$3.current!=null)this.$3.current.focusEnd();else if(this.$1.current!=null){var a=l.getModuleIfRequired(),b=this.props.onStateChange;if(a!=null&&b!=null){var c=this.props.editorState;c.draftEditorState&&b({__type:"editor-state-based",draftEditorState:a.moveFocusToEnd(c.draftEditorState)})}}};e.componentDidUpdate=function(a){this.$6();if(a.typingPerformanceAnnotations!==this.props.typingPerformanceAnnotations){a=this.$2;a&&(this.$7(),this.$8(a))}};e.$8=function(a,c){if(b("cr:2012305")===null||a==null)return;var d=this.props,e=d.blockStyleFn;d=d.typingPerformanceAnnotations;d=babelHelpers["extends"]({},d,{editor:"DraftjsEditor",format:e!=null?"RichText":"PlainText"});b("cr:2012305").trackTypingPerf(a,(e=this.props.typingPerformanceID)!=null?e:"DeferredDraftEditorDEPRECATED",c,d)};e.componentWillUnmount=function(){this.$4.release(),this.$7()};e.$7=function(){var a=this.$2;a&&b("cr:2012305")&&b("cr:2012305").unregisterTypingPerf(a)};e.render=function(){var a=o();a=a==null?void 0:a.DraftEditor;var b=this.props,e=b.editorState;b=babelHelpers.objectWithoutPropertiesLoose(b,["editorState"]);if(a&&e.__type===d.EDITOR_STATE)return j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(n.root,this.props.xstyle),{children:j.jsx(a,babelHelpers["extends"]({},b,{editorRef:this.$9,editorState:e.draftEditorState,onChange:this.onEditorStateChange,onClick:this.props.onClick,placeholder:this.props.placeholder,placeholderClassName:h(this.props.placeholderXStyle),ref:this.$10,tabIndex:0,webDriverTestID:this.props.testid!==void 0?this.props.testid+":rich-input":void 0}))}));else if(e.__type===d.EDITOR_STATE)throw k.load();else if(e.__type===d.PLAIN_TEXT)return j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(n.root,this.props.xstyle),{children:j.jsx(c("CometPlaintextEditor.react"),{"aria-labelledby":this.props.ariaLabelledBy,editorState:e,onClick:this.props.onClick,onInputRefUpdate:this.props.onInputRefUpdate,onPaste:this.$5,onReturn:this.onPlaintextReturn,onStateChange:this.onPlainTextChange,placeholder:this.props.placeholder,placeholderXStyle:this.props.placeholderXStyle,ref:this.$3,testid:void 0})}))};return d}(j.PureComponent);a.EDITOR_STATE="editor-state-based";a.PLAIN_TEXT="plain-text";g["default"]=a}),98);
__d("EmojiSpan.react",["cx","FBEmojiResource","UnicodeUtils","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||d("react");function a(a){var b=a.children;a.contentState;var e=a.decoratedText,f=a.dir,g=a.offsetKey;a=a.size;var h=0,i=e.length,l=[];while(h<i){var m=(j||(j=d("UnicodeUtils"))).getUTF16Length(e,h);l.push(e.substr(h,m));h+=m}m=c("FBEmojiResource").fromCodepoints(l);h=m!=null?m.getImageURL(a):null;return h!=null?k.jsx("span",{className:"_3gl1 _5zz4","data-offset-key":g,"data-testid":void 0,dir:f,style:{backgroundImage:"url("+h+")",backgroundSize:a+"px "+a+"px",height:a,width:a},children:k.jsx("span",{className:"_ncl",children:b})}):k.jsx("span",{"data-offset-key":g,children:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FBVRLinearGradient",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo,k=function(a){a=a.replace(/\s/g,"");a=(a=/\((.+)\)/.exec(a))==null?void 0:a[1];if(a==null)return null;a=a.split(",rgba");var b=a[0];a=a.slice(1);var c=[];for(a of a){var d=a.split(")"),e=d[0];d=d[1];e=e.slice(1).split(",").map(Number);var f=e[0],g=e[1],h=e[2];e=e[3];e=e===void 0?1:e;c.push(["rgb("+f+","+g+","+h+")",e,Number(d.split("%")[0])])}f=Number(b.split("deg")[0]);return{coordinates:Number.isNaN(f)?{}:l(f),stopLocations:c}},l=function(a){a=a*Math.PI/180;return{x1:Math.round(50+Math.sin(a)*50)+"%",x2:Math.round(50+Math.sin(a+Math.PI)*50)+"%",y1:Math.round(50+Math.cos(a)*50)+"%",y2:Math.round(50+Math.cos(a+Math.PI)*50)+"%"}};function a(a){var b=a.config,c=a.height;a=a.width;var e=j(function(){var a={x2:"0",y2:"100%"};if(typeof b==="string"){var c=k(b);if(c!=null)return[c.stopLocations,c.coordinates]}else return[b,a];return[[],a]},[b]),f=e[0];e=e[1];return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({fill:"none",height:"100%"},a!=null&&c!=null?{viewBox:"0 0 "+a+" "+c}:{},{width:"100%",children:[i.jsx(d("XPlatReactSVG").LinearGradient,babelHelpers["extends"]({id:"gradient"},e,{children:f.map(function(a,b){var c=a[0],e=a[1];a=a[2];return i.jsx(d("XPlatReactSVG").Stop,{offset:a+"%",stopColor:c,stopOpacity:e},b)})})),i.jsx(d("XPlatReactSVG").Rect,{fill:"url(#gradient)",height:"100%",width:"100%"})]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FDSStyleEffectsFilled20Icon",["cr:15740"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:15740")}),98);
__d("FDSStyleEffectsFilled20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("868369"),20);b=a;g["default"]=b}),98);
__d("FDSTextSquareFilled20Icon",["cr:15785"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:15785")}),98);
__d("FDSTextSquareFilled20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("480546"),20);b=a;g["default"]=b}),98);
__d("LiveVideoCometProfilePhotoWithLiveBadge.react",["fbt","ARIA_LABEL_PLACEHOLDER_FIXME","FDSProfilePhoto.react","FDSText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(8),e=a.alt,f=a.profilePicUri,g=a.size;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"LIVE"),b[0]=a):a=b[0];var i=a;b[1]!==e||b[2]!==f||b[3]!==g?(a=function(a){var b;return j.jsxs(j.Fragment,{children:[j.jsx(c("FDSProfilePhoto.react"),{alt:(b=e)!=null?b:"","aria-label":c("ARIA_LABEL_PLACEHOLDER_FIXME"),onPress:(b=a)!=null?b:void 0,size:g==="medium"?60:40,source:{uri:f},storyStatus:"live"}),j.jsx("div",babelHelpers["extends"]({},{0:{className:"x1ciooss x1lcm9me x1yr5g0i xrt01vj x10y3i5r x10l6tqk x2b8uid"},2:{className:"x1ciooss x1lcm9me x1yr5g0i xrt01vj x10y3i5r x10l6tqk x2b8uid x1o583il xrokvo6 x1yrsyyn x150jy0e x10b6aqq x1e558r4 x1849jeq"},1:{className:"x1ciooss x1lcm9me x1yr5g0i xrt01vj x10y3i5r x10l6tqk x2b8uid xi2lk0m xit27t2 x1iorvi4 x10ogl3i xjkvuk6 x1k2j06m x23j0i4"},3:{className:"x1ciooss x1lcm9me x1yr5g0i xrt01vj x10y3i5r x10l6tqk x2b8uid xi2lk0m xit27t2 x1iorvi4 x10ogl3i xjkvuk6 x1k2j06m x23j0i4"}}[!!(g==="medium")<<1|!!(g==="small")<<0],{children:j.jsx(c("FDSText.react"),{color:"primaryOnMedia",numberOfLines:1,type:g==="medium"?"meta2":"meta4",children:i})}))]})},b[1]=e,b[2]=f,b[3]=g,b[4]=a):a=b[4];a=a;var k;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(k={className:"x1n2onr6"},b[5]=k):k=b[5];b[6]!==a?(k=j.jsx("div",babelHelpers["extends"]({},k,{children:a()})),b[6]=a,b[7]=k):k=b[7];return k}g["default"]=a}),226);
__d("MAWStoryReplyDeferred",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a=c("JSResourceForInteraction")("MAWStoryReply").__setRef("MAWStoryReplyDeferred");b=a;g["default"]=b}),98);
__d("StoriesCTAButton.react",["CometPressable.react","CometTrackingNodeProvider.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(8),e=a.link,f=a.onClick;a=a.title;var g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g={className:"x1ru42tm x4afe7t x10e4vud x6s0dn4 x1ofb795 x14ctfv x78zum5 x6prxxf x1s688f x1vqgdyp xvq8zen xlyipyv xuxw1ft"},b[0]=g):g=b[0];b[1]!==a?(g=i.jsx("div",babelHelpers["extends"]({},g,{children:a})),b[1]=a,b[2]=g):g=b[2];a=g;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(g={className:"x1ru42tm x4afe7t x10e4vud x1w4261f xgjxtca xnuwv8w x1lqxvo2 xgi2ibe x1c66dkd xng0ele xs1r7wz xzxekdx x13fuv20 xu3j5b3 x1q0q8m5 x26u7qi x178xt8z xm81vs4 xso031l xy80clv x9f619 x6ikm8r x10wlt62 x14gfdix x14ya1hp x1vjfegm"},b[3]=g):g=b[3];b[4]!==a||b[5]!==e||b[6]!==f?(g=i.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:86,children:i.jsx("div",babelHelpers["extends"]({},g,{children:e!=null?i.jsx(c("CometPressable.react"),{hideHoverOverlay:!0,linkProps:{target:"_blank",url:e},onPress:f,children:a}):a}))}),b[4]=a,b[5]=e,b[6]=f,b[7]=g):g=b[7];return g}g["default"]=a}),98);
__d("useStoriesViewerClose",["CometRouteRenderType","MessengerEnvironment","StoriesLoggerSession","StoriesLoggingConstants","XCometHomeControllerRouteBuilder","cr:869845","gkx","react-compiler-runtime","useCometRouterDispatcher","useRouteReferrer"],(function(a,b,c,d,e,f,g){"use strict";var h=c("gkx")("20935"),i=c("XCometHomeControllerRouteBuilder").buildURL({});function a(){var a=d("react-compiler-runtime").c(4),e=d("CometRouteRenderType").useIsPushView(),f=c("useCometRouterDispatcher")(),g=c("useRouteReferrer")(),j;a[0]!==f||a[1]!==e||a[2]!==(g==null?void 0:g.tracePolicy)?(j=function(a){var j=d("StoriesLoggerSession").getOpenViewerSource();d("StoriesLoggerSession").setCloseGesture(a);b("cr:869845")?c("MessengerEnvironment").messengerui?b("cr:869845").getInstance().closeDialogMessenger():j===c("StoriesLoggingConstants").ACTION_SOURCE.ARCHIVE?b("cr:869845").getInstance().closeArchiveDialogAndRefresh():b("cr:869845").getInstance().navigateToEntryPoint():h&&a===c("StoriesLoggingConstants").CLOSE_STORY_GESTURE.AUTO_EXIT&&(!e&&f?(g==null?void 0:g.tracePolicy)!=null?f.goBack():f.go(i,{replace:!0}):e&&f&&f.popPushView())},a[0]=f,a[1]=e,a[2]=g==null?void 0:g.tracePolicy,a[3]=j):j=a[3];return j}g["default"]=a}),98);
__d("StoriesCloseButton.react",["fbt","ix","CometPressable.react","FDSIcon.react","IconSource","StoriesLoggingConstants","StoriesSuspensePauseContext","cr:1032347","gkx","react","react-compiler-runtime","useStoriesViewerClose"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useContext,m=c("gkx")("20935");function a(a){var e=d("react-compiler-runtime").c(17);a=a.dark;a=a===void 0?!1:a;var f=c("useStoriesViewerClose")(),g=l(c("StoriesSuspensePauseContext"));g=g.setPause;if(m)return null;var j;e[0]!==f?(j=function(a){f(c("StoriesLoggingConstants").CLOSE_STORY_GESTURE.CLOSE_BUTTON_EXIT)},e[0]=f,e[1]=j):j=e[1];j=j;var n;e[2]!==a?(n=a?new(c("IconSource"))("FB",i("1351092"),24):new(c("IconSource"))("FB",i("1495001"),24),e[2]=a,e[3]=n):n=e[3];a=n;e[4]===Symbol["for"]("react.memo_cache_sentinel")?(n={className:"x78zum5 xds687c xbyyjgo x10l6tqk x13vifvy x13dflua x19991ni xz4gly6 x1o7uuvo"},e[4]=n):n=e[4];var o;e[5]!==g?(o=b("cr:1032347")&&k.jsx(b("cr:1032347"),{setPause:g}),e[5]=g,e[6]=o):o=e[6];e[7]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._(/*BTDS*/"Close"),e[7]=g):g=e[7];var p;e[8]===Symbol["for"]("react.memo_cache_sentinel")?(p={className:"x1ypdohk x78zum5 xw7yly9 xktsk01 x1yztbdb x17adc0v"},e[8]=p):p=e[8];e[9]!==a?(p=k.jsx("div",babelHelpers["extends"]({},p,{children:k.jsx(c("FDSIcon.react"),{icon:a,size:24})})),e[9]=a,e[10]=p):p=e[10];e[11]!==j||e[12]!==p?(a=k.jsx(c("CometPressable.react"),{"aria-label":g,display:"inline",onPress:j,overlayDisabled:!0,children:p}),e[11]=j,e[12]=p,e[13]=a):a=e[13];e[14]!==o||e[15]!==a?(g=k.jsxs("div",babelHelpers["extends"]({},n,{"data-testid":void 0,children:[o,a]})),e[14]=o,e[15]=a,e[16]=g):g=e[16];return g}g["default"]=a}),226);
__d("StoriesGradientBackground.react",["StoriesEnums","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b=d("react-compiler-runtime").c(8),c=a.direction,e=a.from,f=a.onLoad;a=a.to;var g,h;b[0]!==f?(g=function(){f&&f()},h=[f],b[0]=f,b[1]=g,b[2]=h):(g=b[1],h=b[2]);j(g,h);g=a;h=e;if(!(g!=null&&h!=null))return null;g=g!=null?g:h;h=h!=null?h:g;var k;bb0:switch(c){case d("StoriesEnums").GRADIENT_DIRECTION.BL_TR:case d("StoriesEnums").GRADIENT_DIRECTION.TR_BL:k="45deg";break bb0;case d("StoriesEnums").GRADIENT_DIRECTION.LEFT_RIGHT:case d("StoriesEnums").GRADIENT_DIRECTION.RIGHT_LEFT:k="to right";break bb0;case d("StoriesEnums").GRADIENT_DIRECTION.TL_BR:case d("StoriesEnums").GRADIENT_DIRECTION.BR_TL:k="135deg";break bb0;case d("StoriesEnums").GRADIENT_DIRECTION.TOP_BOTTOM:case d("StoriesEnums").GRADIENT_DIRECTION.BOTTOM_TOP:k="to bottom";break bb0;default:k="0deg"}a="linear-gradient("+k+","+h+" 0%,"+g+" 100%)";b[3]!==a?(e={backgroundImage:a},b[3]=a,b[4]=e):e=b[4];c=e;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(h="x5yr21d xh8yej3",b[5]=h):h=b[5];b[6]!==c?(g=i.jsx("div",{className:h,style:c}),b[6]=c,b[7]=g):g=b[7];return g}g["default"]=a}),98);
__d("StoriesNavListItemPog_bucket.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"StoriesNavListItemPog_bucket",selections:[{alias:null,args:null,kind:"ScalarField",name:"should_show_close_friend_badge",storageKey:null},{alias:null,args:null,concreteType:"UnifiedStoryBucketToUnifiedStoriesConnection",kind:"LinkedField",name:"unified_stories",plural:!1,selections:[{alias:null,args:null,concreteType:"UnifiedStoryBucketToUnifiedStoriesEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryCardStoryInfo",kind:"LinkedField",name:"story_card_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"story_card_type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryCardSeenState",kind:"LinkedField",name:"story_card_seen_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_seen_by_viewer",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:"owner",args:null,concreteType:null,kind:"LinkedField",name:"story_bucket_owner",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],type:"Profile",abstractKey:"__isProfile"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_bucket_live",storageKey:null}],type:"StoryBucket",abstractKey:"__isStoryBucket"};e.exports=a}),null);
__d("StoriesNavListItemPog.react",["ix","CometRelay","FDSGroupFilled20Icon","FDSIcon.react","FDSProfilePhoto.react","LiveVideoCometProfilePhotoWithLiveBadge.react","StoriesEnums","StoriesNavListItemPog_bucket.graphql","fbicon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react");function a(a){var e,f,g=d("react-compiler-runtime").c(21),j=a.bucket,m=a.iconSize;a=a.isUploading;a=a===void 0?!1:a;var n;g[0]===Symbol["for"]("react.memo_cache_sentinel")?(n=function(a){var b=a===d("StoriesEnums").STORY_CARD_TYPES.EVENT_STORY;a=a===d("StoriesEnums").STORY_CARD_TYPES.GROUP_STORY;if(a)return{icon:k.jsx(c("FDSIcon.react"),{color:"white",icon:c("FDSGroupFilled20Icon")}),type:"trigger"};if(b)return{icon:k.jsx(c("FDSIcon.react"),{color:"white",icon:d("fbicon")._(h("875292"),20)}),type:"trigger"}},g[0]=n):n=g[0];n=n;var o;g[1]===Symbol["for"]("react.memo_cache_sentinel")?(o=function(a){if(a==null)return!1;for(a of a){var b;if((a==null?void 0:(b=a.story_card_seen_state)==null?void 0:b.is_seen_by_viewer)===!1)return!0}return!1},g[1]=o):o=g[1];o=o;var p;g[2]===Symbol["for"]("react.memo_cache_sentinel")?(p=function(a){if(a==null)return null;var b;b=null;a.forEach(function(a){b=a==null?void 0:(a=a.story_card_info)==null?void 0:a.story_card_type});return b},g[2]=p):p=g[2];p=p;j=d("CometRelay").useFragment(i!==void 0?i:i=b("StoriesNavListItemPog_bucket.graphql"),j);e=j==null?void 0:(e=j.owner)==null?void 0:(e=e.profile_picture)==null?void 0:e.uri;f=j==null?void 0:(f=j.unified_stories)==null?void 0:f.edges;if(g[3]!==(j==null?void 0:j.is_bucket_live)||g[4]!==(j==null?void 0:j.should_show_close_friend_badge)||g[5]!==f||g[6]!==a){var q,r=f==null?[]:f.map(l);p=p(r);o=o(r);r=a?"uploading":o?"unseen":"seen";o=(o=j==null?void 0:j.should_show_close_friend_badge)!=null?o:!1;q=(q=j==null?void 0:j.is_bucket_live)!=null?q:!1;n=n(p);g[3]=j==null?void 0:j.is_bucket_live;g[4]=j==null?void 0:j.should_show_close_friend_badge;g[5]=f;g[6]=a;g[7]=q;g[8]=o;g[9]=r;g[10]=n}else q=g[7],o=g[8],r=g[9],n=g[10];p=n;if(e==null)return null;if(q){g[11]!==e?(j=k.jsx(c("LiveVideoCometProfilePhotoWithLiveBadge.react"),{profilePicUri:e,size:"medium"}),g[11]=e,g[12]=j):j=g[12];return j}a=(f=m)!=null?f:60;g[13]!==e?(n={uri:e},g[13]=e,g[14]=n):n=g[14];g[15]!==p||g[16]!==o||g[17]!==r||g[18]!==a||g[19]!==n?(q=k.jsx(c("FDSProfilePhoto.react"),{addOn:p,shape:"circle",shouldShowCloseFriendsBadge:o,size:a,source:n,storyStatus:r}),g[15]=p,g[16]=o,g[17]=r,g[18]=a,g[19]=n,g[20]=q):q=g[20];return q}function l(a){return a.node}g["default"]=a}),98);
__d("StoriesRootError.react",["fbt","FBLogger","FDSButton.react","FDSNullState.react","NullStateGeneral","QPLUserFlow","StoriesCloseButton.react","StoriesLoggingConstants","qpl","react","react-compiler-runtime","useStoriesViewerClose"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useEffect;function a(a){var b=d("react-compiler-runtime").c(15),e=a.error,f;b[0]!==e?(a=function(){c("FBLogger")("fbstories").catching(e).warn("Issue displaying story viewer")},f=[e],b[0]=e,b[1]=a,b[2]=f):(a=b[1],f=b[2]);k(a,f);var g=c("useStoriesViewerClose")();c("QPLUserFlow").endFailure(c("qpl")._(741087294,"2028"),e.message);b[3]!==g?(a=function(){return g(c("StoriesLoggingConstants").CLOSE_STORY_GESTURE.BACK_BUTTON_EXIT)},b[3]=g,b[4]=a):a=b[4];f=a;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"Something Went Wrong"),b[5]=a):a=b[5];a=a;var i;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(i=h._(/*BTDS*/"Please try again."),b[6]=i):i=b[6];i=i;var l;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(l=h._(/*BTDS*/"Go back to home page"),b[7]=l):l=b[7];l=l;var m,n,o;b[8]===Symbol["for"]("react.memo_cache_sentinel")?(m={className:"x6s0dn4 x1vtvx1t x78zum5 xdt5ytf x1q1vt7x xl56j7k x6ikm8r xh8yej3"},n=j.jsx(c("StoriesCloseButton.react"),{dark:!0}),o={className:"xvue9z"},b[8]=m,b[9]=n,b[10]=o):(m=b[8],n=b[9],o=b[10]);var p;b[11]!==f?(p=f(),b[11]=f,b[12]=p):p=b[12];b[13]!==p?(f=j.jsxs("div",babelHelpers["extends"]({},m,{children:[n,j.jsx("div",babelHelpers["extends"]({},o,{children:j.jsx(c("FDSNullState.react"),{action:j.jsx(c("FDSButton.react"),{label:l,onPress:p}),body:i,headline:a,icon:c("NullStateGeneral")})}))]})),b[13]=p,b[14]=f):f=b[14];return f}g["default"]=a}),226);
__d("StoriesUniqueID",[],(function(a,b,c,d,e,f){"use strict";var g="js_",h=36,i=0;function a(){return g+(i++).toString(h)}f["default"]=a}),66);/*FB_PKG_DELIM*/
__d("CometSearchBaseTypeaheadTitleSnippetViewItem.react",["FDSTextPairing.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(5),e=a.isBadged,f=a.level,g=a.snippet;a=a.title;e=e===void 0?!1:e;g=g===void 0?null:g;var h=!0,j=f;f===1?j=2:f===2?j=3:f===3&&(j=4);e&&(h=!1);b[0]!==j||b[1]!==h||b[2]!==g||b[3]!==a?(f=i.jsx(c("FDSTextPairing.react"),{body:g,bodyColor:"secondary",bodyLineLimit:1,headline:a,headlineLineLimit:2,level:j,reduceEmphasis:h}),b[0]=j,b[1]=h,b[2]=g,b[3]=a,b[4]=f):f=b[4];return f}g["default"]=a}),98);
__d("WorkplaceSearchTypeaheadEventEmitterContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||c("react");b=a.createContext();g["default"]=b}),98);
__d("CometSearchScopedTypeaheadInputStrategy.react",["CometTypeaheadInputRoundedStrategy.react","FBLogger","SearchCometTypeaheadEventEmitterContext","WorkplaceSearchTypeaheadEventEmitterContext","react","useCometTypeaheadInputRefsWebOnly"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.useEffect;function a(a){var b=a.ref,d=a.inputExtraProps,e=a.onChange;a=babelHelpers.objectWithoutPropertiesLoose(a,["ref","inputExtraProps","onChange"]);var f=j(c("SearchCometTypeaheadEventEmitterContext")),g=j(c("WorkplaceSearchTypeaheadEventEmitterContext"));g=(f=(f=f)!=null?f:g)!=null?f:{};var h=g.subscribeToScopedSearchTypeaheadFocus;h==null&&c("FBLogger")("search").mustfix("Both event emitter contexts missing");f=c("useCometTypeaheadInputRefsWebOnly")(b);g=f.composedRef;b=f.inputRef;var l=b.current;k(function(){var a=h==null?void 0:h(function(){if(l==null)return;l.focus();l.value="";e("")});return function(){a==null?void 0:a()}},[l,e,h]);return i.jsx(c("CometTypeaheadInputRoundedStrategy.react"),babelHelpers["extends"]({},a,{inputExtraProps:babelHelpers["extends"]({},d,{size:"medium"}),onChange:e,ref:g}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("withSearchCometTypeaheadBaseNavigationDecorator",["react","useCometTypeaheadInputRefs"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useCallback;function a(a){function b(b){var d=b.inputRef,e=b.onPressEntry,f=b.onSelectFreeformQuery;b=babelHelpers.objectWithoutPropertiesLoose(b,["inputRef","onPressEntry","onSelectFreeformQuery"]);d=c("useCometTypeaheadInputRefs")(d);var g=d.composedRef,h=d.inputRef;d=j(function(a,b){b!==!0&&(h.current&&h.current.blur()),e==null?void 0:e(a,b)},[h,e]);var k=j(function(a){h.current&&h.current.blur(),f&&f(a)},[h,f]);return i.jsx(a,babelHelpers["extends"]({},b,{inputRef:g,onPressEntry:d,onSelectFreeformQuery:k}))}b.displayName=b.name+" [from "+f.id+"]";return b}g["default"]=a}),98);
__d("withSearchCometTypeaheadSERPWarmCallDecoratorQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="29776205841970495"}),null);
__d("withSearchCometTypeaheadSERPWarmCallDecoratorQuery.graphql",["withSearchCometTypeaheadSERPWarmCallDecoratorQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"InitiateWarmSearchResponse",kind:"LinkedField",name:"initiate_warm_search",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"withSearchCometTypeaheadSERPWarmCallDecoratorQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"withSearchCometTypeaheadSERPWarmCallDecoratorQuery",selections:a},params:{id:b("withSearchCometTypeaheadSERPWarmCallDecoratorQuery_facebookRelayOperation"),metadata:{},name:"withSearchCometTypeaheadSERPWarmCallDecoratorQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("withSearchCometTypeaheadSERPWarmCallDecorator",["CometRelay","CometRelayErrorHandling","react","react-compiler-runtime","withSearchCometTypeaheadSERPWarmCallDecoratorQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));i.useCallback;function a(a){function c(c){var f=d("react-compiler-runtime").c(9),g,i;f[0]!==c?(g=c.onFocus,i=babelHelpers.objectWithoutPropertiesLoose(c,["onFocus"]),f[0]=c,f[1]=g,f[2]=i):(g=f[1],i=f[2]);var k=d("CometRelay").useRelayEnvironment();f[3]!==g||f[4]!==k?(c=function(){d("CometRelay").fetchQuery(k,h!==void 0?h:h=b("withSearchCometTypeaheadSERPWarmCallDecoratorQuery.graphql"),{},{fetchPolicy:"store-or-network"}).subscribe({error:e}),g&&g()},f[3]=g,f[4]=k,f[5]=c):c=f[5];c=c;var l;f[6]!==c||f[7]!==i?(l=j.jsx(a,babelHelpers["extends"]({},i,{onFocus:c})),f[6]=c,f[7]=i,f[8]=l):l=f[8];return l}function e(a){d("CometRelayErrorHandling").markErrorAsHandled(a)}return c}g["default"]=a}),98);
__d("CometSearchScopedTypeahead.react",["BaseTypeahead.react","CometSearchScopedTypeaheadInputStrategy.react","CometTypeaheadLayoutContextualStrategy.react","emptyFunction","react","react-compiler-runtime","useStable","withSearchCometTypeaheadBaseNavigationDecorator","withSearchCometTypeaheadSERPWarmCallDecorator"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;var j={typeaheadInput:{alignItems:"x6s0dn4",display:"x78zum5",$$css:!0},typeaheadView:{borderBottomWidth:"xso031l",borderTopColor:"x5q5vme",borderEndColor:"x5fapg",borderBottomColor:"xia5s5o",borderStartColor:"x1vrg8lv",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",borderEndWidth:"xm81vs4",borderStartWidth:"xy80clv",borderTopEndRadius:"x13lgxp2",borderTopStartRadius:"x168nmei",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x972fbf",boxShadow:"x1wcvc8b",maxHeight:"x133jd2w",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}},k={12:{paddingStart:"x1ye3gou",paddingEnd:"xn6708d",paddingLeft:null,paddingRight:null,$$css:!0},16:{paddingStart:"x1swvt13",paddingEnd:"x1pi30zi",paddingLeft:null,paddingRight:null,$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(9),e,f;b[0]!==a?(e=a.paddingHorizontal,f=babelHelpers.objectWithoutPropertiesLoose(a,["paddingHorizontal"]),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);a=e===void 0?16:e;e=k[a];b[3]!==e?(a={inputXStyle:[j.typeaheadInput,e],viewXStyle_DO_NOT_USE:j.typeaheadView},b[3]=e,b[4]=a):a=b[4];e=a;a=e;e=c("useStable")(l);var g;b[5]!==e||b[6]!==f||b[7]!==a?(g=i.jsx(e,babelHelpers["extends"]({},f,{inputStrategyRenderer:c("CometSearchScopedTypeaheadInputStrategy.react"),layoutStrategyRenderer:c("CometTypeaheadLayoutContextualStrategy.react"),xstyles:a})),b[5]=e,b[6]=f,b[7]=a,b[8]=g):g=b[8];return g}function l(){var a;return((a=c("withSearchCometTypeaheadSERPWarmCallDecorator"))!=null?a:c("emptyFunction").thatReturnsArgument)(c("withSearchCometTypeaheadBaseNavigationDecorator")(c("BaseTypeahead.react")))}g["default"]=a}),98);
__d("CometSearchTypeaheadBaseViewRecentEmptyState.react",["fbt","CometTypeaheadViewEmptyState.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(c("CometTypeaheadViewEmptyState.react"),{children:h._(/*BTDS*/"No recent searches")}),a[0]=b):b=a[0];return b}g["default"]=a}),226);
__d("CometTypeaheadFocusLockRegion.react",["react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;function a(a){var b=d("react-compiler-runtime").c(3),c=a.children;a=a.xstyle;var e=j;b[0]!==c||b[1]!==a?(e=i.jsx(d("react-strict-dom").html.div,{onMouseDown:e,style:a,children:c}),b[0]=c,b[1]=a,b[2]=e):e=b[2];return e}function j(a){a.preventDefault()}g["default"]=a}),98);
__d("CometTypeaheadHightlightBoldTransform.react",["FDSText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(2);a=a.segment;a=a.content;var e;b[0]!==a?(e=i.jsx(c("FDSText.react"),{type:"bodyLink3",children:a}),b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),98);
__d("CometTypeaheadHightlightNormalTransform.react",["FDSText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(2);a=a.segment;a=a.content;var e;b[0]!==a?(e=i.jsx(c("FDSText.react"),{type:"body3",children:a}),b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),98);
__d("mayHaveConnectedCharacters",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.match(/[\u0900-\u097F\u0980-\u09FF\u0A00-\u0A7F\u0A80-\u0AFF\u0B00-\u0B7F\u0B80-\u0BFF\u0C00-\u0C7F\u0C80-\u0CFF\u0D00-\u0D7F\u0D80-\u0DFF\u0E00-\u0E7F\u0E80-\u0EFF\u0F00-\u0FFF\u1000-\u109F\u1700-\u171F\u1720-\u173F\u1740-\u175F\u1760-\u177F\u1780-\u17FF\u1900-\u194F\u1950-\u197F\u1980-\u19DF\u19E0-\u19FF\u1A00-\u1A1F\u1A20-\u1AAF\u1B00-\u1B7F\u1B80-\u1BBF\u1BC0-\u1BFF\u1C00-\u1C4F\u1CC0-\u1CCF\uA800-\uA82F\uA840-\uA87F\uA880-\uA8DF\uA8E0-\uA8FF\uA930-\uA95F\uA980-\uA9DF\uA9E0-\uA9FF\uAA00-\uAA5F\uAA60-\uAA7F\uAA80-\uAADF\uAAE0-\uAAFF\uABC0-\uABFF\u0600-\u06FF\u0750–\u077F\u08A0–\u08FF\uFB50–\uFDFF\uFE70–\uFEFF\u4e00-\u9faf\u0D80-\u0DFF\u0E80-\u0EFF]/)!=null}f["default"]=a}),66);
__d("cometTypeaheadHighlightUtils",["escapeRegex","mayHaveConnectedCharacters"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,d,e){if(c("mayHaveConnectedCharacters")(b))return[{content:b,isMatched:!1}];a=c("escapeRegex")(e==="prefix"?a:a.trim());e=e==="prefix"?new RegExp("( "+a.split(/\s+/).join("| ")+")","gi"):new RegExp("("+a.split(/\s+/).join("|")+")","gi");a=" "+b;b=[];var f=0,g=null;while(!0){g=e.exec(a);if(g==null)break;var h=a.substring(f,g.index);f===0&&(h=h.trimLeft());b.push({content:h,isMatched:!d});h=g[0];g.index===0&&(h=h.trimLeft());f=g.index+g[0].length;b.push({content:h,isMatched:d})}h=a.substring(f,a.length);b.push({content:h,isMatched:!d});return b}function a(a,b,c){c===void 0&&(c="prefix");return h(a,b,!0,c)}function b(a,b,c){c===void 0&&(c="prefix");return h(a,b,!1,c)}g.highlightMatch=a;g.highlightNonMatch=b}),98);
__d("CometTypeaheadHighlight.react",["CometTypeaheadHightlightBoldTransform.react","CometTypeaheadHightlightNormalTransform.react","cometTypeaheadHighlightUtils","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(14),e=a.children,f=a.content,g=a.query;a=a.strategy;if(g==null||f==null)return null;var h=null;bb0:switch(a){case"match":h=d("cometTypeaheadHighlightUtils").highlightMatch;break bb0;case"non-match":h=d("cometTypeaheadHighlightUtils").highlightNonMatch;break bb0;default:}if(h&&g.length!==0){b[0]!==f||b[1]!==h||b[2]!==g?(a=h(g,f).map(j),b[0]=f,b[1]=h,b[2]=g,b[3]=a):a=b[3];b[4]!==a?(h=i.jsx(i.Fragment,{children:a}),b[4]=a,b[5]=h):h=b[5];b[6]!==e||b[7]!==h?(g=e(h),b[6]=e,b[7]=h,b[8]=g):g=b[8];return g}b[9]!==f?(a=i.jsx(c("CometTypeaheadHightlightNormalTransform.react"),{segment:{content:f,isMatched:!1}}),b[9]=f,b[10]=a):a=b[10];b[11]!==e||b[12]!==a?(h=e(a),b[11]=e,b[12]=a,b[13]=h):h=b[13];return h}function j(a,b){return a.isMatched?i.jsx(c("CometTypeaheadHightlightBoldTransform.react"),{segment:a},String(b)):i.jsx(c("CometTypeaheadHightlightNormalTransform.react"),{segment:a},String(b))}g["default"]=a}),98);
__d("FBNucleusClockOutline20Icon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M10.75 5.75a.75.75 0 0 0-1.5 0V10c0 .199.079.39.22.53l2.5 2.5a.75.75 0 1 0 1.06-1.06l-2.28-2.28V5.75z"}),i.jsx("path",{d:"M10 .5a9.5 9.5 0 1 0 0 19 9.5 9.5 0 0 0 0-19zM2 10a8 8 0 1 1 16 0 8 8 0 0 1-16 0z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBNucleusHashtagOutline20Icon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M9.036 1.897a.75.75 0 0 0-1.471-.294L6.685 6H2.75a.75.75 0 0 0 0 1.5h3.635l-1 5H1.75a.75.75 0 0 0 0 1.5h3.335l-.82 4.103a.75.75 0 0 0 1.47.294L6.616 14h5.22l-.82 4.103a.75.75 0 0 0 1.47.294l.88-4.397h3.885a.75.75 0 0 0 0-1.5h-3.585l1-5h3.585a.75.75 0 0 0 0-1.5h-3.285l.82-4.103a.75.75 0 0 0-1.47-.294L13.435 6h-5.22l.82-4.103zm3.1 10.603H6.914l1-5h5.22l-1 5z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBNucleusMagnifyingGlassFilled16Icon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M7.5 1a6.5 6.5 0 1 0 3.835 11.749l1.958 1.958a1 1 0 0 0 1.414-1.414l-1.958-1.958A6.5 6.5 0 0 0 7.5 1zM3 7.5a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("SearchCometInterestsDeepDiveUtil",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=a.trim();var b=a.match(/^#(\S+)$/);a=a.split("#").length>2;return!a&&b!=null?b[1]:null}f.getHashtagTag=a}),66);
__d("CometTypeaheadViewItemIcon.react",["ix","FBNucleusClockOutline20Icon.react","FBNucleusHashtagOutline20Icon.react","FBNucleusMagnifyingGlassFilled16Icon.react","FDSIcon.react","SearchCometInterestsDeepDiveUtil","XPlatReactEnvironment","fbicon","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={icon:{alignItems:"x6s0dn4",backgroundColor:"x443n21",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",display:"x78zum5",height:"xc9qbxq",justifyContent:"xl56j7k",width:"x14qfxbe",$$css:!0},iconActive:{backgroundColor:"x1jx94hy",$$css:!0},iconFBVR:{backgroundColor:"x1qhmfi1",$$css:!0}};function l(a){var b=d("react-compiler-runtime").c(5),c=a.children;a=a.isActive;a=a&&k.iconActive;var e;b[0]!==a?(e=[k.icon,d("XPlatReactEnvironment").isWeb()?null:k.iconFBVR,a],b[0]=a,b[1]=e):e=b[1];b[2]!==c||b[3]!==e?(a=j.jsx(d("react-strict-dom").html.div,{style:e,children:c}),b[2]=c,b[3]=e,b[4]=a):a=b[4];return a}function a(a){var b=d("react-compiler-runtime").c(5),c=a.label;a=a.isActive;var e;b[0]!==c?(e=j.jsx(m,{isRecent:!0,label:c}),b[0]=c,b[1]=e):e=b[1];b[2]!==a||b[3]!==e?(c=j.jsx(l,{isActive:a,children:e}),b[2]=a,b[3]=e,b[4]=c):c=b[4];return c}function b(a){var b=d("react-compiler-runtime").c(3);a=a.isActive;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx(c("FDSIcon.react"),{color:"secondary",icon:d("fbicon")._(h("688945"),16),size:16}),b[0]=e):e=b[0];b[1]!==a?(e=j.jsx(l,{isActive:a,children:e}),b[1]=a,b[2]=e):e=b[2];return e}function e(a){var b=d("react-compiler-runtime").c(5),c=a.label;a=a.isActive;var e;b[0]!==c?(e=j.jsx(m,{isRecent:!1,label:c}),b[0]=c,b[1]=e):e=b[1];b[2]!==a||b[3]!==e?(c=j.jsx(l,{isActive:a,children:e}),b[2]=a,b[3]=e,b[4]=c):c=b[4];return c}function f(a){var b=d("react-compiler-runtime").c(3);a=a.isActive;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx(c("FDSIcon.react"),{color:"secondary",icon:d("fbicon")._(h("495586"),16),size:16}),b[0]=e):e=b[0];b[1]!==a?(e=j.jsx(l,{isActive:a,children:e}),b[1]=a,b[2]=e):e=b[2];return e}function m(a){var b=d("react-compiler-runtime").c(3),e=a.isRecent;a=a.label;if(d("SearchCometInterestsDeepDiveUtil").getHashtagTag(a)!=null){b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx(c("FDSIcon.react"),{color:d("XPlatReactEnvironment").isWeb()?"secondary":"primary",icon:c("FBNucleusHashtagOutline20Icon.react"),size:16}),b[0]=a):a=b[0];return a}else if(e){b[1]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx(c("FDSIcon.react"),{color:d("XPlatReactEnvironment").isWeb()?"secondary":"primary",icon:c("FBNucleusClockOutline20Icon.react"),size:20}),b[1]=a):a=b[1];return a}else{b[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx(c("FDSIcon.react"),{color:d("XPlatReactEnvironment").isWeb()?"secondary":"primary",icon:c("FBNucleusMagnifyingGlassFilled16Icon.react"),size:16}),b[2]=e):e=b[2];return e}}g.CometTypeaheadViewRecentIcon=a;g.CometTypeaheadViewTrophyIcon=b;g.CometTypeaheadViewTypedIcon=e;g.CometTypeaheadViewSavedContentIcon=f}),98);
__d("CometTypeaheadKeywordViewItem.react",["CometTypeaheadHighlight.react","CometTypeaheadViewItem.react","CometTypeaheadViewItemIcon.react","FDSText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(17),e,f,g,h;b[0]!==a?(e=a.entry,f=a.isActive,h=a.queryString,g=babelHelpers.objectWithoutPropertiesLoose(a,["entry","isActive","queryString"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h):(e=b[1],f=b[2],g=b[3],h=b[4]);b[5]!==e.label||b[6]!==f?(a=i.jsx(d("CometTypeaheadViewItemIcon.react").CometTypeaheadViewTypedIcon,{isActive:f,label:e.label}),b[5]=e.label,b[6]=f,b[7]=a):a=b[7];var k;b[8]!==e.label||b[9]!==h?(k=i.jsx(c("CometTypeaheadHighlight.react"),{content:e.label,query:h,strategy:"non-match",children:j}),b[8]=e.label,b[9]=h,b[10]=k):k=b[10];b[11]!==e||b[12]!==f||b[13]!==g||b[14]!==a||b[15]!==k?(h=i.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},g,{entry:e,isActive:f,itemStartContent:a,testid:void 0,children:k})),b[11]=e,b[12]=f,b[13]=g,b[14]=a,b[15]=k,b[16]=h):h=b[16];return h}function j(a){return i.jsx(c("FDSText.react"),{numberOfLines:2,type:"body3",children:a})}j.displayName=j.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometTypeaheadRecentViewItem.react",["CometSearchBaseTypeaheadTitleSnippetViewItem.react","CometTypeaheadViewItem.react","CometTypeaheadViewItemIcon.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(17);if(b[0]!==a){var e=a.entry,f=a.isActive;a.queryString;var g=a.testid,h=babelHelpers.objectWithoutPropertiesLoose(a,["entry","isActive","queryString","testid"]);e=e;f=f;g=g;h=h;b[0]=a;b[1]=e;b[2]=f;b[3]=h;b[4]=g}else e=b[1],f=b[2],h=b[3],g=b[4];a=e;a=a.label;var j;b[5]!==f||b[6]!==a?(j=i.jsx(d("CometTypeaheadViewItemIcon.react").CometTypeaheadViewRecentIcon,{isActive:f,label:a}),b[5]=f,b[6]=a,b[7]=j):j=b[7];a=(a=a)!=null?a:"";var k;b[8]!==a?(k=i.jsx(c("CometSearchBaseTypeaheadTitleSnippetViewItem.react"),{level:3,snippet:null,title:a}),b[8]=a,b[9]=k):k=b[9];b[10]!==e||b[11]!==f||b[12]!==h||b[13]!==j||b[14]!==k||b[15]!==g?(a=i.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},h,{entry:e,isActive:f,itemStartContent:j,testid:void 0,children:k})),b[10]=e,b[11]=f,b[12]=h,b[13]=j,b[14]=k,b[15]=g,b[16]=a):a=b[16];return a}g["default"]=a}),98);
__d("FDSBinocularsFilled20Icon",["cr:14530"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:14530")}),98);
__d("FDSBinocularsFilled20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("717879"),20);b=a;g["default"]=b}),98);
__d("SearchCometScopedTypeaheadPlaceholder.react",["FDSGlimmer.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={glimmer:{borderTopStartRadius:"xnwf7zb",borderTopEndRadius:"x40j3uw",borderBottomEndRadius:"x1s7lred",borderBottomStartRadius:"x15gyhx8",height:"xc9qbxq",marginTop:"xdj266r",marginEnd:"xktsk01",marginBottom:"xat24cr",marginStart:"x1d52u69",$$css:!0}};function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx(c("FDSGlimmer.react"),{index:0,xstyle:j.glimmer}),a[0]=b):b=a[0];return b}g["default"]=a}),98);
__d("SearchGeminiGlobalResultPageTracePolicy",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT_TAB:"gemini.search_results.default",HASHTAG:"gemini.search_results.hashtag"});f["default"]=a}),66);
__d("XCometSearchResultsControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/search/{?searchtype}/{?*bqf}/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("isSearchGeminiGlobalResultPageTracePolicy",["SearchGeminiGlobalResultPageTracePolicy"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return Object.values(c("SearchGeminiGlobalResultPageTracePolicy")).includes(a)}g["default"]=a}),98);
__d("useCometSearchRoutingQueryString",["CometRouteParams","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("react-compiler-runtime").c(2),b=d("CometRouteParams").useRouteParams(),c;a[0]!==b.q?(c=typeof b.q==="string"?b.q.trim():"",a[0]=b.q,a[1]=c):c=a[1];return c}g["default"]=a}),98);
__d("useCometSearchScopedTypeaheadPressEntryHandler",["react","react-compiler-runtime","searchCometTypeaheadGetHighConfidenceResult","searchCometTypeaheadGetStsDisambiguation","useCometTypeaheadNavigate"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(5),e=a.callback,f=a.loggingProvider,g=a.urlBuilder,h=c("useCometTypeaheadNavigate")();b[0]!==e||b[1]!==f||b[2]!==h||b[3]!==g?(a=function(a){var b=a.rawData;a=a.subtype==="your_group_activity"?b.url:g({entryPointAction:"SEARCH_BOX",highConfidenceResult:c("searchCometTypeaheadGetHighConfidenceResult")(a),query:a.label,stsDisambiguation:(b=c("searchCometTypeaheadGetStsDisambiguation")(a))!=null?b:void 0,typeaheadSessionID:f.getSessionID()});h(a);e&&e()},b[0]=e,b[1]=f,b[2]=h,b[3]=g,b[4]=a):a=b[4];return a}g["default"]=a}),98);
__d("useCometSearchScopedTypeaheadSelectFreeformQueryHandler",["react","react-compiler-runtime","useCometTypeaheadNavigate"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(5),e=a.callback,f=a.loggingProvider,g=a.urlBuilder,h=c("useCometTypeaheadNavigate")();b[0]!==e||b[1]!==f||b[2]!==h||b[3]!==g?(a=function(a){a=g({entryPointAction:"SEARCH_BOX",query:a,typeaheadSessionID:f.getSessionID()});h(a);e&&e()},b[0]=e,b[1]=f,b[2]=h,b[3]=g,b[4]=a):a=b[4];return a}g["default"]=a}),98);
__d("useSearchCometResultsEntryPointSurface",["isSearchCometGlobalResultPageTracePolicy","isSearchCometScopedResultPageTracePolicy","isSearchGeminiGlobalResultPageTracePolicy","react-compiler-runtime","useCometRouterState"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map([["apps","SERP_APPS_TAB"],["events","SERP_EVENTS_TAB"],["groups","SERP_GROUPS_TAB"],["links","SERP_NEWS_LINK_TAB"],["pages","SERP_PAGES_TAB"],["people","SERP_PEOPLE_TAB"],["photos","SERP_PHOTOS_TAB"],["places","SERP_PLACES_TAB"],["posts","SERP_POSTS_TAB"],["top","SERP_TOP_TAB"],["videos","SERP_VIDEOS_TAB"]]),i=new Map([["groups_home","GROUPS_HOME_SERP_ALL_TAB"],["groups","GROUPS_HOME_SERP_GROUPS_TAB"],["posts","GROUPS_HOME_SERP_GROUP_POSTS_TAB"]]);function a(a){var b=d("react-compiler-runtime").c(9);if(b[0]!==a){var e;e=(e=a)!=null?e:{};b[0]=a;b[1]=e}else e=b[1];a=e;e=a.currentSearchType;a=a.entryPointSurface;var f=c("useCometRouterState")();if(a!=null)return a;b[2]!==(f==null?void 0:f.pushViewStack)?(a=(f==null?void 0:f.pushViewStack)||[],b[2]=f==null?void 0:f.pushViewStack,b[3]=a):a=b[3];a=a;if(a.length>0){a=(a=a[a.length-1])==null?void 0:a.route}else a=f==null?void 0:f.main.route;f=(f=a)==null?void 0:f.tracePolicy;a=(a=a)==null?void 0:(a=a.params)==null?void 0:a.searchtype;a=typeof a==="string"?a:null;e=(e=e)!=null?e:a;if(e!=null&&f!=null&&(c("isSearchCometGlobalResultPageTracePolicy")(f)||c("isSearchGeminiGlobalResultPageTracePolicy")(f)||f==="comet.groups.search")){a=f==="comet.groups.search"?i:h;var g;b[4]!==e||b[5]!==a?(g=a.get(e),b[4]=e,b[5]=a,b[6]=g):g=b[6];return g}var j;if(f!=null&&!c("isSearchCometScopedResultPageTracePolicy")(f)&&!c("isSearchCometGlobalResultPageTracePolicy")(f)&&!c("isSearchGeminiGlobalResultPageTracePolicy")(f)){b[7]!==f?(e=f.match(/^((comet|gemini)\.[a-zA-Z_]+).*$/),b[7]=f,b[8]=e):e=b[8];a=e;a!=null&&(j=a[1])}return(g=j)!=null?g:f}g["default"]=a}),98);
__d("useSearchCometResultsCommonRouteParamBuilder",["Base64","CometRouteParams","react","react-compiler-runtime","useSearchCometResultsEntryPointSurface"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;function a(a){var b=d("react-compiler-runtime").c(8);if(b[0]!==a){var e;e=(e=a)!=null?e:{};b[0]=a;b[1]=e}else e=b[1];a=e;e=a.currentSearchType;a=a.entryPointSurface;var f=d("CometRouteParams").useRouteParams(),g=f.__tsid__;b[2]!==e||b[3]!==a?(f={currentSearchType:e,entryPointSurface:a},b[2]=e,b[3]=a,b[4]=f):f=b[4];var h=c("useSearchCometResultsEntryPointSurface")(f);b[5]!==g||b[6]!==h?(e={build:function(a){var b=a.disableAutocorrect,d=a.encryptedQueryFunction,e=a.encryptedServerDefinedExperience,f=a.entryPointAction,i=a.filters,j=a.highConfidenceResult,k=a.query,l=a.stsDisambiguation;a=a.typeaheadSessionID;k={q:k};d!=null&&(k.f=d);e!=null&&(k.sde=e);a!=null?k.__tsid__=a:typeof g==="string"&&(k.__tsid__=g);f!=null&&(k.__epa__=f);h!=null&&(k.__eps__=h);b===!0&&(k.spell="1");i!=null&&(k.filters=c("Base64").encode(JSON.stringify(i)));l!=null&&(k.__stsd__=c("Base64").encode(JSON.stringify(l)));if(j!=null){d=j.id;e=j.source;k.__hcr__=c("Base64").encode(JSON.stringify({id:d,source:e}))}return k}},b[5]=g,b[6]=h,b[7]=e):e=b[7];a=e;return a}g["default"]=a}),98);
__d("useSearchCometResultsURLBuilder",["react","react-compiler-runtime","useSearchCometResultsCommonRouteParamBuilder"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(7),e,f;b[0]!==a?(f=a.routeBuilder,e=babelHelpers.objectWithoutPropertiesLoose(a,["routeBuilder"]),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);a=e;var g=a.currentSearchType,h=c("useSearchCometResultsCommonRouteParamBuilder")(e);b[3]!==h||b[4]!==g||b[5]!==f?(a=function(a){var b=a.searchType;return f.buildURL(babelHelpers["extends"]({},h.build(babelHelpers["extends"]({},a)),{searchtype:(b=(a=b)!=null?a:g)!=null?b:"top"}))},b[3]=h,b[4]=g,b[5]=f,b[6]=a):a=b[6];return a}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("MinGapType",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({UNKNOWN:0,ORGANIC:1,ENGAGEMENT:2,FIXED_POSITION:3,PROMOTION:4,SPONSORED:5,END_OF_FEED_CONTENT:6,FB_STORIES:7,HIGH_VALUE_PROMOTION:8,FB_STORIES_ENGAGEMENT:9,PYMK:10,SHOWCASE:11,FB_SHORTS:12,TRENDING:13,IFR:14,ENGAGEMENT_QP:15,GROUPS_TAB_UNCONNECTED:16,END_OF_FEED_REELS:17,FRIEND_REQUESTS:18,FB_SHORTS_FALLBACK:19,FRIENDLY_FEED_BIRTHDAYS:20,FRIENDLY_FEED_FRIEND_REQUESTS:21,FRIENDLY_FEED_MID_CARD:22,FRIENDLY_FEED_PROMOTION:23,INJECTED_STORY:24});c=a;f["default"]=c}),66);
__d("AdsExtremeGapUtils",["gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=3,i=6;function a(a,b){if(b!==5)return!1;b=c("gkx")("23035");if(!b)return!1;b=j(a,0);return b>i}function j(a,b){if(a.length===0||b>i)return b;var c=a.length,d=k(a);if(d===-1)return b;return c-d<=h?j(a.slice(0,d),b+1):b}function k(a){for(var b=a.length-1;b>=0;b--)if(a[b].minGapType===5)return b;return-1}g.EXTREME_GAP_DISTANCE=h;g.shouldApplyExtremeGapProtection=a;g.getLastSponsoredStoryPosition=k}),98);
__d("BrandSafetyOpportunityLossRateFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1305");b=d("FalcoLoggerInternal").create("brand_safety_opportunity_loss_rate",a);e=b;g["default"]=e}),98);
__d("CometAdsProductLoggingFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5479");b=d("FalcoLoggerInternal").create("comet_ads_product_logging",a);e=b;g["default"]=e}),98);
__d("CometFeedUnitStatusTrackingUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a.map(function(a,c){return b(a)?babelHelpers["extends"]({},a,{position:c}):null}).filter(Boolean)}function b(a){return a.filter(h)}function c(a){return a.filter(i)}function d(a){return a.filter(j)}function e(a){return a.filter(function(a){return a.status==="received"||a.status==="positioned"})}function g(a){var b=a.reduce(function(a,b,c){return j(b)?c:a},-1);return a.map(function(a,c){return c<=b&&!j(a)?babelHelpers["extends"]({},a,{status:"rendered"}):a})}function h(a){return a.status==="rendered"}function i(a){return a.status!=="error"}function j(a){return a.status==="rendered"||a.status==="error"||a.status==="positioned"}f.getFeedUnitsWithOriginalPosition=a;f.getCurrentlyVisibleFeedUnits=b;f.getPossiblyVisibleFeedUnits=c;f.getAllPositionedFeedUnits=d;f.getUncommittedFeedUnits=e;f.getFeedUnitsWithRenderingOutOfOrderFixed=g;f.isCurrentlyVisible=h;f.isPossiblyVisible=i;f.isAnyPositionedType=j}),66);
__d("CometAdsProductLogger",["AdsExtremeGapUtils","CometAdsProductLoggingFalcoEvent","CometFeedUnitStatusTrackingUtils","WebSession"],(function(a,b,c,d,e,f,g){"use strict";var h="SPONSORED",i="comet.home";function a(a){var b=a.adId,d=a.csp,e=a.cts,f=a.endPoint,g=a.getFeedUnitStatusList,i=a.hba,k=a.isv,l=a.minGapRule,m=a.minGapType,n=a.sessionKey,o=a.tracking,p=a.vp;if(m!==h||l==null||b==null)return;c("CometAdsProductLoggingFalcoEvent").logImmediately(function(){return{ad_id:b,csp:d,endpoint:f,event:"impression",hba:i,isv:k,min_gap_shape:{min_gap_rule:l.toString(),min_gap_type:m},session_key:n,timestamp:e,tracking:o,vp:p}});j({adId:b,csp:d,cts:e,endPoint:f,getFeedUnitStatusList:g,hba:i,isv:k,minGapRule:l,minGapType:m,sessionKey:n,tracking:o,vp:p})}function j(a){var b=a.adId,e=a.csp,f=a.cts,g=a.endPoint,h=a.getFeedUnitStatusList,i=a.hba,j=a.isv,k=a.minGapRule,l=a.minGapType,m=a.sessionKey,n=a.tracking,o=a.vp;if(h==null||e==null)return;a=h();h=d("CometFeedUnitStatusTrackingUtils").getFeedUnitsWithOriginalPosition(a,d("CometFeedUnitStatusTrackingUtils").isCurrentlyVisible);a=parseInt(e,10);h=h.slice(0,a-1);var p=d("AdsExtremeGapUtils").shouldApplyExtremeGapProtection(h,5);if(!p)return;var q=a-d("AdsExtremeGapUtils").getLastSponsoredStoryPosition(h);c("CometAdsProductLoggingFalcoEvent").logImmediately(function(){return{ad_id:b,csp:e,endpoint:g,event:"extreme_experience",hba:i,isv:j,min_gap_shape:{min_gap_rule:k!=null?k.toString():null,min_gap_type:l},product_features:q<=d("AdsExtremeGapUtils").EXTREME_GAP_DISTANCE?"not protected":"protected",session_key:m,timestamp:f,tracking:n,vp:o}})}function b(a){var b=a.adId,e=a.endPoint,f=e===void 0?i:e,g=a.minGapRule,h=a.minGapType;e=Date.now();var j=Math.floor(e/1e3);c("CometAdsProductLoggingFalcoEvent").logImmediately(function(){return{ad_id:b,csp:null,endpoint:f,event:"cta_click",hba:!1,isv:null,min_gap_shape:{min_gap_rule:g!=null?g.toString():null,min_gap_type:h},product_features:"primary_blue_cta_button",session_key:d("WebSession").getId(),timestamp:j.toString(),tracking:null,vp:null}})}function e(a){var b=a.endPoint,e=b===void 0?i:b,f=a.minGapRule,g=a.minGapType;b=Date.now();var h=Math.floor(b/1e3);c("CometAdsProductLoggingFalcoEvent").logImmediately(function(){return{ad_id:null,csp:"0",endpoint:e,event:"impression",hba:!1,isv:null,min_gap_shape:{min_gap_rule:f!=null?f.toString():null,min_gap_type:g},product_features:"highest_position_ad_from_multifeed",session_key:d("WebSession").getId(),timestamp:h.toString(),tracking:null,vp:null}})}g.logCometAdsProductGapRule=a;g.logCometAdsProductGapRuleExtremeExperience=j;g.logCometAdsProductPrimaryBlueCTAButtonClick=b;g.logCometFeedHighestPositionAd=e}),98);
__d("CometAdsRenderingValidationContext",["FBLogger","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({dispatcher:function(a){c("FBLogger")("comet_ads").mustfix("CometAdsRenderingValidationLoggingContext is not initialized with a valid dispatcher")},sponsoredData:null,state:null});g["default"]=b}),98);
__d("CometFeed5sImpressionDelayContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({firstAdStoryPosition:null,firstLoggedAdImpressionStoryPosition:null,hasAnyAdImpressionAlreadyBeenLogged:!1,hasUserSeenAnyAd:!1});g["default"]=b}),98);
__d("CometFeedAdsProductContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({adId:null,minGapRule:null,minGapType:null});g["default"]=b}),98);
__d("CometFeedBrandSafetyContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("CometFeedBrandSafetyLoggingUtil",["CometFeedUnitStatusTrackingUtils","FBLogger","NetworkStatus"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){if(a==null||b==null)return null;a=a();a=d("CometFeedUnitStatusTrackingUtils").getFeedUnitsWithOriginalPosition(a,d("CometFeedUnitStatusTrackingUtils").isPossiblyVisible);var e=a.findIndex(function(a){return a.position===c});if(!h(a,e))return null;b=b();var f=i(a,b,e-1),g=i(a,b,e+1);e=j(a,b,e);return{brs_filter_setting:e,feed_size:a.length.toString(),feed_state:l(b),unit_after:g,unit_before:f}}function h(a,b){return((a=a[b])==null?void 0:a.category)==="SPONSORED"}function i(a,b,c){a=k(a,b,c);return a&&{brs_content_label:(b=a.brsContentLabel)==null?void 0:b.toString(),organic_tracking:a.tracking,unit_type:a.unitType}}function j(a,b,c){a=k(a,b,c);return a==null?void 0:(b=a.brsFilterSetting)==null?void 0:b.toString()}function k(a,b,d){var e=a[d];if(e==null)return null;var f=e.key;f=b.feedUnitRegistry[f];f==null&&e.status==="rendered"?c("FBLogger")("comet_feed_unit_brand_safety_null_brs_info").warn("Unable to find a CometFeedUnitBrandSafetyInfo for position %s and deduplicationKey %s. feedUnitStatusList: %s. brsRegistry: %s",d,e.key,JSON.stringify(a),JSON.stringify(Object.keys(b.feedUnitRegistry))):e.status==="error"&&c("FBLogger")("comet_feed_unit_brand_safety_error_status").mustfix("CometFeedUnitStatus is error for position %s and deduplicationKey %s. feedUnitStatusList: %s. brsRegistry: %s",d,e.key,JSON.stringify(a),JSON.stringify(Object.keys(b.feedUnitRegistry)));return f}function l(a){a=a.feedStateInfoRef.current;if(a==null){c("FBLogger")("comet_feed_unit_brand_safety_feed_state").mustfix("feedStateInfo was not initialized correctly");return"feed_uninitialized_state_info"}var b=a.hasMore,d=a.isEOFError,e=a.isLoading;a=a.showEOFMessageAfterFeedStoppedLoading;var f=c("NetworkStatus").isOnline();if(d)if(f)return"feed_eof_error_while_online";else return"feed_eof_error_while_offline";else if(a)if(f)return"feed_eof_no_more_stories_while_online";else return"feed_eof_no_more_stories_while_offline";else if(b&&e)return"feed_has_more_and_is_loading";else if(b)return"feed_has_more";else if(e)return"feed_is_loading";else return"feed_unknown"}g.getBrandSafetyFieldForAdImpression=a;g.isSponsored=h;g.getBrsInfo=k;g.getFeedState=l}),98);
__d("CometFeedHighlightedStoriesContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=new Set();c=a.createContext(b);g["default"]=c}),98);
__d("CometFocusedStoryViewPortableVideoContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("CometMetricsFullViewFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1936086");b=d("FalcoLoggerInternal").create("comet_metrics_full_view",a);e=b;g["default"]=e}),98);
__d("CometMetricsViewabilityFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1948176");b=d("FalcoLoggerInternal").create("comet_metrics_viewability",a);e=b;g["default"]=e}),98);
__d("GhlSwankFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1955947");b=d("FalcoLoggerInternal").create("ghl_swank",a);e=b;g["default"]=e}),98);
__d("PercentVisible",[],(function(a,b,c,d,e,f){a=-1;b=0;c=50;d=100;f.NO_VISIBLE=a;f.VISIBLE_0_PCT=b;f.VISIBLE_50_PCT=c;f.VISIBLE_100_PCT=d}),66);
__d("useCometDisplayTimingTracker",["InteractionTracingMetrics","performanceNow","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");b.useCallback;var j=b.useRef;function a(a,b){var e=d("react-compiler-runtime").c(3),f=j(null),g;e[0]!==b||e[1]!==a?(g=function(d){if(f.current!==d){f.current=d;if(d){var e=(h||(h=c("performanceNow")))();b!=null?c("InteractionTracingMetrics").addMountPoint(b,e,a):c("InteractionTracingMetrics").currentInteractionLogger().forEach(function(b){return c("InteractionTracingMetrics").addMountPoint(b.traceId,e,a)})}}},e[0]=b,e[1]=a,e[2]=g):g=e[2];return g}g["default"]=a}),98);
__d("useCometGHLFeedSurvey",["CometGHLTracker","DebugOwl","GhlSwankFalcoEvent","cr:1088657","react","useCometGHLDisplayMonitor","useMergeRefs","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");var j=e.useCallback,k=e.useEffect;function a(a){var e=a.encryptedToken,f=a.isDisabled;f=f===void 0?!1:f;var g=a.position,i=(h||(h=c("useUnsafeRef_DEPRECATED")))(!1);a=j(function(a){if(i.current||e==null)return;i.current=!0;c("GhlSwankFalcoEvent").log(function(){return{hd:String(a),sli:String(g),xt:e}});var f=l.current;if(f!==null){d("CometGHLTracker").m(f);b("cr:1088657")&&b("cr:1088657").b({e:f,hd:a,token:(f=e)!=null?f:""})}},[e,g]);var l=c("useCometGHLDisplayMonitor")(!i.current&&!f,a);k(function(){var a=l.current;return function(){a&&d("CometGHLTracker").d(a)}},[l]);f=j(function(a){c("DebugOwl").nest(a,{location:"FEED",position:g})},[g]);return c("useMergeRefs")(l,f)}f=a;g["default"]=f}),98);
__d("useFullViewImpression",["react","react-compiler-runtime","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useRef;function a(a){var b=d("react-compiler-runtime").c(7),e=a.onFullViewStart;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a={bottomRight:!1,hasBeenFullyViewed:!1,topLeft:!1},b[0]=a):a=b[0];var f=i(a);b[1]!==e?(a=function(a){var b=a.entry;a=a.isElementVisible;if(!a&&f.current.hasBeenFullyViewed)f.current={bottomRight:!1,hasBeenFullyViewed:!1,topLeft:!1};else if(a&&!f.current.hasBeenFullyViewed){b.intersectionRatio===1?(f.current.bottomRight=!0,f.current.topLeft=!0):(f.current.bottomRight||(f.current.bottomRight=b.boundingClientRect.bottom<=b.rootBounds.bottom&&b.boundingClientRect.right<=b.rootBounds.right),f.current.topLeft||(f.current.topLeft=b.boundingClientRect.top>=b.rootBounds.top&&b.boundingClientRect.left>=b.rootBounds.left));if(f.current.bottomRight&&f.current.topLeft){f.current.hasBeenFullyViewed=!0;return e({currentTime:Date.now()})}}},b[1]=e,b[2]=a):a=b[2];a=a;var g;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(a){f.current={bottomRight:!1,hasBeenFullyViewed:!1,topLeft:!1}},b[3]=g):g=b[3];g=g;var h;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(h={thresholdOverride:"EXPENSIVE"},b[4]=h):h=b[4];b[5]!==a?(g={onHidden:g,onIntersection:a,options:h},b[5]=a,b[6]=g):g=b[6];return c("useVisibilityObserver")(g)}g["default"]=a}),98);
__d("useStoryFullViewLogger",["CometMetricsFullViewFalcoEvent","react","react-compiler-runtime","requireDeferred","useFullViewImpression","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useRef,j=c("requireDeferred")("Banzai").__setRef("useStoryFullViewLogger");function a(a,b,e){e=d("react-compiler-runtime").c(5);var f=i(!1),g;e[0]!==b||e[1]!==a?(g=function(d){if(!f.current&&a!=null){f.current=!0;var e=a,g=b,h=c("uuidv4")(),i={csp:g,event_trace_id:h,xt:e};c("CometMetricsFullViewFalcoEvent").log(function(){return{csp:g.toString(),event_trace_id:h,xt:e}});j.onReady(function(a){a.post("comet_metrics:full_view",i)})}},e[0]=b,e[1]=a,e[2]=g):g=e[2];g=g;var h;e[3]!==g?(h={onFullViewStart:g},e[3]=g,e[4]=h):h=e[4];return c("useFullViewImpression")(h)}g["default"]=a}),98);
__d("useStoryObserverImpressionLogger",["BrandSafetyOpportunityLossRateFalcoEvent","CometAdsProductLogger","CometFeed5sImpressionDelayContext","CometFeedAdsProductContext","CometFeedBrandSafetyContext","CometFeedBrandSafetyLoggingUtil","CometFeedUnitStatusListPassiveContext","CometGHLTracker","CometMetricsViewableImpressionFalcoEvent","CometTimeSpentNavigation","DebugOwl","FBLogger","WebSession","cr:1813330","ghlTestUBT","gkx","justknobx","randomInt","react","registerSourceForView","sendImpressionEnterActionValidationData","sendImpressionExitActionValidationData","setTimeout","useMinifiedProductAttribution","usePartialViewImpression","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h;e=h||d("react");var i=e.useCallback,j=e.useContext,k=e.useEffect,l=e.useRef,m={can_delay_log_impression:!1,subsequent_gap_in_ms:6e4},n=5e3;function a(a,e,f,g,h,p){g===void 0&&(g=!1);h===void 0&&(h=null);var q=babelHelpers["extends"]({},m,f),r=l(null),s=l(null),t=l(null),u=l(!1),v=l(!1),w=c("useMinifiedProductAttribution")();k(function(){c("ghlTestUBT")(function(a){u.current=a})},[]);k(function(){return function(){r.current=null,v.current=!1,t.current=null}},[h]);var x=j(c("CometFeedUnitStatusListPassiveContext")),y=j(c("CometFeedBrandSafetyContext")),z=j(c("CometFeed5sImpressionDelayContext"));f=j(c("CometFeedAdsProductContext"));var A=f.adId,B=f.minGapRule,C=f.minGapType;h=i(function(f){var h=f.entry,i=f.visibleTime;c("DebugOwl").perch(h.target);b("cr:1813330")==null?void 0:b("cr:1813330").setNewsFeedStoryPosition(e);var j=function(b,f){f=Date.now();var g=c("CometTimeSpentNavigation").getPathInfo(),h=d("CometGHLTracker").c(b.target);c("DebugOwl").fly(b.target);var j=e,k=Math.floor(f/1e3),l=f+"_"+(c("randomInt")(0,4294967295)+1),m=h,n=g?g.name:null,q=d("WebSession").getId(),r=b.visiblePercentage,s=a,t=c("uuidv4")(),u=d("CometFeedBrandSafetyLoggingUtil").getBrandSafetyFieldForAdImpression(x,y,e),D;if(c("justknobx")._("616")){j==null&&c("FBLogger")("comet_impression").mustfix("storyPosition param %s is invalid. event_trace_id: %s, aidv2: %s",j,t,w);D=(f=j==null?void 0:j.toString())!=null?f:"0"}else D=j.toString();c("CometMetricsViewableImpressionFalcoEvent").logImmediately(function(){return{aidv2:w,brs:u,csp:D,cts:k.toString(),etid:l,event_trace_id:t,hba:m,isv:"1",me:n,sk:q,vp:r.toString(),xt:s}});if(x){h=x();((g=h[j])==null?void 0:g.category)==="SPONSORED"&&(z.hasAnyAdImpressionAlreadyBeenLogged===!1&&(z.hasAnyAdImpressionAlreadyBeenLogged=!0,z.firstLoggedAdImpressionStoryPosition=e))}o(u,p,i,e);d("CometAdsProductLogger").logCometAdsProductGapRule({adId:A,csp:D,cts:k.toString(),endPoint:n,getFeedUnitStatusList:x,hba:m,isv:"1",minGapRule:B,minGapType:C,sessionKey:q,tracking:s,vp:r.toString()});c("registerSourceForView")(null,s);v.current=!0},k={boundingClientRect:h.boundingClientRect,impressedAt:i,intersectionRect:h.intersectionRect,invisibleReason:null,rootBounds:h.rootBounds,status:"ENTER",target:h.target,visible:!0,visiblePercentage:h.intersectionRatio};g&&c("sendImpressionEnterActionValidationData")("impression_api_comet_enter",k,null,{csp:e,pre_rs:r.current,xt:a});if(t.current||s.current)return;if(q.can_delay_log_impression===!0&&(u.current||d("CometGHLTracker").b()||c("gkx")("23488"))){z.hasUserSeenAnyAd===!1&&(z.hasUserSeenAnyAd=!0,z.firstAdStoryPosition=e);f=c("gkx")("23490");h=f;f=d("CometGHLTracker").b();var l=!z.hasAnyAdImpressionAlreadyBeenLogged;h=h||f||l?n:0;c("gkx")("1718")?f=h:f=n;s.current=c("setTimeout")(function(){j&&j(k,"AD_BLOCKER"),s.current=null},f)}else j&&j(k,v.current?"DEDUP":"ORIGINAL")},[g,q.can_delay_log_impression,e,a,w]);f=i(function(b){var d=b.hiddenReason,f=b.visibleDuration;b=b.visibleTime;g&&c("sendImpressionExitActionValidationData")("impression_api_comet_exit",{impressedAt:b,invisibleReason:d,visiblePercentage:0},null,{csp:e,duration:f,pre_rs:r.current,xt:a});r.current=d;if(t.current)return;(v.current||s.current)&&(t.current=c("setTimeout")(function(){v.current=!1,t.current=null},q.subsequent_gap_in_ms))},[q.subsequent_gap_in_ms,e,a,g]);return c("usePartialViewImpression")({onImpressionEnd:f,onImpressionStart:h})}function o(a,b,d,e){var f=a==null?void 0:a.brs_filter_setting;if(c("BrandSafetyOpportunityLossRateFalcoEvent")!=null&&parseInt(f,10)>0){var g=a==null?void 0:a.unit_after,h=a==null?void 0:a.unit_before;c("BrandSafetyOpportunityLossRateFalcoEvent").log(function(){var a;return{ad_insertion_status:"INSERTED",ad_insertion_sub_status:"VALID_COMPATIBLE",ad_inventory_filter:String(f),adjacent_edges_info:{unit_after:g!=null?{brs_content_label:(a=g.brs_content_label)!=null?a:"",organic_tracking:(a=g.organic_tracking)!=null?a:""}:null,unit_before:h!=null?{brs_content_label:(a=h.brs_content_label)!=null?a:"",organic_tracking:(a=h.organic_tracking)!=null?a:""}:null},client_token:(a=b)!=null?a:"",feed_session_id:"",impression_original_timestamp_ms:String(d),slot_position:String(e)}})}}g["default"]=a}),98);
__d("useViewabilityImpression",["react-compiler-runtime","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("react-compiler-runtime").c(3);a=a.onIntersection;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={thresholdOverride:"MODERATE"},b[0]=e):e=b[0];b[1]!==a?(e={onIntersection:a,options:e},b[1]=a,b[2]=e):e=b[2];return c("useVisibilityObserver")(e)}g["default"]=a}),98);
__d("useStoryViewabilityDurationLogger",["Banzai","CometMetricsViewabilityFalcoEvent","PercentVisible","react","react-compiler-runtime","useViewabilityImpression","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useRef;function j(a,b,d){c("CometMetricsViewabilityFalcoEvent").logImmediately(function(){return{cumulative:a.cumulative.toString(),duration:a.duration.toString(),event_trace_id:b,interval:a.interval.toString(),segment_id:a.segmentid.toString(),start_ts:a.startTs.toString(),view_event_type:a.eventType.toString(),xt:d}})}function a(a,b,e){b=d("react-compiler-runtime").c(4);var f=i(null),g=i(null),h=i(null);b[0]!==a?(e=function(b){var e=b.entry;b=b.isElementVisible;var i=k,m=function(b){var d=c("uuidv4")(),e={cumulative:b.cumulative,duration:b.duration,event_trace_id:d,eventType:b.eventType,interval:b.interval,segmentid:b.segmentid,startTs:b.startTs,xt:a};j(b,d,a);b=babelHelpers["extends"]({},c("Banzai").VITAL,{signal:!1});c("Banzai").post("comet_metrics:viewability",e,b)},n=function(a,b,c){if(c==null)return null;b=i(a,c);m(b);return null},o=function(a,b,c){c==null?b={cumulative:0,duration:0,eventType:b,interval:0,segmentid:0,startTs:a}:b=i(a,c);b.segmentid<=2&&m(b);return b};!b?(f.current=n(e.time,d("PercentVisible").VISIBLE_0_PCT,f.current),g.current=n(e.time,d("PercentVisible").VISIBLE_50_PCT,g.current),h.current=n(e.time,d("PercentVisible").VISIBLE_100_PCT,h.current)):e.intersectionRatio<.5?(f.current=o(e.time,d("PercentVisible").VISIBLE_0_PCT,f.current),g.current=n(e.time,d("PercentVisible").VISIBLE_50_PCT,g.current),h.current=n(e.time,d("PercentVisible").VISIBLE_100_PCT,h.current)):e.intersectionRatio>=.5&&e.intersectionRatio<1?(f.current=o(e.time,d("PercentVisible").VISIBLE_0_PCT,f.current),g.current=o(e.time,d("PercentVisible").VISIBLE_50_PCT,g.current),h.current=n(e.time,d("PercentVisible").VISIBLE_100_PCT,h.current)):(f.current=o(e.time,d("PercentVisible").VISIBLE_0_PCT,f.current),g.current=o(e.time,d("PercentVisible").VISIBLE_50_PCT,g.current),h.current=o(e.time,d("PercentVisible").VISIBLE_100_PCT,h.current))},b[0]=a,b[1]=e):e=b[1];e=e;var l;b[2]!==e?(l={onIntersection:e},b[2]=e,b[3]=l):l=b[3];return c("useViewabilityImpression")(l)}function k(a,b){return{cumulative:a-b.startTs,duration:a-b.startTs,eventType:b.eventType,interval:a-b.cumulative-b.startTs,segmentid:b.segmentid+1,startTs:b.startTs}}g["default"]=a}),98);
__d("useStoryViewabilityLogger",["mergeRefs","react","useCometGHLFeedSurvey","useStoryFullViewLogger","useStoryObserverImpressionLogger","useStoryVPVDLogger","useStoryViewabilityDurationLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo;function k(a,b,c){return l}function l(){return null}function a(a){var b=a.clientToken,d=a.clientViewConfig;d=d===void 0?null:d;var e=a.contentIdentifier;e=e===void 0?null:e;var f=a.disabledViewabilityEventTypes,g=a.encryptedTracking,h=a.position,l=a.shouldDisableGHLSurvey,m=l===void 0?!1:l,n=a.viewabilityConfig;l=a.vpvdOptionalData;a=[];function o(a,b){return n&&n.includes(a)&&(!f||!f.includes(a))?b:null}var p=!!n&&n.some(function(a){return a===7}),q=o(8,c("useStoryObserverImpressionLogger")(g,h,d,p,e,b)),r=o(7,k(g,h,d)),s=o(2,c("useStoryFullViewLogger")(g,h,d)),t=o(3,c("useStoryViewabilityDurationLogger")(g,h,d));p=c("useStoryVPVDLogger")(babelHelpers["extends"]({},l,{position:h,trackable:g}));e=p[0];b=p[1];a.push(b);var u=o(5,e),v=c("useCometGHLFeedSurvey")({clientViewConfig:d,encryptedToken:g,isDisabled:m,position:h});l=j(function(){return c("mergeRefs")(q,r,s,t,u,m?null:v,null)},[q,r,s,t,u,m,v]);return{debuggingInfoLoggers:a.map(function(a,b){return i.jsx("div",{children:a},b)}),ref:l}}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("BaseDataEntryKeyBuilder",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=a.key;return a.trimLeft().toLowerCase()}f["default"]=a}),66);
__d("BaseCacheEntryKeyBuilder",["BaseDataEntryKeyBuilder"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("BaseDataEntryKeyBuilder")(a.entry)}g["default"]=a}),98);
__d("BaseDataEntryLabelKeyBuilder",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.label.trimLeft().toLowerCase()}f["default"]=a}),66);
__d("BaseCacheEntryLabelKeyBuilder",["BaseDataEntryLabelKeyBuilder"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("BaseDataEntryLabelKeyBuilder")(a.entry)}g["default"]=a}),98);
__d("BaseTypeaheadDataCacheProvider",["BaseDataEntryLabelKeyBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.cache,d=a.matchBuilder,e=a.mergeBuilder;a=a.keyBuilder;a=a===void 0?c("BaseDataEntryLabelKeyBuilder"):a;this.$1=b;this.$2=d;this.$3=e;this.$4=a}var b=a.prototype;b.add=function(a){var b=this;a.forEach(function(a){var c=b.$4(a),d=b.$1.get(c);b.$1.set(c,d!=null&&b.$3!=null?b.$3(a,d):a)})};b.clear=function(){this.$1.clear()};b.remove=function(a){a=this.$4(a);this.$1.remove(a)};b.match=function(a){var b=this.$2({query:a});return this.$1.values().map(function(a){return a.type==="section"?babelHelpers["extends"]({},a):babelHelpers["extends"]({},a)}).filter(function(a){if(a.type==="section"){a.entries=a.entries.filter(b);return!0}else return b(a)})};b.values=function(){return this.$1.values()};return a}();g["default"]=a}),98);
__d("XPlatReactRelayErrorHandling",["CometRelayErrorHandling"],(function(a,b,c,d,e,f){"use strict";a=importNamespace("CometRelayErrorHandling").markErrorAsHandled;f.markErrorAsHandled=a}),66);
__d("BaseTypeaheadDataProvider",["CometRelay","Promise","XPlatReactRelayErrorHandling"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a){var b=a.onError,c=a.options,d=a.query,e=a.queryVariablesBuilder;a=a.relayEnvironment;this.$1=b;this.$2=d;this.$3=e;this.$4=a;this.$5=c}var c=a.prototype;c.fetch=function(a){var c=this,e=this.$3.build(),f=e(a);return new(h||(h=b("Promise")))(function(a,b){var e,g=!1;d("CometRelay").fetchQuery(c.$4,c.$2,f,{fetchPolicy:(e=c.$5)==null?void 0:e.fetchPolicy}).subscribe({error:function(a){d("XPlatReactRelayErrorHandling").markErrorAsHandled(a),c.$1!=null&&c.$1(a),b(a)},next:function(b){g||(g=!0,a({requestQueryVariables:f,response:b}))}})})};return a}();g["default"]=a}),98);
__d("BaseTypeaheadDataProviderQueryVariablesBuilder",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=null,this.$2=null,this.$3=a}var b=a.prototype;b.build=function(){return this.$3(this.$1,this.$2)};b.setComputedVariables=function(a){this.$2=a;return this};b.setDefaultVariables=function(a){this.$1=a;return this};return a}();f["default"]=a}),66);
__d("BaseTypeaheadInMemoryMapDataCache",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=new Map()}var b=a.prototype;b.clear=function(){this.$1.clear()};b.get=function(a){return this.$1.get(a)};b.has=function(a){return this.$1.has(a)};b.remove=function(a){this.$1["delete"](a)};b.set=function(a,b){this.$1.set(a,b)};b.values=function(){return Array.from(this.$1.values())};return a}();f["default"]=a}),66);
__d("BaseTypeaheadNetworkDataSource",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.fetchNetwork=function(a){var b=this;return this.$1.fetch(a).then(function(c){var d=c.requestQueryVariables;c=c.response;return{entries:b.$2(c,d),params:a}})};return a}();f["default"]=a}),66);
__d("BaseTypeaheadNetworkCacheDataSource",["BaseTypeaheadNetworkDataSource"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d){d=d.normalizeFunc;this.$1=new(c("BaseTypeaheadNetworkDataSource"))(a,d);this.$2=b}var b=a.prototype;b.fetchCache=function(a){var b=a.query;b=this.$2.match(b);return{entries:b,params:a}};b.fetchNetwork=function(a){var b=this,c=a.query;return this.$1.fetchNetwork(a).then(function(d){d=d.entries;d!=null&&b.$2.add(d,c);return{entries:b.$2.match(c),params:a}})};b.clearCache=function(){this.$2.clear()};return a}();g["default"]=a}),98);
__d("searchBaseTypeaheadTakeNEntriesFromSectionedEntries",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(b===0)return[];b=g(a,b);var c=b.entryIndex;b=b.entryUnionIndex;if(b===void 0)return a;a=a.slice(0,b+1);if(c!==void 0&&b!==void 0){b=a[b];b.type==="section"&&(b.entries=b.entries.slice(0,c+1))}return a}function g(a,b){b=b;for(var c=0;c<a.length;c++){var d=a[c];if(d.type!=="section"){b--;if(b===0)return{entryUnionIndex:c}}else if(b<=d.entries.length)return{entryIndex:b-1,entryUnionIndex:c};else b-=d.entries.length}return{}}f["default"]=a}),66);
__d("BaseTypeaheadPayloadDecoratorAddLimit",["searchBaseTypeaheadTakeNEntriesFromSectionedEntries"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return function(b){var d=b.entries;return babelHelpers["extends"]({},b,{entries:c("searchBaseTypeaheadTakeNEntriesFromSectionedEntries")(d,a)})}}g["default"]=a}),98);
__d("baseTypeaheadDedupEntriesBuilder",["baseTypeaheadFlattenEntries"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return function(b,d){var e=new Set(c("baseTypeaheadFlattenEntries")(b).map(function(b){return a(b)})),f=new Map();for(var g of b){if(g.type!=="section")continue;f.set(g.key,g)}g=d.map(function(b){if(b.type==="section"){var c=b.entries.filter(function(b){return!e.has(a(b))});if(c.length===0)return null;var d=f.get(b.key);if(d!=null){d.entries=[].concat(d.entries,c);return null}else{b.entries=c;return b}}else return e.has(a(b))?null:b}).filter(Boolean);return[].concat(b,g)}}g["default"]=a}),98);
__d("baseTypeaheadLabelSuffixBuilder",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a=a.label.trimLeft().toLowerCase();return b==null||!a.startsWith(b)?"":a.slice(b.length)}f["default"]=a}),66);
__d("BaseTypeaheadQueryDataCacheProvider",["BaseCacheEntryLabelKeyBuilder","BaseTypeaheadInMemoryMapDataCache","baseTypeaheadDedupEntriesBuilder","baseTypeaheadLabelSuffixBuilder","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){a=a===void 0?{}:a;var b=a.dedupe;a=a.suffixBuilder;this.$1=new(c("BaseTypeaheadInMemoryMapDataCache"))();this.$2=(b=b)!=null?b:c("baseTypeaheadDedupEntriesBuilder")(c("BaseCacheEntryLabelKeyBuilder"));this.$3=(b=a)!=null?b:c("baseTypeaheadLabelSuffixBuilder")}var b=a.prototype;b.add=function(a,b){b===void 0&&(b="");b=((b=b)!=null?b:"").trimLeft().toLowerCase();a=this.$4(a,b);this.$1.set(b,a)};b.clear=function(){this.$1.clear()};b.match=function(a){a=a.trimLeft().toLowerCase();if(a===""){var b;return((b=this.$1.get(a))!=null?b:[]).map(function(a){a=a.entry;return a})}b=[];for(var c=1;c<=a.length;c++){var d=a.substring(0,c),e=a.substring(c,a.length);d=this.$5(d,e);b=this.$2(b,d)}return b.map(function(a){a=a.entry;return a})};b.remove=function(a){c("recoverableViolation")("'remove' is not implemented for BaseTypeaheadQueryDataCacheProvider","search")};b.$5=function(a,b){a=(a=this.$1.get(a))!=null?a:[];return a.map(function(a){return!a.suffix.startsWith(b)&&a.suffix!==b.trim()?null:a}).filter(Boolean)};b.$4=function(a,b){var c=this;return a.map(function(a){return{entry:a,suffix:c.$3(a,b)}})};b.values=function(){c("recoverableViolation")("'entries' is not implemented for BaseTypeaheadQueryDataCacheProvider","search");return[]};return a}();g["default"]=a}),98);
__d("CometInternalTypeaheadFetchContext",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({fetch:c("emptyFunction"),isLoading:!1,refetch:c("emptyFunction"),source:"all"});g["default"]=b}),98);
__d("CometInternalTypeaheadStateContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({activeEntries:[],highlightedEntry:null,highlightedEntrySource:null,secondaryActionHighlighted:null});g["default"]=b}),98);
__d("cometTypeaheadKeyboardNavigationUtils",[],(function(a,b,c,d,e,f){"use strict";function g(a,b,c,d){var e;if(a.length===0){c(null,null);return}var f=b!=null?a.findIndex(function(a){return a.key===b})+1:0;f===a.length&&(f=0);e=(e=(e=a[f])==null?void 0:e.hasSecondaryAction)!=null?e:!1;c(a[f],e?d:null)}function h(a,b,c,d){var e;if(a.length===0){c(null,null);return}var f=b!=null?a.findIndex(function(a){return a.key===b})-1:a.length-1;f===-1&&(f=a.length-1);e=(e=(e=a[f])==null?void 0:e.hasSecondaryAction)!=null?e:!1;c(a[f],e?d:null)}function a(a,b,c,d){if(a.length===0){c(null,!1);return}if(d===!0){d=a.findIndex(function(a){return a.key===b});c(a[d],!1)}else h(a,b,c,!0)}function b(a,b,c,d){if(a.length===0){c(null,!1);return}if(d===!0)g(a,b,c,!1);else{d=a.findIndex(function(a){return a.key===b});c(a[d],!0)}}f.moveDown=g;f.moveUp=h;f.moveLeft=a;f.moveRight=b}),66);
__d("cometTypeaheadODSLogFetchCacheEvent",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("ODS").__setRef("cometTypeaheadODSLogFetchCacheEvent");function a(a,b,c){b===void 0&&(b=!0);c===void 0&&(c=1);if(!b)return;h.onReady(function(b){b.bumpEntityKey(354,a,"fetched-cache",c)})}g["default"]=a}),98);
__d("cometTypeaheadODSLogFetchNetworkEvent",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("ODS").__setRef("cometTypeaheadODSLogFetchNetworkEvent");function a(a,b,c){b===void 0&&(b=!0);c===void 0&&(c=1);if(!b)return;h.onReady(function(b){b.bumpEntityKey(354,a,"fetched-network",c)})}g["default"]=a}),98);
__d("useBaseTypeaheadDataSourceFetchResolverCache",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(2),c=a.dataSource;b[0]!==c?(a=function(a){var b=a.onResolvePayload;a=a.requestParams;var d=a.perfTraceAPI;a=c.fetchCache(a);d&&d.addMarkerPoint("cachedResponse","AppTiming");b(a);return a},b[0]=c,b[1]=a):a=b[1];return a}g["default"]=a}),98);
__d("useBaseTypeaheadDataSourceFetchResolverNetwork",["promiseDone","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useEffect,j=b.useRef,k=b.useState;function a(a){var b=d("react-compiler-runtime").c(9),e=a.dataSource;a=k(!1);var f=a[0],g=a[1],h=j(0),l=j(!1),m;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){l.current=!1;return function(){l.current=!0}},m=[],b[0]=a,b[1]=m):(a=b[0],m=b[1]);i(a,m);b[2]!==e?(a=function(a){var b=a.onResolvePayload;a=a.requestParams;h.current=h.current+1;var d=h.current,f=a.perfTraceAPI;g(!0);c("promiseDone")(e.fetchNetwork(a).then(function(a){!l.current&&d===h.current&&(b(a),f&&f.addMarkerPoint("networkResponse","AppTiming"))})["finally"](function(){!l.current&&d===h.current&&(h.current=0,g(!1))}))},b[2]=e,b[3]=a):a=b[3];m=a;b[4]!==f?(a={isLoading:f},b[4]=f,b[5]=a):a=b[5];b[6]!==m||b[7]!==a?(f=[a,m],b[6]=m,b[7]=a,b[8]=f):f=b[8];return f}g["default"]=a}),98);
__d("useBaseTypeaheadDataSourceFetchResolver",["baseTypeaheadFlattenEntries","cometTypeaheadODSLogFetchCacheEvent","cometTypeaheadODSLogFetchNetworkEvent","emptyObject","react","recoverableViolation","useBaseTypeaheadDataSourceFetchResolverCache","useBaseTypeaheadDataSourceFetchResolverNetwork","useDebouncedComet"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef,k=8;function a(a,b){var d=a.dataSource,e=a.dataSourceFetchConfigParams,f=a.onResolvePayload;e=(a=e)!=null?a:c("emptyObject");a=e.renderLimit;var g=a===void 0?k:a;a=e.bypassCacheRenderLimitCheck;var h=a===void 0?!1:a;a=e.shouldDebounceNetwork;var l=a===void 0?!0:a;a=e.networkDebounceWaitDuration;e=e.requestFlow;var m=j(e),n=c("useBaseTypeaheadDataSourceFetchResolverCache")({dataSource:d});e=c("useBaseTypeaheadDataSourceFetchResolverNetwork")({dataSource:d});var o=e[0].isLoading,p=e[1],q=c("useDebouncedComet")(p,{wait:a});function r(){var a=!1;function e(b,d){var e=d.isTraceComplete;d=d.source;try{a||f(b,{isTraceComplete:e,source:d})}catch(b){a||c("recoverableViolation")("Failed to resolve fetched payload","search")}}function i(a){var b=a.requestParams;a=a.source;var f=b.requestFlow;f!=null&&(m.current=f);if(typeof d.fetchCache==="function"&&["all","cache"].includes(a)){f=n({onResolvePayload:function(a){var b=a.entries;b=c("baseTypeaheadFlattenEntries")(b).length;e(a,{isTraceComplete:!h&&b>=g,source:"cache"});c("cometTypeaheadODSLogFetchCacheEvent")&&c("cometTypeaheadODSLogFetchCacheEvent")("comet.ta.fetch",!0,1)},requestParams:b});f=f;f=f.entries;f=c("baseTypeaheadFlattenEntries")(f).length;if(!h&&f>=g)return}if(typeof d.fetchNetwork==="function"&&["all","network"].includes(a)){f={onResolvePayload:function(a){e(a,{isTraceComplete:!0,source:a.entries.length>0?"network":"network-no-results"}),c("cometTypeaheadODSLogFetchNetworkEvent")&&c("cometTypeaheadODSLogFetchNetworkEvent")("comet.ta.fetch",!0,1)},requestParams:babelHelpers["extends"]({},b,{requestFlow:m.current})};Boolean(l)?q(f):p(f)}}b!=null&&i(b);return function(){a=!0}}i(r,[b]);return[{isLoading:o}]}g["default"]=a}),98);
__d("useBaseTypeaheadDataSourceFetch",["react","react-compiler-runtime","recoverableViolation","useBaseTypeaheadDataSourceFetchResolver"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useState;function a(a){var b,e=d("react-compiler-runtime").c(9),f=i(null),g=f[0],h=f[1];f=c("useBaseTypeaheadDataSourceFetchResolver")(a,g);a=f[0];f=a.isLoading;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(a,b){b=b===void 0?"all":b;h({requestParams:a,source:b})},e[0]=a):a=e[0];var j=a;e[1]!==g?(a=function(a){a=a||{};var b=a.requestFlow;a=a.source;if(g==null){c("recoverableViolation")("Refetch cannot be called with undefined `fetchParams`","search");return}var d=g.requestParams,e=d.loggingEventTrace;d=babelHelpers.objectWithoutPropertiesLoose(d,["loggingEventTrace"]);e=babelHelpers["extends"]({loggingEventTrace:babelHelpers["extends"]({},e,{sequenceID:String(Date.now())}),requestFlow:b},d);j(e,a)},e[1]=g,e[2]=a):a=e[2];a=a;b=(b=g==null?void 0:g.source)!=null?b:"all";var k;e[3]!==f||e[4]!==b?(k={isLoading:f,source:b},e[3]=f,e[4]=b,e[5]=k):k=e[5];e[6]!==a||e[7]!==k?(f=[k,j,a],e[6]=a,e[7]=k,e[8]=f):f=e[8];return f}g["default"]=a}),98);
__d("useCometInternalTypeaheadFetch",["CometInternalTypeaheadFetchContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){return i(c("CometInternalTypeaheadFetchContext"))}g["default"]=a}),98);
__d("useCometTypeaheadViewLabel",["fbt","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i;(i||d("react")).useMemo;function a(a){var b=d("react-compiler-runtime").c(3);a=a.activeEntries;bb0:{a=a.length;if(a===0){var c;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c=h._(/*BTDS*/"No suggested searches."),b[0]=c):c=b[0];c=c;break bb0}var e;b[1]!==a?(e=h._(/*BTDS*/"_j{\"*\":\"{number} suggested searches\",\"_1\":\"1 suggested search\"}",[h._plural(a,"number")]),b[1]=a,b[2]=e):e=b[2];c=e}return c}g["default"]=a}),226);
__d("useCometTypeaheadLayoutContextualStrategyARIAProps",["react","react-compiler-runtime","useCometInternalTypeaheadFetch","useCometTypeaheadViewLabel"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useId;b.useMemo;function a(a){var b=d("react-compiler-runtime").c(29),e=a.activeEntries,f=a.helperText,g=a.highlightedEntry,h=a.inputLabel,j=a.isOpened,k=a.secondaryActionHighlighted;a=a.viewRole;h=h===void 0?"":h;var l=i(),m=c("useCometInternalTypeaheadFetch")();m=m.isLoading;var n=i(),o;b[0]!==e?(o={activeEntries:e},b[0]=e,b[1]=o):o=b[1];o=c("useCometTypeaheadViewLabel")(o);var p;b[2]!==g||b[3]!==k?(p=g!=null?{"aria-activedescendant":k===!0?g.key+"-secondary-action":g.key}:{},b[2]=g,b[3]=k,b[4]=p):p=b[4];g=p;b[5]!==e.length||b[6]!==j||b[7]!==l?(k=j&&e.length>0?{"aria-controls":l}:null,b[5]=e.length,b[6]=j,b[7]=l,b[8]=k):k=b[8];p=k;b[9]!==n||b[10]!==f?(k=f!=null&&String(f).length>0?{"aria-describedby":n}:null,b[9]=n,b[10]=f,b[11]=k):k=b[11];f=k;b[12]!==m||b[13]!==l||b[14]!==o||b[15]!==a?(k={"aria-busy":m,"aria-label":o,id:l,role:a},b[12]=m,b[13]=l,b[14]=o,b[15]=a,b[16]=k):k=b[16];m=k;b[17]!==n?(l={id:n},b[17]=n,b[18]=l):l=b[18];o=e.length>0&&j;b[19]!==h||b[20]!==g||b[21]!==p||b[22]!==f||b[23]!==o?(a=babelHelpers["extends"]({},g,p,f,{"aria-autocomplete":"list","aria-expanded":o,"aria-label":h,role:"combobox"}),b[19]=h,b[20]=g,b[21]=p,b[22]=f,b[23]=o,b[24]=a):a=b[24];b[25]!==m||b[26]!==a||b[27]!==l?(k={ariaDescribedByProps:l,ariaInputProps:a,ariaViewProps:m},b[25]=m,b[26]=a,b[27]=l,b[28]=k):k=b[28];n=k;return n}g["default"]=a}),98);
__d("useCometInternalTypeaheadState",["CometInternalTypeaheadStateContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){return i(c("CometInternalTypeaheadStateContext"))}g["default"]=a}),98);
__d("CometTypeaheadViewItem.react",["CometPressable.react","CometRow.react","CometRowItem.react","emptyFunction","react","react-compiler-runtime","react-strict-dom","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;var j={root:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",marginBottom:"xat24cr",marginTop:"xdj266r",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}},k={contentRoot:{alignItems:"x6s0dn4",cursor:"x1ypdohk",display:"x78zum5",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0},contentRootDisabled:{bottom:"x1ey2m1c",cursor:"x1h6gzvc",left:"xu96u03",position:"x10l6tqk",right:"x3m8u43",start:null,end:null,top:"x13vifvy",$$css:!0},contentRootEmphasized:{backgroundColor:"xlhe6ec",$$css:!0},contentRootFocused:{boxShadow:"xpud6h4",outline:"x1a2a7pz xvetz19",$$css:!0},contentRootHighlighted:{backgroundColor:"x1wpzbip xugaqoy",$$css:!0},itemIcon:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",display:"x78zum5",$$css:!0},pressable:{flexDirection:"x1q0g3np",width:"xh8yej3",$$css:!0},pressableWithAdditionalEndContent:{flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",$$css:!0},root:{display:"x78zum5",width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(53),e=a.additionalEndContentOutsideOfPressable,f=a.children,g=a.cursorDisabled_SEARCH_ONLY,h=a.entry,l=a.isActive,m=a.isEmphasized,n=a.isDisabled,o=a.itemEndContent,p=a.itemStartContent,q=a.linkProps,r=a.onPressEntry,s=a.onPressEntryIn,t=a.overlayDisabled_SEARCH_ONLY,u=a.role,v=a.testid,w=a.xstyle,x=a.debugElement,y=a.focusable;a=a.itemEndContentKeyboardFocusable;g=g===void 0?!1:g;m=m===void 0?!1:m;n=n===void 0?!1:n;t=t===void 0?!1:t;w=w===void 0?j.root:w;y=y===void 0?!1:y;a=a===void 0?!1:a;var z=c("useCometInternalTypeaheadState")();z=z.secondaryActionHighlighted;var A;b[0]!==h||b[1]!==r?(A=function(a){r&&r(h,a)},b[0]=h,b[1]=r,b[2]=A):A=b[2];A=A;var B;b[3]!==h||b[4]!==s?(B=function(a){s&&s(h,a)},b[3]=h,b[4]=s,b[5]=B):B=b[5];B=B;var C=u==="row"?"gridcell":"none",D=a===!0&&C==="gridcell"?void 0:h.key;A=n?c("emptyFunction"):A;B=n?c("emptyFunction"):B;var E=a!==!0?C:"none",F=l&&k.contentRootHighlighted;z=l&&z!==!0&&k.contentRootFocused;m=m&&k.contentRootEmphasized;var G=e==null?k.pressable:k.pressableWithAdditionalEndContent,H;b[6]!==F||b[7]!==z||b[8]!==m||b[9]!==G||b[10]!==w?(H=[k.contentRoot,F,z,m,w,G],b[6]=F,b[7]=z,b[8]=m,b[9]=G,b[10]=w,b[11]=H):H=b[11];b[12]!==p?(F=p!=null?i.jsx(c("CometRowItem.react"),{children:i.jsx(d("react-strict-dom").html.div,{style:k.itemIcon,children:p})}):null,b[12]=p,b[13]=F):F=b[13];b[14]!==C||b[15]!==f||b[16]!==h.key||b[17]!==a?(z=a===!0&&C==="gridcell"?i.jsx(d("react-strict-dom").html.div,{id:h.key,role:C,children:f}):f,b[14]=C,b[15]=f,b[16]=h.key,b[17]=a,b[18]=z):z=b[18];b[19]!==z?(m=i.jsx(c("CometRowItem.react"),{expanding:!0,children:z}),b[19]=z,b[20]=m):m=b[20];b[21]!==C||b[22]!==h.key||b[23]!==o||b[24]!==a?(G=o!=null?i.jsx(c("CometRowItem.react"),{children:a===!0&&C==="gridcell"?i.jsx(d("react-strict-dom").html.div,{id:h.key+"-secondary-action",role:C,children:o}):o}):null,b[21]=C,b[22]=h.key,b[23]=o,b[24]=a,b[25]=G):G=b[25];b[26]!==F||b[27]!==m||b[28]!==G?(w=i.jsxs(c("CometRow.react"),{expanding:!0,paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",children:[F,m,G]}),b[26]=F,b[27]=m,b[28]=G,b[29]=w):w=b[29];p=n&&k.contentRootDisabled;b[30]!==p?(f=i.jsx(d("react-strict-dom").html.div,{style:p}),b[30]=p,b[31]=f):f=b[31];b[32]!==e||b[33]!==g||b[34]!==h.label||b[35]!==y||b[36]!==n||b[37]!==q||b[38]!==t||b[39]!==A||b[40]!==B||b[41]!==E||b[42]!==H||b[43]!==w||b[44]!==f?(z=i.jsxs(c("CometPressable.react"),{cursorDisabled:g,disabled:n,display:"block",expanding:!0,focusable:y,label:h.label,linkProps:q,onPress:A,onPressIn:B,overlayDisabled:t,overlayFocusRingPosition:"inset",role:E,xstyle:H,children:[w,e,f]}),b[32]=e,b[33]=g,b[34]=h.label,b[35]=y,b[36]=n,b[37]=q,b[38]=t,b[39]=A,b[40]=B,b[41]=E,b[42]=H,b[43]=w,b[44]=f,b[45]=z):z=b[45];b[46]!==x||b[47]!==l||b[48]!==u||b[49]!==D||b[50]!==z||b[51]!==v?(C=i.jsxs(d("react-strict-dom").html.li,{"aria-selected":l,"data-testid":void 0,id:D,role:u,style:k.root,children:[x,z]}),b[46]=x,b[47]=l,b[48]=u,b[49]=D,b[50]=z,b[51]=v,b[52]=C):C=b[52];return C}g["default"]=a}),98);
__d("baseTypeaheadStartsWithMatchBuilder",["escapeRegex"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.query;var b=new RegExp("^"+c("escapeRegex")(a),"i");return function(a){return b.test((a=a.label)!=null?a:"")}}g["default"]=a}),98);
__d("CometTypeaheadProgressGlimmer.react",["FDSProgressRingIndeterminate.react","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={root:{alignItems:"x6s0dn4",display:"x78zum5",flexGrow:"x1iyjqo2",height:"xdd8jsf",justifyContent:"xl56j7k",$$css:!0}};function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx(d("react-strict-dom").html.div,{style:j.root,children:i.jsx(c("FDSProgressRingIndeterminate.react"),{color:"dark",size:24})}),a[0]=b):b=a[0];return b}g["default"]=a}),98);
__d("baseTypeaheadFetchPayloadDecorate",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){b===void 0&&(b=[]);var c=a;b.forEach(function(a){c=a(c)});return c}f["default"]=a}),66);/*FB_PKG_DELIM*/
__d("VirtualizationConfig",[],(function(a,b,c,d,e,f){"use strict";a={isVisible:!0,nodeHeight:null};b=4e3;c=0;d=!1;f.DEFAULT_INIT_RENDER_CONFIG=a;f.VERTICAL_HIDEABLE_MARGIN=b;f.HORIZONTAL_HIDEABLE_MARGIN=c;f.IS_INTERSECTION_MARGIN_SUPPORTED=d}),66);
__d("VirtualizationContainerContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||c("react");b=a.createContext();g["default"]=b}),98);
__d("MutationObserver",[],(function(a,b,c,d,e,f){b=function(){function a(a){}var b=a.prototype;b.observe=function(a,b){};b.disconnect=function(){};b.takeRecords=function(){return[]};return a}();e=(d=(c=a.MutationObserver)!=null?c:a.WebKitMutationObserver)!=null?d:b;c=e;f["default"]=c}),66);
__d("useMutationObserver",["MutationObserver","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useRef;function a(a,b){var d=j({observer:null,callback:a}),e=j(null),f=j({element:null,options:null,observer:null}),g=i(function(){var a=f.current,c=a.observer,g=a.element;a=a.options;var h=d.current.observer,i=e.current;(g!=i||b!=a||h!=c)&&(c&&c.disconnect(),h&&i&&h.observe(i,b),f.current={observer:h,element:i,options:b})},[b]);(d.current.observer==null||d.current.callback!==a)&&(d.current.observer!=null&&d.current.observer.disconnect(),d.current={observer:new(c("MutationObserver"))(a),callback:a});g();return i(function(a){e.current=a,g()},[g])}g["default"]=a}),98);
__d("useMutationStableChecker",["react","useMutationObserver"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useEffect,k=b.useRef,l=b.useState;function m(a,b){var c=[];a.forEach(function(a){if(!(a instanceof HTMLElement))return;a.matches(b)&&c.push(a);c.push.apply(c,Array.from(a.querySelectorAll(b)))});return c}function n(a,b,c,d){d===void 0&&(d=!1);var e=m(b,c);return e.length===0?a:d?new Set([].concat(Array.from(a).filter(function(a){return!e.includes(a)}))):new Set([].concat(Array.from(a),e))}var o={childList:!0,subtree:!0};function a(a,b,d){var e=l(!0),f=e[0],g=e[1],h=k(),m=k(new Set()),p=c("useMutationObserver")(function(b){b.forEach(function(a){if(a.type==="childList"){var b=a.addedNodes;a=a.removedNodes;d!=null&&(m.current=n(n(m.current,b,d,!1),a,d,!0))}}),q(a)},o),q=i(function(a){h.current!=null&&window.clearTimeout(h.current),h.current=window.setTimeout(function(){m.current.size>0?q(a):(g(!0),p(null))},a)},[p]);j(function(){a>0?(p(b.current!=null?b.current:null),g(!1)):p(null)},[a,p,b]);return f}g["default"]=a}),98);
__d("useTimeoutStateSinceFirstMounting.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef,k=b.useState;function a(a){var b=d("react-compiler-runtime").c(2),c=k(a<=0),e=c[0],f=c[1],g=j(a),h=j(!1);b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c=function(){var a=window.setTimeout(function(){h.current||(h.current=!0,f(!0))},g.current);return function(){window.clearTimeout(a)}},a=[],b[0]=c,b[1]=a):(c=b[0],a=b[1]);i(c,a);return e}g["default"]=a}),98);
__d("useVirtualizationContext",["VirtualizationContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useContext;b.useMemo;var j=b.useRef;function a(){var a=d("react-compiler-runtime").c(11),b=i(c("VirtualizationContext")),e=j(0),f;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=new Set(),a[0]=f):f=a[0];var g=j(f),h=j(!1),k=j(null);if(k.current==null){a[1]===Symbol["for"]("react.memo_cache_sentinel")?(f=new Map(),a[1]=f):f=a[1];k.current=f}a[2]===Symbol["for"]("react.memo_cache_sentinel")?(f=function(a){var b;e.current=e.current+1;var c=e.current;(b=k.current)==null?void 0:b.set(c,a);return function(){var a;(a=k.current)==null?void 0:a["delete"](c)}},a[2]=f):f=a[2];f=f;var l;a[3]===Symbol["for"]("react.memo_cache_sentinel")?(l=function(){return k.current==null?!1:k.current.size>0},a[3]=l):l=a[3];l=l;var m=j(null);if(m.current==null){var n;a[4]===Symbol["for"]("react.memo_cache_sentinel")?(n=new Map(),a[4]=n):n=a[4];m.current=n}a[5]===Symbol["for"]("react.memo_cache_sentinel")?(n=function(a,b){e.current=e.current+1;var c=e.current,d;d=null;var f=m.current;if(f!=null){var g;f.has(a)||f.set(a,new Map());d=f.get(a);(g=d)==null?void 0:g.set(c,b)}return function(){var b;(b=d)==null?void 0:b["delete"](c);((b=d)==null?void 0:b.size)===0&&(f==null?void 0:f["delete"](a))}},a[5]=n):n=a[5];n=n;var o;a[6]===Symbol["for"]("react.memo_cache_sentinel")?(o=function(a){var b;return(b=(b=m.current)==null?void 0:b.has(a))!=null?b:!1},a[6]=o):o=a[6];o=o;var p;a[7]===Symbol["for"]("react.memo_cache_sentinel")?(p=function(a){g.current.add(a);a(h.current);return function(){g.current["delete"](a)}},a[7]=p):p=a[7];p=p;var q;a[8]===Symbol["for"]("react.memo_cache_sentinel")?(q=function(a){h.current=a,g.current.forEach(function(b){b(a)})},a[8]=q):q=a[8];q=q;if(a[9]!==b){var r;r=(r=b)!=null?r:{createFlag:n,createPin:f,hasFlag:o,hasPin:l,onVirtualizationChange:q,subscribeToVirtualizationStatus:p};a[9]=b;a[10]=r}else r=a[10];n=r;f=n;return f}g["default"]=a}),98);
__d("CometVirtualization.react",["BaseView.react","HiddenSubtreeContextProvider.react","HiddenSubtreePassiveContext","VirtualizationConfig","VirtualizationContainerContext","VirtualizationContext","gkx","intersectionObserverEntryIsIntersecting","justknobx","nullIntersectionObserverEntryLogger","react","react-compiler-runtime","stylex","unrecoverableViolation","useIntersectionObserver","useMergeRefs","useMutationStableChecker","usePrevious","useResizeObserver","useTimeoutStateSinceFirstMounting.react","useVirtualizationContext"],(function(a,b,c,d,e,f,g){"use strict";var aa,h,i=h||(h=d("react"));e=h;e.useCallback;var ba=e.useContext,j=e.useEffect,ca=e.useRef,k=e.useState,l=function(){var a=null;return function(){if(a===null){var b;b=(b=document)==null?void 0:b.documentElement;if(b==null)throw c("unrecoverableViolation")("Scroll anchoring feature detection called in an environment without a documentElement","comet_infra");a=b.style.overflowAnchor!=null}return a}}();function da(a){var b=d("react-compiler-runtime").c(3);a=a===void 0?null:a;a=k(a);var c=a[0],e=a[1],f;b[0]!==c?(a=function(){c===null&&e(m)},f=[c],b[0]=c,b[1]=a,b[2]=f):(a=b[1],f=b[2]);j(a,f);return(b=c)!=null?b:!1}function m(){return l()}var ea={invisible:{display:"x1s85apg",$$css:!0},resetBlockFormattingContext:{display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0}},fa=c("justknobx")._("1003");function n(a){return typeof a.replace==="function"?a.replace(/\n/g," ").replace(/\s+/g," "):""}function a(){if(typeof IntersectionObserver!=="function")return!1;return typeof IntersectionObserver.toString!=="function"?!1:n(IntersectionObserver.toString()).endsWith("{ [native code] }")}var ga=a();function b(a){var b,e,f=arguments,g,h,l,m=d("react-compiler-runtime").c(65),n=a.children,ha=a.deferVirtualizationInMs,ia=a.deferVirtualizationMutationIntervalInMs,ja=a.deferVirtualizationPlaceholderSelector,ka=a.delayHeightPlaceholder,la=a.disableHiding,ma=a.hiddenMode,na=a.initialRenderConfig,oa=a.leftRightMargin,pa=a.mountXStyle,qa=a.pinChildrenOnInteraction,ra=a.pinChildrenWithPlayer,sa=a.ref,ta=a.scrollport,ua=a.testid,va=a.topBottomMargin,o=a.unmountHiddenChildren,wa=a.unmountXStyle,xa=a.xstyle,ya=ha===void 0?0:ha,za=ia===void 0?0:ia,p=ka===void 0?!1:ka,q=ma===void 0?"legacy":ma,Aa=na===void 0?d("VirtualizationConfig").DEFAULT_INIT_RENDER_CONFIG:na,r=oa===void 0?d("VirtualizationConfig").HORIZONTAL_HIDEABLE_MARGIN:oa,s=ta===void 0?null:ta,Ba=ua===void 0?"hideable":ua,t=va===void 0?d("VirtualizationConfig").VERTICAL_HIDEABLE_MARGIN:va,Ca=ca(null),u=ca(null),Da=ba(c("HiddenSubtreePassiveContext")),Ea=k(!1),v=Ea[0],Fa=Ea[1],Ga=ca(!0),Ha=k(Aa.isVisible),w=Ha[0],Ia=Ha[1],Ja=k(Aa.nodeHeight),x=Ja[0],y=Ja[1],Ka=c("usePrevious")(w),La=c("useTimeoutStateSinceFirstMounting.react")(ya),z=c("useVirtualizationContext")(),A=ba(c("VirtualizationContainerContext")),Ma=(b=pa)!=null?b:xa,Na=(e=wa)!=null?e:xa,B;m[0]!==w||m[1]!==x?(B=function(){var a=Ga.current||x==null&&!w;u.current!=null&&a&&y(u.current.getBoundingClientRect().height)},m[0]=w,m[1]=x,m[2]=B):B=m[2];var C;m[3]!==w||m[4]!==x||m[5]!==Ka?(C=[w,x,Ka],m[3]=w,m[4]=x,m[5]=Ka,m[6]=C):C=m[6];j(B,C);var D;m[7]!==p||m[8]!==Da?(D=function(a){c("nullIntersectionObserverEntryLogger")(a,"IntersectionObserverEntry is null. num_arguments="+f.length);var b=Da.getCurrentState().hiddenOrBackgrounded_FIXME;if(c("intersectionObserverEntryIsIntersecting")(a))p||y(null),Ia(!0);else if(!b){b=a.target.getBoundingClientRect();a=b.height;b=b.width;a>0&&b>0&&(Ia(!1),p&&y(a))}},m[7]=p,m[8]=Da,m[9]=D):D=m[9];var Oa=D,Pa=c("useMutationStableChecker")(za,u,ja),E;m[10]!==p||m[11]!==x?(E=function(a){p&&x!=null&&a.height>0&&y(null)},m[10]=p,m[11]=x,m[12]=E):E=m[12];var Qa=E,F=c("useResizeObserver")(Qa),G,H;m[13]!==p||m[14]!==x||m[15]!==F?(G=function(){if(!p)return;x!=null?F(u.current):F(null);return function(){F(null)}},H=[p,x,F],m[13]=p,m[14]=x,m[15]=F,m[16]=G,m[17]=H):(G=m[16],H=m[17]);j(G,H);var I,J;m[18]===Symbol["for"]("react.memo_cache_sentinel")?(I=function(){Ga.current&&(Ga.current=!1)},J=[],m[18]=I,m[19]=J):(I=m[18],J=m[19]);j(I,J);var K;m[20]!==r||m[21]!==t?(K={bottom:t,left:r,right:r,top:t},m[20]=r,m[21]=t,m[22]=K):K=m[22];var L=K,M;m[23]!==s||m[24]!==(A==null?void 0:A.rootElementRef)?(M=function(){var a=s!=null?s==null?void 0:s():A==null?void 0:A.rootElementRef.current;return a instanceof Element?a:null},m[23]=s,m[24]=A==null?void 0:A.rootElementRef,m[25]=M):M=m[25];var Ra=M,N;m[26]!==L?(N=babelHelpers["extends"]({},L),m[26]=L,m[27]=N):N=m[27];var O;m[28]!==L||m[29]!==N||m[30]!==Ra?(O={root:Ra,rootMargin:L,scrollMargin:N,threshold:0},m[28]=L,m[29]=N,m[30]=Ra,m[31]=O):O=m[31];var Sa=c("useIntersectionObserver")(Oa,O),Ta=c("useMergeRefs")(Sa,Ca,sa),Ua;bb0:{if(!v&&x!==null&&o!==!1&&(p||!w)){var P;m[32]!==x?(P={minHeight:x},m[32]=x,m[33]=P):P=m[33];Ua=P;break bb0}Ua=void 0}var Va=Ua,Q=!w&&x!=null,Wa=da((g=Aa.hasScrollAnchoring)!=null?g:null),Xa=Wa?Ta:sa;if(c("gkx")("22947")){var R;m[34]===Symbol["for"]("react.memo_cache_sentinel")?(R={className:"x78zum5 xdt5ytf"},m[34]=R):R=m[34];var S;m[35]!==n?(S=i.jsx("div",babelHelpers["extends"]({},R,{children:i.jsx(c("BaseView.react"),{children:n})})),m[35]=n,m[36]=S):S=m[36];return S}var T;m[37]!==qa?(T=function(){qa===!0&&Fa(!0)},m[37]=qa,m[38]=T):T=m[38];var U=T,Ya=((h=ra)!=null?h:!1)&&z.hasFlag("HAS_PLAYER"),V;m[39]!==La||m[40]!==Ya||m[41]!==Q||m[42]!==Pa||m[43]!==v||m[44]!==o||m[45]!==z?(V=ga&&fa&&o===!0&&Q&&!v&&!z.hasPin()&&!Ya&&La&&Pa,m[39]=La,m[40]=Ya,m[41]=Q,m[42]=Pa,m[43]=v,m[44]=o,m[45]=z,m[46]=V):V=m[46];var W=V;z.onVirtualizationChange(W);var X=fa&&!((l=la)!=null?l:!1)&&Q&&q!=="none",Za=W?Na:Ma,Y;m[47]!==Za?(Y=(aa||(aa=c("stylex")))(ea.resetBlockFormattingContext,Za),m[47]=Za,m[48]=Y):Y=m[48];var Z;m[49]!==n||m[50]!==q||m[51]!==X||m[52]!==W?(Z=q==="legacy"?i.jsx(c("BaseView.react"),{hidden:X,ref:u,xstyle:X&&ea.invisible,children:W?null:i.jsx(c("HiddenSubtreeContextProvider.react"),{isHidden:X,children:n})}):i.jsx("div",{ref:u,children:W?null:n}),m[49]=n,m[50]=q,m[51]=X,m[52]=W,m[53]=Z):Z=m[53];var $;m[54]!==U||m[55]!==Va||m[56]!==Xa||m[57]!==W||m[58]!==Y||m[59]!==Z||m[60]!==Ba?($=i.jsx("div",{className:Y,"data-testid":void 0,"data-virtualized":W,onClickCapture:U,onFocusCapture:U,onKeyPressCapture:U,ref:Xa,style:Va,children:Z}),m[54]=U,m[55]=Va,m[56]=Xa,m[57]=W,m[58]=Y,m[59]=Z,m[60]=Ba,m[61]=$):$=m[61];var $a;m[62]!==$||m[63]!==z?($a=i.jsx(c("VirtualizationContext").Provider,{value:z,children:$}),m[62]=$,m[63]=z,m[64]=$a):$a=m[64];return $a}g["default"]=b}),98);
__d("VirtualizationExperimentConfig",[],(function(a,b,c,d,e,f){"use strict";a=4e3;b=!0;c=!1;d=!1;e={polaris_feed_story_tray_item:{hiding_disabled:!1,pin_children_on_interaction:!0,surface_enabled:!0}};var g={comet_feed_unit_card:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:4e3,surface_enabled:!0},marketplace_item:{surface_enabled:!1}},h={comet_feed_unit_card:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!0,root_margin_top_bottom:500,surface_enabled:!0},comet_profile_photos:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:1e3,surface_enabled:!0},comet_tofu_stories_container:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:1e3,surface_enabled:!0},comet_watch_tab:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:4e3,surface_enabled:!0},marketplace_item:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:1e3,surface_enabled:!0},thread_list:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:500,surface_enabled:!0},thread_view:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:500,surface_enabled:!0}};f.DEFAULT_TOP_BOTTOM_MARGIN=a;f.DEFAULT_PIN_CHILDREN_ON_INTERACTION=b;f.DEFAULT_PIN_CHILDREN_WITH_PLAYER=c;f.DEFAULT_DISABLE_HIDING=d;f.ROLLOUT_CONFIG=e;f.GK_HOLDOUT_CONFIG=g;f.GK_ROLLOUT_CONFIG=h}),66);
__d("VirtualizationExperimentSettings",["VirtualizationExperimentConfig","gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("gkx")("2548"),j=c("gkx")("221");function k(a){if(Object.prototype.hasOwnProperty.call(d("VirtualizationExperimentConfig").ROLLOUT_CONFIG,a))return d("VirtualizationExperimentConfig").ROLLOUT_CONFIG;else if(i&&Object.prototype.hasOwnProperty.call(d("VirtualizationExperimentConfig").GK_HOLDOUT_CONFIG,a))return d("VirtualizationExperimentConfig").GK_HOLDOUT_CONFIG;else if(j&&Object.prototype.hasOwnProperty.call(d("VirtualizationExperimentConfig").GK_ROLLOUT_CONFIG,a))return d("VirtualizationExperimentConfig").GK_ROLLOUT_CONFIG;return null}var l=function(a){var b=k(a);return b==null?void 0:b[a]},m=new Set(((h=c("qex")._("641"))!=null?h:"").split(",").map(function(a){return a.trim()}));function a(a){var b=new Map();return function(c){if(b.has(c))return b.get(c);var d=a(c);b.set(c,d);return d}}function b(a){if(m.has(a))return!0;a=l(a);return(a=a==null?void 0:a.surface_enabled)!=null?a:!1}h=a(b);function e(a){var b=new Map();a.split(",").forEach(function(a){a=a.trim();a=a.split(":");var c=a[0];a=a[1];c=(c=c==null?void 0:c.trim())!=null?c:"";a=parseInt((a=a==null?void 0:a.trim())!=null?a:"",10);c.length>0&&!Number.isNaN(a)&&b.set(c,a)});return b}var n=e((b=c("qex")._("628"))!=null?b:"");function f(a){if(n.has(a)){var b;return(b=n.get(a))!=null?b:d("VirtualizationExperimentConfig").DEFAULT_TOP_BOTTOM_MARGIN}b=l(a);return(a=b==null?void 0:b.root_margin_top_bottom)!=null?a:d("VirtualizationExperimentConfig").DEFAULT_TOP_BOTTOM_MARGIN}e=a(f);var o=new Set(((b=c("qex")._("642"))!=null?b:"all").split(",")),p=new Set();function q(a){if(p.has(a))return;(o.has("all")||o.has(a))&&c("qex")._("692");p.add(a)}var r=(f=c("qex")._("648"))!=null?f:d("VirtualizationExperimentConfig").DEFAULT_PIN_CHILDREN_ON_INTERACTION;function s(a){if(m.has(a)){var b;return(b=r)!=null?b:!0}b=l(a);return(a=b==null?void 0:b.pin_children_on_interaction)!=null?a:!0}b=a(s);s=(f=c("qex")._("339"))!=null?f:"default";var t=s==="disable"?!0:s==="enable"?!1:null;function u(a){if(m.has(a)){var b;return(b=t)!=null?b:d("VirtualizationExperimentConfig").DEFAULT_DISABLE_HIDING}b=l(a);return(a=b==null?void 0:b.hiding_disabled)!=null?a:d("VirtualizationExperimentConfig").DEFAULT_DISABLE_HIDING}f=a(u);var v=(s=c("qex")._("885"))!=null?s:d("VirtualizationExperimentConfig").DEFAULT_PIN_CHILDREN_WITH_PLAYER;function w(a){if(m.has(a)){var b;return(b=v)!=null?b:d("VirtualizationExperimentConfig").DEFAULT_PIN_CHILDREN_WITH_PLAYER}b=l(a);return(a=b==null?void 0:b.pin_children_with_player)!=null?a:d("VirtualizationExperimentConfig").DEFAULT_PIN_CHILDREN_WITH_PLAYER}u=a(w);var x="static",y=new Set(["static","dynamic"]);function z(a){var b=new Map();a.split(",").forEach(function(a){a=a.trim();a=a.split(":");var c=a[0];a=a[1];c=(c=c==null?void 0:c.trim())!=null?c:"";a=a==null?void 0:a.trim();a=y.has(a)?a:x;c.length>0&&b.set(c,a)});return b}var A=z((s=c("qex")._("1851"))!=null?s:"");function B(a){if(A.has(a)){var b;return(b=A.get(a))!=null?b:x}b=l(a);return(a=b==null?void 0:b.virtualization_strategy)!=null?a:x}w=a(B);g.isSurfaceEnabled=h;g.getTopBottomMargin=e;g.logQEExposureOnceWhenNecessary=q;g.getPinChildrenOnInteration=b;g.isHidingDisabled=f;g.getPinChildrenWithPlayer=u;g.getVirtualizationStrategy=w}),98);
__d("CometHideableComponentExperiment.react",["CometVirtualization.react","VirtualizationExperimentSettings","cr:10342","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var e=d("react-compiler-runtime").c(29),f=a.callingSurface,g=a.children,h=a.disableHiding,k=a.mountXStyle,l=a.scrollport,m=a.topBottomMarginOverride,n=a.unmountXStyle;a=a.xstyle;l=l===void 0?null:l;var o;e[0]!==f?(o=d("VirtualizationExperimentSettings").isSurfaceEnabled(f),e[0]=f,e[1]=o):o=e[1];o=o;if(e[2]!==f||e[3]!==h||e[4]!==o){var p;p=(p=h)!=null?p:d("VirtualizationExperimentSettings").isHidingDisabled(f)||!o;e[2]=f;e[3]=h;e[4]=o;e[5]=p}else p=e[5];h=p;var q;e[6]!==f?(p=function(){return d("VirtualizationExperimentSettings").logQEExposureOnceWhenNecessary(f)},q=[f],e[6]=f,e[7]=p,e[8]=q):(p=e[7],q=e[8]);j(p,q);p=d("VirtualizationExperimentSettings").getVirtualizationStrategy(f);p=p==="static"?c("CometVirtualization.react"):(q=b("cr:10342"))!=null?q:c("CometVirtualization.react");e[9]!==f||e[10]!==o?(q=o&&d("VirtualizationExperimentSettings").getPinChildrenOnInteration(f),e[9]=f,e[10]=o,e[11]=q):q=e[11];var r;e[12]!==f?(r=d("VirtualizationExperimentSettings").getPinChildrenWithPlayer(f),e[12]=f,e[13]=r):r=e[13];var s;e[14]!==f||e[15]!==m?(s=m!=null&&m>=0?m:d("VirtualizationExperimentSettings").getTopBottomMargin(f),e[14]=f,e[15]=m,e[16]=s):s=e[16];e[17]!==p||e[18]!==g||e[19]!==o||e[20]!==h||e[21]!==k||e[22]!==l||e[23]!==q||e[24]!==r||e[25]!==s||e[26]!==n||e[27]!==a?(m=i.jsx(p,{disableHiding:h,mountXStyle:k,pinChildrenOnInteraction:q,pinChildrenWithPlayer:r,scrollport:l,topBottomMargin:s,unmountHiddenChildren:o,unmountXStyle:n,xstyle:a,children:g}),e[17]=p,e[18]=g,e[19]=o,e[20]=h,e[21]=k,e[22]=l,e[23]=q,e[24]=r,e[25]=s,e[26]=n,e[27]=a,e[28]=m):m=e[28];return m}g["default"]=a}),98);
__d("getImageSourceURLFromImageish",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(typeof a==="string")return a;return a!=null&&typeof a==="object"&&(!a.sprited&&a.uri&&typeof a.uri==="string")?a.uri:""}f["default"]=a}),66);
__d("mapMapToArray",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=[],d=0;for(var e of a){var f=e[0],g=e[1];c.push(b(g,f,d,a));d++}return c}f["default"]=a}),66);
__d("useGroupsCometIsInCCNegativeTest",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("qex")._("905")===!0;return a}function b(){var a=c("qex")._("913")===!0;return a}function d(){var a=c("qex")._("571")===!0,b=c("qex")._("914")===!0;return a||b}function e(){var a=c("qex")._("916")===!0;return a}g.useShouldDisableFeedChatPostsAttachmentsForNegativeTest=a;g.useShouldDisableGroupsTabForNegativeTest=b;g.useShouldDisableCMInCometHomeForNegativeTest=d;g.useShouldDisableBumpToInboxForNegativeTest=e}),98);/*FB_PKG_DELIM*/
__d("ACTSanitizerApiTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({Valid:0,UrlFailure:1,MessageTextFailure:2,CtaFailure:3});f.ACTSanitizerValidationResult=a}),66);
__d("LSIssueNewError",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return c[0]=b.i64.of_float(Date.now()),b.db.table(6).add({errorId:void 0,taskId:a[0],errorCode:a[1],errorTitleText:a[2],errorBodyText:a[3],issuedTimestampMs:c[0],errorExtraData:a[4],presentationStyle:a[5]})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreIssueNewErrorStoredProcedure";a.__tables__=["user_visible_errors"];e.exports=a}),null);
__d("MAWChatJid",["FBLogger","I64","MAWJids","MAWMiActMappingTableAPI","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b){try{return d("MAWMiActMappingTableAPI").getMappingRowForIntJid(a,d("MAWJids").convertChatJidToIntJid(b)).then(function(a){return a==null?void 0:a.serverThreadKey})}catch(a){c("FBLogger")("messenger_web").catching(a).warn("Invalid chatJid: "+b);return Promise.reject(a)}}function a(a,b,d){return i(a,b).then(function(a){if(a!=null)return a;throw c("FBLogger")("messenger_web").mustfixThrow("[toThreadKey] No mapping record for chatJid, source: %s",d)})}async function b(a,b){b=await i(a,b);return b==null?void 0:d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(b))}function e(a,b){try{return d("MAWMiActMappingTableAPI").getMappingRowForIntJid(a,b).then(function(a){return a==null?void 0:a.serverThreadKey})}catch(a){c("FBLogger")("messenger_web").catching(a).warn("Invalid integer jid: "+(h||(h=d("I64"))).to_string(b));return Promise.reject(a)}}g.toThreadKeyMaybe=i;g.toThreadKey=a;g.toThreadMaybe=b;g.toThreadKeyMaybeForChatJidInteger=e}),98);
__d("WAStanzaUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a}f.toStanzaId=a}),66);
__d("MAWExternalId",["I64","Random","WAStanzaUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i=131071;function j(a){return Math.floor(c("Random").random()*a)}function a(){return d("WAStanzaUtils").toStanzaId((h||(h=d("I64"))).to_string(h.and_(h.or_(h.lsl_(h.of_float(Date.now()),22),h.and_(h.of_float(j(i)),h.of_float(i))),h.max_int)))}g.generateExternalId=a}),98);
__d("MAWThreadId",["LSMessagingThreadTypeUtil","ReQL"],(function(a,b,c,d,e,f,g){"use strict";async function h(a,b){a=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(b));return a==null?void 0:a.threadType}async function a(a,b){a=await h(a,b);return a==null?!1:d("LSMessagingThreadTypeUtil").isArmadilloSecure(a)}function b(a,b){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(b))}g.isSecureThreadKey=a;g.getThread=b}),98);
__d("WAProtoConst",[],(function(a,b,c,d,e,f){"use strict";a={REPEATED:1<<6,PACKED:1<<7,REQUIRED:1<<8};b=31;c={INT32:1,INT64:2,UINT32:3,UINT64:4,SINT32:5,SINT64:6,BOOL:7,ENUM:8,FIXED64:9,SFIXED64:10,DOUBLE:11,STRING:12,BYTES:13,MESSAGE:14,FIXED32:15,SFIXED32:16,FLOAT:17,MAP:18};d={VARINT:0,BIT64:1,BINARY:2,BIT32:5};e={ONEOF:"__oneofs__",RESERVED:"__reserved__",RESERVED_TAGS:"tags",RESERVED_FIELDS:"fields"};f.FLAGS=a;f.TYPE_MASK=b;f.TYPES=c;f.ENC=d;f.KEYS=e}),66);
__d("WACommon.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={EVERYONE:1,SILENT:2,AI:3,AI_IMAGINE:4};b={PROFILE:0};c={PLACEHOLDER:0,NO_PLACEHOLDER:1,IGNORE:2};e={};f={};var h={},i={},j={};e.internalSpec={remoteJid:[1,(d=d("WAProtoConst")).TYPES.STRING],fromMe:[2,d.TYPES.BOOL],id:[3,d.TYPES.STRING],participant:[4,d.TYPES.STRING]};f.internalSpec={commandType:[1,d.TYPES.ENUM,a],offset:[2,d.TYPES.UINT32],length:[3,d.TYPES.UINT32],validationToken:[4,d.TYPES.STRING]};h.internalSpec={mentionType:[1,d.TYPES.ENUM,b],mentionedJid:[2,d.TYPES.STRING],offset:[3,d.TYPES.UINT32],length:[4,d.TYPES.UINT32]};i.internalSpec={text:[1,d.TYPES.STRING],mentionedJid:[2,d.FLAGS.REPEATED|d.TYPES.STRING],commands:[3,d.FLAGS.REPEATED|d.TYPES.MESSAGE,f],mentions:[4,d.FLAGS.REPEATED|d.TYPES.MESSAGE,h]};j.internalSpec={payload:[1,d.TYPES.BYTES],version:[2,d.TYPES.INT32]};g.COMMAND_COMMAND_TYPE=a;g.MENTION_MENTION_TYPE=b;g.FUTURE_PROOF_BEHAVIOR=c;g.MessageKeySpec=e;g.CommandSpec=f;g.MentionSpec=h;g.MessageTextSpec=i;g.SubProtocolSpec=j}),98);
__d("WAArmadilloXMA.pb",["WACommon.pb","WAProtoConst"],(function(a,b,c,d,e,f,g){var h;a={INFO:0,EYE_OFF:1,NEWS_OFF:2,WARNING:3,PRIVATE:4,NONE:5,MEDIA_LABEL:6,POST_COVER:7,POST_LABEL:8,WARNING_SCREENS:9};b={OPEN_NATIVE:11};c={SINGLE:0,HSCROLL:1,PORTRAIT:3,STANDARD_DXMA:12,LIST_DXMA:15,GRID:16};e={UNSUPPORTED:-1,IG_STORY_PHOTO_MENTION:4,IG_SINGLE_IMAGE_POST_SHARE:9,IG_MULTIPOST_SHARE:10,IG_SINGLE_VIDEO_POST_SHARE:11,IG_STORY_PHOTO_SHARE:12,IG_STORY_VIDEO_SHARE:13,IG_CLIPS_SHARE:14,IG_IGTV_SHARE:15,IG_SHOP_SHARE:16,IG_PROFILE_SHARE:19,IG_STORY_PHOTO_HIGHLIGHT_SHARE:20,IG_STORY_VIDEO_HIGHLIGHT_SHARE:21,IG_STORY_REPLY:22,IG_STORY_REACTION:23,IG_STORY_VIDEO_MENTION:24,IG_STORY_HIGHLIGHT_REPLY:25,IG_STORY_HIGHLIGHT_REACTION:26,IG_EXTERNAL_LINK:27,IG_RECEIVER_FETCH:28,FB_FEED_SHARE:1e3,FB_STORY_REPLY:1001,FB_STORY_SHARE:1002,FB_STORY_MENTION:1003,FB_FEED_VIDEO_SHARE:1004,FB_GAMING_CUSTOM_UPDATE:1005,FB_PRODUCER_STORY_REPLY:1006,FB_EVENT:1007,FB_FEED_POST_PRIVATE_REPLY:1008,FB_SHORT:1009,FB_COMMENT_MENTION_SHARE:1010,FB_POST_MENTION:1011,MSG_EXTERNAL_LINK_SHARE:2e3,MSG_P2P_PAYMENT:2001,MSG_LOCATION_SHARING:2002,MSG_LOCATION_SHARING_V2:2003,MSG_HIGHLIGHTS_TAB_FRIEND_UPDATES_REPLY:2004,MSG_HIGHLIGHTS_TAB_LOCAL_EVENT_REPLY:2005,MSG_RECEIVER_FETCH:2006,MSG_IG_MEDIA_SHARE:2007,MSG_GEN_AI_SEARCH_PLUGIN_RESPONSE:2008,MSG_REELS_LIST:2009,MSG_CONTACT:2010,MSG_THREADS_POST_SHARE:2011,MSG_FILE:2012,MSG_AVATAR_DETAILS:2013,MSG_AI_CONTACT:2014,MSG_MEMORIES_SHARE:2015,MSG_SHARED_ALBUM_REPLY:2016,MSG_SHARED_ALBUM:2017,MSG_OCCAMADILLO_XMA:2018,MSG_GEN_AI_SUBSCRIPTION:2021,MSG_GEN_AI_REMINDER:2022,MSG_GEN_AI_MEMU_ONBOARDING_RESPONSE:2023,MSG_NOTE_REPLY:2024,MSG_NOTE_MENTION:2025,RTC_AUDIO_CALL:3e3,RTC_VIDEO_CALL:3001,RTC_MISSED_AUDIO_CALL:3002,RTC_MISSED_VIDEO_CALL:3003,RTC_GROUP_AUDIO_CALL:3004,RTC_GROUP_VIDEO_CALL:3005,RTC_MISSED_GROUP_AUDIO_CALL:3006,RTC_MISSED_GROUP_VIDEO_CALL:3007,RTC_ONGOING_AUDIO_CALL:3008,RTC_ONGOING_VIDEO_CALL:3009,MSG_RECEIVER_FETCH_FALLBACK:3025,DATACLASS_SENDER_COPY:4e3};f={};var i={};f.internalSpec={associatedMessage:[1,(h=d("WAProtoConst")).TYPES.MESSAGE,(d=d("WACommon.pb")).SubProtocolSpec],targetType:[2,h.TYPES.ENUM,e],targetUsername:[3,h.TYPES.STRING],targetId:[4,h.TYPES.STRING],targetExpiringAtSec:[5,h.TYPES.INT64],xmaLayoutType:[6,h.TYPES.ENUM,c],ctas:[7,h.FLAGS.REPEATED|h.TYPES.MESSAGE,i],previews:[8,h.FLAGS.REPEATED|h.TYPES.MESSAGE,d.SubProtocolSpec],titleText:[9,h.TYPES.STRING],subtitleText:[10,h.TYPES.STRING],maxTitleNumOfLines:[11,h.TYPES.UINT32],maxSubtitleNumOfLines:[12,h.TYPES.UINT32],favicon:[13,h.TYPES.MESSAGE,d.SubProtocolSpec],headerImage:[14,h.TYPES.MESSAGE,d.SubProtocolSpec],headerTitle:[15,h.TYPES.STRING],overlayIconGlyph:[16,h.TYPES.ENUM,a],overlayTitle:[17,h.TYPES.STRING],overlayDescription:[18,h.TYPES.STRING],sentWithMessageId:[19,h.TYPES.STRING],messageText:[20,h.TYPES.STRING],headerSubtitle:[21,h.TYPES.STRING],xmaDataclass:[22,h.TYPES.STRING],contentRef:[23,h.TYPES.STRING],mentionedJid:[24,h.FLAGS.REPEATED|h.TYPES.STRING],commands:[25,h.FLAGS.REPEATED|h.TYPES.MESSAGE,d.CommandSpec],mentions:[26,h.FLAGS.REPEATED|h.TYPES.MESSAGE,d.MentionSpec]};i.internalSpec={buttonType:[1,h.TYPES.ENUM,b],title:[2,h.TYPES.STRING],actionUrl:[3,h.TYPES.STRING],nativeUrl:[4,h.TYPES.STRING],ctaType:[5,h.TYPES.STRING],actionContentBlob:[6,h.TYPES.STRING]};g.EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH=a;g.EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE=b;g.EXTENDED_CONTENT_MESSAGE_XMA_LAYOUT_TYPE=c;g.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE=e;g.ExtendedContentMessageSpec=f;g.ExtendedContentMessage$CTASpec=i}),98);
__d("WAHasProperty",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return Object.prototype.hasOwnProperty.call(a,b)}f["default"]=a}),66);
__d("WAProtoCompile",["WAProtoConst"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a,b,c,d,e,f,g,h,i){this.names=a,this.fields=b,this.types=c,this.defaults=d,this.meta=e,this.oneofToFields=f,this.fieldToOneof=g,this.reservedTags=h?h.reduce(function(a,b){a[b]=!0;return a},{}):{},this.reservedFields=i?i.reduce(function(a,b){a[b]=!0;return a},{}):{}};function a(a){if(a.internalCompiledSpec)return a.internalCompiledSpec;var b=a.internalSpec;if(!b)throw new Error("Message Class "+String(a)+" does not have internalSpec");var c=a.internalDefaults||{},e=Object.keys(b).filter(function(a){return a!==d("WAProtoConst").KEYS.ONEOF}),f=new Array(e.length),g=[],j=[],k=new Array(e.length),l=b[d("WAProtoConst").KEYS.ONEOF]||{};e.sort(function(a,c){a=i(b,a);c=i(b,c);return a[0]-c[0]});for(var m=0;m<e.length;m++){var n=e[m],o=i(b,n);k[m]=c[n];var p=o[1],q=o[0];g.push(q);j.push(p);if((p&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.MESSAGE)f[m]=o[2];else if((p&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.ENUM){q=o[2];if(typeof q.cast==="function")f[m]=q;else{var r=!0,s=0;for(var t in q)r&&t!==s++&&(r=!1);t=void 0;if(r){t=[];for(r=0;r<s;r++)t.push(!0)}else{t={};for(r in q)t[q[r]]=!0}f[m]=t}}else if((p&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.MAP){if(o.length!==3)throw new Error("Map field "+n+" should have exactly three elements in its internalSpec");f[m]=o[2]}else f[m]=null}var u={};s=function(a){l[a].forEach(function(b){u[b]||(u[b]=[]),u[b].push(a)})};for(r in l)s(r);q=b[d("WAProtoConst").KEYS.RESERVED]&&b[d("WAProtoConst").KEYS.RESERVED][d("WAProtoConst").KEYS.RESERVED_TAGS];t=b[d("WAProtoConst").KEYS.RESERVED]&&b[d("WAProtoConst").KEYS.RESERVED][d("WAProtoConst").KEYS.RESERVED_FIELDS];p=new h(e,g,j,k,f,l,u,q,t);a.internalCompiledSpec=p;return p}function i(a,b){a=a[b];if(a==null)throw new Error("fieldData of "+b+" is missing");return a}g.Spec=h;g.compileSpec=a}),98);
__d("WAProtoUtils",["WAProtoConst"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a&d("WAProtoConst").FLAGS.PACKED)return d("WAProtoConst").ENC.BINARY;a=a&d("WAProtoConst").TYPE_MASK;if(a<=d("WAProtoConst").TYPES.ENUM)return d("WAProtoConst").ENC.VARINT;else if(a<=d("WAProtoConst").TYPES.DOUBLE)return d("WAProtoConst").ENC.BIT64;else if(a<=d("WAProtoConst").TYPES.MESSAGE)return d("WAProtoConst").ENC.BINARY;else if(a===d("WAProtoConst").TYPES.MAP)return d("WAProtoConst").ENC.BINARY;else return d("WAProtoConst").ENC.BIT32}g.typeToEncType=a}),98);
__d("WAProtoValidate",["WAHasProperty","WALogger","WAProtoCompile","WAProtoConst"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is not an array']);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is not ',""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is out of range']);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is not a valid int']);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is not a valid long']);l=function(){return a};return a}var m=Number.MAX_SAFE_INTEGER;function n(a,b){a=o(a,b);if(a){a.reverse();throw new TypeError("Message missing required value "+a.join("."))}}function a(a,b){n(a,b);b=u(b,a);if(b){b.path.reverse();throw new TypeError("Invalid value at "+b.path.join(".")+": "+b.error)}}function o(a,b){a=d("WAProtoCompile").compileSpec(a);var e=a.names,f=a.types;a=a.meta;var g=void 0;for(var h=0;h<f.length&&!g;h++){var i=f[h],j=e[h],k=c("WAHasProperty")(b,j)?b[j]:void 0;if(i&d("WAProtoConst").FLAGS.REQUIRED&&k==null)g=[j];else if((i&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.MESSAGE&&i&d("WAProtoConst").FLAGS.REPEATED&&k!=null){var l=a[h],m=void 0;for(m=0;m<k.length&&!g;m++)g=o(l,k[m]);g&&g.push(j+"["+m+"]")}else(i&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.MESSAGE&&k!=null&&(g=o(a[h],k),g&&g.push(j))}return g}function p(a,b,c){if(typeof a==="string")if(/^-?0x[0-9a-f]{16}$/i.test(a))return!1;else{d("WALogger").LOG(l(),s(a)).color("red");return{path:[],error:"value must be a hex string of the form '0x123...' or '-0x123...' where the tail is always 16 characters long"}}else return q(a,b,c)}function q(a,b,c){if(typeof a!=="number"||a!==a||Math.floor(a)!==a){d("WALogger").LOG(k(),s(a)).color("red");return{path:[],error:"value must be an int"}}else if(a<b||a>=c){d("WALogger").LOG(j(),s(a)).color("red");return{path:[],error:"value is out of range"}}else return!1}function r(a,b,c){if(a)return void 0;else{d("WALogger").LOG(i(),s(c),b).color("red");return{path:[],error:"value is invalid"}}}function s(a){if(typeof a==="string")return'"'+a+'"';else if(Array.isArray(a))return"["+a.join(", ")+"]";else return""+a}var t=[void 0,function(a){return q(a,-2147483648,2147483648)},function(a){return p(a,-m,m+1)},function(a){return q(a,0,4294967296)},function(a){return p(a,0,m+1)},function(a){return q(a,-2147483648,2147483648)},function(a){return p(a,-m,m+1)},function(a){return r(typeof a==="boolean","boolean",a)},function(a,b){return r(typeof a==="number"&&(b[a]||b.cast(a)!==void 0),"in enum",a)},function(a){return p(a,0,m+1)},function(a){return p(a,-m,m+1)},function(a){return r(typeof a==="number","number",a)},function(a){return r(typeof a==="string","string",a)},function(a){return r(a instanceof ArrayBuffer||a instanceof Uint8Array,"ArrayBuffer or Uint8Array",a)},u,function(a){return q(a,0,4294967296)},function(a){return q(a,-2147483648,2147483648)},function(a){return r(typeof a==="number","number",a)}];function u(a,b){b=d("WAProtoCompile").compileSpec(b);var c=b.names,e=b.fields,f=b.types,g=b.meta,i=b.oneofToFields,j=b.fieldToOneof,k=b.reservedTags,l=b.reservedFields,m=void 0;b=function(b){var n=c[b],o=f[b],p=a[n],q=o&d("WAProtoConst").TYPE_MASK,r=t[q],u=(o&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.MAP;if(r===void 0&&!u)throw new Error("Can not find the validator for type "+q);if(o&(d("WAProtoConst").FLAGS.PACKED|d("WAProtoConst").FLAGS.REPEATED)&&p!=null)if(!Array.isArray(p))d("WALogger").LOG(h(),s(p)).color("red"),m={path:[n],error:"repeated field must be array"};else{q=g[b];for(o=0;o<p.length&&!m;o++)m=r(p[o],q),m&&m.path.push(n+"["+o+"]")}else if(u&&p!=null){o=g[b];q=o[0];u=o[1];o=typeof u==="object"?d("WAProtoConst").TYPES.MESSAGE:u;var v=t[q],w=t[o];if(v===void 0||w===void 0)throw new Error("Can not find the validator for Map with key type "+q+", value type "+o);for(o of p){var x=o[0],y=o[1];m=v(x,q);if(m){m.path.push(n+"'s key ["+x+"]");return{v:m}}m=w(y,u);if(m){m.path.push(n+"["+x+"]'s value");return{v:m}}}}else if(p!=null){m=r(p,g[b]);m&&m.path.push(n);y=j[n];y&&y.forEach(function(b){var c=i[b].filter(function(a){return a!==n});c.forEach(function(c){typeof a[c]!=="undefined"&&(m={path:[b],error:"oneof '"+b+"' has fields '"+n+"' and '"+c+"' set"})})});k[e[b]]&&(m={path:[n],error:"tag "+e[b]+" is reserved"});l[n]&&(m={path:[n],error:"field "+n+" is reserved"})}};for(var n=0;n<c.length&&!m;n++){var o=b(n);if(typeof o==="object")return o.v}return m}g.checkRequirements=n;g.checkValid=a}),98);
__d("encodeProtobuf",["WABinary","WAHex","WAProtoCompile","WAProtoConst","WAProtoUtils","WAProtoValidate"],(function(a,b,c,d,e,f,g){"use strict";var h=void 0,i=128;function a(a,b,c){c===void 0&&(c=new(d("WABinary").Binary)());d("WAProtoValidate").checkValid(a,b);o(c,b,a);h=void 0;return c}function b(){return h!==void 0?"Last encoded value for "+h:"No information known"}function c(a,b){a.writeVarInt(b)}function e(a,b){if(typeof b==="number"&&b<4503599627370496&&b>=-4503599627370496)a.writeVarInt(b>=0?2*b:2*-b-1);else{var c=new(d("WABinary").Binary)(),e;typeof b==="number"?(e=b<0,c.writeVarInt(e?-b:b)):(e=d("WAHex").hexLongIsNegative(b),c.writeVarIntFromHexLong(e?d("WAHex").negateHexLong(b):b));b=c.peek(function(){return c.readByteArray()});var f=b.byteLength;if(e){var g=0,h;do h=b[g],b[g]=h&i|(h&127)-1&127,g++;while(b[g-1]===255)}h=e?1:0;for(g=0;g<f;g++){e=b[g];var j=e&i|(e&63)<<1|h;h=(e&64)>>6;b[g]=j}h===1&&(b[f-1]|=i,c.writeInt8(1));a.writeBinary(c)}}function f(a,b){typeof b==="number"?a.writeVarInt(b):a.writeVarIntFromHexLong(b)}function j(a,b){a.writeVarInt(d("WABinary").numUtf8Bytes(b)),a.writeString(b)}function k(a,b){a.writeVarInt(b.byteLength),a.writeBuffer(b)}function l(a,b,c){a.writeWithVarIntLength(function(a,b){return o(a,b,c)},b)}var m=[void 0,c,f,c,f,e,e,function(a,b){a.writeVarInt(b?1:0)},c,function(a,b){typeof b==="number"?a.writeUint64(b,!0):a.writeHexLong(b,!0)},function(a,b){typeof b==="number"?a.writeInt64(b,!0):a.writeHexLong(b,!0)},function(a,b){a.writeFloat64(b,!0)},j,k,l,function(a,b){a.writeUint32(b,!0)},function(a,b){a.writeInt32(b,!0)},function(a,b){a.writeFloat32(b,!0)}];f=function(a){if(a==null)return void 0;var b=a;function c(a,c){for(var d=0;d<c.length;d++)b(a,c[d])}return function(a,b){a.writeWithVarIntLength(c,b)}};var n=m.map(f);function o(a,b,c){var e=d("WAProtoCompile").compileSpec(c),f=e.names,g=e.fields,i=e.types;e=e.meta;c=c.internalDefaults;for(var j=0;j<f.length;j++){var k=f[j],l=b[k];l==null&&c&&(l=c[k]);if(l!=null){h=k;k=g[j];var o=i[j],p=o&d("WAProtoConst").TYPE_MASK,q=e[j];k=k*8|d("WAProtoUtils").typeToEncType(o);if(o&d("WAProtoConst").FLAGS.PACKED){if(l.length>0){a.writeVarInt(k);var r=n[p];r(a,l,q)}}else if(o&d("WAProtoConst").FLAGS.REPEATED)for(r=0;r<l.length;r++){a.writeVarInt(k);o=m[p];o(a,l[r],q)}else if(p===d("WAProtoConst").TYPES.MAP)for(o of l){r=o[0];var s=o[1];a.writeVarInt(k);var t=q[0],u=q[1],v=typeof u==="object"?d("WAProtoConst").TYPES.MESSAGE:u,w=m[t],x=m[v];if(w==null||x==null)throw new Error("Invalid encoder for map key/value");var y=new(d("WABinary").Binary)(),z=1*8|d("WAProtoUtils").typeToEncType(t);y.writeVarInt(z);w(y,r,t);z=2*8|d("WAProtoUtils").typeToEncType(v);y.writeVarInt(z);x(y,s,u);a.writeVarInt(y.size());a.writeBinary(y)}else{a.writeVarInt(k);w=m[p];w(a,l,q)}}}}g.encodeProtobuf=a;g.encodeErrorInfo=b}),98);/*FB_PKG_DELIM*/
__d("CometObjectFitContainer.react",["cr:964538","isStringNullOrEmpty","react","react-compiler-runtime","stylex","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={inner:{height:"x5yr21d",position:"x1n2onr6",width:"xh8yej3",$$css:!0},innerWithAspectRatio:{bottom:"x1ey2m1c",boxSizing:"x9f619",end:"xds687c",start:"x17qophe",left:null,right:null,position:"x10l6tqk",top:"x13vifvy",$$css:!0},outer:{height:"x5yr21d",position:"x1n2onr6",width:"xh8yej3",$$css:!0},outerWithAspectRatio:{height:"xt7dq6l",$$css:!0}};function l(a){var b=d("react-compiler-runtime").c(21),e=a.children,f=a.debugRole,g=a.innerInlineStyle,i=a.innerXStyle,l=a.outerInlineStyle,m=a.outerRef,n=a.outerXStyle;a=a.testid;var o=c("isStringNullOrEmpty")(a)?void 0:a+"-outer";a=c("isStringNullOrEmpty")(a)?void 0:a+"-inner";var p;b[0]!==f?(p={},b[0]=f,b[1]=p):p=b[1];var q;b[2]!==n?(q=(h||(h=c("stylex")))(k.outer,n),b[2]=n,b[3]=q):q=b[3];b[4]!==f?(n={},b[4]=f,b[5]=n):n=b[5];b[6]!==i?(f=(h||(h=c("stylex")))(k.inner,i),b[6]=i,b[7]=f):f=b[7];b[8]!==e||b[9]!==g||b[10]!==n||b[11]!==f||b[12]!==a?(i=j.jsx("div",babelHelpers["extends"]({},n,{className:f,"data-testid":void 0,style:g,children:e})),b[8]=e,b[9]=g,b[10]=n,b[11]=f,b[12]=a,b[13]=i):i=b[13];b[14]!==l||b[15]!==m||b[16]!==p||b[17]!==q||b[18]!==i||b[19]!==o?(e=j.jsx("div",babelHelpers["extends"]({},p,{className:q,"data-testid":void 0,ref:m,style:l,children:i})),b[14]=l,b[15]=m,b[16]=p,b[17]=q,b[18]=i,b[19]=o,b[20]=e):e=b[20];return e}function a(a){var b=d("react-compiler-runtime").c(11),e=a.children,f=a.contentAspectRatio,g=a.debugRole,h=a.objectFitMode,i=a.ref;a=a.testid;h=h===void 0?"CONTAINER_SIZE":h;f=f!=null&&isFinite(f)&&f>0?f:1.7777777777777777;if(h==="CONTAINER_WIDTH_BASED_ASPECT_RATIO"){f=isFinite(f)&&f>0?100/f:100;f=f.toFixed(5)+"%";var m;b[0]!==f?(m={paddingBottom:f},b[0]=f,b[1]=m):m=b[1];f=m;b[2]!==e||b[3]!==g||b[4]!==f||b[5]!==a?(m=j.jsx(l,{children:e,debugRole:g,innerXStyle:k.innerWithAspectRatio,outerInlineStyle:f,outerRef:i,outerXStyle:k.outerWithAspectRatio,testid:void 0}),b[2]=e,b[3]=g,b[4]=f,b[5]=a,b[6]=m):m=b[6];return m}else if(h==="CONTAINER_SIZE"){b[7]!==e||b[8]!==g||b[9]!==a?(f=j.jsx(l,{children:e,debugRole:g,outerRef:i,testid:void 0}),b[7]=e,b[8]=g,b[9]=a,b[10]=f):f=b[10];return f}else throw c("unrecoverableViolation")("Unsupported objectFitMode "+h,"comet_ui")}g["default"]=a}),98);
__d("CoreVideoPlayerImplementationCallbacks",["VideoPlayerAudioAvailabilityInfo","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useEffect,j=b.useRef;function a(a){var b=d("react-compiler-runtime").c(30),c=a.coreVideoPlayerMetaData,e=a.dimensions,f=a.instanceKey,g=a.isFullscreen,h=a.onCoreVideoStatesChanged,k=a.renderWithCoreVideoStates,l=a.videoPlayerPassiveViewabilityInfo;b[0]!==c.adClientToken||b[1]!==c.audioAvailabilityInfo||b[2]!==c.autoplayGatingResult||b[3]!==c.autoplaySetting||b[4]!==c.broadcastStatus||b[5]!==c.canAutoplay||b[6]!==c.initialTracePolicy||b[7]!==c.isNCSR||b[8]!==c.isPremiumMusicVideo||b[9]!==c.videoFBID||b[10]!==c.videoPixelsAspectRatio||b[11]!==c.volumeSetting||b[12]!==e||b[13]!==f||b[14]!==g||b[15]!==l?(a=function(a){var b,h=a.implementationController;a=a.implementationExposedState;b={adClientToken:c.adClientToken,audioAvailabilityInfo:(b=c.audioAvailabilityInfo)!=null?b:d("VideoPlayerAudioAvailabilityInfo").VideoPlayerAudioAvailabilityInfoDefault,autoplayGatingResult:c.autoplayGatingResult!=null?c.autoplayGatingResult:"unknown",autoplaySetting:c.autoplaySetting,broadcastStatus:c.broadcastStatus,canAutoplay:c.canAutoplay!=null?c.canAutoplay:"allow",controller:h,dimensions:e,duration:a.duration,initialTracePolicy:c.initialTracePolicy,instanceKey:f,isDesktopPictureInPicture:a.isDesktopPictureInPicture,isFullscreen:g,isNCSR:Boolean(c.isNCSR),isPremiumMusicVideo:Boolean(c.isPremiumMusicVideo),lastMuteReason:a.lastMuteReason,lastPauseReason:a.lastPauseReason,lastPlayReason:a.lastPlayReason,loopCount:a.loopCount,loopCurrent:a.loopCurrent,videoFBID:c.videoFBID,videoPixelsAspectRatio:c.videoPixelsAspectRatio,videoPlayerPassiveViewabilityInfo:l,videoState:a,volumeSetting:c.volumeSetting};return b},b[0]=c.adClientToken,b[1]=c.audioAvailabilityInfo,b[2]=c.autoplayGatingResult,b[3]=c.autoplaySetting,b[4]=c.broadcastStatus,b[5]=c.canAutoplay,b[6]=c.initialTracePolicy,b[7]=c.isNCSR,b[8]=c.isPremiumMusicVideo,b[9]=c.videoFBID,b[10]=c.videoPixelsAspectRatio,b[11]=c.volumeSetting,b[12]=e,b[13]=f,b[14]=g,b[15]=l,b[16]=a):a=b[16];var m=a;b[17]!==m||b[18]!==k?(a=function(a){a=m(a);return k(a)},b[17]=m,b[18]=k,b[19]=a):a=b[19];a=a;var n=j(null),o;b[20]!==m||b[21]!==h?(o=function(a){n.current=a.implementationController;if(h){a=m(a);h(a)}},b[20]=m,b[21]=h,b[22]=o):o=b[22];o=o;var p,q;b[23]!==m||b[24]!==h?(p=function(){var a=n.current;if(h&&a){a=m({implementationController:a,implementationExposedState:a.getCurrentState()});h(a)}},q=[h,m],b[23]=m,b[24]=h,b[25]=p,b[26]=q):(p=b[25],q=b[26]);i(p,q);b[27]!==o||b[28]!==a?(p={onExposedStateChanged:o,renderWithExposedState:a},b[27]=o,b[28]=a,b[29]=p):p=b[29];return p}g.useImplementationCallbacks=a}),98);
__d("VideoPlayerOnViewability.react",["DOMRectIsEqual","DOMRectReadOnly","VideoPlayerViewabilityConstants","emptyFunction","react","useIntersectionObserver","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useMemo,m=b.useRef,n=10,o=[.25,.75,.99,1].concat(new Array(10).fill().map(function(a,b){return b/10}));function a(a){var b=a.viewportMargins,d=m(-1),e=m(-1),f=m(c("DOMRectReadOnly").fromRect({height:0,width:0,x:0,y:0})),g=m(null),i=m(null);b=-b.top+"px "+-b.right+"px "+-b.bottom+"px "+-b.left+"px";var p=a.onVideoPlayerViewabilityInfoChange||c("emptyFunction"),q=n,r=k(function(a){if(a.time>e.current&&!c("DOMRectIsEqual")(a.boundingClientRect,f.current)){var b=a.boundingClientRect,d=b.height,h=b.width,i=b.x;b=b.y;var j=g.current;d=c("DOMRectReadOnly").fromRect({height:d,width:h,x:i,y:b});f.current=d;e.current=a.time;if(j===null||j<=0)return;if(j<=c("VideoPlayerViewabilityConstants").DEFAULT_VIEWABILITY_PERCENTAGE_FOR_PAUSE)return;p({positionToViewport:d,visiblePercentage:j})}},[f,g,p]),s=k(function(a){if(a.time>d.current&&(a.intersectionRatio!==g.current||!c("DOMRectIsEqual")(a.boundingClientRect,f.current))){var b=a.boundingClientRect,h=b.height,j=b.width,k=b.x;b=b.y;var l=a.intersectionRatio;h=c("DOMRectReadOnly").fromRect({height:h,width:j,x:k,y:b});j=i.current;k=j;b=!1;var m=Math.abs((j||0)*100-(l||0)*100);(l!==null&&m>=1||m>0&&l<(j||0))&&(k=l,i.current=l,b=!0);g.current=l;d.current=a.time;m=f.current;f.current=h;e.current=a.time;if(!b&&c("DOMRectIsEqual")(m,h))return;k!==null&&p({positionToViewport:h,visiblePercentage:k})}},[e,f,g,p,d]),t=l(function(){var a=[];for(var b=1;b<=q;b++)a.push("-"+(100-b/q*100)+"% 0% 0% 0%");return a},[q]),u=(h||(h=c("useUnsafeRef_DEPRECATED")))([]);u.current=[];for(var v=0;v<t.length;v++)u.current.push(k(c("useIntersectionObserver")(r,{root:null,rootMargin:t[v],threshold:o}),[t[v],o,c("useIntersectionObserver")]));var w=u.current.length,x=k(function(a){for(var b=0;b<w;b++)u.current[b](a)},[w,u]),y=k(c("useIntersectionObserver")(s,{root:null,rootMargin:b,threshold:o}),[s,b,o,c("useIntersectionObserver")]);v=k(function(a){y(a),x(a)},[y,x]);return j.jsx("div",babelHelpers["extends"]({className:"x5yr21d x1uhb9sk xh8yej3"},{ref:v,children:j.Children.only(a.children)}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("renderVideoPlayerImplementation",["react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a,b){if(a.typename==="VideoPlayerEmptyImplementation")return i.jsx(a.Component,babelHelpers["extends"]({},b,a.data));else if(a.typename==="VideoPlayerOzImplementation")return i.jsx(a.Component,babelHelpers["extends"]({},b,a.data));else if(a.typename==="VideoPlayerProgressiveImplementation")return i.jsx(a.Component,babelHelpers["extends"]({},b,a.data));else if(a.typename==="VideoPlayerNextgendashImplementation")return i.jsx(a.Component,babelHelpers["extends"]({},b,a.data));else{a.typename;throw c("unrecoverableViolation")('CoreVideoPlayer: Unrecognized implementation typename "'+a.typename+'".',"comet_video_player")}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCreateVideoPlayerPassiveViewabilityInfo",["removeFromArray","useStable"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("useStable")(h)}function h(){var a=[],b;b=null;return{setVideoPlayerPassiveViewabilityInfo:function(c){b=c,a.forEach(i)},videoPlayerPassiveViewabilityInfo:{getCurrent:function(){return b},subscribe:function(b){a.push(b);return{remove:function(){c("removeFromArray")(a,b)}}}}}}function i(a){return a()}g["default"]=a}),98);
__d("CoreVideoPlayer.react",["CometObjectFitContainer.react","CoreVideoPlayerImplementationCallbacks","ErrorMetadata","FBLogger","VideoPlayerOnViewability.react","VideoPlayerViewabilityContexts","cr:10818","createVideoStateHook","err","getVideoShareDownstreamSignalTracking","react","react-compiler-runtime","renderVideoPlayerImplementation","useCometSize_DO_NOT_USE","useCreateVideoPlayerPassiveViewabilityInfo","useStable","videoPlayerUniqueID"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useCallback,k=e.useRef,l=584;function m(a){return a!=null&&isFinite(a)&&a>0?a:0}function n(a){if(a==="video_home_inline"||a==="inline")return{height:l,width:l};else return{height:1080,width:1920}}function o(a,b){var e=d("react-compiler-runtime").c(8);b=c("useCometSize_DO_NOT_USE")((b=b)!=null?b:!1);var f=b[0];b=b[1];if(e[0]!==b||e[1]!==a){var g;g=(g=b)!=null?g:n(a);e[0]=b;e[1]=a;e[2]=g}else g=e[2];b=g;e[3]!==f?(a=function(a){return i.jsx(c("CometObjectFitContainer.react"),{debugRole:null,objectFitMode:"CONTAINER_SIZE",ref:f,children:a})},e[3]=f,e[4]=a):a=e[4];e[5]!==b||e[6]!==a?(g=[b,a],e[5]=b,e[6]=a,e[7]=g):g=e[7];return g}function p(a){var b=a.implementation,e=a.accessToken,f=a.expiredVideoUrlRefreshHandler,g=a.fullscreenController,h=a.isFullscreen,l=a.onCoreVideoStatesChanged,n=a.productAttribution,p=a.renderWithCoreVideoStates,q=a.trackingDataEncrypted,r=a.trackingNodes,s=a.videoPlayerUniqueIDOverride,t=a.viewportMarginsForViewability;a=babelHelpers.objectWithoutPropertiesLoose(a,["implementation","accessToken","expiredVideoUrlRefreshHandler","fullscreenController","isFullscreen","onCoreVideoStatesChanged","productAttribution","renderWithCoreVideoStates","trackingDataEncrypted","trackingNodes","videoPlayerUniqueIDOverride","viewportMarginsForViewability"]);var u=c("useStable")(function(){return c("videoPlayerUniqueID")(s)});d("createVideoStateHook").useCleanupVideoStateHooks_INTERNAL(u);var v=k(0),w=c("useCreateVideoPlayerPassiveViewabilityInfo")(),x=w.setVideoPlayerPassiveViewabilityInfo;w=w.videoPlayerPassiveViewabilityInfo;var y=o(a.subOrigin,a.bypassUseCometSizeError),z=y[0];y=y[1];var A=j(function(a){x(a)},[x]);l=d("CoreVideoPlayerImplementationCallbacks").useImplementationCallbacks({coreVideoPlayerMetaData:a,dimensions:z,instanceKey:u,isFullscreen:h,onCoreVideoStatesChanged:l,renderWithCoreVideoStates:p,videoPlayerPassiveViewabilityInfo:w});p=l.onExposedStateChanged;l=l.renderWithExposedState;var B=d("getVideoShareDownstreamSignalTracking").getVideoShareDownstreamSignalTrackingWithNumberStartTime();e={accessToken:e,coreVideoPlayerMetaData:a,dimensions:z,downstreamShareSignalTracking:B,instanceKey:u,playerImplementationInstanceCountRef:v,productAttribution:n,trackingDataEncrypted:q,trackingNodes:r};B=a.sideLoadCaptionsExpected===!0||a.sideLoadCaptionsUrl!=null;u=a.isLiveStreaming===!0;q={VideoPlayerShakaPerformanceLoggerClass:a.VideoPlayerShakaPerformanceLoggerClass,alt:a.alt,alwaysShowCaptions:a.alwaysShowCaptions,areCaptionsAutogenerated:a.areCaptionsAutogenerated,audioOnly:a.audioOnly,broadcastLatencySensitivity:a.broadcastLatencySensitivity,bufferEndLimit:a.bufferEndLimit,captionDisplayStyle:a.captionDisplayStyle,crossOrigin_DO_NOT_USE_UNLESS_YOU_KNOW_WHAT_YOURE_DOING:a.crossOrigin_DO_NOT_USE_UNLESS_YOU_KNOW_WHAT_YOURE_DOING,dimensions:z,expiredVideoUrlRefreshHandler:f,fullscreenController:g,graphQLVideoDRMInfo:(v=a.graphQLVideoDRMInfo)!=null?v:null,graphQLVideoP2PSettings:(n=a.graphQLVideoP2PSettings)!=null?n:null,inbandCaptionsExpected:u,initialDesiredLatencyMs:a.desiredLatencyMs,initialLatencyToleranceMs:a.latencyToleranceMs,initialRepresentationIds:a.initialRepresentationIds,isClientTriggeredTraceEnabled:a.isClientTriggeredTraceEnabled,loadSequence:a.loadSequence,loggingConfig:a.loggingConfig,loggingMetaData:e,loopCount:a.loopCount,onExposedStateChanged:p,poster:a.poster,preloadForProgressiveDisabled:a.preloadForProgressiveDisabled,renderVideoPixelsFit:a.renderVideoPixelsFit,renderWithExposedState:l,seoWebCrawlerLookasideUrl:a.seoWebCrawlerLookasideUrl,seoWebCrawlerVideoTracks:a.seoWebCrawlerVideoTracks,sideLoadCaptionsExpected:B,sideLoadCaptionsUrl:a.sideLoadCaptionsUrl,startTimestamp:m(a.startTimestamp),videoFBID:a.videoFBID,videoPlayerPassiveViewabilityInfo:w,videoPlayerShakaPerformanceLoggerBuilder:a.videoPlayerShakaPerformanceLoggerBuilder,wrapVideoPixels_EXPERIMENTAL:a.wrapVideoPixels_EXPERIMENTAL};return y(i.jsx(d("VideoPlayerViewabilityContexts").VideoPlayerFullscreenContext.Provider,{value:h,children:i.jsx(c("VideoPlayerOnViewability.react"),{onVideoPlayerViewabilityInfoChange:A,viewportMargins:t,children:c("renderVideoPlayerImplementation")(b,q)})}))}p.displayName=p.name+" [from "+f.id+"]";function a(a){var e=d("react-compiler-runtime").c(6),f,g;e[0]!==a?(g=a.implementations,f=babelHelpers.objectWithoutPropertiesLoose(a,["implementations"]),e[0]=a,e[1]=f,e[2]=g):(f=e[1],g=e[2]);if(g.length===0){var h;a=c("err")("No implementations given to CoreVideoPlayer");a.name="VideoPlayerNoImplementations";a.project="comet_video_player";h=(h=a.metadata)!=null?h:new(c("ErrorMetadata"))();a.metadata=h;var j=f.videoFBID;j!=null&&h.addEntry("COMET_VIDEO","VIDEO_ID",j);throw(h=c("FBLogger")("comet_video_player").catching(a)).mustfixThrow.apply(h,[(j=a.messageFormat)!=null?j:a.message].concat(a.messageFormat!=null?(h=a.messageParams)!=null?h:[]:[]))}e[3]!==f||e[4]!==g?(j=b("cr:10818")?i.jsx(b("cr:10818"),{CoreVideoPlayerWithOneImplementation:p,coreVideoPlayerProps:f,implementations:g}):i.jsx(p,babelHelpers["extends"]({},f,{implementation:g[0]})),e[3]=f,e[4]=g,e[5]=j):j=e[5];return j}g["default"]=a}),98);
__d("DOMContainer.react",["invariant","isNode","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.containerNode=null,c.setContainerNode=function(a){c.containerNode=a;var b=c.props.containerRef;typeof b==="function"&&b(a)},b)||babelHelpers.assertThisInitialized(c)}var d=b.prototype;d.getDOMChild=function(){var a=this.props.children;c("isNode")(a)||h(0,1533);return a};d.shouldComponentUpdate=function(a){return a.children!==this.props.children};d.componentDidMount=function(){var a=this.containerNode;a!=null&&a.appendChild(this.getDOMChild())};d.componentDidUpdate=function(a){a=this.containerNode;if(a==null)return;while(a.lastChild)a.removeChild(a.lastChild);a.appendChild(this.getDOMChild())};d.render=function(){var a=this.props,b=a.display;a=babelHelpers.objectWithoutPropertiesLoose(a,["display"]);b=b==="block"?"div":"span";return j.jsx(b,babelHelpers["extends"]({},a,{ref:this.setContainerNode,children:void 0}))};return b}(j.Component);a.defaultProps={display:"inline"};g["default"]=a}),98);
__d("CoreVideoPlayerFitParentContainer.react",["DOMContainer.react","cr:964538","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(7),c=a.ref,e=a.children,f=a.debugRole;a=a.testid;var g;b[0]!==f?(g=null,b[0]=f,b[1]=g):g=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(f="x1lliihq x5yr21d x1n2onr6 xh8yej3 x1ja2u2z",b[2]=f):f=b[2];b[3]!==e||b[4]!==g||b[5]!==a?(f=i.jsx("div",babelHelpers["extends"]({},g,{className:f,"data-testid":void 0,ref:c,children:e})),b[3]=e,b[4]=g,b[5]=a,b[6]=f):f=b[6];return f}function b(a){var b=d("react-compiler-runtime").c(6),e=a.ref,f=a.debugRole;a=a.domElement;var g;b[0]!==f?(g=null,b[0]=f,b[1]=g):g=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(f="x1lliihq x5yr21d x1n2onr6 xh8yej3 x1ja2u2z",b[2]=f):f=b[2];b[3]!==a||b[4]!==g?(f=i.jsx(c("DOMContainer.react"),babelHelpers["extends"]({},g,{className:f,display:"block",ref:e,children:a})),b[3]=a,b[4]=g,b[5]=f):f=b[5];return f}function e(a){a=a.debugRole;a=document.createElement("div");a.className="x1lliihq x5yr21d x1n2onr6 xh8yej3 x1ja2u2z";return a}g.CoreVideoPlayerFitParentContainer=a;g.CoreVideoPlayerFitParentDOMContainer=b;g.createFitParentContainerDiv=e}),98);
__d("GlobalVideoPortsRenderers.react",["CoreVideoPlayer.react","VideoPlayerContexts","VideoPlayerPortalingPlaceInfoProvider.react","emptyFunction","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h,l=k.useEffect,m=k.useState,n=c("emptyFunction").thatReturns(null);function a(a){var b=d("react-compiler-runtime").c(14),e=a.coreVideoPlayerMetaData,f=a.currentPlaceID,g=a.currentVideoID,h=a.fullscreenController,i=a.implementations,k=a.isFullscreen,l=a.onCoreVideoStatesChanged,m=a.previousPlaceMetaData,o=a.trackingDataEncrypted,p=a.trackingNodes;a=a.viewportMarginsForViewability;var q;b[0]!==e||b[1]!==h||b[2]!==i||b[3]!==k||b[4]!==l||b[5]!==o||b[6]!==p||b[7]!==a?(q=j.jsx(c("CoreVideoPlayer.react"),babelHelpers["extends"]({},e,{fullscreenController:h,implementations:i,isFullscreen:k,onCoreVideoStatesChanged:l,renderWithCoreVideoStates:n,trackingDataEncrypted:o,trackingNodes:p,viewportMarginsForViewability:a})),b[0]=e,b[1]=h,b[2]=i,b[3]=k,b[4]=l,b[5]=o,b[6]=p,b[7]=a,b[8]=q):q=b[8];b[9]!==f||b[10]!==g||b[11]!==m||b[12]!==q?(e=j.jsx(d("VideoPlayerPortalingPlaceInfoProvider.react").VideoPlayerPortalingPlaceInfoProvider,{currentPlaceID:f,currentVideoID:g,portalingEnabled:!0,previousPlaceMetaData:m,thisPlaceID:f,children:q}),b[9]=f,b[10]=g,b[11]=m,b[12]=q,b[13]=e):e=b[13];return e}function b(a){var b=d("react-compiler-runtime").c(11),c=a.currentPlaceID,e=a.currentVideoID,f=a.previousPlaceMetaData,g=a.renderPlaceholder,h=a.thisPlaceID;a=a.videoPixelsAspectRatio;var k;b[0]!==g?(k=g!=null?g():null,b[0]=g,b[1]=k):k=b[1];b[2]!==k||b[3]!==a?(g=j.jsx((i||(i=d("VideoPlayerContexts"))).VideoPixelsAspectRatioContext.Provider,{value:a,children:k}),b[2]=k,b[3]=a,b[4]=g):g=b[4];b[5]!==c||b[6]!==e||b[7]!==f||b[8]!==g||b[9]!==h?(k=j.jsx(d("VideoPlayerPortalingPlaceInfoProvider.react").VideoPlayerPortalingPlaceInfoProvider,{currentPlaceID:c,currentVideoID:e,portalingEnabled:!0,previousPlaceMetaData:f,thisPlaceID:h,children:g}),b[5]=c,b[6]=e,b[7]=f,b[8]=g,b[9]=h,b[10]=k):k=b[10];return k}function e(a){var b=a.currentPlaceID,c=a.currentVideoID,e=a.injectCoreVideoStatesRef,f=a.previousPlaceMetaData,g=a.renderComponents;a=a.thisPlaceID;var h=m(null),i=h[0],k=h[1];h=m(null);var n=h[0],o=h[1];l(function(){e.current=function(a,b){a!=null&&o(function(){return a}),k(b)};return function(){e.current=null}},[e]);if(a===b&&i!=null){if(n!=null)throw n;return j.jsx(d("VideoPlayerPortalingPlaceInfoProvider.react").VideoPlayerPortalingPlaceInfoProvider,{currentPlaceID:b,currentVideoID:c,portalingEnabled:!0,previousPlaceMetaData:f,thisPlaceID:a,children:g(i)})}else return null}e.displayName=e.name+" [from "+f.id+"]";g.GlobalVideoPortsPlayerRenderer=a;g.GlobalVideoPortsPlaceholderRenderer=b;g.GlobalVideoPortsVideoComponentsRenderer=e}),98);/*FB_PKG_DELIM*/
__d("ADD_PLACEHOLDER_OR_LABEL_FIXME",[],(function(a,b,c,d,e,f){"use strict";a=null;f["default"]=a}),66);
__d("FDSRoundedTextInput.react",["BaseFocusRing.react","BaseTextInput.react","CometScreenReaderText.react","Locale","react","react-compiler-runtime","stylex","useBaseInputValidators"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useId,l=b.useState,m={backgroundPlaceholder:{backgroundColor:"xmjcpbm",$$css:!0},backgroundSecondary:{backgroundColor:"x1qhmfi1",$$css:!0},disabledInput:{color:"x1dntmbh",cursor:"x1h6gzvc",$$css:!0},fontPlaceholder:{color:"x12scifz","::placeholder_color":"x2s2ed0",":focus::placeholder_color":"xq33zhf",$$css:!0},fontSecondary:{color:"xi81zsa",$$css:!0},hideIconAnimation:{transitionDuration:"xhb22t3",transitionProperty:"xb5gni",transitionTimingFunction:"xcj1dhv",$$css:!0},hideIconAnimationRTL:{transitionDuration:"xhb22t3",transitionProperty:"x1b1fv3o",transitionTimingFunction:"xcj1dhv",$$css:!0},icon:{alignItems:"x6s0dn4",display:"x78zum5",whiteSpace:"xuxw1ft",$$css:!0},iconFocused:{marginEnd:"x1v89cbv",opacity:"xg01cxk",pointerEvents:"x47corl",transform:"x1o18zem",$$css:!0},iconFocusedRTL:{marginEnd:"x1h5jrl4",transform:"x18r5ilk",$$css:!0},root:{alignItems:"x1qjc9v5",borderTopStartRadius:"xnwf7zb",borderTopEndRadius:"x40j3uw",borderBottomEndRadius:"x1s7lred",borderBottomStartRadius:"x15gyhx8",boxSizing:"x9f619",display:"x78zum5",minWidth:"x1fns5xo",position:"x1n2onr6",width:"xh8yej3",$$css:!0},startIcon:{pointerEvents:"x47corl",$$css:!0},textInput:{appearance:"xjyslct",backgroundColor:"xjbqb8w",borderTopStartRadius:"xnwf7zb",borderTopEndRadius:"x40j3uw",borderBottomEndRadius:"x1s7lred",borderBottomStartRadius:"x15gyhx8",borderTopWidth:"x972fbf",borderEndWidth:"xcfux6l",borderBottomWidth:"x1qhh985",borderStartWidth:"xm0m39n",boxSizing:"x9f619",color:"xzsf02u",flexBasis:"xdl72j9",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",fontFamily:"xjb2p0i",fontSize:"x6prxxf",minWidth:"xeuugli",outline:"x1a2a7pz",paddingBottom:"xdvlbce",paddingEnd:"xn6708d",paddingStart:"x1ye3gou",paddingTop:"xm7lytj",position:"x1n2onr6",$$css:!0}},n={large:{paddingStart:"x1ye3gou",$$css:!0},medium:{paddingStart:"x1sln4lm",$$css:!0}},o={center:{textAlign:"x2b8uid",$$css:!0},end:{textAlign:"xp4054r",$$css:!0},inherit:{textAlign:"x16tdsg8",$$css:!0},start:{textAlign:"x1yc453h",$$css:!0}},p={focused:{transform:"x1avfe6s",$$css:!0}},q={large:{paddingBottom:"xdvlbce",paddingEnd:"x1sxyh0",paddingStart:"xurb0ha",paddingTop:"xm7lytj",$$css:!0},medium:{paddingBottom:"xdvlbce",paddingEnd:"xsyo7zv",paddingStart:"x16hj40l",paddingTop:"xm7lytj",$$css:!0}},r={large:{minHeight:"x1ba4aug",$$css:!0},medium:{minHeight:"xu0aao5",$$css:!0}},s={large:{height:"x1vqgdyp",$$css:!0},medium:{height:"xc9qbxq",$$css:!0}},t=d("Locale").isRTL();function a(a){var b=d("react-compiler-runtime").c(54),e,f,g,i,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J;b[0]!==a?(e=a.addOnEnd,B=a.hideIconAnimation,C=a.hideIconOnFocus,v=a.icon,D=a.placeholderFontUse,A=a.ref,E=a.size,F=a.textAlign,H=a.validator,J=a.xstyle,f=a["aria-describedby"],g=a["aria-label"],i=a["aria-labelledby"],u=a.autoFocus_PLEASE_USE_FOCUS_REGION_INSTEAD,G=a.disabled,w=a.onBlur,x=a.onFocus,y=a.onMouseUp,I=a.value,z=babelHelpers.objectWithoutPropertiesLoose(a,["addOnEnd","hideIconAnimation","hideIconOnFocus","icon","placeholderFontUse","ref","size","textAlign","validator","xstyle","aria-describedby","aria-label","aria-labelledby","autoFocus_PLEASE_USE_FOCUS_REGION_INSTEAD","disabled","onBlur","onFocus","onMouseUp","value"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=i,b[5]=u,b[6]=v,b[7]=w,b[8]=x,b[9]=y,b[10]=z,b[11]=A,b[12]=B,b[13]=C,b[14]=D,b[15]=E,b[16]=F,b[17]=G,b[18]=H,b[19]=I,b[20]=J):(e=b[1],f=b[2],g=b[3],i=b[4],u=b[5],v=b[6],w=b[7],x=b[8],y=b[9],z=b[10],A=b[11],B=b[12],C=b[13],D=b[14],E=b[15],F=b[16],G=b[17],H=b[18],I=b[19],J=b[20]);var K=B===void 0?!1:B,L=C===void 0?!1:C,M=D===void 0?"placeholder":D,N=E===void 0?"medium":E,O=F===void 0?"start":F,P=G===void 0?!1:G,Q=k();a=String(I);b[21]!==a||b[22]!==H?(B={validator:H,value:a},b[21]=a,b[22]=H,b[23]=B):B=b[23];C=c("useBaseInputValidators")(B);var R=C.topResultReason,S=C.topResultType;D=l(!1);var T=D[0],U=D[1];b[24]!==x?(E=function(a){U(!0),x&&x(a)},b[24]=x,b[25]=E):E=b[25];var V=E;b[26]!==w?(F=function(a){U(!1),w&&w(a)},b[26]=w,b[27]=F):F=b[27];var W=F;b[28]!==y?(G=function(a){y&&y(a)},b[28]=y,b[29]=G):G=b[29];var X=G,Y=R!=null?Q+" "+((a=f)!=null?a:""):f;b[30]!==e||b[31]!==Y||b[32]!==g||b[33]!==i||b[34]!==u||b[35]!==P||b[36]!==W||b[37]!==V||b[38]!==X||b[39]!==K||b[40]!==L||b[41]!==v||b[42]!==T||b[43]!==z||b[44]!==M||b[45]!==A||b[46]!==N||b[47]!==O||b[48]!==R||b[49]!==S||b[50]!==Q||b[51]!==I||b[52]!==J?(H=j.jsx(c("BaseFocusRing.react"),{children:function(a){return j.jsxs("label",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(a,m.root,r[N],M==="placeholder"&&m.backgroundPlaceholder,M==="secondary"&&m.backgroundSecondary),{children:[v!=null?j.jsx("span",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(!K&&m.hideIconAnimation,!K&&t&&m.hideIconAnimationRTL,m.icon,m.startIcon,n[N],L&&T&&m.iconFocused,L&&T&&t&&m.iconFocusedRTL),{children:v})):null,j.jsx(c("BaseTextInput.react"),babelHelpers["extends"]({},z,{"aria-describedby":Y,"aria-invalid":S==="ERROR","aria-label":g,"aria-labelledby":i,autoFocus:u,disabled:P,onBlur:W,onFocus:V,onMouseUp:X,ref:A,suppressFocusRing:!0,value:I,xstyle:[o[O],!t&&m.hideIconAnimation,t&&m.hideIconAnimationRTL,M==="placeholder"&&m.fontPlaceholder,M==="secondary"&&m.fontSecondary,L&&T&&t&&p.focused,m.textInput,v!=null&&q[N],s[N],P&&m.disabledInput,J]})),e!=null&&j.jsx("span",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 xuxw1ft xg83lxy"},{children:e})),R!=null?j.jsx(c("CometScreenReaderText.react"),{id:Q,text:R}):null]}))}}),b[30]=e,b[31]=Y,b[32]=g,b[33]=i,b[34]=u,b[35]=P,b[36]=W,b[37]=V,b[38]=X,b[39]=K,b[40]=L,b[41]=v,b[42]=T,b[43]=z,b[44]=M,b[45]=A,b[46]=N,b[47]=O,b[48]=R,b[49]=S,b[50]=Q,b[51]=I,b[52]=J,b[53]=H):H=b[53];return H}g["default"]=a}),98);
__d("UnicodeBidiDirection",["unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";b="NEUTRAL";var h="LTR",i="RTL";function j(a){return a===h||a===i}function k(a){if(!j(a))throw c("unrecoverableViolation")("`dir` must be a strong direction to be converted to HTML Direction","internationalization");return a===h?"ltr":"rtl"}function a(a,b){if(!j(a))throw c("unrecoverableViolation")("`dir` must be a strong direction to be converted to HTML Direction","internationalization");if(!j(b))throw c("unrecoverableViolation")("`otherDir` must be a strong direction to be converted to HTML Direction","internationalization");return a===b?null:k(a)}g.NEUTRAL=b;g.LTR=h;g.RTL=i;g.isStrong=j;g.getHTMLDir=k;g.getHTMLDirIfDifferent=a}),98);
__d("UnicodeBidiGlobalDirectionCore",["UnicodeBidiDirection","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g=null;function h(a){g=a}function a(){h(b("UnicodeBidiDirection").LTR)}function c(){g||this.initDir();if(!g)throw b("unrecoverableViolation")("Global direction not set.","internationalization");return g}d={setDir:h,initDir:a,getDir:c};e.exports=d}),null);
__d("UnicodeBidiGlobalDirection",["Locale","UnicodeBidiDirection","UnicodeBidiGlobalDirectionCore"],(function(a,b,c,d,e,f){"use strict";b("UnicodeBidiGlobalDirectionCore").initDir=function(){b("UnicodeBidiGlobalDirectionCore").setDir(b("Locale").isRTL()?b("UnicodeBidiDirection").RTL:b("UnicodeBidiDirection").LTR)},e.exports=b("UnicodeBidiGlobalDirectionCore")}),null);
__d("UnicodeBidi",["UnicodeBidiDirection","UnicodeBidiGlobalDirection","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";e={L:"A-Za-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02b8\u02bb-\u02c1\u02d0\u02d1\u02e0-\u02e4\u02ee\u0370-\u0373\u0376\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0482\u048a-\u052f\u0531-\u0556\u0559-\u055f\u0561-\u0587\u0589\u0903-\u0939\u093b\u093d-\u0940\u0949-\u094c\u094e-\u0950\u0958-\u0961\u0964-\u0980\u0982\u0983\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd-\u09c0\u09c7\u09c8\u09cb\u09cc\u09ce\u09d7\u09dc\u09dd\u09df-\u09e1\u09e6-\u09f1\u09f4-\u09fa\u0a03\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a3e-\u0a40\u0a59-\u0a5c\u0a5e\u0a66-\u0a6f\u0a72-\u0a74\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd-\u0ac0\u0ac9\u0acb\u0acc\u0ad0\u0ae0\u0ae1\u0ae6-\u0af0\u0b02\u0b03\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b3e\u0b40\u0b47\u0b48\u0b4b\u0b4c\u0b57\u0b5c\u0b5d\u0b5f-\u0b61\u0b66-\u0b77\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe\u0bbf\u0bc1\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcc\u0bd0\u0bd7\u0be6-\u0bf2\u0c01-\u0c03\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c41-\u0c44\u0c58\u0c59\u0c60\u0c61\u0c66-\u0c6f\u0c7f\u0c82\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd-\u0cc4\u0cc6-\u0cc8\u0cca\u0ccb\u0cd5\u0cd6\u0cde\u0ce0\u0ce1\u0ce6-\u0cef\u0cf1\u0cf2\u0d02\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d-\u0d40\u0d46-\u0d48\u0d4a-\u0d4c\u0d4e\u0d57\u0d60\u0d61\u0d66-\u0d75\u0d79-\u0d7f\u0d82\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dcf-\u0dd1\u0dd8-\u0ddf\u0de6-\u0def\u0df2-\u0df4\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e4f-\u0e5b\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0ed0-\u0ed9\u0edc-\u0edf\u0f00-\u0f17\u0f1a-\u0f34\u0f36\u0f38\u0f3e-\u0f47\u0f49-\u0f6c\u0f7f\u0f85\u0f88-\u0f8c\u0fbe-\u0fc5\u0fc7-\u0fcc\u0fce-\u0fda\u1000-\u102c\u1031\u1038\u103b\u103c\u103f-\u1057\u105a-\u105d\u1061-\u1070\u1075-\u1081\u1083\u1084\u1087-\u108c\u108e-\u109c\u109e-\u10c5\u10c7\u10cd\u10d0-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1360-\u137c\u1380-\u138f\u13a0-\u13f4\u1401-\u167f\u1681-\u169a\u16a0-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1735\u1736\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17b6\u17be-\u17c5\u17c7\u17c8\u17d4-\u17da\u17dc\u17e0-\u17e9\u1810-\u1819\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1923-\u1926\u1929-\u192b\u1930\u1931\u1933-\u1938\u1946-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u19d0-\u19da\u1a00-\u1a16\u1a19\u1a1a\u1a1e-\u1a55\u1a57\u1a61\u1a63\u1a64\u1a6d-\u1a72\u1a80-\u1a89\u1a90-\u1a99\u1aa0-\u1aad\u1b04-\u1b33\u1b35\u1b3b\u1b3d-\u1b41\u1b43-\u1b4b\u1b50-\u1b6a\u1b74-\u1b7c\u1b82-\u1ba1\u1ba6\u1ba7\u1baa\u1bae-\u1be5\u1be7\u1bea-\u1bec\u1bee\u1bf2\u1bf3\u1bfc-\u1c2b\u1c34\u1c35\u1c3b-\u1c49\u1c4d-\u1c7f\u1cc0-\u1cc7\u1cd3\u1ce1\u1ce9-\u1cec\u1cee-\u1cf3\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u200e\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u214f\u2160-\u2188\u2336-\u237a\u2395\u249c-\u24e9\u26ac\u2800-\u28ff\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d70\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005-\u3007\u3021-\u3029\u302e\u302f\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u3190-\u31ba\u31f0-\u321c\u3220-\u324f\u3260-\u327b\u327f-\u32b0\u32c0-\u32cb\u32d0-\u32fe\u3300-\u3376\u337b-\u33dd\u33e0-\u33fe\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua60c\ua610-\ua62b\ua640-\ua66e\ua680-\ua69d\ua6a0-\ua6ef\ua6f2-\ua6f7\ua722-\ua787\ua789-\ua78e\ua790-\ua7ad\ua7b0\ua7b1\ua7f7-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua824\ua827\ua830-\ua837\ua840-\ua873\ua880-\ua8c3\ua8ce-\ua8d9\ua8f2-\ua8fb\ua900-\ua925\ua92e-\ua946\ua952\ua953\ua95f-\ua97c\ua983-\ua9b2\ua9b4\ua9b5\ua9ba\ua9bb\ua9bd-\ua9cd\ua9cf-\ua9d9\ua9de-\ua9e4\ua9e6-\ua9fe\uaa00-\uaa28\uaa2f\uaa30\uaa33\uaa34\uaa40-\uaa42\uaa44-\uaa4b\uaa4d\uaa50-\uaa59\uaa5c-\uaa7b\uaa7d-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaaeb\uaaee-\uaaf5\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5f\uab64\uab65\uabc0-\uabe4\uabe6\uabe7\uabe9-\uabec\uabf0-\uabf9\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\ue000-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc",R:"\u0590\u05be\u05c0\u05c3\u05c6\u05c8-\u05ff\u07c0-\u07ea\u07f4\u07f5\u07fa-\u0815\u081a\u0824\u0828\u082e-\u0858\u085c-\u089f\u200f\ufb1d\ufb1f-\ufb28\ufb2a-\ufb4f",AL:"\u0608\u060b\u060d\u061b-\u064a\u066d-\u066f\u0671-\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u0710\u0712-\u072f\u074b-\u07a5\u07b1-\u07bf\u08a0-\u08e3\ufb50-\ufd3d\ufd40-\ufdcf\ufdf0-\ufdfc\ufdfe\ufdff\ufe70-\ufefe"};var h=new RegExp("["+e.L+e.R+e.AL+"]"),i=new RegExp("["+e.R+e.AL+"]");function j(a){a=h.exec(a);return a==null?null:a[0]}function k(a){a=j(a);return a==null?d("UnicodeBidiDirection").NEUTRAL:i.exec(a)?d("UnicodeBidiDirection").RTL:d("UnicodeBidiDirection").LTR}function l(a,b){b=b||d("UnicodeBidiDirection").NEUTRAL;if(!a.length)return b;a=k(a);return a===d("UnicodeBidiDirection").NEUTRAL?b:a}function m(a,b){b=b||c("UnicodeBidiGlobalDirection").getDir();if(!d("UnicodeBidiDirection").isStrong(b))throw c("unrecoverableViolation")("Fallback direction must be a strong direction","internationalization");return l(a,b)}function a(a,b){return m(a,b)===d("UnicodeBidiDirection").LTR}function b(a,b){return m(a,b)===d("UnicodeBidiDirection").RTL}g.firstStrongChar=j;g.firstStrongCharDir=k;g.resolveBlockDir=l;g.getDirection=m;g.isDirectionLTR=a;g.isDirectionRTL=b}),98);
__d("XCometActivityLogControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/{vanity}/allactivity/",Object.freeze({manage_mode:!1,should_load_landing_page:!1,activity_history:!1}),void 0);b=a;g["default"]=b}),98);
__d("useCometTextDirection",["UnicodeBidi","react"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;var i={LTR:"ltr",NEUTRAL:"auto",RTL:"rtl"};function a(a,b){a=d("UnicodeBidi").getDirection(a,b);b=i[a];return b}g["default"]=a}),98);
__d("useSearchCometEventEmitterContext",["FBLogger","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(a){a=i(a);a==null&&c("FBLogger")("search").mustfix("Missing event emitter context");return a}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("MDBCClientEvent",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({THREAD_OPEN:1,CHAT_JOIN_SHEET_RENDERED:2,THREAD_JOIN:3,BROADCAST_BUTTON_RENDERED:4,RENDER_PUBLIC_BROADCAST_CHAT_NUX_QP:5,RENDER_PUBLIC_BROADCAST_CHAT_CREATION_SHEET:6,PUBLIC_BROADCAST_CHAT_CREATION_SHEET_RENDERED:7,THREAD_CREATE:8,SHARE_SHEET_RENDERED:9,COPY_LINK:10,EDIT_CHAT:11,SHARE_LINK:12,RENDER_THREAD_DETAIL:13,MUTE_CHAT:14,RENDER_CHAT_MEMBERS:15,SEEN_COUNT_RENDERED:16,SHARE_LINK_SENT:17,THREAD_SETTINGS_RENDERED:18,REPORT_MESSAGE_TO_META:19,REMOVE_MESSAGE:20,ADMIN_REMOVE_MESSAGE:21,CHAT_RENDERED_IN_MIB_INBOX:22,BLOCK_FROM_CHAT:23,DEMOTE_ADMIN_BUTTON_TAPPED:24,PROMOTE_ADMIN_FAIL_IMPRESSION:25,REMOVE_FROM_CHAT:26,MESSAGE_USER:27,VIEW_USER_PROFILE:28,ADMIN_LIMIT_REACHED_IMPRESSION:29,PROMOTE_ADMIN_BUTTON_TAPPED:30,USER_PROFILE_BOTTOMSHEET:31,BAN_FROM_CHAT_SUCCESS:32,BAN_FROM_CHAT_FAILURE:33,BAN_FROM_CHAT_INITIATION:34,NOTIFICATION_CONTROL_MUTE_SELECTED:35,NOTIFICATION_CONTROL_UNMUTE_SELECTED:36,JOIN_CHAT_CONFIRM:37,SHOW_ON_PROFILE_TOGGLE:38,SHOW_ON_PROFILE_TAPPED:39,LEAVE_CHAT:40,DELETE_CHAT:41,UNMUTE_CHAT:42,REPORTED_CONTENTS_RENDERED:43,INVITE_BUTTON_TAPPED:44,VIEW_ALL_MEMBERS:45,OPEN_INVITE_LINK_VIEW:46,REPORT_CHAT_TO_FACEBOOK:47,DISMISS_BUTTON_TAPPED:48,JOIN_CHAT_SHEET_RENDERED:49,MESSAGE_SEND:50,PUSH_NOTIFICATION_MESSAGE_RECEIVED_TAPPED:51,CREATE_CHANNEL_SCREEN_RENDERED:52,CHANGE_IMAGE_TAPPED:53,JOIN_APPROVAL_TOGGLE:54,COPY_LINK_TAPPED:55,SEARCH_BAR_INPUT_FOCUS:56,INVITE_SCREEN_RENDERED:57,DONE_BUTTON_TAPPED:58,SEND_BUTTON_TAPPED:59,SHARE_TO_FEED_SKIPPED:60,SHARE_TO_FEED_SCREEN_RENDERED:61,POST_TEXT_INPUT:62,SHARE_TO_FEED_BUTTON_TAPPED:63,NAME_TEXT_INPUT:64,EDIT_CHAT_SUCCESS:65,EDIT_CHAT_FAILURE:66,REQUIRE_APPROVAL_TO_JOIN_DISABLED:67,REQUIRE_APPROVAL_TO_JOIN_ENABLED:68,MEMBER_REQUEST_JOIN_APPROVED:69,MEMBER_REQUEST_JOIN_DENIED:70,VIEW_MEMBER_REQUESTS:71,SHARE_TO_FACEBOOK_BOTTOMSHEET_VIEWED:72,CHAT_SHARED_TO_FACEBOOK:73,EDIT_CHAT_DESCRIPTION:74,CHANGE_THREAD_PHOTO:75,INSTALL_MESSENGER_UPSELL_VIEWED:76,DOWNLOAD_MESSENGER_BUTTON_CLICKED:77,BLOCKED_USER_WARNING_RENDERED:78,BLOCKED_USER_WARNING_CONFIRM:79,NOTIF_IMPRESSION:80,NOTIF_CLICKED:81,FIRST_CREATE_BOTTOMSHEET_RENDERED:82,THREAD_CREATE_ATTEMPT:83,PUBLIC_CHAT_LINK_ATTACHMENT_RENDERED:84,PUBLIC_CHAT_LINK_ATTACHMENT_TAPPED:85,NOTIFICATION_CONTROL_ALL_SELECTED:86,NOTIFICATION_CONTROL_MENTIONS_AND_REPLIES_SELECTED:87,NOTIFICATION_CONTROL_NONE_SELECTED:88,NOTIFICATION_CONTROL_RENDERED:89,UNDO_BUTTON_TAPPED:90,INVITE_SENT_SUCCESS:91,INVITE_SENT_FAILED:92,PRIMARY_PROFILE_QP_RENDERED:93,NOT_NOW_TAPPED:94,CREATE_CHANNEL_TAPPED:95,VIEW_PINNED_CHANNELS:96,PROFILE_ABOUT_CHANNEL_SECTION_RENDERED:97,DIRECT_INVITE_SENT_SUCCESS:98,DIRECT_INVITE_SENT_FAIL:99,DIRECT_INVITE_BULK_SENT_SUCCESS:100,DIRECT_INVITE_BULK_SENT_FAIL:101,DIRECT_INVITE_NOTIFICATION_RENDERED:102,DIRECT_INVITE_SHEET_RENDERED:103,INVITE_ACCEPT:104,INVITE_DECLINE:105,CHAT_INVITE_SHEET_RENDERED:106,PAUSE_CHANNEL:107,RESUME_CHANNEL:108,THREAD_CREATE_SUCCESS:109,THREAD_CREATE_ERROR:110,NOTIFICATION_RENDERING_REQUEST_SUCCESS:111,NOTIFICATION_RECALLED:112,NOTIFICATION_DISMISS:113,NOTIFICATION_CLICK:114,FEATURED_UNIT_PROFILE_QP_RENDERED:115,PIN_CARD_TAPPED:116,PIN_FEATURED_CARD_SUCCESS:117,PIN_FEATURED_CARD_FAILURE:118,CHANNELS_FEATURED_UNIT_RENDERED:119,CHANNELS_FEATURED_UNIT_SEE_ALL_TAPPED:120,RENDER_CHAT_INVITE_SHEET:121,RENDER_INVITE_PRESET_LIST:122,INVITE_PRESET_LIST_RENDERED:123,CREATE_POST_BUTTON_TAPPED:124,RENDER_CHANNEL_PAUSE_CONFIRMATION_DIALOG:125,RENDER_CHANNEL_RESUME_CONFIRMATION_DIALOG:126,DISMISS_PAUSE_CHANNEL_DIALOG:127,DISMISS_RESUME_CHANNEL_DIALOG:128,CANCEL_RESUME_CHANNEL:129,CANCEL_PAUSE_CHANNEL:130,DEEPLINK_LANDING_PAGE_RENDERED:131,DIRECT_INVITE_SHEET_SKIPPED:132,CREATE_POST_BUTTON:133,CYSC_QP_CARD_IMPRESSION:134,SHOW_ON_PROFILE_RENDERED:135,THREAD_PREVIEW_OPEN:136,NON_MEMBER_COMPOSER_SHOWN:137,REACTIONS_UNEXPECTED_DROP:138,REACTIONS_MUTATION_SUCCESS:139,REACTIONS_MUTATION_FAILURE:140,REACTIONS_TRAY_EMPTY_ERROR:141,SET_CHAT_CREATION_PHOTO:142,SHARE_LINK_TO_FB_CONFIRM:143,BIIM_INBOX_BROADCAST_CREATE_BUTTON_RENDERED:144,BIIM_INBOX_BROADCAST_CREATE_BUTTON_TAPPED:145,PUBLIC_BROADCAST_CHAT_NUX_QP_RENDERED:146,PUBLIC_BROADCAST_CHAT_NUX_QP_TAPPED:147,PIN_FEATURED_CARD_TOGGLE:148,PIN_TO_INBOX_SUCCESS:149,PIN_TO_INBOX_FAILURE:150,UNPIN_FROM_INBOX_SUCCESS:151,UNPIN_FROM_INBOX_FAILURE:152,PINNED_THREAD_RENDERED:153,CHANNELS_TAB_ITEM_RENDERED:154,CHANNELS_TAB_ITEM_TAPPED:155,PROFILE_CHANNELS_TAB_RENDERED:156,PROMPT_ACCOUNT_SWITCH_QP_RENDERED:157,PROMPT_ACCOUNT_SWITCH_QP_CREATE_CHANNEL_TAPPED:158,PROMPT_ACCOUNT_SWITCH_QP_DISMISSED:159,CYSC_NEWSFEED_QP_RENDERED:160,CREATE_CHANNEL_OPTION_RENDERED:161,CHANNELS_LIST_RENDERED:162,CHANNELS_LIST_NULL_STATE_RENDERED:163,PUBLIC_BROADCAST_CHANNEL_APPLUS_QP:164,BROADCAST_CHANNEL_TAPPED:165,MESSENGER_SEARCH_PUBLIC_CHANNEL_RENDERED:166,PROFILE_INTRO_CARD_CHANNEL_RENDERED:167,DIRECT_INVITE_JEWEL_NOTIFICATION_CHANNEL_RENDERED:168,PERSISTENT_INVITE_CHANNEL_RENDERED:169,KEEP_EDITING_BUTTON_TAPPED:170,THREAD_TOMBSTONE_IMPRESSION:171,VIEW_PAGE_STATUS_PRESSED:172,FIRST_CREATE_FULLSCREEN_NUX_RENDERED:173,FIRST_CREATE_FULLSCREEN_NUX_TAPPED:174,DIRECTORY_SEARCH_NULLSTATE_IMPRESSION:175,DIRECTORY_PEOPLE_TAB_IMPRESSION:176,DIRECTORY_OPEN:177,DIRECTORY_FEED_QP_IMPRESSION:178,DIRECTORY_RECOMMENDATION_LIST_IMPRESSION:179,SHARE_BUTTON_ON_THREAD_HEADER:180,DIRECTORY_FEED_SEE_ALL_TAPPED:181,CHANNELS_WAITLIST_RENDERED:182,REQUEST_ACCESS_ATTEMPT:183,LEARN_MORE_TAPPED:184,REQUEST_ACCESS_SUCCESS:185,CHANNELS_SURVERY_RENDERED:186,SUBMIT_SURVEY_ATTEMPT:187,SUBMIT_SURVEY_SUCCESS:188,ALREADY_REGISTERED_VIEW_RENDERED:189,NOT_ELIGIBLE_VIEW_RENDERED:190,LOGGED_OUT_VIEW_RENDERED:191,DISCOVER_CHANNELS_TAPPED:192,CHANNELS_WAITLIST_ACCOUNT_SWITCH_RENDERED:193,WAITLIST_ACCOUNT_SWITCH_ATTEMPT:194,ALREADY_HAS_ACCESS_VIEW_RENDERED:195,MBS_CHANNELS_TAB_IMPRESSION:196,MBS_CHANNELS_TAB_TAPPED:197,MBS_CHANNELS_ENTRYPOINT_BUTTON_IMPRESSION:198,MBS_CHANNELS_ENTRYPOINT_BUTTON_TAPPED:199,WEB_SUBSCRIBE_TO_THREAD_CREATION_STATUS_TABLE:200,WEB_THREAD_CREATION_STATUS_PENDING:201,WEB_SUBSCRIBE_TO_THREADS_TABLE_DURING_CREATE:202,WEB_THREAD_CREATED_WAITING_FOR_THREAD_LINK:203,JOIN_CHAT_NUX_CONFIRM:204,JOIN_CHAT_NUX_CANCEL:205,JOIN_CHAT_NUX_RENDERED:206,MUTE_ON_LEAVE_DIALOG_RENDERED:207,DIRECTORY_FEED_QP_PREVIEW_TAPPED:208,INVITED_AND_DIRECTORY_SCREEN_IMPRESSION:209,INVITED_CHANNELS_SCREEN_IMPRESSION:210,INVITED_AND_DIRECTORY_SCREEN_TAP_SEE_ALL:211,PROMPT_ACCOUNT_SWITCH_QP_ACCOUNT_SWITCH_STARTED:212,PROMPT_ACCOUNT_SWITCH_QP_ACCOUNT_SWITCH_COMPLETED:213,PROMPT_ACCOUNT_SWITCH_QP_CREATION_FLOW_STARTED:214,SHARE_TO_STORY_TAPPED:215,CHANNEL_STICKER_RENDERED:216,BUMP_THREAD_TO_INBOX_TAPPED:217,UNBUMP_THREAD_FROM_INBOX_TAPPED:218,DIRECTORY_FEED_QP_DISMISS_BUTTON_TAPPED:219,MBS_CHANNELS_TAB_WITH_BADGE_IMPRESSION:220,MBS_CHANNELS_TAB_WITH_BADGE_TAPPED:221,EARLY_ACCESS_AWARENESS_SCREEN_IMPRESSION:222,EARLY_ACCESS_AWARENESS_BUTTON_CLICK:223,SHARE_MESSAGE_TO_STORY_TAPPED:224,CHANNEL_MESSAGE_STICKER_RENDERED:225,SHARE_CHANNEL_TO_STORY_BOTTOMSHEET_RENDERED:226,EARLY_ACCESS_BROADCAST_CHANNEL_TOGGLE_RENDERED:227,EARLY_ACCESS_BROADCAST_CHANNEL_TOGGLE_CLICKED:228,EARLY_ACCESS_BROADCAST_CHANNEL_TIME_SETTING_CLICKED:229,EARLY_ACCESS_BROADCAST_CHANNEL_MESSAGE_EDITED:230,EARLY_ACCESS_BROADCAST_CHANNEL_LEARN_MORE_CLICKED:231,FORWARDED_MESSAGE_CHANNEL_CLICK:232,MESSAGE_FORWARD_CLICK:233,VIEW_PINNED_MESSAGES:234,PIN_MESSAGE:235,UNPIN_MESSAGE:236,HIGHLIGHTS_TAB_REACTION_CONTAINER:237,HIGHLIGHTS_TAB_REACTION_PILL:238,SHARE_TO_CHANNELS_ENTRY_POINT_RENDERED:239,SHARE_TO_CHANNELS_ENTRY_POINT_TAPPED:240,SHARE_TO_CHANNELS_PAGE_IMPRESSION:241,SHARE_TO_CHANNELS_CHANNEL_TAPPTED:242,SHARE_TO_CHANNELS_DEFAULT_TOGGLE_CLICKED:243,SHARE_TO_CHANNELS_SHARING_UNAVAILABLE:244,JOIN_TOAST_UNDO_TAPPED:245,MEMBERSHIP_MILESTONE_SCREEN_IMPRESSION:246,MEMBERSHIP_MILESTONE_IMAGE_CARD_TAPPED:247,MEMBERSHIP_MILESTONE_SEND_BUTTON_TAPPED:248,DM_VIEW_CHANNEL_BUTTON:249,MBS_CONTENT_CHANNELS_NULL_STATE_BUTTON_TAPPED:250,MBS_CONTENT_CHANNELS_NULL_STATE_BUTTON_IMPRESSION:251,MBS_CONTENT_CHANNELS_LIST_CHANNEL_TAPPED:252,CHANNELS_GUTTER_UNIT_RENDERED:253,SHARE_POST_TO_BC_EDUCATION_BOTTOMSHEET_IMPRESSION:254,TURN_ON_TAPPED:255,SHARE_POST_TO_BC_SCREEN_IMPRESSION:256,MBS_CONTENT_CHANNELS_NULL_STATE_COMPONENT_IMPRESSION:257,ENGAGEMENT_REMINDER_SCREEN_IMPRESSION:258,ENGAGEMENT_REMINDER_ADD_ATTACHMENT_TAPPED:259,ENGAGEMENT_REMINDER_SEND_BUTTON_TAPPED:260,PUBLIC_BROADCAST_CHANNEL_NUX_CAROUSEL_SLIDE_RENDERED:261,ABOUT_CHANNEL_TAP:262,ABOUT_CHANNEL_VIEW_PAGE_TAP:263,ABOUT_CHANNEL_CLOSE:264,TOP_FAN_PERKS_SETTINGS_BROADCAST_CHANNEL_VIEW_IMPRESSION:265,TOP_FAN_PERKS_SETTINGS_BROADCAST_CHANNEL_VIEW_BUTTON_CLICK:266,BROADCAST_CHANNELS_LEARN_MORE_IMPRESSION:267,BROADCAST_CHANNELS_LEARN_MORE_CONFIRM_BUTTON_CLICK:268,SHARE_TO_STORY_MSGR_TO_FB_DEEPLINK_HANDLED:269,UNJOINED_THREAD_ITEM_TAPPED:270,CONTENT_CHAINING_BUTTON_IMPRESSION:271,CONTENT_CHAINING_BUTTON_CLICKED:272,PIN_POST_TOGGLED_ON:273,PIN_POST_TOGGLED_OFF:274,CREATE_OR_MESSAGE_BOTTOMSHEET_IMPRESSION:275,BIIM_PERSONAL_INBOX_TOGGLE:276,PERSONAL_INBOX_VOICE_SWITCH_CONSENT_DIALOG_IMPRESSION:277,PERSONAL_INBOX_VOICE_SWITCH_CONSENT_DECLINED:278,PERSONAL_INBOX_VOICE_SWITCH_CONSENT_APPROVED_ALWAYS:279,PERSONAL_INBOX_VOICE_SWITCH_CONSENT_APPROVED_ONCE:280,UNJOINED_THREAD_HEADER_TAP:281,CONTENT_CHAINING_SCREEN_IMPRESSION:282,CONTENT_CHAINING_POST_CELL_IMPRESSION:283,CONTENT_CHAINING_POST_CELL_CLICKED:284,CONTENT_CHAINING_BUTTON_CELL_IMPRESSION:285,CONTENT_CHAINING_BUTTON_CELL_CLICKED:286,SHARE_TO_CHANNELS_SHARESHEET_ENTRY_POINT_IMPRESSION:287,SHARE_TO_CHANNELS_SHARESHEET_ENTRY_POINT_TAPPED:288,SHARE_TO_CHANNELS_SHARESHEET_CHANNEL_TAPPED:289,SHARE_TO_CHANNELS_SHARESHEET_SEND_BUTTON_TAPPED:290,CREATE_OR_MESSAGE_BOTTOMSHEET_LOADING_SCREEN_IMPRESSION:291,PIN_CHANNEL_TO_MESSENGER_TOGGLE_TAPPED:292,SHARE_TO_CHANNELS_SHARESHEET_SEND_SUCCESS:293,SHARE_TO_CHANNELS_SHARESHEET_SEND_FAILURE:294,SHARE_TO_CHANNELS_SHARESHEET_CONFIRMATION_TOAST_IMPRESSION:295,CONTENT_CHAINING_LAUNCH_FAILURE:296,RENDER_PROMPT_CREATION_PILL:297,RENDER_DAILY_PROMPT_CREATOR_NUX_SHEET:298,DAILY_PROMPT_CREATOR_NUX_SHEET_RENDERED:299,DISMISS_DAILY_PROMPT_CREATOR_NUX_SHEET:300,DAILY_PROMPT_CREATION_SHEET_RENDERED:301,RENDER_DAILY_PROMPT_CREATION_SHEET:302,CANCEL_DAILY_PROMPT_CREATION_SHEET:303,START_DAILY_PROMPT:304,RENDER_DAILY_PROMPT_RESPONSES_SHEET:305,DAILY_PROMPT_RESPONSES_SHEET_RENDERED:306,RENDER_DAILY_PROMPT_RESPONSE_REPLY_SHEET:307,REPLY_DAILY_PROMPT_RESPONSE:308,RENDER_DELETE_DAILY_PROMPT_RESPONSE_DIALOG:309,DELETE_DAILY_PROMPT_RESPONSE:310,DISMISS_DELETE_DAILY_PROMPT_RESPONSE:311,REPORT_DAILY_PROMPT_RESPONSE:312,DAILY_PROMPT_RESPONSE_REACT:313,DAILY_PROMPT_RESPONSE_CREATION_SHEET_RENDERED:314,CREATE_DAILY_PROMPT_RESPONSE:315,DELETE_DAILY_PROMPT_DIALOG_RENDERED:316,DELETE_DAILY_PROMPT:317,CANCEL_DELETE_DAILY_PROMPT:318,DAILY_PROMPT_SHARE_SHEET_RENDERED:319,COLLECT_FEEDBACK_SCREEN_IMPRESSION:320,COLLECT_FEEDBACK_POST_CARD_TAPPED:321,COLLECT_FEEDBACK_NEW_QUESTION_BUTTON_TAPPED:322,COLLECT_FEEDBACK_SEND_BUTTON_TAPPED:323,REPORT_DAILY_PROMPT_DIALOG_RENDERED:324,SHARE_TO_CHANNELS_PAGE_SAVE_TAPPED:325,COLLECT_FEEDBACK_SECTION_TOGGLED:326,SEND_A_MESSAGE_SECTION_TOGGLED:327,PERSONAL_INBOX_OPT_IN_ENTRY_POINT_RENDERED:328,PERSONAL_INBOX_OPT_IN:329,PERSONAL_INBOX_OPT_IN_ENTRY_POINT_DISMISSED:330,PERSONAL_INBOX_OPT_OUT_AND_VIEW_AS_MEMBER:331,CHANNEL_INSIGHTS:332,FIRST_MESSAGE_SCREEN_IMPRESSION:333,FIRST_MESSAGE_SCREEN_SKIP_BUTTON_TAPPED:334,FIRST_MESSAGE_SCREEN_SEND_BUTTON_TAPPED:335,FIRST_MESSAGE_SCREEN_SUGGESTION_HSCROLL:336,FIRST_MESSAGE_SCREEN_SUGGESTION_TAPPED:337,FIRST_MESSAGE_SCREEN_MESSAGE_EDITED:338,CHANNEL_INSIGHTS_HOME_IMPRESSION:339,CHANNEL_INSIGHTS_INTERACTION_HEADER:340,CHANNEL_INSIGHTS_INTERACTION_BREAKDOWN:341,PROMPT_CREATION_COMPOSER_TOOLTIP_IMPRESSION:342,MILESTONE_NOTIFICATION_BOTTOMSHEET_RENDERED:343,MILESTONE_NOTIFICATION_BOTTOMSHEET_BUTTON_TAPPED:344,INBOX_SNIPPET_RENDERED:345,INBOX_SNIPPET_ROW_TAPPED:346,NOTIFICATION_SETTING_BOTTOM_SHEET_SHOWN:347,NOTIFICATION_SETTING_BOTTOM_SHEET_NOTIFICATION_SETTING_TAPPED:348,NOTIFICATION_SETTING_BOTTOM_SHEET_DISMISSED:349,NOTIFICATION_SETTING_BOTTOM_SHEET_NOTIFICATION_TOGGLE_CHANGED:350,BEST_PRACTICES_PAGE_ACTION_TAPPED:351,BEST_PRACTICES_PAGE_RENDERED:352});c=a;f["default"]=c}),66);
__d("MWBroadcastChannelLoggingShapes",[],(function(a,b,c,d,e,f){"use strict";a={action:2,event:195,parentSurface:11,source:105,surface:73};b={action:2,event:191,parentSurface:11,source:105,surface:73};c={action:2,event:190,parentSurface:11,source:105,surface:73};d={action:2,event:189,parentSurface:11,source:105,surface:73};e={action:1,event:188,parentSurface:11,source:104,surface:74};var g={action:1,event:187,parentSurface:11,source:104,surface:74},h={action:2,event:186,parentSurface:11,source:103,surface:74},i={action:1,event:184,parentSurface:11,source:102,surface:73},j={action:1,event:185,parentSurface:11,source:101,surface:73},k={action:1,event:183,parentSurface:11,source:101,surface:73},l={action:2,event:182,parentSurface:11,source:100,surface:73},m={action:1,event:185,parentSurface:11,source:102,surface:72},n={action:1,event:184,parentSurface:11,source:102,surface:72},o={action:1,event:183,parentSurface:11,source:101,surface:72},p={action:2,event:182,parentSurface:11,source:100,surface:72},q={action:1,clientExtras:{entry_point:"public_chats:comet_www_inbox"},event:95,parentSurface:7,source:8,surface:4},r={action:2,clientExtras:{entry_point:"public_chats:comet_www_inbox"},event:161,parentSurface:7,source:8,surface:4},s={action:1,clientExtras:{entry_point:"public_chats:profile_channels_tab_item"},event:95,parentSurface:11,source:8,surface:58},t=babelHelpers["extends"]({},s,{clientExtras:{entry_point:"public_chats:profile_channels_tab_null_state"}}),u=babelHelpers["extends"]({},s,{clientExtras:{entry_point:"public_chats:profile_from_mbs"}}),v={action:2,clientExtras:{entry_point:"public_chats:profile_channels_tab_item"},event:162,parentSurface:21,source:90,surface:59},w={action:2,clientExtras:{entry_point:"public_chats:profile_channels_tab_null_state"},event:163,parentSurface:21,source:90,surface:59},x={action:2,clientExtras:{entry_point:"public_chats:profile_channels_tab_item"},event:161,parentSurface:21,source:90,surface:59},y=babelHelpers["extends"]({},x,{clientExtras:{entry_point:"public_chats:profile_channels_tab_null_state"}}),z={action:2,clientExtras:{entry_point:"public_chats:newsfeed_qp"},event:164,parentSurface:11,source:92,surface:65},A={action:2,clientExtras:{entry_point:"public_chats:profile_qp"},event:164,parentSurface:21,source:92,surface:66},B={action:2,clientExtras:{entry_point:"public_chats:newsfeed_qp"},event:161,parentSurface:11,source:92,surface:65},C={action:2,clientExtras:{entry_point:"public_chats:profile_qp"},event:161,parentSurface:21,source:92,surface:66},D={action:1,clientExtras:{entry_point:"public_chats:newsfeed_qp"},event:95,parentSurface:11,source:8,surface:65},E={action:1,clientExtras:{entry_point:"public_chats:profile_qp"},event:95,parentSurface:21,source:8,surface:66},F={action:1,clientExtras:{entry_point:"public_chats:profile_creation_bar"},event:95,parentSurface:11,source:88,surface:64},G={action:1,clientExtras:{entry_point:"public_chats:channel_creation_qp"},event:95,parentSurface:11,source:67,surface:27},H={action:1,clientExtras:{entry_point:"public_chats:newsfeed_composer"},event:95,parentSurface:11,source:88,surface:69},I={action:1,clientExtras:{entry_point:"public_chats:channels_gutter"},event:95,parentSurface:11,source:8,surface:91},J={action:2,clientExtras:{entry_point:"public_chats:profile_creation_bar"},event:161,parentSurface:11,source:88,surface:64},K={action:2,clientExtras:{entry_point:"public_chats:newsfeed_composer"},event:161,parentSurface:11,source:88,surface:69},L={action:1,event:147,parentSurface:4,source:81,surface:51},M={action:1,event:165,parentSurface:21,source:93,surface:58},N={action:1,event:148,parentSurface:11,source:89,surface:21},O={action:2,event:7,parentSurface:17,source:82,surface:41},P={action:2,event:146,parentSurface:4,source:81,surface:51},Q={action:2,event:261,parentSurface:4,source:81,surface:51},R={action:1,event:53,parentSurface:4,source:81,surface:51},S={action:1,event:8,parentSurface:17,source:8,surface:41},T={action:1,event:234,parentSurface:8,source:27,surface:16},U={action:1,event:234,parentSurface:7,source:62,surface:7},V={action:1,event:235,parentSurface:7,source:62,surface:7},W={action:1,event:236,parentSurface:7,source:62,surface:7},X={action:2,event:239,parentSurface:11,source:147,surface:87},Y={action:1,event:240,parentSurface:11,source:147,surface:87},Z={action:2,event:241,parentSurface:11,source:147,surface:87},$={action:1,event:242,parentSurface:11,source:147,surface:87},aa={action:1,event:243,parentSurface:11,source:147,surface:87};f.CREATOR_WAITLIST_ALREADY_HAS_ACCESS_VIEW_RENDERED=a;f.CREATOR_WAITLIST_LOGGED_OUT_VIEW_RENDERED=b;f.CREATOR_WAITLIST_NOT_ELIGIBLE_VIEW_RENDERED=c;f.CREATOR_WAITLIST_ALREADY_REGISTERED_VIEW_RENDERED=d;f.CREATOR_WAITLIST_INTEREST_REASONS_SUBMIT_SUCCESS=e;f.CREATOR_WAITLIST_INTEREST_REASONS_SUBMIT_ATTEMPT=g;f.CREATOR_WAITLIST_INTEREST_REASONS_RENDERED=h;f.CREATOR_WAITLIST_LANDING_PAGE_LEARN_MORE_TAPPED=i;f.CREATOR_WAITLIST_LANDING_PAGE_REQUEST_ACCESS_SUCCESS=j;f.CREATOR_WAITLIST_LANDING_PAGE_REQUEST_ACCESS_ATTEMPT=k;f.CREATOR_WAITLIST_LANDING_PAGE_RENDERED=l;f.CREATOR_WAITLIST_NEWSFEED_QP_REQUEST_ACCESS_SUCCESS=m;f.CREATOR_WAITLIST_NEWSFEED_QP_LEARN_MORE_TAPPED=n;f.CREATOR_WAITLIST_NEWSFEED_QP_REQUEST_ACCESS_TAPPED=o;f.CREATOR_WAITLIST_NEWSFEED_QP_RENDERED=p;f.CREATE_CHANNEL_TAPPED_FULL_PAGE_SHAPE=q;f.CREATE_CHANNEL_OPTION_RENDERED_FULL_PAGE_SHAPE=r;f.CREATE_CHANNEL_TAPPED_CHANNELS_TAB_SHAPE=s;f.CREATE_CHANNEL_TAPPED_CHANNELS_TAB_NULL_STATE_SHAPE=t;f.CREATE_CHANNEL_TAPPED_CHANNELS_TAB_MBS_SHAPE=u;f.CHANNELS_LIST_RENDERED_SHAPE=v;f.CHANNELS_LIST_NULL_STATE_RENDERED_SHAPE=w;f.CREATE_CHANNEL_OPTION_CHANNELS_TAB_RENDERED_SHAPE=x;f.CREATE_CHANNEL_OPTION_CHANNELS_TAB_NULL_STATE_RENDERED_SHAPE=y;f.CREATE_BROADCAST_CHANNEL_NEWSFEED_QP_RENDERED_SHAPE=z;f.CREATE_BROADCAST_CHANNEL_PROFILE_PAGE_QP_RENDERED_SHAPE=A;f.CREATE_CHANNEL_OPTION_NEWSFEED_QP_RENDERED_SHAPE=B;f.CREATE_CHANNEL_OPTION_PROFILE_PAGE_QP_RENDERED_SHAPE=C;f.CREATE_BROADCAST_CHANNEL_NEWSFEED_QP_TAP_SHAPE=D;f.CREATE_BROADCAST_CHANNEL_PROFILE_PAGE_QP_TAP_SHAPE=E;f.CREATE_BROADCAST_CHANNEL_PROFILE_COMPOSER_TAP_SHAPE=F;f.CREATE_BROADCAST_CHANNEL_JEWEL_QP_TAP_SHAPE=G;f.CREATE_BROADCAST_CHANNEL_NEWSFEED_COMPOSER_TAP_SHAPE=H;f.CREATE_BROADCAST_CHANNEL_FROM_GUTTER_TAP_SHAPE=I;f.CREATE_BROADCAST_CHANNEL_PROFILE_COMPOSER_RENDERED_SHAPE=J;f.CREATE_BROADCAST_CHANNEL_NEWSFEED_COMPOSER_RENDERED_SHAPE=K;f.APPLUS_BROADCAST_CHANNEL_EDUCATION_NUX_BUTTON_TAP_SHAPE=L;f.APPLUS_TAP_BROADCAST_CHANNEL_IN_CHANNELS_TAB_SHAPE=M;f.APPLUS_TAP_PIN_TO_FEATURE_IN_CREATION_FORM=N;f.PUBLIC_BROADCAST_CHAT_CREATION_SHEET_RENDERED_SHAPE=O;f.APPLUS_BROADCAST_CHANNEL_EDUCATION_NUX_RENDERED_SHAPE=P;f.PUBLIC_BROADCAST_CHANNEL_NUX_CAROUSEL_SLIDE_RENDERED=Q;f.BROADCAST_CHANNEL_CHANGE_IMAGE_TAP_SHAPE=R;f.THREAD_CREATE_TAP_SHAPE=S;f.VIEW_PINNED_MESSAGES_FROM_THREAD_DETAIL=T;f.VIEW_PINNED_MESSAGES_FROM_THREAD_VIEW_BANNER=U;f.PIN_MESSAGE=V;f.UNPIN_MESSAGE=W;f.SHARE_TO_CHANNELS_ENTRY_POINT_RENDERED=X;f.SHARE_TO_CHANNELS_ENTRY_POINT_TAPPED=Y;f.SHARE_TO_CHANNELS_PAGE_IMPRESSION=Z;f.SHARE_TO_CHANNELS_CHANNEL_TAPPED=$;f.SHARE_TO_CHANNELS_DEFAULT_TOGGLE_CLICKED=aa}),66);
__d("MWLogBroadcastChannelFalcoEvent",["I64","emptyFunction","requireDeferred","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent").__setRef("MWLogBroadcastChannelFalcoEvent"),j=new Set([161,119]),k=5*60*1e3,l=null,m=null;function a(a){if(a.current)return c("emptyFunction");a.current=!0;return function(a){return n(a)}}function n(a){var b=a.action,e=b===void 0?1:b,f=a.clientExtras,g=a.event;b=a.parentSurface;var n=b===void 0?3:b,o=a.source,p=a.surface,q=a.threadFbid,r=a.recipientId;i.onReady(function(a){var b=Date.now();(l==null||m!=null&&b-m>k||j.has(g))&&(l=c("uuidv4")());m=b;a.log(function(){return{action:e,action_name:e,event:g,event_name:g,extra:f,parent_surface:n,parent_surface_name:n,recipient_id:r,session_id:l,source:o,source_name:o,surface:p,surface_name:p,thread_id:q!=null?(h||(h=d("I64"))).to_string(q):void 0}})})}g.useLogBroadcastChannelFalcoEventWithRef=a;g.logBroadcastChannelFalcoEvent=n}),98);/*FB_PKG_DELIM*/
__d("LSJSONOp",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({BLOCK:1,LOAD:2,STORE:3,STORE_ARRAY:4,CALL_STORED_PROCEDURE:5,CALL_NATIVE_TYPE_OPERATION:6,CALL_NATIVE_OPERATION:7,LIST:8,UNDEFINED:9,INFINITY:10,NAN:11,RETURN:12,BOOL_TO_STR:13,BLOBS_TO_STRING:14,BLOBS_OF_STRING:15,TO_BLOB:16,I64_OF_FLOAT:17,I64_TO_FLOAT:18,I64_FROM_STRING:19,I64_TO_STRING:20,READ_GK:21,READ_QE:22,IF:23,OR:24,AND:25,NOT:26,IS_NULL:27,ENFORCE_NOT_NULL:28,GENERIC_EQUAL:29,I64_EQUAL:30,BLOB_EQUAL:31,GENERIC_NOT_EQUAL:32,I64_NOT_EQUAL:33,BLOB_NOT_EQUAL:34,GENERIC_GREATER_THAN:35,I64_GREATER_THAN:36,BLOB_GREATER_THAN:37,GENERIC_GREATER_THAN_OR_EQUAL:38,I64_GREATER_THAN_OR_EQUAL:39,BLOB_GREATER_THAN_OR_EQUAL:40,GENERIC_LESS_THAN:41,I64_LESS_THAN:42,BLOB_LESS_THAN:43,GENERIC_LESS_THAN_OR_EQUAL:44,I64_LESS_THAN_OR_EQUAL:45,BLOB_LESS_THAN_OR_EQUAL:46,THROW:47,LOG_CONSOLE:48,LOGGER_LOG:49,NATIVE_OP_ARRAY_CREATE:50,NATIVE_OP_ARRAY_APPEND:51,NATIVE_OP_ARRAY_GET_SIZE:52,NATIVE_OP_MAP_CREATE:53,NATIVE_OP_MAP_GET:54,NATIVE_OP_MAP_SET:55,NATIVE_OP_MAP_KEYS:56,NATIVE_OP_MAP_DELETE:57,NATIVE_OP_MAP_HAS:58,NATIVE_OP_STR_JOIN:59,NATIVE_OP_CURRENT_TIME:60,NATIVE_OP_JSON_STRINGIFY:61,NATIVE_OP_RNG_NUM:62,NATIVE_OP_LOCALIZATION_SUPPORTED:63,NATIVE_OP_LOCALIZATION_SUPPORTED_V2:64,NATIVE_OP_RESOLVE_LOCALIZED:65,NATIVE_OP_RESOLVE_LOCALIZED_V2:66,ADD:68,I64_ADD:69,I64_CAST:70,READ_JUSTKNOB:71,READ_IGGK:72,GET_RUN_MODE:73,STR_TRIM:74,STR_REPLACE:75,JOIN:76,STR_LIKE:77,LENGTH:78,IN:79,IN_VEC:80,SUB:81,MUL:82,DIV:83,MOD:84,I64_SUB:85,I64_MUL:86,I64_DIV:87,I64_MOD:88,I64_IN:89,I64_IN_VEC:90,BITWISE_LEFT_SHIFT:91,BITWISE_RIGHT_SHIFT:92,ARITHMETIC_RIGHT_SHIFT:93,BITWISE_AND:94,BITWISE_OR:95,BITWISE_XOR:96,TERNARY:97,XOR:98,NULLISH_COALESE:99,READ_COLUMN:100,READ_COLUMN_REF:101,READ_GROUP_COUNT:102,COMMENT:103,IMPORT:104,LOOP:105,QUERY_COMPARISON_EQUAL:106,QUERY_COMPARISON_NOT_EQUAL:107,QUERY_COMPARISON_GREATER_THAN:108,QUERY_COMPARISON_GREATER_THAN_OR_EQUAL:109,QUERY_COMPARISON_LESS_THAN:110,QUERY_COMPARISON_LESS_THAN_OR_EQUAL:111,QUERY_MERGE_CONSTRAINTS:112,QUERY_FETCH_ROWS:113,QUERY_FILTER_ROWS:114,QUERY_SORT_ROWS_BY:115,QUERY_DELETE_ROWS:116,QUERY_SLICE_ROWS:117,QUERY_COUNT_ROWS:118,QUERY_PEEK_NEXT_ROW_ID:119,QUERY_UPDATE_ROWS:120,QUERY_INSERT_ROWS:121,QUERY_PUT_ROWS:122,QUERY_FOREACH_ROW:123,QUERY_SELECT_MATCH_ROW:124,QUERY_CURSOR_SLICE:125,QUERY_GROUP_BY:126,SUB_STRING:127});c=a;f["default"]=c}),66);
__d("LSMaybeDeferredImports",["LSSynchronousPromise"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return h(a)}function b(a){return h(a)}function h(b){var a=null;return{load:function(){return a==null?b.load().then(function(b){a=b;return a}):d("LSSynchronousPromise").maybeMakeSynchronousPromise(a)}}}g.wrapReqDeferredMaybeSync=a;g.wrapJSResourceForInteractionMaybeSync=b}),98);
__d("LSSelectOrder",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum").Mirrored(["ASC","DESC"]);c=a;f["default"]=c}),66);
__d("LSDatascriptJSONEval",["FBLogger","JSResourceForInteraction","LS","LSMaybeDeferredImports","isPromise"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);j=function(){return a};return a}var k=d("LSMaybeDeferredImports").wrapJSResourceForInteractionMaybeSync(c("JSResourceForInteraction")("LSLocalize").__setRef("LSDatascriptJSONEval"));function l(a,b,d){if((h||(h=c("isPromise")))(a))return a.then(b,d);try{return b(a)}catch(a){if(d)return d(a);else throw a}}a=function(){function a(a,b,d,e){var f=this;e===void 0&&(e=[]);this.$4={};this.$5=[];this.$6=null;this.$7=function(a){return l(f.$8(a),function(a){return a},function(b){c("FBLogger")("messenger_web").catching(b).mustfix("Error evaluating step op: %s",Array.isArray(a)?a[0]:"<primitive value>");throw b})};this.$1=b;this.$2=a;this.$3=d;for(b=0;b<e.length;b++)this.$4[b]=e[b]}var d=a.prototype;d.eval=function(){return this.$2==null?this.$1.resolveGuaranteeAsync([]):this.$1.resolveGuaranteeAsync(this.$7(this.$2.step))};d.$8=function(a){var d=this;if(!Array.isArray(a))return a;var e=a[0];a=a.slice(1);var f=a;switch(e){case 8:return f.map(this.$7);case 2:return this.$4[f[0]];case 3:return l(this.$7(f[1]),function(a){return d.$4[f[0]]=a});case 4:return l(this.$7(f[2]),function(a){var b=f[0],c=f[1];for(var e=0;e<c;e++,b++)d.$4[b]=a[e];return a});case 12:a=f[0];e=f[1];var g=[];for(a=a;a<e;a++)g[a]=this.$4[a];return g;case 1:var h;a=function(a){h=l(h,function(){return d.$7(f[a])})};for(e=0;e<f.length;e++)a(e);return h;case 5:return(g=this.$1).storedProcedure.apply(g,f.map(this.$7));case 6:return(e=this.$1).nativeTypeOperation.apply(e,f.map(this.$7));case 7:return(a=this.$1).nativeOperation.apply(a,f.map(this.$7));case 9:return;case 10:return Infinity;case 11:return NaN;case 13:return this.$7(f[0])?"1":"0";case 14:return this.$1.blobs.to_string(this.$7(f[0]));case 15:return this.$1.blobs.of_string(this.$7(f[0]));case 16:return this.$1.blob(this.$7(f[0]));case 17:return this.$1.i64.of_float(this.$7(f[0]));case 18:g=this.$7(f[0]);return g!=null?this.$1.i64.to_float(g):void 0;case 19:return this.$1.i64.from_string(this.$7(f[0]));case 70:return this.$1.i64.cast(this.$7(f[0]));case 20:return this.$1.i64.to_string(this.$7(f[0]));case 21:return(e=this.$3)==null?void 0:(a=e.gk)==null?void 0:a[f[0]];case 22:var m;g=f[0];e=f[1];a=f[2];var n=f[3];m=(m=this.$3)==null?void 0:(m=m.qe)==null?void 0:(m=m[g])==null?void 0:(g=m[e])==null?void 0:g[a];if(m==null)return m;switch(n){case"BOOL":case"STR":return m;case"I64":if(typeof m!=="object")throw c("FBLogger")("messenger_web").mustfixThrow("Cannot convert value to string");return this.$1.i64.from_string(m.toString())}return;case 23:if(this.$7(f[0]))return this.$7(f[1]);else if(f[2]!=null)return this.$7(f[2]);return;case 24:return this.$7(f[0])||this.$7(f[1]);case 25:return this.$7(f[0])&&this.$7(f[1]);case 26:return!this.$7(f[0]);case 27:return this.$7(f[0])==null;case 28:return this.$1.notnull(this.$7(f[0]));case 29:return this.$7(f[0])===this.$7(f[1]);case 30:return this.$1.i64.eq(this.$7(f[0]),this.$7(f[1]));case 31:return this.$1.blobs.eq(this.$7(f[0]),this.$7(f[1]));case 32:return this.$7(f[0])!==this.$7(f[1]);case 33:return this.$1.i64.neq(this.$7(f[0]),this.$7(f[1]));case 34:return this.$1.blobs.neq(this.$7(f[0]),this.$7(f[1]));case 35:return this.$7(f[0])>this.$7(f[1]);case 36:return this.$1.i64.gt(this.$7(f[0]),this.$7(f[1]));case 37:return this.$1.blobs.gt(this.$7(f[0]),this.$7(f[1]));case 38:return this.$7(f[0])>=this.$7(f[1]);case 39:return this.$1.i64.ge(this.$7(f[0]),this.$7(f[1]));case 40:return this.$1.blobs.ge(this.$7(f[0]),this.$7(f[1]));case 41:return this.$7(f[0])<this.$7(f[1]);case 42:return this.$1.i64.lt(this.$7(f[0]),this.$7(f[1]));case 43:return this.$1.blobs.lt(this.$7(f[0]),this.$7(f[1]));case 44:return this.$7(f[0])<=this.$7(f[1]);case 45:return this.$1.i64.le(this.$7(f[0]),this.$7(f[1]));case 46:return this.$1.blobs.le(this.$7(f[0]),this.$7(f[1]));case 47:return this.$1["throw"](f[0]);case 48:return this.$1.print(this.$7(f[0]));case 49:e=this.$7(f[0]);g=f[1];a=this.$1.logger(e);switch(g){case"mustfix":return a.mustfix(e);case"info":return a.info(e);case"warn":return a.warn(e);case"debug":return a.debug(e);default:throw c("FBLogger")("messenger_web").mustfixThrow("Invalid logger level %s",g)}case 50:return f.length===0?this.$1.createArray():(n=this.$1).createArrayWithElements.apply(n,this.$7(f[0]));case 51:m=this.$7(f[0]);m.push(this.$7(f[1]));return m;case 52:return this.$1.i64.of_int32(this.$7(f[0]).length);case 53:return new this.$1.Map();case 54:return this.$7(f[0]).get(this.$7(f[1]));case 55:return this.$7(f[0]).set(this.$7(f[1]),this.$7(f[2]));case 56:return this.$7(f[0]).keys();case 57:return this.$7(f[0])["delete"](this.$7(f[1]));case 58:return this.$7(f[0]).has(this.$7(f[1]));case 59:return this.$7(f[0]).join(this.$7(f[1])||"");case 60:return this.$1.i64.of_float(Date.now());case 61:return this.$1.toJSON(this.$7(f[0]));case 62:return this.$1.i64.random();case 63:case 64:return!0;case 65:return k.load().then(function(a){a=a.localizeV1Async;return a(d.$7(f[0]),d.$7(f[1]))});case 66:return k.load().then(function(a){a=a.localizeV2Async;return a(d.$7(f[0]),d.$7(f[1]))});case 68:return this.$7(f[0])+this.$7(f[1]);case 69:return this.$1.i64.add(this.$7(f[0]),this.$7(f[1]));case 71:return(a=this.$3)==null?void 0:(e=a.justknob)==null?void 0:e[f[0]];case 72:return(g=this.$3)==null?void 0:(n=g.iggk)==null?void 0:n[f[0]];case 100:return this.$5[f[0]][f[1]];case 101:if(this.$6==null)throw c("FBLogger")("messenger_web").mustfixThrow("Attempting to read column ref when none exist!");return this.$6[f[0]];case 102:return this.$5[this.$7(f[0])].group_count;case 73:return this.$1.rm;case 74:return this.$7(f[0]).trim();case 75:return this.$7(f[0]).split(this.$7(f[1])).join(this.$7(f[2]));case 76:return f.map(this.$7).join("");case 77:return this.$1.like(this.$7(f[0]),this.$7(f[1]));case 78:return[0,this.$7(f[0]).length];case 79:m=f.map(this.$7);a=m[0];e=m.slice(1);return e.includes(a);case 80:return this.$7(f[1]).includes(this.$7(f[0]));case 81:return this.$7(f[0])-this.$7(f[1]);case 82:return this.$7(f[0])*this.$7(f[1]);case 83:return this.$7(f[0])/this.$7(f[1]);case 84:return this.$7(f[0])%this.$7(f[1]);case 91:return this.$1.i64.lsl_(this.$7(f[0]),this.$1.i64.to_int32(this.$7(f[1])));case 92:return this.$1.i64.lsr_(this.$7(f[0]),this.$1.i64.to_int32(this.$7(f[1])));case 93:return this.$1.i64.asr_(this.$7(f[0]),this.$1.i64.to_int32(this.$7(f[1])));case 94:return this.$1.i64.and_(this.$7(f[0]),this.$7(f[1]));case 95:return this.$1.i64.or_(this.$7(f[0]),this.$7(f[1]));case 96:return this.$1.i64.xor(this.$7(f[0]),this.$7(f[1]));case 85:return this.$1.i64.sub(this.$7(f[0]),this.$7(f[1]));case 86:return this.$1.i64.mul(this.$7(f[0]),this.$7(f[1]));case 87:return this.$1.i64.div(this.$7(f[0]),this.$7(f[1]));case 88:return this.$1.i64.mod_(this.$7(f[0]),this.$7(f[1]));case 89:g=f.map(this.$7);var o=g[0];n=g.slice(1);return n.some(function(a){return d.$1.i64.eq(o,a)});case 90:var p=this.$7(f[0]);return this.$7(f[1]).some(function(a){return d.$1.i64.eq(p,a)});case 97:return this.$7(f[0])?this.$7(f[1]):this.$7(f[2]);case 98:m=this.$7(f[0]);e=this.$7(f[1]);return(m||e)&&!(m&&e);case 99:return(a=this.$7(f[0]))!=null?a:this.$7(f[1]);case 103:return;case 104:return b.call(null,f[0]);case 105:g=function(){var b=d.$7(f[0]),e=f[1],g=c("LS").n,a,h=function(b){a=l(a,function(){d.$4[e]=b;return d.$7(f[2])})};for(var k=g(j());d.$1.i64.lt(k,b);k=d.$1.i64.add(k,g(i())))h(k);return{v:a}}();if(typeof g==="object")return g.v;case 106:return this.$7(f[0]);case 107:throw c("FBLogger")("messenger_web").mustfixThrow("not equal query comparison operator not supported");case 108:return{gt:this.$7(f[0])};case 109:return{gte:this.$7(f[0])};case 110:return{lt:this.$7(f[0])};case 111:return{lte:this.$7(f[0])};case 112:return f.length===1?this.$7(f[0]):(n=this.$1).merge.apply(n,f.map(this.$7));case 113:m=f[0];e=f[1];a=f.slice(2);g=a.map(this.$7);switch(e){case"ASC":return(n=this.$1.db.table(m)).fetch.apply(n,g);case"DESC":return(a=this.$1.db.table(m)).fetchDesc.apply(a,g)}return;case 114:return this.$1.filter(this.$7(f[0]),function(a){d.$6=a;a=d.$7(f[1]);d.$6=null;return a});case 115:return(e=this.$1).sortBy.apply(e,f.map(this.$7));case 116:return this.$1.forEach(this.$7(f[0]),function(a){return a["delete"]()});case 117:return this.$1.islc(this.$7(f[0]),0,this.$7(f[1]));case 118:return this.$1.count(this.$7(f[0]));case 119:return this.$1.db.table(f[0]).peekNextAutoIncrementId();case 120:return this.$1.forEach(this.$7(f[0]),function(a){var b=a.item;a=a.update;var c={};d.$6=b;for(b=1;b<f.length;b+=2)c[f[b]]=d.$7(f[b+1]);d.$6=null;return a(c)});case 121:n=f[0];m={};for(a=1;a<f.length;a+=2)m[f[a]]=this.$7(f[a+1]);return this.$1.db.table(n).add(m);case 122:g=f[0];e={};for(a=1;a<f.length;a+=2)e[f[a]]=this.$7(f[a+1]);return this.$1.db.table(g).put(e);case 123:return this.$1.forEach(this.$7(f[0]),function(a){a=a.item;d.$5[f[1]]=a;return d.$7(f[2])});case 124:return this.$7(f[0]).next().then(function(a){var b=a.done;a=a.value;if(b)return d.$7(f[3]);else{b=f[1];if(b!=null){d.$5[b]=a.item;return d.$7(f[2])}}return 0});case 125:return this.$7(f[0]).slice(0,this.$7(f[1]));case 126:return this.$1.groupBy(this.$7(f[0]),f[1]).forEach(function(a){d.$5[f[2]]=a;return d.$7(f[3])});case 127:return this.$7(f[0]).substr(this.$1.i64.to_int32(this.$7(f[1])),this.$1.i64.to_int32(this.$7(f[2])))}};return a}();g["default"]=a}),98);
__d("TrustedTypesUnsafeFunctionScriptPolicy_DO_NOT_USE",["Env","TrustedTypes","err"],(function(a,b,c,d,e,f,g){"use strict";var h;d={createScript:function(a){for(var b=arguments.length,d=new Array(b>1?b-1:0),e=1;e<b;e++)d[e-1]=arguments[e];d.forEach(function(a){if(typeof window!=="undefined"&&typeof window.trustedTypes!=="undefined"&&!window.trustedTypes.isScript(a))throw c("err")("Trusted Function requires TrustedScripts args only.")});var f=d.slice(0,-1).join(","),g=d.pop().toString();return"(function anonymous(\n     "+f+"\n     ) {\n     "+g+"\n     })"}};var i=c("TrustedTypes").createPolicy("unsafe-function-do-not-use",d);function b(){for(var b=arguments.length,d=new Array(b),e=0;e<b;e++)d[e]=arguments[e];if(c("TrustedTypes").isSupportedNatively()&&(h||(h=c("Env"))).useTrustedTypes){var f=i.createScript.apply(i,[""].concat(d));return a.eval(f)}else return babelHelpers.construct(Function,d)}g.TrustedTypesUnsafeFunctionScriptPolicy_DO_NOT_USE=i;g.createTrustedFunction=b}),98);
__d("LSDatascriptEvaluator",["FBLogger","LSDatascriptJSONEval","LSFactory","MWPBumpEntityKey","TrustedTypesNoOpPolicy_DO_NOT_USE","TrustedTypesUnsafeFunctionScriptPolicy_DO_NOT_USE","justknobx"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var e=function(b){return function(c,d){var e;return a==null?void 0:(e=a.qe)==null?void 0:(e=e[c])==null?void 0:(c=e[b])==null?void 0:c[d]}},f=new Proxy({getBool:e("fb"),getNumber:e("fb"),getString:e("fb")},{get:function(a,b){return b in a?a[b]:{getBool:e(b),getNumber:e(b),getString:e(b)}}}),g=function(b){var c;return a==null?void 0:(c=a.gk)==null?void 0:c[b]};g.ig=function(b){var c;return a==null?void 0:(c=a.iggk)==null?void 0:c[b]};var h={getBool:function(b){var c;return a==null?void 0:(c=a.justknob)==null?void 0:c[b]}};return function(a){var e;e=d("TrustedTypesUnsafeFunctionScriptPolicy_DO_NOT_USE").createTrustedFunction((e=c("TrustedTypesNoOpPolicy_DO_NOT_USE")).createScript("gkx"),e.createScript("qex"),e.createScript("justknobx"),e.createScript("return "+b));return e(g,f,h)(c("LSFactory")(a,{dynamic:!0}))}}var i=function(a){return c("FBLogger")("messenger_web","invalid_sync_script_target").mustfixThrow('Received a sync script with an illegal target of "%s"',(a=a)!=null?a:-1)};function j(a,b){var d=JSON.parse(b),e=(b=a)!=null?b:{gk:{},iggk:{},justknob:{},qe:{}};return function(a){return new(c("LSDatascriptJSONEval"))(d,c("LSFactory")(a,{dynamic:!0}),e).eval()}}function k(a,b,d){if(!c("justknobx")._("3078"))return l(a,b,d);if(d==null)throw i(d);switch(d){case 3:return j(a,b);default:throw i(d)}}function l(a,b,d){if(d==null){c("FBLogger")("lightspeed","null_target").mustfix("Received <null> target field for sync script!");return h(a,b)}switch(d){case 3:return j(a,b);case 2:return h(a,b);case 1:throw c("FBLogger")("messenger_web","invalid_sync_script_target").mustfixThrow("Received a sync script with LSProgramTarget of DASM, this should never happen!")}}function a(a){return function(b){if(b==null)throw c("FBLogger")("messenger_web").mustfixThrow("Error creating eval function, db is undefined. This is likely a currying error in the definition for LSDatascriptEvaluator");return function(e){var g=e.experiments,h=e.priority,i=e.syncScript,j=e.target;e=e.taskNames;g=g!=null?JSON.parse(g):null;try{var l=k(g,i,j);return b.runInTransaction(function(b){a&&a();return l(b)},"readwrite",h,{taskNames:e,type:"sync_script"},f.id+":228")}catch(a){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform","eval_datascript_failure");c("FBLogger")("messenger_web").catching(a).mustfix("Error executing sync script");throw a}}}}a.__debugModuleName="LSDatascriptEvaluator";g.default=a}),98);/*FB_PKG_DELIM*/
__d("useCometHomeChatSettingsQuery$Parameters",["useCometHomeChatSettingsQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("useCometHomeChatSettingsQuery_facebookRelayOperation"),metadata:{},name:"useCometHomeChatSettingsQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometHomeChatSettings.entrypoint",["JSResourceForInteraction","useCometHomeChatSettingsQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{chatSettingsQueryReference:{parameters:b("useCometHomeChatSettingsQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("CometHomeChatSettings.react").__setRef("CometHomeChatSettings.entrypoint")};g["default"]=a}),98);
__d("CometHomeContactsPresenceAwareList.react",["gkx","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={activeStatusOff:{opacity:"xti2d7y",$$css:!0},activeStatusOn:{opacity:"x1hc1fzr",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(5),e=a.active;a=a.children;var f;b[0]!==e?(f=(h||(h=c("stylex"))).props(e?k.activeStatusOn:c("gkx")("51")?k.activeStatusOn:k.activeStatusOff),b[0]=e,b[1]=f):f=b[1];b[2]!==a||b[3]!==f?(e=j.jsx("ul",babelHelpers["extends"]({},f,{children:a})),b[2]=a,b[3]=f,b[4]=e):e=b[4];return e}g["default"]=a}),98);
__d("LSContactListConversionAttributionStore",[],(function(a,b,c,d,e,f){"use strict";var g=new Map();function a(a){return a!=null?g.get(a):null}function b(a,b){a!=null&&g.set(a,b)}function c(a){a!=null&&g["delete"](a)}f.getAttribution=a;f.setAttribution=b;f.resetAttribution=c}),66);
__d("MAWChatVerifyCutover.react",["I64","MAWVerifyThreadCutoverDeferred","ReQL","promiseDone","react","react-compiler-runtime","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useEffect;function a(a){var b=d("react-compiler-runtime").c(14),e=a.id,f=a.updateThreadKey,g=c("useAsyncReStore")();b[0]!==g||b[1]!==e||b[2]!==f?(a=function(){var a=g.then(function(a){return d("ReQL").leftJoin(d("ReQL").fromTableDescending(a.tables.cutover_threads).getKeyRange((i||(i=d("I64"))).of_string(e)),d("ReQL").fromTableDescending(a.tables.mi_act_mapping_table)).subscribe(function(a,b){if(b.operation==="delete")return;a=b.value[1];a!=null&&f((i||(i=d("I64"))).to_string(a.serverThreadKey))})});return function(){c("promiseDone")(a.then(k))}},b[0]=g,b[1]=e,b[2]=f,b[3]=a):a=b[3];var h;b[4]!==e||b[5]!==f?(h=[e,f],b[4]=e,b[5]=f,b[6]=h):h=b[6];j(a,h);b[7]!==g||b[8]!==e||b[9]!==f?(a=function(){c("MAWVerifyThreadCutoverDeferred").onReady(function(a){c("promiseDone")(a.verifyThreadCutoverWithStringInput(g,e).then(function(b){if(b===!0)return a.getCutoverThread(g,(i||(i=d("I64"))).of_string(e)).then(function(a){a&&(a==null?void 0:a.serverThreadKey)!==null&&f((i||(i=d("I64"))).to_string(a.serverThreadKey))})}))})},b[7]=g,b[8]=e,b[9]=f,b[10]=a):a=b[10];b[11]!==e||b[12]!==f?(h=[e,f],b[11]=e,b[12]=f,b[13]=h):h=b[13];j(a,h);return null}function k(a){a()}g["default"]=a}),98);
__d("MWChatSidebarStateSettingMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="29218721377742847"}),null);
__d("MWChatSidebarStateSettingMutation.graphql",["MWChatSidebarStateSettingMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"ChatSidebarIsCollapsedResponsePayload",kind:"LinkedField",name:"chat_sidebar_is_collapsed",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_sidebar_is_collapsed",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatSidebarStateSettingMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatSidebarStateSettingMutation",selections:c},params:{id:b("MWChatSidebarStateSettingMutation_facebookRelayOperation"),metadata:{},name:"MWChatSidebarStateSettingMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("MWChatSidebarStateSettingMutation",["CometRelay","MWChatSidebarStateSettingMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("MWChatSidebarStateSettingMutation.graphql");function a(a){var b=a.environment,c=a.isCollapsed,e=a.onCompleted;a=a.onError;d("CometRelay").commitMutation(b,{mutation:i,onCompleted:e,onError:a,variables:{input:{is_collapsed:c}}})}g["default"]=a}),98);
__d("jsExtraRouteBuilder",["jsRouteBuilder","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d,e){var f=c("jsRouteBuilder")(a,b,e),g=d.reduce(function(a,d){a===void 0&&(a={});typeof d==="string"&&(a[d]=c("jsRouteBuilder")(d,b,e,null,!0).buildURL);return a},{});return{buildExtraURL:function(a,b){if(typeof a!=="string"||g[a]==null)throw c("unrecoverableViolation")("Route builder for extra path does not exist","comet_infra");return g[a](b)},buildUri:function(a){return f.buildUri(a)},buildURL:function(a){return f.buildURL(a)}}}g["default"]=a}),98);
__d("XCometMessengerControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/messages/t/{?thread_key}/{?*extra_junk}/",Object.freeze({initial_e2ee_toggle_position:!1}),["/messages/archived/new/","/messages/filtered/","/messages/filtered/new/","/messages/filtered/t/{?thread_key}/","/messages/gallery/","/messages/groups/","/messages/groups/new/","/messages/groups/t/{?thread_key}/","/messages/people/","/messages/people/new/","/messages/people/t/{?thread_key}/","/messages/requests/new/","/messages/new/","/messages/read/","/messages/search/","/messages/search/t/{?thread_key}/","/messages/search/new/","/messages/thread/{?thread_key}/"],void 0);b=a;g["default"]=b}),98);
__d("XCometMessengerE2EEThreadControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/messages/e2ee/t/{?thread_key}/{?*extra_junk}/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("XMessengerDotComCometE2EEThreadControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/e2ee/t/{thread_key}/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("XMessengerDotComCometMainControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/t/{thread_key}/",Object.freeze({initial_e2ee_toggle_position:!1,recurring_notification:!1}),["/archived/new/","/filtered/","/filtered/new/","/filtered/t/{?thread_key}/","/people/","/people/new/","/people/t/{?thread_key}/","/requests/new/","/new/","/folders/{folder_key}/t/{?thread_key}/","/gallery/"],void 0);b=a;g["default"]=b}),98);
__d("XMessengerDotComCometRootControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/",Object.freeze({no_rdr:!1,__pwa:!1}),["/t/"],void 0);b=a;g["default"]=b}),98);
__d("MWInboxRouteBuilder",["CurrentEnvironment","XCometMessengerControllerRouteBuilder","XCometMessengerE2EEThreadControllerRouteBuilder","XMessengerDotComCometE2EEThreadControllerRouteBuilder","XMessengerDotComCometMainControllerRouteBuilder","XMessengerDotComCometRootControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=c("CurrentEnvironment").facebookdotcom?{buildE2EEThreadURL:function(a){var b=a.focus_target,d=a.search;a=a.thread_key;return c("XCometMessengerE2EEThreadControllerRouteBuilder").buildURL({focus_target:b,search:d,thread_key:a})},buildHomeURL:function(){return c("XCometMessengerControllerRouteBuilder").buildURL({})},buildNewThreadURL:function(a){return c("XCometMessengerControllerRouteBuilder").buildExtraURL("/messages/new/",a)},buildURL:function(a){var b=a.focus_target,d=a.link_hash,e=a.search;a=a.thread_key;return c("XCometMessengerControllerRouteBuilder").buildURL({focus_target:b,link_hash:d,search:e,thread_key:a})}}:{buildE2EEThreadURL:function(a){var b=a.focus_target,d=a.search;a=a.thread_key;return c("XMessengerDotComCometE2EEThreadControllerRouteBuilder").buildURL({focus_target:b,search:d,thread_key:a})},buildHomeURL:function(){return c("XMessengerDotComCometRootControllerRouteBuilder").buildExtraURL("/t/",{})},buildNewThreadURL:function(a){var b=a.extra_junk,d=a.initial_e2ee_toggle_position,e=a.link_hash;a=a.thread_key;return c("XMessengerDotComCometMainControllerRouteBuilder").buildExtraURL("/new/",{extra_junk:b,initial_e2ee_toggle_position:d,link_hash:e,thread_key:a})},buildURL:function(a){var b=a.focus_target,d=a.link_hash,e=a.search;a=a.thread_key;return c("XMessengerDotComCometMainControllerRouteBuilder").buildURL({focus_target:b,link_hash:d,search:e,thread_key:a})}};b=a.buildURL;d=a.buildHomeURL;e=a.buildNewThreadURL;f=a.buildE2EEThreadURL;g.buildURL=b;g.buildHomeURL=d;g.buildNewThreadURL=e;g.buildE2EEThreadURL=f}),98);
__d("MWInboxTrayGating",["MWPActor.react","qex"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a===void 0&&(a=!0);if(d("MWPActor.react").isAPPlus())return!1;if(!a){return(a=c("qex")._("3677"))!=null?a:!1}else{return(a=c("qex")._("3676"))!=null?a:!1}}function b(){var a;return(a=c("qex")._("3678"))!=null?a:30}function e(){var a;return(a=c("qex")._("3860"))!=null?a:!1}function f(){var a;return(a=c("qex")._("4220"))!=null?a:!1}g.isInboxTrayEnabled=a;g.getNumberOfContactsToFetch=b;g.isInboxTrayIncludedInVisualComplete=e;g.isInboxTrayNotesEnabled=f}),98);
__d("MWXListCellStrict.react",["cr:1357","cr:2004","cr:321","cr:3296","cr:6221","cr:842","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var c=d("react-compiler-runtime").c(22),e,f;c[0]!==a?(f=a.ref,e=babelHelpers.objectWithoutPropertiesLoose(a,["ref"]),c[0]=a,c[1]=e,c[2]=f):(e=c[1],f=c[2]);if(b("cr:1357")!=null){c[3]!==e||c[4]!==f?(a=i.jsx(b("cr:1357"),babelHelpers["extends"]({},e,{ref:f})),c[3]=e,c[4]=f,c[5]=a):a=c[5];return a}if(b("cr:321")!=null&&b("cr:6221")!=null&&b("cr:3296")!=null&&b("cr:842")!=null&&b("cr:2004")!=null){a=e;e=a.addOnStart;var g=a.disabled,h=a.headline,j=a.linkProps,k=a.onHoverIn,l=a.onHoverOut,m=a.onPress,n=a.onPressIn,o=a.selected;a=a.testid;if(c[6]!==e||c[7]!==g){var p;p=e!=null?i.jsx(b("cr:3296"),{addOnStart:e,disabled:(p=g)!=null?p:!1}):void 0;c[6]=e;c[7]=g;c[8]=p}else p=c[8];e=p;c[9]!==h?(g=i.jsx(b("cr:6221"),{type:"headline4",children:h}),c[9]=h,c[10]=g):g=c[10];c[11]!==j||c[12]!==k||c[13]!==l||c[14]!==m||c[15]!==n||c[16]!==f||c[17]!==o||c[18]!==g||c[19]!==a||c[20]!==e?(p=i.jsx(b("cr:842"),{paddingHorizontal:8,paddingVertical:0,children:i.jsx(b("cr:2004"),{children:i.jsx(b("cr:321"),{addOnStart:e,content:g,linkProps:j,onHoverIn:k,onHoverOut:l,onPress:m,onPressIn:n,ref:f,selected:o,size:"medium",testid:void 0})})}),c[11]=j,c[12]=k,c[13]=l,c[14]=m,c[15]=n,c[16]=f,c[17]=o,c[18]=g,c[19]=a,c[20]=e,c[21]=p):p=c[21];return p}return null}g["default"]=a}),98);
__d("MessengerClickImpressionEventsLoggerUtils",["$InternalEnum","I64","MWPActor.react","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=b("$InternalEnum").Mirrored(["CLICK","IMPRESSION","CONVERSION"]);function a(a,b){var e=d("react-compiler-runtime").c(12),g=(i||(i=c("useReStore")))(),k=d("MWPActor.react").useActor();b=(h||(h=d("I64"))).to_int32((b=b)!=null?b:(h||(h=d("I64"))).zero);var l=b===1||b===15,m;e[0]!==g||e[1]!==l||e[2]!==a?(b=function(){return l&&a!=null?d("ReQL").fromTableAscending(g.tables.participants).getKeyRange(a):d("ReQL").empty()},m=[g,a,l],e[0]=g,e[1]=l,e[2]=a,e[3]=b,e[4]=m):(b=e[3],m=e[4]);b=d("ReQLSuspense").useArray(b,m,f.id+":70");if(a==null)return null;if(l){if(e[5]!==k||e[6]!==b){e[8]!==k?(m=function(a){return a!==(h||(h=d("I64"))).to_string(k)},e[8]=k,e[9]=m):m=e[9];m=b.map(j).filter(m);e[5]=k;e[6]=b;e[7]=m}else m=e[7];b=m[0];return b}else{e[10]!==a?(m=(h||(h=d("I64"))).to_string(a),e[10]=a,e[11]=m):m=e[11];return m}}function j(a){return(h||(h=d("I64"))).to_string(a.contactId)}g.EventTypeEnum=e;g.useGetUniqueThreadID=a}),98);
__d("MessengerSidebarClickEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2305");b=d("FalcoLoggerInternal").create("messenger_sidebar_click_event",a);e=b;g["default"]=e}),98);
__d("MessengerSidebarConversionClickEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2306");b=d("FalcoLoggerInternal").create("messenger_sidebar_conversion_click_event",a);e=b;g["default"]=e}),98);
__d("MessengerSidebarImpressionEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2307");b=d("FalcoLoggerInternal").create("messenger_sidebar_impression_event",a);e=b;g["default"]=e}),98);
__d("MessengerSidebarClickImpressionEventsLoggerImpl",["MessengerClickImpressionEventsLoggerUtils","MessengerSidebarClickEventFalcoEvent","MessengerSidebarConversionClickEventFalcoEvent","MessengerSidebarImpressionEventFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";f={scrollMargin:-33};function a(a){h(a,d("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CLICK)}function b(a){h(a,d("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CONVERSION)}function e(a){h(a,d("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.IMPRESSION)}function h(a,b){var e=a.id,f=a.isOnline,g=a.position,h=a.storyIds,i=a.surface;a=a.targetType;var j;if(b===d("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CLICK)j="single_click";else if(b===d("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CONVERSION)j="single_click";else if(b===d("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.IMPRESSION)j="vpvd_impression";else return;var k={event_type:j,surface:{entry_point:i.entry_point,major_surface:i.major_surface,minor_surface:i.minor_surface},target:{ranking:{absolute_position:g!=null?g.toString():"-1"},type:a,user:{id:e}}};f!=null&&(k=babelHelpers["extends"]({},k,{target:babelHelpers["extends"]({},k.target,{presence:{status:f?1:0}})}));if((h==null?void 0:h.firstCardId)!=null&&(h==null?void 0:h.bucketId)!=null){j=atob(h.firstCardId);i=null;j!=null&&j.includes("S:_ISC:")&&(i=j.split("S:_ISC:")[1]);k=babelHelpers["extends"]({},k,{target:babelHelpers["extends"]({},k.target,{story:{bucket_id:(g=h.bucketId)!=null?g:null,first_card_id:(a=i)!=null?a:null}})})}b===d("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CLICK?c("MessengerSidebarClickEventFalcoEvent").log(function(){return k}):b===d("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CONVERSION?c("MessengerSidebarConversionClickEventFalcoEvent").log(function(){return k}):b===d("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.IMPRESSION&&c("MessengerSidebarImpressionEventFalcoEvent").log(function(){return k})}g.IMPRESSION_LOG_OPTIONS=f;g.logClickEvent=a;g.logConversionClickEvent=b;g.logImpressionEvent=e}),98);
__d("useMWNewChatOpenTabTraceProvider",["CometHeroLogging","qpl","react","react-compiler-runtime","useCometInteractionTracing"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(3),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=c("qpl")._(30608422,"1698"),a[0]=b):b=a[0];var e=c("useCometInteractionTracing")(b,"responsive","INTERACTION");a[1]!==e?(b=function(a,b){e(function(d){var e=c("CometHeroLogging").genHeroInteractionUUIDAndMarkStart(d.getTraceId());d.addMetadata("entrypoint",b);a(e,d)})},a[1]=e,a[2]=b):b=a[2];return b}g["default"]=a}),98);
__d("useMWChatOpenNewTab",["LSThreadAttributionStore","MWChatInteraction","MWChatStateActions","MWChatStateV2.react","MWChatStateV2Types","MessengerWebEntryPointsUtil","MessengerWebEventsFalcoEvent","ODS","react","react-compiler-runtime","useCometFeedNoRoutingNavigationEventLogger","useMWNewChatOpenTabTraceProvider"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(5),e=c("useMWNewChatOpenTabTraceProvider")(),f=c("useCometFeedNoRoutingNavigationEventLogger")(),g=d("MWChatStateV2.react").useDispatch(),h;b[0]!==g||b[1]!==a||b[2]!==f||b[3]!==e?(h=function(b,h){f(Date.now(),"","messenger");(i||(i=d("ODS"))).bumpEntityKey(3185,"mwchat_tab","open_new");var j=d("MessengerWebEntryPointsUtil").cast(a);c("MessengerWebEventsFalcoEvent").log(function(){return{entry_point:j,event_name:"open_chat_tab"}});d("LSThreadAttributionStore").setSourceForNewThread(a);return e(function(a,c){d("MWChatInteraction").set("open_new",a);c.addMarkerPoint("dispatch_open_chat_tab","AppTiming");g(d("MWChatStateActions").openTab(Date.now(),{shouldFocus:!0},{initialTokens:(a=h)!=null?a:[],secureThreadToggleEnabled:b,type:d("MWChatStateV2Types").MWChatStateTabType.ComposeTab}))},a)},b[0]=g,b[1]=a,b[2]=f,b[3]=e,b[4]=h):h=b[4];return h}g["default"]=a}),98);
__d("useMWNewChatTabContainerPreload",["JSResourceForInteraction","JSScheduler","react","react-compiler-runtime","useCometPreloader"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(h||d("react")).useCallback;var j=c("JSResourceForInteraction")("MWV2ComposeTab.react").__setRef("useMWNewChatTabContainerPreload");function a(){var a=d("react-compiler-runtime").c(3),b=k,e=b;e=c("useCometPreloader")("button",e,b);b=e.onHoverInPreloader;e=e.onHoverOutPreloader;var f;a[0]!==b||a[1]!==e?(f=[b,e],a[0]=b,a[1]=e,a[2]=f):f=a[2];return f}function k(){(i||(i=d("JSScheduler"))).scheduleSpeculativeCallback(l)}function l(){j.preload()}g["default"]=a}),98);
__d("useCometHomeOpenNewChatTab",["react","useMWChatOpenNewTab","useMWNewChatTabContainerPreload"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=c("useMWChatOpenNewTab").apply(void 0,arguments),b=c("useMWNewChatTabContainerPreload")(),d=b[0],e=b[1],f=i(function(){a(!1)},[a]);return{onHoverIn:d,onHoverOut:e,onPress:f}}g["default"]=a}),98);