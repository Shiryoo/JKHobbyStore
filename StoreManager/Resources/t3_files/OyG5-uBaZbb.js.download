;/*FB_PKG_DELIM*/

__d("MAWMediaIncreaseCount",["FBLogger","I64","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){c("promiseDone")(a.then(function(a){return a.runInTransaction(async function(a){var e=await a.client_media_status.get(b);if(e==null){c("FBLogger")("messenger_web_media").mustfix("Trying to increase download retry count without pre-existing media status %s",b);return}return a.client_media_status.put(babelHelpers.extends({},e,{downloadRetryCount:(h||(h=d("I64"))).add((a=e.downloadRetryCount)!=null?a:(h||(h=d("I64"))).zero,h.one)}))},"readwrite",void 0,void 0,f.id+":21")}))}g.call=a}),98);
__d("MAWMediaSetRetryingAndIncreaseCount",["FBLogger","I64","LSIntEnum","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b){c("promiseDone")(a.then(function(a){return a.runInTransaction(async function(a){var e=await a.client_media_status.get(b);if(e==null){c("FBLogger")("messenger_web_media").mustfix("Trying to increase download retry count without pre-existing media status %s",b);return}return a.client_media_status.put({downloadRetryCount:(h||(h=d("I64"))).add((a=e.downloadRetryCount)!=null?a:(h||(h=d("I64"))).zero,h.one),id:b,mainMediaStatus:(i||(i=d("LSIntEnum"))).ofNumber(5),mainMediaStatusDetails:"manual_retry"})},"readwrite",void 0,void 0,f.id+":23")}))}g.call=a}),98);
__d("useMAWFTSResetEBAvailabilityOnEBOnboard",["LSMessagingThreadTypeUtil","MAWFTSSyncConsts","MWEBEntrypointsKillswitch.enum","promiseDone","react","react-compiler-runtime","requireDeferred","useMWEBBackupState"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useEffect,j=b.useRef,k=b.useState,l=c("requireDeferred")("MAWFTSRestoreSync").__setRef("useMAWFTSResetEBAvailabilityOnEBOnboard");function a(a){var b=d("react-compiler-runtime").c(10),e=j(null),f=k(!1),g=f[0],h=f[1];b[0]!==a.threadType?(f=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType),b[0]=a.threadType,b[1]=f):f=b[1];var l=f;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a={entrypoint:c("MWEBEntrypointsKillswitch.enum").NOT_AN_ENTRYPOINT_NO_KILLSWITCH_APPLICABLE},b[2]=a):a=b[2];f=c("useMWEBBackupState")(a);var n=f===3;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){e.current=window.setTimeout(function(){return h(!0)},d("MAWFTSSyncConsts").THREAD_VIEW_DELAY_UNTIL_RESTORE);return function(){e.current!=null&&(window.clearTimeout(e.current),e.current=null)}},f=[],b[3]=a,b[4]=f):(a=b[3],f=b[4]);i(a,f);var o=m;b[5]!==g||b[6]!==n||b[7]!==l?(a=function(){l&&n&&g&&o()},f=[l,n,o,g],b[5]=g,b[6]=n,b[7]=l,b[8]=a,b[9]=f):(a=b[8],f=b[9]);i(a,f)}function m(){l.onReady(n)}function n(a){a=a.getFTSRestoreSync;a=a();a.resetEBAvailability();a.isStarted()||c("promiseDone")(a.startSyncingLoop())}g["default"]=a}),98);